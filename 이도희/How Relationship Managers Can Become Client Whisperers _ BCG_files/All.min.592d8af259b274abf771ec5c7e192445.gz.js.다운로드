/*! For license information please see All.min.js.LICENSE.txt */
(function(){var __webpack_modules__={2871:function(e){!function(t){"use strict";"function"==typeof bootstrap?bootstrap("promise",t):e.exports=t()}((function(){"use strict";var e=!1;try{throw new Error}catch(t){e=!!t.stack}var t,n=_(),i=function(){},r=function(){var e={task:void 0,next:null},t=e,n=!1,i=void 0,o=!1,s=[];function a(){for(var t,i;e.next;)t=(e=e.next).task,e.task=void 0,(i=e.domain)&&(e.domain=void 0,i.enter()),l(t,i);for(;s.length;)l(t=s.pop());n=!1}function l(e,t){try{e()}catch(e){if(o)throw t&&t.exit(),setTimeout(a,0),t&&t.enter(),e;setTimeout((function(){throw e}),0)}t&&t.exit()}if(r=function(e){t=t.next={task:e,domain:o&&process.domain,next:null},n||(n=!0,i())},"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick)o=!0,i=function(){process.nextTick(a)};else if("function"==typeof setImmediate)i="undefined"!=typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=function(){i=u,c.port1.onmessage=a,a()};var u=function(){c.port2.postMessage(0)};i=function(){setTimeout(a,0),u()}}else i=function(){setTimeout(a,0)};return r.runAfter=function(e){s.push(e),n||(n=!0,i())},r}(),o=Function.call;function s(e){return function(){return o.apply(e,arguments)}}var a,l=s(Array.prototype.slice),c=s(Array.prototype.reduce||function(e,t){var n=0,i=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=i)throw new TypeError}for(;n<i;n++)n in this&&(t=e(t,this[n],n));return t}),u=s(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),h=s(Array.prototype.map||function(e,t){var n=this,i=[];return c(n,(function(r,o,s){i.push(e.call(t,o,s,n))}),void 0),i}),d=Object.create||function(e){function t(){}return t.prototype=e,new t},p=s(Object.prototype.hasOwnProperty),f=Object.keys||function(e){var t=[];for(var n in e)p(e,n)&&t.push(n);return t},m=s(Object.prototype.toString);a="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var g="From previous event:";function y(t,n){if(e&&n.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(g)){for(var i=[],r=n;r;r=r.source)r.stack&&i.unshift(r.stack);i.unshift(t.stack);var o=i.join("\n"+g+"\n");t.stack=function(e){for(var t=e.split("\n"),n=[],i=0;i<t.length;++i){var r=t[i];b(r)||(-1!==(o=r).indexOf("(module.js:")||-1!==o.indexOf("(node.js:"))||!r||n.push(r)}var o;return n.join("\n")}(o)}}function v(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var i=/.*@(.+):(\d+)$/.exec(e);return i?[i[1],Number(i[2])]:void 0}function b(e){var i=v(e);if(!i)return!1;var r=i[0],o=i[1];return r===t&&o>=n&&o<=H}function _(){if(e)try{throw new Error}catch(e){var n=e.stack.split("\n"),i=v(n[0].indexOf("@")>0?n[1]:n[2]);if(!i)return;return t=i[0],i[1]}}function w(e){return e instanceof T?e:A(e)?function(e){var t=k();return w.nextTick((function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}})),t.promise}(e):j(e)}function k(){var t,n=[],i=[],r=d(k.prototype),o=d(T.prototype);if(o.promiseDispatch=function(e,r,o){var s=l(arguments);n?(n.push(s),"when"===r&&o[1]&&i.push(o[1])):w.nextTick((function(){t.promiseDispatch.apply(t,s)}))},o.valueOf=function(){if(n)return o;var e=C(t);return P(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},w.longStackSupport&&e)try{throw new Error}catch(e){o.stack=e.stack.substring(e.stack.indexOf("\n")+1)}function s(e){t=e,o.source=e,c(n,(function(t,n){w.nextTick((function(){e.promiseDispatch.apply(e,n)}))}),void 0),n=void 0,i=void 0}return r.promise=o,r.resolve=function(e){t||s(w(e))},r.fulfill=function(e){t||s(j(e))},r.reject=function(e){t||s(N(e))},r.notify=function(e){t||c(i,(function(t,n){w.nextTick((function(){n(e)}))}),void 0)},r}function S(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=k();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function E(e){return S((function(t,n){for(var i=0,r=e.length;i<r;i++)w(e[i]).then(t,n)}))}function T(e,t,n){void 0===t&&(t=function(e){return N(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var i=d(T.prototype);if(i.promiseDispatch=function(n,r,o){var s;try{s=e[r]?e[r].apply(i,o):t.call(i,r,o)}catch(e){s=N(e)}n&&n(s)},i.inspect=n,n){var r=n();"rejected"===r.state&&(i.exception=r.reason),i.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?i:e.value}}return i}function x(e,t,n,i){return w(e).then(t,n,i)}function C(e){if(P(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function P(e){return e instanceof T}function A(e){return(t=e)===Object(t)&&"function"==typeof e.then;var t}w.resolve=w,w.nextTick=r,w.longStackSupport=!1,"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(w.longStackSupport=!0),w.defer=k,k.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(l(arguments,1)):e.resolve(n)}},w.Promise=S,w.promise=S,S.race=E,S.all=U,S.reject=N,S.resolve=w,w.passByCopy=function(e){return e},T.prototype.passByCopy=function(){return this},w.join=function(e,t){return w(e).join(t)},T.prototype.join=function(e){return w([this,e]).spread((function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)}))},w.race=E,T.prototype.race=function(){return this.then(w.race)},w.makePromise=T,T.prototype.toString=function(){return"[object Promise]"},T.prototype.then=function(e,t,n){var i=this,r=k(),o=!1;return w.nextTick((function(){i.promiseDispatch((function(t){o||(o=!0,r.resolve(function(t){try{return"function"==typeof e?e(t):t}catch(e){return N(e)}}(t)))}),"when",[function(e){o||(o=!0,r.resolve(function(e){if("function"==typeof t){y(e,i);try{return t(e)}catch(e){return N(e)}}return N(e)}(e)))}])})),i.promiseDispatch(void 0,"when",[void 0,function(e){var t,i=!1;try{t=function(e){return"function"==typeof n?n(e):e}(e)}catch(e){if(i=!0,!w.onerror)throw e;w.onerror(e)}i||r.notify(t)}]),r.promise},w.tap=function(e,t){return w(e).tap(t)},T.prototype.tap=function(e){return e=w(e),this.then((function(t){return e.fcall(t).thenResolve(t)}))},w.when=x,T.prototype.thenResolve=function(e){return this.then((function(){return e}))},w.thenResolve=function(e,t){return w(e).thenResolve(t)},T.prototype.thenReject=function(e){return this.then((function(){throw e}))},w.thenReject=function(e,t){return w(e).thenReject(t)},w.nearer=C,w.isPromise=P,w.isPromiseAlike=A,w.isPending=function(e){return P(e)&&"pending"===e.inspect().state},T.prototype.isPending=function(){return"pending"===this.inspect().state},w.isFulfilled=function(e){return!P(e)||"fulfilled"===e.inspect().state},T.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},w.isRejected=function(e){return P(e)&&"rejected"===e.inspect().state},T.prototype.isRejected=function(){return"rejected"===this.inspect().state};var O,I=[],L=[],D=[],R=!0;function M(){I.length=0,L.length=0,R||(R=!0)}function N(e){var t=T({when:function(t){return t&&function(e){if(R){var t=u(L,e);-1!==t&&("object"==typeof process&&"function"==typeof process.emit&&w.nextTick.runAfter((function(){var n=u(D,e);-1!==n&&(process.emit("rejectionHandled",I[t],e),D.splice(n,1))})),L.splice(t,1),I.splice(t,1))}}(this),t?t(e):this}},(function(){return this}),(function(){return{state:"rejected",reason:e}}));return function(e,t){R&&("object"==typeof process&&"function"==typeof process.emit&&w.nextTick.runAfter((function(){-1!==u(L,e)&&(process.emit("unhandledRejection",t,e),D.push(e))})),L.push(e),t&&void 0!==t.stack?I.push(t.stack):I.push("(no stack) "+t))}(t,e),t}function j(e){return T({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},delete:function(t){delete e[t]},post:function(t,n){return null==t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return f(e)}},void 0,(function(){return{state:"fulfilled",value:e}}))}function F(e,t,n){return w(e).spread(t,n)}function B(e,t,n){return w(e).dispatch(t,n)}function U(e){return x(e,(function(e){var t=0,n=k();return c(e,(function(i,r,o){var s;P(r)&&"fulfilled"===(s=r.inspect()).state?e[o]=s.value:(++t,x(r,(function(i){e[o]=i,0==--t&&n.resolve(e)}),n.reject,(function(e){n.notify({index:o,value:e})})))}),void 0),0===t&&n.resolve(e),n.promise}))}function q(e){if(0===e.length)return w.resolve();var t=w.defer(),n=0;return c(e,(function(i,r,o){var s=e[o];n++,x(s,(function(e){t.resolve(e)}),(function(){0==--n&&t.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}),(function(e){t.notify({index:o,value:e})}))}),void 0),t.promise}function V(e){return x(e,(function(e){return e=h(e,w),x(U(h(e,(function(e){return x(e,i,i)}))),(function(){return e}))}))}w.resetUnhandledRejections=M,w.getUnhandledReasons=function(){return I.slice()},w.stopUnhandledRejectionTracking=function(){M(),R=!1},M(),w.reject=N,w.fulfill=j,w.master=function(e){return T({isDef:function(){}},(function(t,n){return B(e,t,n)}),(function(){return w(e).inspect()}))},w.spread=F,T.prototype.spread=function(e,t){return this.all().then((function(t){return e.apply(void 0,t)}),t)},w.async=function(e){return function(){function t(e,t){var o;if("undefined"==typeof StopIteration){try{o=n[e](t)}catch(e){return N(e)}return o.done?w(o.value):x(o.value,i,r)}try{o=n[e](t)}catch(e){return function(e){return"[object StopIteration]"===m(e)||e instanceof a}(e)?w(e.value):N(e)}return x(o,i,r)}var n=e.apply(this,arguments),i=t.bind(t,"next"),r=t.bind(t,"throw");return i()}},w.spawn=function(e){w.done(w.async(e)())},w.return=function(e){throw new a(e)},w.promised=function(e){return function(){return F([this,U(arguments)],(function(t,n){return e.apply(t,n)}))}},w.dispatch=B,T.prototype.dispatch=function(e,t){var n=this,i=k();return w.nextTick((function(){n.promiseDispatch(i.resolve,e,t)})),i.promise},w.get=function(e,t){return w(e).dispatch("get",[t])},T.prototype.get=function(e){return this.dispatch("get",[e])},w.set=function(e,t,n){return w(e).dispatch("set",[t,n])},T.prototype.set=function(e,t){return this.dispatch("set",[e,t])},w.del=w.delete=function(e,t){return w(e).dispatch("delete",[t])},T.prototype.del=T.prototype.delete=function(e){return this.dispatch("delete",[e])},w.mapply=w.post=function(e,t,n){return w(e).dispatch("post",[t,n])},T.prototype.mapply=T.prototype.post=function(e,t){return this.dispatch("post",[e,t])},w.send=w.mcall=w.invoke=function(e,t){return w(e).dispatch("post",[t,l(arguments,2)])},T.prototype.send=T.prototype.mcall=T.prototype.invoke=function(e){return this.dispatch("post",[e,l(arguments,1)])},w.fapply=function(e,t){return w(e).dispatch("apply",[void 0,t])},T.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},w.try=w.fcall=function(e){return w(e).dispatch("apply",[void 0,l(arguments,1)])},T.prototype.fcall=function(){return this.dispatch("apply",[void 0,l(arguments)])},w.fbind=function(e){var t=w(e),n=l(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(l(arguments))])}},T.prototype.fbind=function(){var e=this,t=l(arguments);return function(){return e.dispatch("apply",[this,t.concat(l(arguments))])}},w.keys=function(e){return w(e).dispatch("keys",[])},T.prototype.keys=function(){return this.dispatch("keys",[])},w.all=U,T.prototype.all=function(){return U(this)},w.any=q,T.prototype.any=function(){return q(this)},w.allResolved=(O=V,function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("allResolved is deprecated, use allSettled instead.",new Error("").stack),O.apply(O,arguments)}),T.prototype.allResolved=function(){return V(this)},w.allSettled=function(e){return w(e).allSettled()},T.prototype.allSettled=function(){return this.then((function(e){return U(h(e,(function(e){function t(){return e.inspect()}return(e=w(e)).then(t,t)})))}))},w.fail=w.catch=function(e,t){return w(e).then(void 0,t)},T.prototype.fail=T.prototype.catch=function(e){return this.then(void 0,e)},w.progress=function(e,t){return w(e).then(void 0,void 0,t)},T.prototype.progress=function(e){return this.then(void 0,void 0,e)},w.fin=w.finally=function(e,t){return w(e).finally(t)},T.prototype.fin=T.prototype.finally=function(e){return e=w(e),this.then((function(t){return e.fcall().then((function(){return t}))}),(function(t){return e.fcall().then((function(){throw t}))}))},w.done=function(e,t,n,i){return w(e).done(t,n,i)},T.prototype.done=function(e,t,n){var i=function(e){w.nextTick((function(){if(y(e,r),!w.onerror)throw e;w.onerror(e)}))},r=e||t||n?this.then(e,t,n):this;"object"==typeof process&&process&&process.domain&&(i=process.domain.bind(i)),r.then(void 0,i)},w.timeout=function(e,t,n){return w(e).timeout(t,n)},T.prototype.timeout=function(e,t){var n=k(),i=setTimeout((function(){t&&"string"!=typeof t||((t=new Error(t||"Timed out after "+e+" ms")).code="ETIMEDOUT"),n.reject(t)}),e);return this.then((function(e){clearTimeout(i),n.resolve(e)}),(function(e){clearTimeout(i),n.reject(e)}),n.notify),n.promise},w.delay=function(e,t){return void 0===t&&(t=e,e=void 0),w(e).delay(t)},T.prototype.delay=function(e){return this.then((function(t){var n=k();return setTimeout((function(){n.resolve(t)}),e),n.promise}))},w.nfapply=function(e,t){return w(e).nfapply(t)},T.prototype.nfapply=function(e){var t=k(),n=l(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},w.nfcall=function(e){var t=l(arguments,1);return w(e).nfapply(t)},T.prototype.nfcall=function(){var e=l(arguments),t=k();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},w.nfbind=w.denodeify=function(e){var t=l(arguments,1);return function(){var n=t.concat(l(arguments)),i=k();return n.push(i.makeNodeResolver()),w(e).fapply(n).fail(i.reject),i.promise}},T.prototype.nfbind=T.prototype.denodeify=function(){var e=l(arguments);return e.unshift(this),w.denodeify.apply(void 0,e)},w.nbind=function(e,t){var n=l(arguments,2);return function(){var i=n.concat(l(arguments)),r=k();return i.push(r.makeNodeResolver()),w((function(){return e.apply(t,arguments)})).fapply(i).fail(r.reject),r.promise}},T.prototype.nbind=function(){var e=l(arguments,0);return e.unshift(this),w.nbind.apply(void 0,e)},w.nmapply=w.npost=function(e,t,n){return w(e).npost(t,n)},T.prototype.nmapply=T.prototype.npost=function(e,t){var n=l(t||[]),i=k();return n.push(i.makeNodeResolver()),this.dispatch("post",[e,n]).fail(i.reject),i.promise},w.nsend=w.nmcall=w.ninvoke=function(e,t){var n=l(arguments,2),i=k();return n.push(i.makeNodeResolver()),w(e).dispatch("post",[t,n]).fail(i.reject),i.promise},T.prototype.nsend=T.prototype.nmcall=T.prototype.ninvoke=function(e){var t=l(arguments,1),n=k();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},w.nodeify=function(e,t){return w(e).nodeify(t)},T.prototype.nodeify=function(e){if(!e)return this;this.then((function(t){w.nextTick((function(){e(null,t)}))}),(function(t){w.nextTick((function(){e(t)}))}))},w.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var H=_();return w}))},4327:function(e){"use strict";const t={days:e=>864e5*e,hours:e=>36e5*e,minutes:e=>6e4*e,seconds:e=>1e3*e,milliseconds:e=>e,microseconds:e=>e/1e3,nanoseconds:e=>e/1e6},n=e=>Object.entries(e).reduce(((e,[n,i])=>{if("number"!=typeof i)throw new TypeError(`Expected a \`number\` for key \`${n}\`, got \`${i}\` (${typeof i})`);if(!t[n])throw new Error("Unsupported time key");return e+t[n](i)}),0);e.exports=n,e.exports.default=n},3490:function(e,t,n){"use strict";var i=n(8908);e.exports=function(e,t){return void 0===t&&(t=!1),function(n,r,o){if(n)e(n);else if(r.statusCode>=400&&r.statusCode<=599){var s=o;if(t)if(i.TextDecoder){var a=(void 0===(l=r.headers&&r.headers["content-type"])&&(l=""),l.toLowerCase().split(";").reduce((function(e,t){var n=t.split("="),i=n[0],r=n[1];return"charset"===i.trim()?r.trim():e}),"utf-8"));try{s=new TextDecoder(a).decode(o)}catch(e){}}else s=String.fromCharCode.apply(null,new Uint8Array(o));e({cause:s})}else e(null,o);var l}}},9603:function(e,t,n){"use strict";var i=n(8908),r=n(4293),o=n(7376),s=n(1608),a=n(5973);u.httpHandler=n(3490),u.requestInterceptorsStorage=new s,u.responseInterceptorsStorage=new s,u.retryManager=new a;var l=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),i=e.slice(0,n).trim().toLowerCase(),r=e.slice(n+1).trim();void 0===t[i]?t[i]=r:Array.isArray(t[i])?t[i].push(r):t[i]=[t[i],r]})),t):t};function c(e,t,n){var i=e;return o(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=r({},t,{uri:e}),i.callback=n,i}function u(e,t,n){return h(t=c(e,t,n))}function h(e){if(void 0===e.callback)throw new Error("callback argument missing");if(e.requestType&&u.requestInterceptorsStorage.getIsEnabled()){var t={uri:e.uri||e.url,headers:e.headers||{},body:e.body,metadata:e.metadata||{},retry:e.retry,timeout:e.timeout},n=u.requestInterceptorsStorage.execute(e.requestType,t);e.uri=n.uri,e.headers=n.headers,e.body=n.body,e.metadata=n.metadata,e.retry=n.retry,e.timeout=n.timeout}var i=!1,r=function(t,n,r){i||(i=!0,e.callback(t,n,r))};function o(){var e=void 0;if(e=p.response?p.response:p.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(p),_)try{e=JSON.parse(e)}catch(e){}return e}function s(t){if(clearTimeout(f),clearTimeout(e.retryTimeout),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,d||!u.retryManager.getIsEnabled()||!e.retry||!e.retry.shouldRetry()){if(e.requestType&&u.responseInterceptorsStorage.getIsEnabled()){var n={headers:w.headers||{},body:w.body,responseUrl:p.responseURL,responseType:p.responseType},i=u.responseInterceptorsStorage.execute(e.requestType,n);w.body=i.body,w.headers=i.headers}return r(t,w)}e.retryTimeout=setTimeout((function(){e.retry.moveToNextAttempt(),e.xhr=p,h(e)}),e.retry.getCurrentFuzzedDelay())}function a(){if(!d){var t;clearTimeout(f),clearTimeout(e.retryTimeout),t=e.useXDR&&void 0===p.status?200:1223===p.status?204:p.status;var n=w,i=null;if(0!==t?(n={body:o(),statusCode:t,method:g,headers:{},url:m,rawRequest:p},p.getAllResponseHeaders&&(n.headers=l(p.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),e.requestType&&u.responseInterceptorsStorage.getIsEnabled()){var s={headers:n.headers||{},body:n.body,responseUrl:p.responseURL,responseType:p.responseType},a=u.responseInterceptorsStorage.execute(e.requestType,s);n.body=a.body,n.headers=a.headers}return r(i,n,n.body)}}var c,d,p=e.xhr||null;p||(p=e.cors||e.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var f,m=p.url=e.uri||e.url,g=p.method=e.method||"GET",y=e.body||e.data,v=p.headers=e.headers||{},b=!!e.sync,_=!1,w={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:p};if("json"in e&&!1!==e.json&&(_=!0,v.accept||v.Accept||(v.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),y=JSON.stringify(!0===e.json?y:e.json))),p.onreadystatechange=function(){4!==p.readyState||u.responseInterceptorsStorage.getIsEnabled()||setTimeout(a,0)},p.onload=a,p.onerror=s,p.onprogress=function(){},p.onabort=function(){d=!0,clearTimeout(e.retryTimeout)},p.ontimeout=s,p.open(g,m,!b,e.username,e.password),b||(p.withCredentials=!!e.withCredentials),!b&&e.timeout>0&&(f=setTimeout((function(){if(!d){d=!0,p.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",s(e)}}),e.timeout)),p.setRequestHeader)for(c in v)v.hasOwnProperty(c)&&p.setRequestHeader(c,v[c]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(p.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(p),p.send(y||null),p}e.exports=u,e.exports.default=u,u.XMLHttpRequest=i.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:i.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){u["delete"===e?"del":e]=function(t,n,i){return(n=c(t,n,i)).method=e.toUpperCase(),h(n)}}))},1608:function(e){"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var n=function(){function e(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var n=e.prototype;return n.getIsEnabled=function(){return this.enabled_},n.enable=function(){this.enabled_=!0},n.disable=function(){this.enabled_=!1},n.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},n.addInterceptor=function(e,t){this.typeToInterceptorsMap_.has(e)||this.typeToInterceptorsMap_.set(e,new Set);var n=this.typeToInterceptorsMap_.get(e);return!n.has(t)&&(n.add(t),!0)},n.removeInterceptor=function(e,t){var n=this.typeToInterceptorsMap_.get(e);return!(!n||!n.has(t)||(n.delete(t),0))},n.clearInterceptorsByType=function(e){return!!this.typeToInterceptorsMap_.get(e)&&(this.typeToInterceptorsMap_.delete(e),this.typeToInterceptorsMap_.set(e,new Set),!0)},n.clear=function(){return!!this.typeToInterceptorsMap_.size&&(this.typeToInterceptorsMap_=new Map,!0)},n.getForType=function(e){return this.typeToInterceptorsMap_.get(e)||new Set},n.execute=function(e,n){for(var i,r=function(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.getForType(e));!(i=r()).done;){var o=i.value;try{n=o(n)}catch(e){}}return n},e}();e.exports=n},5973:function(e){"use strict";var t=function(){function e(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var t=e.prototype;return t.getIsEnabled=function(){return this.enabled_},t.enable=function(){this.enabled_=!0},t.disable=function(){this.enabled_=!1},t.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},t.getMaxAttempts=function(){return this.maxAttempts_},t.setMaxAttempts=function(e){this.maxAttempts_=e},t.getDelayFactor=function(){return this.delayFactor_},t.setDelayFactor=function(e){this.delayFactor_=e},t.getFuzzFactor=function(){return this.fuzzFactor_},t.setFuzzFactor=function(e){this.fuzzFactor_=e},t.getInitialDelay=function(){return this.initialDelay_},t.setInitialDelay=function(e){this.initialDelay_=e},t.createRetry=function(e){var t=void 0===e?{}:e,i=t.maxAttempts,r=t.delayFactor,o=t.fuzzFactor,s=t.initialDelay;return new n({maxAttempts:i||this.maxAttempts_,delayFactor:r||this.delayFactor_,fuzzFactor:o||this.fuzzFactor_,initialDelay:s||this.initialDelay_})},e}(),n=function(){function e(e){this.maxAttempts_=e.maxAttempts,this.delayFactor_=e.delayFactor,this.fuzzFactor_=e.fuzzFactor,this.currentDelay_=e.initialDelay,this.currentAttempt_=1}var t=e.prototype;return t.moveToNextAttempt=function(){this.currentAttempt_++;var e=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+e},t.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},t.getCurrentDelay=function(){return this.currentDelay_},t.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},t.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},t.getCurrentFuzzedDelay=function(){var e=this.getCurrentMinPossibleDelay(),t=this.getCurrentMaxPossibleDelay();return e+Math.random()*(t-e)},e}();e.exports=t},2167:function(e,t){"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var i=n({HTML:"text/html",isHTML:function(e){return e===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var i=0;i<e.length;i++)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];if(t.call(void 0,r,i,e))return r}},t.freeze=n,t.MIME_TYPE=i,t.NAMESPACE=r},6129:function(e,t,n){var i=n(2167),r=n(1146),o=n(1045),s=n(6925),a=r.DOMImplementation,l=i.NAMESPACE,c=s.ParseError,u=s.XMLReader;function h(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function d(e){this.options=e||{locator:{}}}function p(){this.cdata=!1}function f(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function m(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function g(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function y(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}d.prototype.parseFromString=function(e,t){var n=this.options,i=new u,r=n.domBuilder||new p,s=n.errorHandler,a=n.locator,c=n.xmlns||{},d=/\/x?html?$/.test(t),f=d?o.HTML_ENTITIES:o.XML_ENTITIES;a&&r.setDocumentLocator(a),i.errorHandler=function(e,t,n){if(!e){if(t instanceof p)return t;e=t}var i={},r=e instanceof Function;function o(t){var o=e[t];!o&&r&&(o=2==e.length?function(n){e(t,n)}:e),i[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+m(n))}||function(){}}return n=n||{},o("warning"),o("error"),o("fatalError"),i}(s,r,a),i.domBuilder=n.domBuilder||r,d&&(c[""]=l.HTML),c.xml=c.xml||l.XML;var g=n.normalizeLineEndings||h;return e&&"string"==typeof e?i.parse(g(e),c,f):i.errorHandler.error("invalid doc source"),r.doc},p.prototype={startDocument:function(){this.doc=(new a).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var r=this.doc,o=r.createElementNS(e,n||t),s=i.length;y(this,o),this.currentElement=o,this.locator&&f(this.locator,o);for(var a=0;a<s;a++){e=i.getURI(a);var l=i.getValue(a),c=(n=i.getQName(a),r.createAttributeNS(e,n));this.locator&&f(i.getLocator(a),c),c.value=c.nodeValue=l,o.setAttributeNode(c)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&f(this.locator,n),y(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=g.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&f(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=g.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&f(this.locator,i),y(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(e,t,n);this.locator&&f(this.locator,r),y(this,r),this.doc.doctype=r}},warning:function(e){console.warn("[xmldom warning]\t"+e,m(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,m(this.locator))},fatalError:function(e){throw new c(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){p.prototype[e]=function(){return null}})),t.DOMParser=d},1146:function(e,t,n){var i=n(2167),r=i.find,o=i.NAMESPACE;function s(e){return""!==e}function a(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function l(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(s):[]}(e);return Object.keys(t.reduce(a,{}))}function c(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function u(e,t){var n=e.prototype;if(!(n instanceof t)){function i(){}i.prototype=t.prototype,c(n,i=new i),e.prototype=n=i}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var h={},d=h.ELEMENT_NODE=1,p=h.ATTRIBUTE_NODE=2,f=h.TEXT_NODE=3,m=h.CDATA_SECTION_NODE=4,g=h.ENTITY_REFERENCE_NODE=5,y=h.ENTITY_NODE=6,v=h.PROCESSING_INSTRUCTION_NODE=7,b=h.COMMENT_NODE=8,_=h.DOCUMENT_NODE=9,w=h.DOCUMENT_TYPE_NODE=10,k=h.DOCUMENT_FRAGMENT_NODE=11,S=h.NOTATION_NODE=12,E={},T={},x=(E.INDEX_SIZE_ERR=(T[1]="Index size error",1),E.DOMSTRING_SIZE_ERR=(T[2]="DOMString size error",2),E.HIERARCHY_REQUEST_ERR=(T[3]="Hierarchy request error",3)),C=(E.WRONG_DOCUMENT_ERR=(T[4]="Wrong document",4),E.INVALID_CHARACTER_ERR=(T[5]="Invalid character",5),E.NO_DATA_ALLOWED_ERR=(T[6]="No data allowed",6),E.NO_MODIFICATION_ALLOWED_ERR=(T[7]="No modification allowed",7),E.NOT_FOUND_ERR=(T[8]="Not found",8)),P=(E.NOT_SUPPORTED_ERR=(T[9]="Not supported",9),E.INUSE_ATTRIBUTE_ERR=(T[10]="Attribute in use",10));function A(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,T[e]),this.message=T[e],Error.captureStackTrace&&Error.captureStackTrace(this,A);return n.code=e,t&&(this.message=this.message+": "+t),n}function O(){}function I(e,t){this._node=e,this._refresh=t,L(this)}function L(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(ve(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var i=n.length;i in e;i++)Object.prototype.hasOwnProperty.call(e,i)&&delete e[i];c(n,e),e._inc=t}}function D(){}function R(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function M(e,t,n,i){if(i?t[R(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var r=e.ownerDocument;r&&(i&&V(r,e,i),function(e,t,n){e&&e._inc++,n.namespaceURI===o.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(r,e,n))}}function N(e,t,n){var i=R(t,n);if(!(i>=0))throw new A(C,new Error(e.tagName+"@"+n));for(var r=t.length-1;i<r;)t[i]=t[++i];if(t.length=r,e){var o=e.ownerDocument;o&&(V(o,e,n),n.ownerElement=null)}}function j(){}function F(){}function B(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function U(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(U(e,t))return!0}while(e=e.nextSibling)}function q(){this.ownerDocument=this}function V(e,t,n,i){e&&e._inc++,n.namespaceURI===o.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function H(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var r=t.firstChild,o=0;r;)i[o++]=r,r=r.nextSibling;i.length=o,delete i[i.length]}}}function $(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,H(e.ownerDocument,e),t}function z(e){return e&&e.nodeType===F.DOCUMENT_TYPE_NODE}function W(e){return e&&e.nodeType===F.ELEMENT_NODE}function G(e){return e&&e.nodeType===F.TEXT_NODE}function K(e,t){var n=e.childNodes||[];if(r(n,W)||z(t))return!1;var i=r(n,z);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function Y(e,t){var n=e.childNodes||[];if(r(n,(function(e){return W(e)&&e!==t})))return!1;var i=r(n,z);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function X(e,t,n){var i=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===F.DOCUMENT_FRAGMENT_NODE){var s=o.filter(W);if(s.length>1||r(o,G))throw new A(x,"More than one element or text in fragment");if(1===s.length&&!K(e,n))throw new A(x,"Element in fragment can not be inserted before doctype")}if(W(t)&&!K(e,n))throw new A(x,"Only one element can be added and only after doctype");if(z(t)){if(r(i,z))throw new A(x,"Only one doctype is allowed");var a=r(i,W);if(n&&i.indexOf(a)<i.indexOf(n))throw new A(x,"Doctype can only be inserted before an element");if(!n&&a)throw new A(x,"Doctype can not be appended since element is present")}}function J(e,t,n){var i=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===F.DOCUMENT_FRAGMENT_NODE){var s=o.filter(W);if(s.length>1||r(o,G))throw new A(x,"More than one element or text in fragment");if(1===s.length&&!Y(e,n))throw new A(x,"Element in fragment can not be inserted before doctype")}if(W(t)&&!Y(e,n))throw new A(x,"Only one element can be added and only after doctype");if(z(t)){if(r(i,(function(e){return z(e)&&e!==n})))throw new A(x,"Only one doctype is allowed");var a=r(i,W);if(n&&i.indexOf(a)<i.indexOf(n))throw new A(x,"Doctype can only be inserted before an element")}}function Q(e,t,n,i){(function(e,t,n){if(!function(e){return e&&(e.nodeType===F.DOCUMENT_NODE||e.nodeType===F.DOCUMENT_FRAGMENT_NODE||e.nodeType===F.ELEMENT_NODE)}(e))throw new A(x,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new A(C,"child not in parent");if(!function(e){return e&&(W(e)||G(e)||z(e)||e.nodeType===F.DOCUMENT_FRAGMENT_NODE||e.nodeType===F.COMMENT_NODE||e.nodeType===F.PROCESSING_INSTRUCTION_NODE)}(t)||z(t)&&e.nodeType!==F.DOCUMENT_NODE)throw new A(x,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)})(e,t,n),e.nodeType===F.DOCUMENT_NODE&&(i||X)(e,t,n);var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===k){var o=t.firstChild;if(null==o)return t;var s=t.lastChild}else o=s=t;var a=n?n.previousSibling:e.lastChild;o.previousSibling=a,s.nextSibling=n,a?a.nextSibling=o:e.firstChild=o,null==n?e.lastChild=s:n.previousSibling=s;do{o.parentNode=e}while(o!==s&&(o=o.nextSibling));return H(e.ownerDocument||e,e),t.nodeType==k&&(t.firstChild=t.lastChild=null),t}function Z(){this._nsMap={}}function ee(){}function te(){}function ne(){}function ie(){}function re(){}function oe(){}function se(){}function ae(){}function le(){}function ce(){}function ue(){}function he(){}function de(e,t){var n=[],i=9==this.nodeType&&this.documentElement||this,r=i.prefix,o=i.namespaceURI;if(o&&null==r&&null==(r=i.lookupPrefix(o)))var s=[{namespace:o,prefix:null}];return me(this,n,e,t,s),n.join("")}function pe(e,t,n){var i=e.prefix||"",r=e.namespaceURI;if(!r)return!1;if("xml"===i&&r===o.XML||r===o.XMLNS)return!1;for(var s=n.length;s--;){var a=n[s];if(a.prefix===i)return a.namespace!==r}return!0}function fe(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,B),'"')}function me(e,t,n,i,r){if(r||(r=[]),i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case d:var s=e.attributes,a=s.length,l=e.firstChild,c=e.tagName,u=c;if(!(n=o.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var h,y=0;y<s.length;y++)if("xmlns"===s.item(y).name){h=s.item(y).value;break}if(!h)for(var S=r.length-1;S>=0;S--)if(""===(E=r[S]).prefix&&E.namespace===e.namespaceURI){h=E.namespace;break}if(h!==e.namespaceURI)for(S=r.length-1;S>=0;S--){var E;if((E=r[S]).namespace===e.namespaceURI){E.prefix&&(u=E.prefix+":"+c);break}}}t.push("<",u);for(var T=0;T<a;T++)"xmlns"==(x=s.item(T)).prefix?r.push({prefix:x.localName,namespace:x.value}):"xmlns"==x.nodeName&&r.push({prefix:"",namespace:x.value});for(T=0;T<a;T++){var x,C,P;pe(x=s.item(T),0,r)&&(fe(t,(C=x.prefix||"")?"xmlns:"+C:"xmlns",P=x.namespaceURI),r.push({prefix:C,namespace:P})),me(x,t,n,i,r)}if(c===u&&pe(e,0,r)&&(fe(t,(C=e.prefix||"")?"xmlns:"+C:"xmlns",P=e.namespaceURI),r.push({prefix:C,namespace:P})),l||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;l;)l.data?t.push(l.data):me(l,t,n,i,r.slice()),l=l.nextSibling;else for(;l;)me(l,t,n,i,r.slice()),l=l.nextSibling;t.push("</",u,">")}else t.push("/>");return;case _:case k:for(l=e.firstChild;l;)me(l,t,n,i,r.slice()),l=l.nextSibling;return;case p:return fe(t,e.name,e.value);case f:return t.push(e.data.replace(/[<&>]/g,B));case m:return t.push("<![CDATA[",e.data,"]]>");case b:return t.push("\x3c!--",e.data,"--\x3e");case w:var A=e.publicId,O=e.systemId;if(t.push("<!DOCTYPE ",e.name),A)t.push(" PUBLIC ",A),O&&"."!=O&&t.push(" ",O),t.push(">");else if(O&&"."!=O)t.push(" SYSTEM ",O,">");else{var I=e.internalSubset;I&&t.push(" [",I,"]"),t.push(">")}return;case v:return t.push("<?",e.target," ",e.data,"?>");case g:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ge(e,t,n){var i;switch(t.nodeType){case d:(i=t.cloneNode(!1)).ownerDocument=e;case k:break;case p:n=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n)for(var r=t.firstChild;r;)i.appendChild(ge(e,r,n)),r=r.nextSibling;return i}function ye(e,t,n){var i=new t.constructor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r];"object"!=typeof o&&o!=i[r]&&(i[r]=o)}switch(t.childNodes&&(i.childNodes=new O),i.ownerDocument=e,i.nodeType){case d:var s=t.attributes,a=i.attributes=new D,l=s.length;a._ownerElement=i;for(var c=0;c<l;c++)i.setAttributeNode(ye(e,s.item(c),!0));break;case p:n=!0}if(n)for(var u=t.firstChild;u;)i.appendChild(ye(e,u,n)),u=u.nextSibling;return i}function ve(e,t,n){e[t]=n}E.INVALID_STATE_ERR=(T[11]="Invalid state",11),E.SYNTAX_ERR=(T[12]="Syntax error",12),E.INVALID_MODIFICATION_ERR=(T[13]="Invalid modification",13),E.NAMESPACE_ERR=(T[14]="Invalid namespace",14),E.INVALID_ACCESS_ERR=(T[15]="Invalid access",15),A.prototype=Error.prototype,c(E,A),O.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)me(this[i],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},I.prototype.item=function(e){return L(this),this[e]||null},u(I,O),D.prototype={length:0,item:O.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new A(P);var n=this.getNamedItem(e.nodeName);return M(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new A(P);return t=this.getNamedItemNS(e.namespaceURI,e.localName),M(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return N(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return N(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},j.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var i=new q;if(i.implementation=this,i.childNodes=new O,i.doctype=n||null,n&&i.appendChild(n),t){var r=i.createElementNS(e,t);i.appendChild(r)}return i},createDocumentType:function(e,t,n){var i=new oe;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=n||"",i}},F.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Q(this,e,t)},replaceChild:function(e,t){Q(this,e,t,J),t&&this.removeChild(t)},removeChild:function(e){return $(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ye(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==f&&e.nodeType==f?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===e)return i;t=t.nodeType==p?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==p?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},c(h,F),c(h,F.prototype),q.prototype={nodeName:"#document",nodeType:_,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==k){for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return Q(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===d&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),$(this,e)},replaceChild:function(e,t){Q(this,e,t,J),e.ownerDocument=this,t&&this.removeChild(t),W(e)&&(this.documentElement=e)},importNode:function(e,t){return ge(this,e,t)},getElementById:function(e){var t=null;return U(this.documentElement,(function(n){if(n.nodeType==d&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=l(e);return new I(this,(function(n){var i=[];return t.length>0&&U(n.documentElement,(function(r){if(r!==n&&r.nodeType===d){var o=r.getAttribute("class");if(o){var s=e===o;if(!s){var a=l(o);s=t.every((c=a,function(e){return c&&-1!==c.indexOf(e)}))}s&&i.push(r)}}var c})),i}))},createElement:function(e){var t=new Z;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new O,(t.attributes=new D)._ownerElement=t,t},createDocumentFragment:function(){var e=new ce;return e.ownerDocument=this,e.childNodes=new O,e},createTextNode:function(e){var t=new ne;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new ue;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new ee;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new le;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new Z,i=t.split(":"),r=n.attributes=new D;return n.childNodes=new O,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,r._ownerElement=n,n},createAttributeNS:function(e,t){var n=new ee,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},u(q,F),Z.prototype={nodeType:d,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===k?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,H(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new I(this,(function(t){var n=[];return U(t,(function(i){i===t||i.nodeType!=d||"*"!==e&&i.tagName!=e||n.push(i)})),n}))},getElementsByTagNameNS:function(e,t){return new I(this,(function(n){var i=[];return U(n,(function(r){r===n||r.nodeType!==d||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||i.push(r)})),i}))}},q.prototype.getElementsByTagName=Z.prototype.getElementsByTagName,q.prototype.getElementsByTagNameNS=Z.prototype.getElementsByTagNameNS,u(Z,F),ee.prototype.nodeType=p,u(ee,F),te.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(T[x])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},u(te,F),ne.prototype={nodeName:"#text",nodeType:f,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},u(ne,te),ie.prototype={nodeName:"#comment",nodeType:b},u(ie,te),re.prototype={nodeName:"#cdata-section",nodeType:m},u(re,te),oe.prototype.nodeType=w,u(oe,F),se.prototype.nodeType=S,u(se,F),ae.prototype.nodeType=y,u(ae,F),le.prototype.nodeType=g,u(le,F),ce.prototype.nodeName="#document-fragment",ce.prototype.nodeType=k,u(ce,F),ue.prototype.nodeType=v,u(ue,F),he.prototype.serializeToString=function(e,t,n){return de.call(e,t,n)},F.prototype.toString=de;try{if(Object.defineProperty){function be(e){switch(e.nodeType){case d:case k:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(be(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(I.prototype,"length",{get:function(){return L(this),this.$$length}}),Object.defineProperty(F.prototype,"textContent",{get:function(){return be(this)},set:function(e){switch(this.nodeType){case d:case k:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ve=function(e,t,n){e["$$"+t]=n}}}catch(_e){}t.DocumentType=oe,t.DOMException=A,t.DOMImplementation=j,t.Element=Z,t.Node=F,t.NodeList=O,t.XMLSerializer=he},1045:function(e,t,n){"use strict";var i=n(2167).freeze;t.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=i({Aacute:"Ã",aacute:"Ã¡",Abreve:"Ä‚",abreve:"Äƒ",ac:"âˆ¾",acd:"âˆ¿",acE:"âˆ¾Ì³",Acirc:"Ã‚",acirc:"Ã¢",acute:"Â´",Acy:"Ð",acy:"Ð°",AElig:"Ã†",aelig:"Ã¦",af:"â¡",Afr:"ð”„",afr:"ð”ž",Agrave:"Ã€",agrave:"Ã ",alefsym:"â„µ",aleph:"â„µ",Alpha:"Î‘",alpha:"Î±",Amacr:"Ä€",amacr:"Ä",amalg:"â¨¿",AMP:"&",amp:"&",And:"â©“",and:"âˆ§",andand:"â©•",andd:"â©œ",andslope:"â©˜",andv:"â©š",ang:"âˆ ",ange:"â¦¤",angle:"âˆ ",angmsd:"âˆ¡",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angrt:"âˆŸ",angrtvb:"âŠ¾",angrtvbd:"â¦",angsph:"âˆ¢",angst:"Ã…",angzarr:"â¼",Aogon:"Ä„",aogon:"Ä…",Aopf:"ð”¸",aopf:"ð•’",ap:"â‰ˆ",apacir:"â©¯",apE:"â©°",ape:"â‰Š",apid:"â‰‹",apos:"'",ApplyFunction:"â¡",approx:"â‰ˆ",approxeq:"â‰Š",Aring:"Ã…",aring:"Ã¥",Ascr:"ð’œ",ascr:"ð’¶",Assign:"â‰”",ast:"*",asymp:"â‰ˆ",asympeq:"â‰",Atilde:"Ãƒ",atilde:"Ã£",Auml:"Ã„",auml:"Ã¤",awconint:"âˆ³",awint:"â¨‘",backcong:"â‰Œ",backepsilon:"Ï¶",backprime:"â€µ",backsim:"âˆ½",backsimeq:"â‹",Backslash:"âˆ–",Barv:"â«§",barvee:"âŠ½",Barwed:"âŒ†",barwed:"âŒ…",barwedge:"âŒ…",bbrk:"âŽµ",bbrktbrk:"âŽ¶",bcong:"â‰Œ",Bcy:"Ð‘",bcy:"Ð±",bdquo:"â€ž",becaus:"âˆµ",Because:"âˆµ",because:"âˆµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â„¬",Bernoullis:"â„¬",Beta:"Î’",beta:"Î²",beth:"â„¶",between:"â‰¬",Bfr:"ð”…",bfr:"ð”Ÿ",bigcap:"â‹‚",bigcirc:"â—¯",bigcup:"â‹ƒ",bigodot:"â¨€",bigoplus:"â¨",bigotimes:"â¨‚",bigsqcup:"â¨†",bigstar:"â˜…",bigtriangledown:"â–½",bigtriangleup:"â–³",biguplus:"â¨„",bigvee:"â‹",bigwedge:"â‹€",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"â–ª",blacktriangle:"â–´",blacktriangledown:"â–¾",blacktriangleleft:"â—‚",blacktriangleright:"â–¸",blank:"â£",blk12:"â–’",blk14:"â–‘",blk34:"â–“",block:"â–ˆ",bne:"=âƒ¥",bnequiv:"â‰¡âƒ¥",bNot:"â«­",bnot:"âŒ",Bopf:"ð”¹",bopf:"ð•“",bot:"âŠ¥",bottom:"âŠ¥",bowtie:"â‹ˆ",boxbox:"â§‰",boxDL:"â•—",boxDl:"â•–",boxdL:"â••",boxdl:"â”",boxDR:"â•”",boxDr:"â•“",boxdR:"â•’",boxdr:"â”Œ",boxH:"â•",boxh:"â”€",boxHD:"â•¦",boxHd:"â•¤",boxhD:"â•¥",boxhd:"â”¬",boxHU:"â•©",boxHu:"â•§",boxhU:"â•¨",boxhu:"â”´",boxminus:"âŠŸ",boxplus:"âŠž",boxtimes:"âŠ ",boxUL:"â•",boxUl:"â•œ",boxuL:"â•›",boxul:"â”˜",boxUR:"â•š",boxUr:"â•™",boxuR:"â•˜",boxur:"â””",boxV:"â•‘",boxv:"â”‚",boxVH:"â•¬",boxVh:"â•«",boxvH:"â•ª",boxvh:"â”¼",boxVL:"â•£",boxVl:"â•¢",boxvL:"â•¡",boxvl:"â”¤",boxVR:"â• ",boxVr:"â•Ÿ",boxvR:"â•ž",boxvr:"â”œ",bprime:"â€µ",Breve:"Ë˜",breve:"Ë˜",brvbar:"Â¦",Bscr:"â„¬",bscr:"ð’·",bsemi:"â",bsim:"âˆ½",bsime:"â‹",bsol:"\\",bsolb:"â§…",bsolhsub:"âŸˆ",bull:"â€¢",bullet:"â€¢",bump:"â‰Ž",bumpE:"âª®",bumpe:"â‰",Bumpeq:"â‰Ž",bumpeq:"â‰",Cacute:"Ä†",cacute:"Ä‡",Cap:"â‹’",cap:"âˆ©",capand:"â©„",capbrcup:"â©‰",capcap:"â©‹",capcup:"â©‡",capdot:"â©€",CapitalDifferentialD:"â……",caps:"âˆ©ï¸€",caret:"â",caron:"Ë‡",Cayleys:"â„­",ccaps:"â©",Ccaron:"ÄŒ",ccaron:"Ä",Ccedil:"Ã‡",ccedil:"Ã§",Ccirc:"Äˆ",ccirc:"Ä‰",Cconint:"âˆ°",ccups:"â©Œ",ccupssm:"â©",Cdot:"ÄŠ",cdot:"Ä‹",cedil:"Â¸",Cedilla:"Â¸",cemptyv:"â¦²",cent:"Â¢",CenterDot:"Â·",centerdot:"Â·",Cfr:"â„­",cfr:"ð” ",CHcy:"Ð§",chcy:"Ñ‡",check:"âœ“",checkmark:"âœ“",Chi:"Î§",chi:"Ï‡",cir:"â—‹",circ:"Ë†",circeq:"â‰—",circlearrowleft:"â†º",circlearrowright:"â†»",circledast:"âŠ›",circledcirc:"âŠš",circleddash:"âŠ",CircleDot:"âŠ™",circledR:"Â®",circledS:"â“ˆ",CircleMinus:"âŠ–",CirclePlus:"âŠ•",CircleTimes:"âŠ—",cirE:"â§ƒ",cire:"â‰—",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§‚",ClockwiseContourIntegral:"âˆ²",CloseCurlyDoubleQuote:"â€",CloseCurlyQuote:"â€™",clubs:"â™£",clubsuit:"â™£",Colon:"âˆ·",colon:":",Colone:"â©´",colone:"â‰”",coloneq:"â‰”",comma:",",commat:"@",comp:"âˆ",compfn:"âˆ˜",complement:"âˆ",complexes:"â„‚",cong:"â‰…",congdot:"â©­",Congruent:"â‰¡",Conint:"âˆ¯",conint:"âˆ®",ContourIntegral:"âˆ®",Copf:"â„‚",copf:"ð•”",coprod:"âˆ",Coproduct:"âˆ",COPY:"Â©",copy:"Â©",copysr:"â„—",CounterClockwiseContourIntegral:"âˆ³",crarr:"â†µ",Cross:"â¨¯",cross:"âœ—",Cscr:"ð’ž",cscr:"ð’¸",csub:"â«",csube:"â«‘",csup:"â«",csupe:"â«’",ctdot:"â‹¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â‹ž",cuesc:"â‹Ÿ",cularr:"â†¶",cularrp:"â¤½",Cup:"â‹“",cup:"âˆª",cupbrcap:"â©ˆ",CupCap:"â‰",cupcap:"â©†",cupcup:"â©Š",cupdot:"âŠ",cupor:"â©…",cups:"âˆªï¸€",curarr:"â†·",curarrm:"â¤¼",curlyeqprec:"â‹ž",curlyeqsucc:"â‹Ÿ",curlyvee:"â‹Ž",curlywedge:"â‹",curren:"Â¤",curvearrowleft:"â†¶",curvearrowright:"â†·",cuvee:"â‹Ž",cuwed:"â‹",cwconint:"âˆ²",cwint:"âˆ±",cylcty:"âŒ­",Dagger:"â€¡",dagger:"â€ ",daleth:"â„¸",Darr:"â†¡",dArr:"â‡“",darr:"â†“",dash:"â€",Dashv:"â«¤",dashv:"âŠ£",dbkarow:"â¤",dblac:"Ë",Dcaron:"ÄŽ",dcaron:"Ä",Dcy:"Ð”",dcy:"Ð´",DD:"â……",dd:"â…†",ddagger:"â€¡",ddarr:"â‡Š",DDotrahd:"â¤‘",ddotseq:"â©·",deg:"Â°",Del:"âˆ‡",Delta:"Î”",delta:"Î´",demptyv:"â¦±",dfisht:"â¥¿",Dfr:"ð”‡",dfr:"ð”¡",dHar:"â¥¥",dharl:"â‡ƒ",dharr:"â‡‚",DiacriticalAcute:"Â´",DiacriticalDot:"Ë™",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ëœ",diam:"â‹„",Diamond:"â‹„",diamond:"â‹„",diamondsuit:"â™¦",diams:"â™¦",die:"Â¨",DifferentialD:"â…†",digamma:"Ï",disin:"â‹²",div:"Ã·",divide:"Ã·",divideontimes:"â‹‡",divonx:"â‹‡",DJcy:"Ð‚",djcy:"Ñ’",dlcorn:"âŒž",dlcrop:"âŒ",dollar:"$",Dopf:"ð”»",dopf:"ð••",Dot:"Â¨",dot:"Ë™",DotDot:"âƒœ",doteq:"â‰",doteqdot:"â‰‘",DotEqual:"â‰",dotminus:"âˆ¸",dotplus:"âˆ”",dotsquare:"âŠ¡",doublebarwedge:"âŒ†",DoubleContourIntegral:"âˆ¯",DoubleDot:"Â¨",DoubleDownArrow:"â‡“",DoubleLeftArrow:"â‡",DoubleLeftRightArrow:"â‡”",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"âŸ¸",DoubleLongLeftRightArrow:"âŸº",DoubleLongRightArrow:"âŸ¹",DoubleRightArrow:"â‡’",DoubleRightTee:"âŠ¨",DoubleUpArrow:"â‡‘",DoubleUpDownArrow:"â‡•",DoubleVerticalBar:"âˆ¥",DownArrow:"â†“",Downarrow:"â‡“",downarrow:"â†“",DownArrowBar:"â¤“",DownArrowUpArrow:"â‡µ",DownBreve:"Ì‘",downdownarrows:"â‡Š",downharpoonleft:"â‡ƒ",downharpoonright:"â‡‚",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥ž",DownLeftVector:"â†½",DownLeftVectorBar:"â¥–",DownRightTeeVector:"â¥Ÿ",DownRightVector:"â‡",DownRightVectorBar:"â¥—",DownTee:"âŠ¤",DownTeeArrow:"â†§",drbkarow:"â¤",drcorn:"âŒŸ",drcrop:"âŒŒ",Dscr:"ð’Ÿ",dscr:"ð’¹",DScy:"Ð…",dscy:"Ñ•",dsol:"â§¶",Dstrok:"Ä",dstrok:"Ä‘",dtdot:"â‹±",dtri:"â–¿",dtrif:"â–¾",duarr:"â‡µ",duhar:"â¥¯",dwangle:"â¦¦",DZcy:"Ð",dzcy:"ÑŸ",dzigrarr:"âŸ¿",Eacute:"Ã‰",eacute:"Ã©",easter:"â©®",Ecaron:"Äš",ecaron:"Ä›",ecir:"â‰–",Ecirc:"ÃŠ",ecirc:"Ãª",ecolon:"â‰•",Ecy:"Ð­",ecy:"Ñ",eDDot:"â©·",Edot:"Ä–",eDot:"â‰‘",edot:"Ä—",ee:"â…‡",efDot:"â‰’",Efr:"ð”ˆ",efr:"ð”¢",eg:"âªš",Egrave:"Ãˆ",egrave:"Ã¨",egs:"âª–",egsdot:"âª˜",el:"âª™",Element:"âˆˆ",elinters:"â§",ell:"â„“",els:"âª•",elsdot:"âª—",Emacr:"Ä’",emacr:"Ä“",empty:"âˆ…",emptyset:"âˆ…",EmptySmallSquare:"â—»",emptyv:"âˆ…",EmptyVerySmallSquare:"â–«",emsp:"â€ƒ",emsp13:"â€„",emsp14:"â€…",ENG:"ÅŠ",eng:"Å‹",ensp:"â€‚",Eogon:"Ä˜",eogon:"Ä™",Eopf:"ð”¼",eopf:"ð•–",epar:"â‹•",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",Epsilon:"Î•",epsilon:"Îµ",epsiv:"Ïµ",eqcirc:"â‰–",eqcolon:"â‰•",eqsim:"â‰‚",eqslantgtr:"âª–",eqslantless:"âª•",Equal:"â©µ",equals:"=",EqualTilde:"â‰‚",equest:"â‰Ÿ",Equilibrium:"â‡Œ",equiv:"â‰¡",equivDD:"â©¸",eqvparsl:"â§¥",erarr:"â¥±",erDot:"â‰“",Escr:"â„°",escr:"â„¯",esdot:"â‰",Esim:"â©³",esim:"â‰‚",Eta:"Î—",eta:"Î·",ETH:"Ã",eth:"Ã°",Euml:"Ã‹",euml:"Ã«",euro:"â‚¬",excl:"!",exist:"âˆƒ",Exists:"âˆƒ",expectation:"â„°",ExponentialE:"â…‡",exponentiale:"â…‡",fallingdotseq:"â‰’",Fcy:"Ð¤",fcy:"Ñ„",female:"â™€",ffilig:"ï¬ƒ",fflig:"ï¬€",ffllig:"ï¬„",Ffr:"ð”‰",ffr:"ð”£",filig:"ï¬",FilledSmallSquare:"â—¼",FilledVerySmallSquare:"â–ª",fjlig:"fj",flat:"â™­",fllig:"ï¬‚",fltns:"â–±",fnof:"Æ’",Fopf:"ð”½",fopf:"ð•—",ForAll:"âˆ€",forall:"âˆ€",fork:"â‹”",forkv:"â«™",Fouriertrf:"â„±",fpartint:"â¨",frac12:"Â½",frac13:"â…“",frac14:"Â¼",frac15:"â…•",frac16:"â…™",frac18:"â…›",frac23:"â…”",frac25:"â…–",frac34:"Â¾",frac35:"â…—",frac38:"â…œ",frac45:"â…˜",frac56:"â…š",frac58:"â…",frac78:"â…ž",frasl:"â„",frown:"âŒ¢",Fscr:"â„±",fscr:"ð’»",gacute:"Çµ",Gamma:"Î“",gamma:"Î³",Gammad:"Ïœ",gammad:"Ï",gap:"âª†",Gbreve:"Äž",gbreve:"ÄŸ",Gcedil:"Ä¢",Gcirc:"Äœ",gcirc:"Ä",Gcy:"Ð“",gcy:"Ð³",Gdot:"Ä ",gdot:"Ä¡",gE:"â‰§",ge:"â‰¥",gEl:"âªŒ",gel:"â‹›",geq:"â‰¥",geqq:"â‰§",geqslant:"â©¾",ges:"â©¾",gescc:"âª©",gesdot:"âª€",gesdoto:"âª‚",gesdotol:"âª„",gesl:"â‹›ï¸€",gesles:"âª”",Gfr:"ð”Š",gfr:"ð”¤",Gg:"â‹™",gg:"â‰«",ggg:"â‹™",gimel:"â„·",GJcy:"Ðƒ",gjcy:"Ñ“",gl:"â‰·",gla:"âª¥",glE:"âª’",glj:"âª¤",gnap:"âªŠ",gnapprox:"âªŠ",gnE:"â‰©",gne:"âªˆ",gneq:"âªˆ",gneqq:"â‰©",gnsim:"â‹§",Gopf:"ð”¾",gopf:"ð•˜",grave:"`",GreaterEqual:"â‰¥",GreaterEqualLess:"â‹›",GreaterFullEqual:"â‰§",GreaterGreater:"âª¢",GreaterLess:"â‰·",GreaterSlantEqual:"â©¾",GreaterTilde:"â‰³",Gscr:"ð’¢",gscr:"â„Š",gsim:"â‰³",gsime:"âªŽ",gsiml:"âª",Gt:"â‰«",GT:">",gt:">",gtcc:"âª§",gtcir:"â©º",gtdot:"â‹—",gtlPar:"â¦•",gtquest:"â©¼",gtrapprox:"âª†",gtrarr:"â¥¸",gtrdot:"â‹—",gtreqless:"â‹›",gtreqqless:"âªŒ",gtrless:"â‰·",gtrsim:"â‰³",gvertneqq:"â‰©ï¸€",gvnE:"â‰©ï¸€",Hacek:"Ë‡",hairsp:"â€Š",half:"Â½",hamilt:"â„‹",HARDcy:"Ðª",hardcy:"ÑŠ",hArr:"â‡”",harr:"â†”",harrcir:"â¥ˆ",harrw:"â†­",Hat:"^",hbar:"â„",Hcirc:"Ä¤",hcirc:"Ä¥",hearts:"â™¥",heartsuit:"â™¥",hellip:"â€¦",hercon:"âŠ¹",Hfr:"â„Œ",hfr:"ð”¥",HilbertSpace:"â„‹",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â‡¿",homtht:"âˆ»",hookleftarrow:"â†©",hookrightarrow:"â†ª",Hopf:"â„",hopf:"ð•™",horbar:"â€•",HorizontalLine:"â”€",Hscr:"â„‹",hscr:"ð’½",hslash:"â„",Hstrok:"Ä¦",hstrok:"Ä§",HumpDownHump:"â‰Ž",HumpEqual:"â‰",hybull:"âƒ",hyphen:"â€",Iacute:"Ã",iacute:"Ã­",ic:"â£",Icirc:"ÃŽ",icirc:"Ã®",Icy:"Ð˜",icy:"Ð¸",Idot:"Ä°",IEcy:"Ð•",iecy:"Ðµ",iexcl:"Â¡",iff:"â‡”",Ifr:"â„‘",ifr:"ð”¦",Igrave:"ÃŒ",igrave:"Ã¬",ii:"â…ˆ",iiiint:"â¨Œ",iiint:"âˆ­",iinfin:"â§œ",iiota:"â„©",IJlig:"Ä²",ijlig:"Ä³",Im:"â„‘",Imacr:"Äª",imacr:"Ä«",image:"â„‘",ImaginaryI:"â…ˆ",imagline:"â„",imagpart:"â„‘",imath:"Ä±",imof:"âŠ·",imped:"Æµ",Implies:"â‡’",in:"âˆˆ",incare:"â„…",infin:"âˆž",infintie:"â§",inodot:"Ä±",Int:"âˆ¬",int:"âˆ«",intcal:"âŠº",integers:"â„¤",Integral:"âˆ«",intercal:"âŠº",Intersection:"â‹‚",intlarhk:"â¨—",intprod:"â¨¼",InvisibleComma:"â£",InvisibleTimes:"â¢",IOcy:"Ð",iocy:"Ñ‘",Iogon:"Ä®",iogon:"Ä¯",Iopf:"ð•€",iopf:"ð•š",Iota:"Î™",iota:"Î¹",iprod:"â¨¼",iquest:"Â¿",Iscr:"â„",iscr:"ð’¾",isin:"âˆˆ",isindot:"â‹µ",isinE:"â‹¹",isins:"â‹´",isinsv:"â‹³",isinv:"âˆˆ",it:"â¢",Itilde:"Ä¨",itilde:"Ä©",Iukcy:"Ð†",iukcy:"Ñ–",Iuml:"Ã",iuml:"Ã¯",Jcirc:"Ä´",jcirc:"Äµ",Jcy:"Ð™",jcy:"Ð¹",Jfr:"ð”",jfr:"ð”§",jmath:"È·",Jopf:"ð•",jopf:"ð•›",Jscr:"ð’¥",jscr:"ð’¿",Jsercy:"Ðˆ",jsercy:"Ñ˜",Jukcy:"Ð„",jukcy:"Ñ”",Kappa:"Îš",kappa:"Îº",kappav:"Ï°",Kcedil:"Ä¶",kcedil:"Ä·",Kcy:"Ðš",kcy:"Ðº",Kfr:"ð”Ž",kfr:"ð”¨",kgreen:"Ä¸",KHcy:"Ð¥",khcy:"Ñ…",KJcy:"ÐŒ",kjcy:"Ñœ",Kopf:"ð•‚",kopf:"ð•œ",Kscr:"ð’¦",kscr:"ð“€",lAarr:"â‡š",Lacute:"Ä¹",lacute:"Äº",laemptyv:"â¦´",lagran:"â„’",Lambda:"Î›",lambda:"Î»",Lang:"âŸª",lang:"âŸ¨",langd:"â¦‘",langle:"âŸ¨",lap:"âª…",Laplacetrf:"â„’",laquo:"Â«",Larr:"â†ž",lArr:"â‡",larr:"â†",larrb:"â‡¤",larrbfs:"â¤Ÿ",larrfs:"â¤",larrhk:"â†©",larrlp:"â†«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â†¢",lat:"âª«",lAtail:"â¤›",latail:"â¤™",late:"âª­",lates:"âª­ï¸€",lBarr:"â¤Ž",lbarr:"â¤Œ",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦‹",lbrksld:"â¦",lbrkslu:"â¦",Lcaron:"Ä½",lcaron:"Ä¾",Lcedil:"Ä»",lcedil:"Ä¼",lceil:"âŒˆ",lcub:"{",Lcy:"Ð›",lcy:"Ð»",ldca:"â¤¶",ldquo:"â€œ",ldquor:"â€ž",ldrdhar:"â¥§",ldrushar:"â¥‹",ldsh:"â†²",lE:"â‰¦",le:"â‰¤",LeftAngleBracket:"âŸ¨",LeftArrow:"â†",Leftarrow:"â‡",leftarrow:"â†",LeftArrowBar:"â‡¤",LeftArrowRightArrow:"â‡†",leftarrowtail:"â†¢",LeftCeiling:"âŒˆ",LeftDoubleBracket:"âŸ¦",LeftDownTeeVector:"â¥¡",LeftDownVector:"â‡ƒ",LeftDownVectorBar:"â¥™",LeftFloor:"âŒŠ",leftharpoondown:"â†½",leftharpoonup:"â†¼",leftleftarrows:"â‡‡",LeftRightArrow:"â†”",Leftrightarrow:"â‡”",leftrightarrow:"â†”",leftrightarrows:"â‡†",leftrightharpoons:"â‡‹",leftrightsquigarrow:"â†­",LeftRightVector:"â¥Ž",LeftTee:"âŠ£",LeftTeeArrow:"â†¤",LeftTeeVector:"â¥š",leftthreetimes:"â‹‹",LeftTriangle:"âŠ²",LeftTriangleBar:"â§",LeftTriangleEqual:"âŠ´",LeftUpDownVector:"â¥‘",LeftUpTeeVector:"â¥ ",LeftUpVector:"â†¿",LeftUpVectorBar:"â¥˜",LeftVector:"â†¼",LeftVectorBar:"â¥’",lEg:"âª‹",leg:"â‹š",leq:"â‰¤",leqq:"â‰¦",leqslant:"â©½",les:"â©½",lescc:"âª¨",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âªƒ",lesg:"â‹šï¸€",lesges:"âª“",lessapprox:"âª…",lessdot:"â‹–",lesseqgtr:"â‹š",lesseqqgtr:"âª‹",LessEqualGreater:"â‹š",LessFullEqual:"â‰¦",LessGreater:"â‰¶",lessgtr:"â‰¶",LessLess:"âª¡",lesssim:"â‰²",LessSlantEqual:"â©½",LessTilde:"â‰²",lfisht:"â¥¼",lfloor:"âŒŠ",Lfr:"ð”",lfr:"ð”©",lg:"â‰¶",lgE:"âª‘",lHar:"â¥¢",lhard:"â†½",lharu:"â†¼",lharul:"â¥ª",lhblk:"â–„",LJcy:"Ð‰",ljcy:"Ñ™",Ll:"â‹˜",ll:"â‰ª",llarr:"â‡‡",llcorner:"âŒž",Lleftarrow:"â‡š",llhard:"â¥«",lltri:"â—º",Lmidot:"Ä¿",lmidot:"Å€",lmoust:"âŽ°",lmoustache:"âŽ°",lnap:"âª‰",lnapprox:"âª‰",lnE:"â‰¨",lne:"âª‡",lneq:"âª‡",lneqq:"â‰¨",lnsim:"â‹¦",loang:"âŸ¬",loarr:"â‡½",lobrk:"âŸ¦",LongLeftArrow:"âŸµ",Longleftarrow:"âŸ¸",longleftarrow:"âŸµ",LongLeftRightArrow:"âŸ·",Longleftrightarrow:"âŸº",longleftrightarrow:"âŸ·",longmapsto:"âŸ¼",LongRightArrow:"âŸ¶",Longrightarrow:"âŸ¹",longrightarrow:"âŸ¶",looparrowleft:"â†«",looparrowright:"â†¬",lopar:"â¦…",Lopf:"ð•ƒ",lopf:"ð•",loplus:"â¨­",lotimes:"â¨´",lowast:"âˆ—",lowbar:"_",LowerLeftArrow:"â†™",LowerRightArrow:"â†˜",loz:"â—Š",lozenge:"â—Š",lozf:"â§«",lpar:"(",lparlt:"â¦“",lrarr:"â‡†",lrcorner:"âŒŸ",lrhar:"â‡‹",lrhard:"â¥­",lrm:"â€Ž",lrtri:"âŠ¿",lsaquo:"â€¹",Lscr:"â„’",lscr:"ð“",Lsh:"â†°",lsh:"â†°",lsim:"â‰²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â€˜",lsquor:"â€š",Lstrok:"Å",lstrok:"Å‚",Lt:"â‰ª",LT:"<",lt:"<",ltcc:"âª¦",ltcir:"â©¹",ltdot:"â‹–",lthree:"â‹‹",ltimes:"â‹‰",ltlarr:"â¥¶",ltquest:"â©»",ltri:"â—ƒ",ltrie:"âŠ´",ltrif:"â—‚",ltrPar:"â¦–",lurdshar:"â¥Š",luruhar:"â¥¦",lvertneqq:"â‰¨ï¸€",lvnE:"â‰¨ï¸€",macr:"Â¯",male:"â™‚",malt:"âœ ",maltese:"âœ ",Map:"â¤…",map:"â†¦",mapsto:"â†¦",mapstodown:"â†§",mapstoleft:"â†¤",mapstoup:"â†¥",marker:"â–®",mcomma:"â¨©",Mcy:"Ðœ",mcy:"Ð¼",mdash:"â€”",mDDot:"âˆº",measuredangle:"âˆ¡",MediumSpace:"âŸ",Mellintrf:"â„³",Mfr:"ð”",mfr:"ð”ª",mho:"â„§",micro:"Âµ",mid:"âˆ£",midast:"*",midcir:"â«°",middot:"Â·",minus:"âˆ’",minusb:"âŠŸ",minusd:"âˆ¸",minusdu:"â¨ª",MinusPlus:"âˆ“",mlcp:"â«›",mldr:"â€¦",mnplus:"âˆ“",models:"âŠ§",Mopf:"ð•„",mopf:"ð•ž",mp:"âˆ“",Mscr:"â„³",mscr:"ð“‚",mstpos:"âˆ¾",Mu:"Îœ",mu:"Î¼",multimap:"âŠ¸",mumap:"âŠ¸",nabla:"âˆ‡",Nacute:"Åƒ",nacute:"Å„",nang:"âˆ âƒ’",nap:"â‰‰",napE:"â©°Ì¸",napid:"â‰‹Ì¸",napos:"Å‰",napprox:"â‰‰",natur:"â™®",natural:"â™®",naturals:"â„•",nbsp:"Â ",nbump:"â‰ŽÌ¸",nbumpe:"â‰Ì¸",ncap:"â©ƒ",Ncaron:"Å‡",ncaron:"Åˆ",Ncedil:"Å…",ncedil:"Å†",ncong:"â‰‡",ncongdot:"â©­Ì¸",ncup:"â©‚",Ncy:"Ð",ncy:"Ð½",ndash:"â€“",ne:"â‰ ",nearhk:"â¤¤",neArr:"â‡—",nearr:"â†—",nearrow:"â†—",nedot:"â‰Ì¸",NegativeMediumSpace:"â€‹",NegativeThickSpace:"â€‹",NegativeThinSpace:"â€‹",NegativeVeryThinSpace:"â€‹",nequiv:"â‰¢",nesear:"â¤¨",nesim:"â‰‚Ì¸",NestedGreaterGreater:"â‰«",NestedLessLess:"â‰ª",NewLine:"\n",nexist:"âˆ„",nexists:"âˆ„",Nfr:"ð”‘",nfr:"ð”«",ngE:"â‰§Ì¸",nge:"â‰±",ngeq:"â‰±",ngeqq:"â‰§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",nGg:"â‹™Ì¸",ngsim:"â‰µ",nGt:"â‰«âƒ’",ngt:"â‰¯",ngtr:"â‰¯",nGtv:"â‰«Ì¸",nhArr:"â‡Ž",nharr:"â†®",nhpar:"â«²",ni:"âˆ‹",nis:"â‹¼",nisd:"â‹º",niv:"âˆ‹",NJcy:"ÐŠ",njcy:"Ñš",nlArr:"â‡",nlarr:"â†š",nldr:"â€¥",nlE:"â‰¦Ì¸",nle:"â‰°",nLeftarrow:"â‡",nleftarrow:"â†š",nLeftrightarrow:"â‡Ž",nleftrightarrow:"â†®",nleq:"â‰°",nleqq:"â‰¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â‰®",nLl:"â‹˜Ì¸",nlsim:"â‰´",nLt:"â‰ªâƒ’",nlt:"â‰®",nltri:"â‹ª",nltrie:"â‹¬",nLtv:"â‰ªÌ¸",nmid:"âˆ¤",NoBreak:"â ",NonBreakingSpace:"Â ",Nopf:"â„•",nopf:"ð•Ÿ",Not:"â«¬",not:"Â¬",NotCongruent:"â‰¢",NotCupCap:"â‰­",NotDoubleVerticalBar:"âˆ¦",NotElement:"âˆ‰",NotEqual:"â‰ ",NotEqualTilde:"â‰‚Ì¸",NotExists:"âˆ„",NotGreater:"â‰¯",NotGreaterEqual:"â‰±",NotGreaterFullEqual:"â‰§Ì¸",NotGreaterGreater:"â‰«Ì¸",NotGreaterLess:"â‰¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"â‰µ",NotHumpDownHump:"â‰ŽÌ¸",NotHumpEqual:"â‰Ì¸",notin:"âˆ‰",notindot:"â‹µÌ¸",notinE:"â‹¹Ì¸",notinva:"âˆ‰",notinvb:"â‹·",notinvc:"â‹¶",NotLeftTriangle:"â‹ª",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangleEqual:"â‹¬",NotLess:"â‰®",NotLessEqual:"â‰°",NotLessGreater:"â‰¸",NotLessLess:"â‰ªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â‰´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",notni:"âˆŒ",notniva:"âˆŒ",notnivb:"â‹¾",notnivc:"â‹½",NotPrecedes:"âŠ€",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â‹ ",NotReverseElement:"âˆŒ",NotRightTriangle:"â‹«",NotRightTriangleBar:"â§Ì¸",NotRightTriangleEqual:"â‹­",NotSquareSubset:"âŠÌ¸",NotSquareSubsetEqual:"â‹¢",NotSquareSuperset:"âŠÌ¸",NotSquareSupersetEqual:"â‹£",NotSubset:"âŠ‚âƒ’",NotSubsetEqual:"âŠˆ",NotSucceeds:"âŠ",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â‹¡",NotSucceedsTilde:"â‰¿Ì¸",NotSuperset:"âŠƒâƒ’",NotSupersetEqual:"âŠ‰",NotTilde:"â‰",NotTildeEqual:"â‰„",NotTildeFullEqual:"â‰‡",NotTildeTilde:"â‰‰",NotVerticalBar:"âˆ¤",npar:"âˆ¦",nparallel:"âˆ¦",nparsl:"â«½âƒ¥",npart:"âˆ‚Ì¸",npolint:"â¨”",npr:"âŠ€",nprcue:"â‹ ",npre:"âª¯Ì¸",nprec:"âŠ€",npreceq:"âª¯Ì¸",nrArr:"â‡",nrarr:"â†›",nrarrc:"â¤³Ì¸",nrarrw:"â†Ì¸",nRightarrow:"â‡",nrightarrow:"â†›",nrtri:"â‹«",nrtrie:"â‹­",nsc:"âŠ",nsccue:"â‹¡",nsce:"âª°Ì¸",Nscr:"ð’©",nscr:"ð“ƒ",nshortmid:"âˆ¤",nshortparallel:"âˆ¦",nsim:"â‰",nsime:"â‰„",nsimeq:"â‰„",nsmid:"âˆ¤",nspar:"âˆ¦",nsqsube:"â‹¢",nsqsupe:"â‹£",nsub:"âŠ„",nsubE:"â«…Ì¸",nsube:"âŠˆ",nsubset:"âŠ‚âƒ’",nsubseteq:"âŠˆ",nsubseteqq:"â«…Ì¸",nsucc:"âŠ",nsucceq:"âª°Ì¸",nsup:"âŠ…",nsupE:"â«†Ì¸",nsupe:"âŠ‰",nsupset:"âŠƒâƒ’",nsupseteq:"âŠ‰",nsupseteqq:"â«†Ì¸",ntgl:"â‰¹",Ntilde:"Ã‘",ntilde:"Ã±",ntlg:"â‰¸",ntriangleleft:"â‹ª",ntrianglelefteq:"â‹¬",ntriangleright:"â‹«",ntrianglerighteq:"â‹­",Nu:"Î",nu:"Î½",num:"#",numero:"â„–",numsp:"â€‡",nvap:"â‰âƒ’",nVDash:"âŠ¯",nVdash:"âŠ®",nvDash:"âŠ­",nvdash:"âŠ¬",nvge:"â‰¥âƒ’",nvgt:">âƒ’",nvHarr:"â¤„",nvinfin:"â§ž",nvlArr:"â¤‚",nvle:"â‰¤âƒ’",nvlt:"<âƒ’",nvltrie:"âŠ´âƒ’",nvrArr:"â¤ƒ",nvrtrie:"âŠµâƒ’",nvsim:"âˆ¼âƒ’",nwarhk:"â¤£",nwArr:"â‡–",nwarr:"â†–",nwarrow:"â†–",nwnear:"â¤§",Oacute:"Ã“",oacute:"Ã³",oast:"âŠ›",ocir:"âŠš",Ocirc:"Ã”",ocirc:"Ã´",Ocy:"Ðž",ocy:"Ð¾",odash:"âŠ",Odblac:"Å",odblac:"Å‘",odiv:"â¨¸",odot:"âŠ™",odsold:"â¦¼",OElig:"Å’",oelig:"Å“",ofcir:"â¦¿",Ofr:"ð”’",ofr:"ð”¬",ogon:"Ë›",Ograve:"Ã’",ograve:"Ã²",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"âˆ®",olarr:"â†º",olcir:"â¦¾",olcross:"â¦»",oline:"â€¾",olt:"â§€",Omacr:"ÅŒ",omacr:"Å",Omega:"Î©",omega:"Ï‰",Omicron:"ÎŸ",omicron:"Î¿",omid:"â¦¶",ominus:"âŠ–",Oopf:"ð•†",oopf:"ð• ",opar:"â¦·",OpenCurlyDoubleQuote:"â€œ",OpenCurlyQuote:"â€˜",operp:"â¦¹",oplus:"âŠ•",Or:"â©”",or:"âˆ¨",orarr:"â†»",ord:"â©",order:"â„´",orderof:"â„´",ordf:"Âª",ordm:"Âº",origof:"âŠ¶",oror:"â©–",orslope:"â©—",orv:"â©›",oS:"â“ˆ",Oscr:"ð’ª",oscr:"â„´",Oslash:"Ã˜",oslash:"Ã¸",osol:"âŠ˜",Otilde:"Ã•",otilde:"Ãµ",Otimes:"â¨·",otimes:"âŠ—",otimesas:"â¨¶",Ouml:"Ã–",ouml:"Ã¶",ovbar:"âŒ½",OverBar:"â€¾",OverBrace:"âž",OverBracket:"âŽ´",OverParenthesis:"âœ",par:"âˆ¥",para:"Â¶",parallel:"âˆ¥",parsim:"â«³",parsl:"â«½",part:"âˆ‚",PartialD:"âˆ‚",Pcy:"ÐŸ",pcy:"Ð¿",percnt:"%",period:".",permil:"â€°",perp:"âŠ¥",pertenk:"â€±",Pfr:"ð”“",pfr:"ð”­",Phi:"Î¦",phi:"Ï†",phiv:"Ï•",phmmat:"â„³",phone:"â˜Ž",Pi:"Î ",pi:"Ï€",pitchfork:"â‹”",piv:"Ï–",planck:"â„",planckh:"â„Ž",plankv:"â„",plus:"+",plusacir:"â¨£",plusb:"âŠž",pluscir:"â¨¢",plusdo:"âˆ”",plusdu:"â¨¥",pluse:"â©²",PlusMinus:"Â±",plusmn:"Â±",plussim:"â¨¦",plustwo:"â¨§",pm:"Â±",Poincareplane:"â„Œ",pointint:"â¨•",Popf:"â„™",popf:"ð•¡",pound:"Â£",Pr:"âª»",pr:"â‰º",prap:"âª·",prcue:"â‰¼",prE:"âª³",pre:"âª¯",prec:"â‰º",precapprox:"âª·",preccurlyeq:"â‰¼",Precedes:"â‰º",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â‰¼",PrecedesTilde:"â‰¾",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â‹¨",precsim:"â‰¾",Prime:"â€³",prime:"â€²",primes:"â„™",prnap:"âª¹",prnE:"âªµ",prnsim:"â‹¨",prod:"âˆ",Product:"âˆ",profalar:"âŒ®",profline:"âŒ’",profsurf:"âŒ“",prop:"âˆ",Proportion:"âˆ·",Proportional:"âˆ",propto:"âˆ",prsim:"â‰¾",prurel:"âŠ°",Pscr:"ð’«",pscr:"ð“…",Psi:"Î¨",psi:"Ïˆ",puncsp:"â€ˆ",Qfr:"ð””",qfr:"ð”®",qint:"â¨Œ",Qopf:"â„š",qopf:"ð•¢",qprime:"â—",Qscr:"ð’¬",qscr:"ð“†",quaternions:"â„",quatint:"â¨–",quest:"?",questeq:"â‰Ÿ",QUOT:'"',quot:'"',rAarr:"â‡›",race:"âˆ½Ì±",Racute:"Å”",racute:"Å•",radic:"âˆš",raemptyv:"â¦³",Rang:"âŸ«",rang:"âŸ©",rangd:"â¦’",range:"â¦¥",rangle:"âŸ©",raquo:"Â»",Rarr:"â† ",rArr:"â‡’",rarr:"â†’",rarrap:"â¥µ",rarrb:"â‡¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarrfs:"â¤ž",rarrhk:"â†ª",rarrlp:"â†¬",rarrpl:"â¥…",rarrsim:"â¥´",Rarrtl:"â¤–",rarrtl:"â†£",rarrw:"â†",rAtail:"â¤œ",ratail:"â¤š",ratio:"âˆ¶",rationals:"â„š",RBarr:"â¤",rBarr:"â¤",rbarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦Œ",rbrksld:"â¦Ž",rbrkslu:"â¦",Rcaron:"Å˜",rcaron:"Å™",Rcedil:"Å–",rcedil:"Å—",rceil:"âŒ‰",rcub:"}",Rcy:"Ð ",rcy:"Ñ€",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â€",rdquor:"â€",rdsh:"â†³",Re:"â„œ",real:"â„œ",realine:"â„›",realpart:"â„œ",reals:"â„",rect:"â–­",REG:"Â®",reg:"Â®",ReverseElement:"âˆ‹",ReverseEquilibrium:"â‡‹",ReverseUpEquilibrium:"â¥¯",rfisht:"â¥½",rfloor:"âŒ‹",Rfr:"â„œ",rfr:"ð”¯",rHar:"â¥¤",rhard:"â‡",rharu:"â‡€",rharul:"â¥¬",Rho:"Î¡",rho:"Ï",rhov:"Ï±",RightAngleBracket:"âŸ©",RightArrow:"â†’",Rightarrow:"â‡’",rightarrow:"â†’",RightArrowBar:"â‡¥",RightArrowLeftArrow:"â‡„",rightarrowtail:"â†£",RightCeiling:"âŒ‰",RightDoubleBracket:"âŸ§",RightDownTeeVector:"â¥",RightDownVector:"â‡‚",RightDownVectorBar:"â¥•",RightFloor:"âŒ‹",rightharpoondown:"â‡",rightharpoonup:"â‡€",rightleftarrows:"â‡„",rightleftharpoons:"â‡Œ",rightrightarrows:"â‡‰",rightsquigarrow:"â†",RightTee:"âŠ¢",RightTeeArrow:"â†¦",RightTeeVector:"â¥›",rightthreetimes:"â‹Œ",RightTriangle:"âŠ³",RightTriangleBar:"â§",RightTriangleEqual:"âŠµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥œ",RightUpVector:"â†¾",RightUpVectorBar:"â¥”",RightVector:"â‡€",RightVectorBar:"â¥“",ring:"Ëš",risingdotseq:"â‰“",rlarr:"â‡„",rlhar:"â‡Œ",rlm:"â€",rmoust:"âŽ±",rmoustache:"âŽ±",rnmid:"â«®",roang:"âŸ­",roarr:"â‡¾",robrk:"âŸ§",ropar:"â¦†",Ropf:"â„",ropf:"ð•£",roplus:"â¨®",rotimes:"â¨µ",RoundImplies:"â¥°",rpar:")",rpargt:"â¦”",rppolint:"â¨’",rrarr:"â‡‰",Rrightarrow:"â‡›",rsaquo:"â€º",Rscr:"â„›",rscr:"ð“‡",Rsh:"â†±",rsh:"â†±",rsqb:"]",rsquo:"â€™",rsquor:"â€™",rthree:"â‹Œ",rtimes:"â‹Š",rtri:"â–¹",rtrie:"âŠµ",rtrif:"â–¸",rtriltri:"â§Ž",RuleDelayed:"â§´",ruluhar:"â¥¨",rx:"â„ž",Sacute:"Åš",sacute:"Å›",sbquo:"â€š",Sc:"âª¼",sc:"â‰»",scap:"âª¸",Scaron:"Å ",scaron:"Å¡",sccue:"â‰½",scE:"âª´",sce:"âª°",Scedil:"Åž",scedil:"ÅŸ",Scirc:"Åœ",scirc:"Å",scnap:"âªº",scnE:"âª¶",scnsim:"â‹©",scpolint:"â¨“",scsim:"â‰¿",Scy:"Ð¡",scy:"Ñ",sdot:"â‹…",sdotb:"âŠ¡",sdote:"â©¦",searhk:"â¤¥",seArr:"â‡˜",searr:"â†˜",searrow:"â†˜",sect:"Â§",semi:";",seswar:"â¤©",setminus:"âˆ–",setmn:"âˆ–",sext:"âœ¶",Sfr:"ð”–",sfr:"ð”°",sfrown:"âŒ¢",sharp:"â™¯",SHCHcy:"Ð©",shchcy:"Ñ‰",SHcy:"Ð¨",shcy:"Ñˆ",ShortDownArrow:"â†“",ShortLeftArrow:"â†",shortmid:"âˆ£",shortparallel:"âˆ¥",ShortRightArrow:"â†’",ShortUpArrow:"â†‘",shy:"Â­",Sigma:"Î£",sigma:"Ïƒ",sigmaf:"Ï‚",sigmav:"Ï‚",sim:"âˆ¼",simdot:"â©ª",sime:"â‰ƒ",simeq:"â‰ƒ",simg:"âªž",simgE:"âª ",siml:"âª",simlE:"âªŸ",simne:"â‰†",simplus:"â¨¤",simrarr:"â¥²",slarr:"â†",SmallCircle:"âˆ˜",smallsetminus:"âˆ–",smashp:"â¨³",smeparsl:"â§¤",smid:"âˆ£",smile:"âŒ£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸€",SOFTcy:"Ð¬",softcy:"ÑŒ",sol:"/",solb:"â§„",solbar:"âŒ¿",Sopf:"ð•Š",sopf:"ð•¤",spades:"â™ ",spadesuit:"â™ ",spar:"âˆ¥",sqcap:"âŠ“",sqcaps:"âŠ“ï¸€",sqcup:"âŠ”",sqcups:"âŠ”ï¸€",Sqrt:"âˆš",sqsub:"âŠ",sqsube:"âŠ‘",sqsubset:"âŠ",sqsubseteq:"âŠ‘",sqsup:"âŠ",sqsupe:"âŠ’",sqsupset:"âŠ",sqsupseteq:"âŠ’",squ:"â–¡",Square:"â–¡",square:"â–¡",SquareIntersection:"âŠ“",SquareSubset:"âŠ",SquareSubsetEqual:"âŠ‘",SquareSuperset:"âŠ",SquareSupersetEqual:"âŠ’",SquareUnion:"âŠ”",squarf:"â–ª",squf:"â–ª",srarr:"â†’",Sscr:"ð’®",sscr:"ð“ˆ",ssetmn:"âˆ–",ssmile:"âŒ£",sstarf:"â‹†",Star:"â‹†",star:"â˜†",starf:"â˜…",straightepsilon:"Ïµ",straightphi:"Ï•",strns:"Â¯",Sub:"â‹",sub:"âŠ‚",subdot:"âª½",subE:"â«…",sube:"âŠ†",subedot:"â«ƒ",submult:"â«",subnE:"â«‹",subne:"âŠŠ",subplus:"âª¿",subrarr:"â¥¹",Subset:"â‹",subset:"âŠ‚",subseteq:"âŠ†",subseteqq:"â«…",SubsetEqual:"âŠ†",subsetneq:"âŠŠ",subsetneqq:"â«‹",subsim:"â«‡",subsub:"â«•",subsup:"â«“",succ:"â‰»",succapprox:"âª¸",succcurlyeq:"â‰½",Succeeds:"â‰»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â‰½",SucceedsTilde:"â‰¿",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â‹©",succsim:"â‰¿",SuchThat:"âˆ‹",Sum:"âˆ‘",sum:"âˆ‘",sung:"â™ª",Sup:"â‹‘",sup:"âŠƒ",sup1:"Â¹",sup2:"Â²",sup3:"Â³",supdot:"âª¾",supdsub:"â«˜",supE:"â«†",supe:"âŠ‡",supedot:"â«„",Superset:"âŠƒ",SupersetEqual:"âŠ‡",suphsol:"âŸ‰",suphsub:"â«—",suplarr:"â¥»",supmult:"â«‚",supnE:"â«Œ",supne:"âŠ‹",supplus:"â«€",Supset:"â‹‘",supset:"âŠƒ",supseteq:"âŠ‡",supseteqq:"â«†",supsetneq:"âŠ‹",supsetneqq:"â«Œ",supsim:"â«ˆ",supsub:"â«”",supsup:"â«–",swarhk:"â¤¦",swArr:"â‡™",swarr:"â†™",swarrow:"â†™",swnwar:"â¤ª",szlig:"ÃŸ",Tab:"\t",target:"âŒ–",Tau:"Î¤",tau:"Ï„",tbrk:"âŽ´",Tcaron:"Å¤",tcaron:"Å¥",Tcedil:"Å¢",tcedil:"Å£",Tcy:"Ð¢",tcy:"Ñ‚",tdot:"âƒ›",telrec:"âŒ•",Tfr:"ð”—",tfr:"ð”±",there4:"âˆ´",Therefore:"âˆ´",therefore:"âˆ´",Theta:"Î˜",theta:"Î¸",thetasym:"Ï‘",thetav:"Ï‘",thickapprox:"â‰ˆ",thicksim:"âˆ¼",ThickSpace:"âŸâ€Š",thinsp:"â€‰",ThinSpace:"â€‰",thkap:"â‰ˆ",thksim:"âˆ¼",THORN:"Ãž",thorn:"Ã¾",Tilde:"âˆ¼",tilde:"Ëœ",TildeEqual:"â‰ƒ",TildeFullEqual:"â‰…",TildeTilde:"â‰ˆ",times:"Ã—",timesb:"âŠ ",timesbar:"â¨±",timesd:"â¨°",tint:"âˆ­",toea:"â¤¨",top:"âŠ¤",topbot:"âŒ¶",topcir:"â«±",Topf:"ð•‹",topf:"ð•¥",topfork:"â«š",tosa:"â¤©",tprime:"â€´",TRADE:"â„¢",trade:"â„¢",triangle:"â–µ",triangledown:"â–¿",triangleleft:"â—ƒ",trianglelefteq:"âŠ´",triangleq:"â‰œ",triangleright:"â–¹",trianglerighteq:"âŠµ",tridot:"â—¬",trie:"â‰œ",triminus:"â¨º",TripleDot:"âƒ›",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",Tscr:"ð’¯",tscr:"ð“‰",TScy:"Ð¦",tscy:"Ñ†",TSHcy:"Ð‹",tshcy:"Ñ›",Tstrok:"Å¦",tstrok:"Å§",twixt:"â‰¬",twoheadleftarrow:"â†ž",twoheadrightarrow:"â† ",Uacute:"Ãš",uacute:"Ãº",Uarr:"â†Ÿ",uArr:"â‡‘",uarr:"â†‘",Uarrocir:"â¥‰",Ubrcy:"ÐŽ",ubrcy:"Ñž",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"Ã›",ucirc:"Ã»",Ucy:"Ð£",ucy:"Ñƒ",udarr:"â‡…",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",Ufr:"ð”˜",ufr:"ð”²",Ugrave:"Ã™",ugrave:"Ã¹",uHar:"â¥£",uharl:"â†¿",uharr:"â†¾",uhblk:"â–€",ulcorn:"âŒœ",ulcorner:"âŒœ",ulcrop:"âŒ",ultri:"â—¸",Umacr:"Åª",umacr:"Å«",uml:"Â¨",UnderBar:"_",UnderBrace:"âŸ",UnderBracket:"âŽµ",UnderParenthesis:"â",Union:"â‹ƒ",UnionPlus:"âŠŽ",Uogon:"Å²",uogon:"Å³",Uopf:"ð•Œ",uopf:"ð•¦",UpArrow:"â†‘",Uparrow:"â‡‘",uparrow:"â†‘",UpArrowBar:"â¤’",UpArrowDownArrow:"â‡…",UpDownArrow:"â†•",Updownarrow:"â‡•",updownarrow:"â†•",UpEquilibrium:"â¥®",upharpoonleft:"â†¿",upharpoonright:"â†¾",uplus:"âŠŽ",UpperLeftArrow:"â†–",UpperRightArrow:"â†—",Upsi:"Ï’",upsi:"Ï…",upsih:"Ï’",Upsilon:"Î¥",upsilon:"Ï…",UpTee:"âŠ¥",UpTeeArrow:"â†¥",upuparrows:"â‡ˆ",urcorn:"âŒ",urcorner:"âŒ",urcrop:"âŒŽ",Uring:"Å®",uring:"Å¯",urtri:"â—¹",Uscr:"ð’°",uscr:"ð“Š",utdot:"â‹°",Utilde:"Å¨",utilde:"Å©",utri:"â–µ",utrif:"â–´",uuarr:"â‡ˆ",Uuml:"Ãœ",uuml:"Ã¼",uwangle:"â¦§",vangrt:"â¦œ",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"âˆ…",varphi:"Ï•",varpi:"Ï–",varpropto:"âˆ",vArr:"â‡•",varr:"â†•",varrho:"Ï±",varsigma:"Ï‚",varsubsetneq:"âŠŠï¸€",varsubsetneqq:"â«‹ï¸€",varsupsetneq:"âŠ‹ï¸€",varsupsetneqq:"â«Œï¸€",vartheta:"Ï‘",vartriangleleft:"âŠ²",vartriangleright:"âŠ³",Vbar:"â««",vBar:"â«¨",vBarv:"â«©",Vcy:"Ð’",vcy:"Ð²",VDash:"âŠ«",Vdash:"âŠ©",vDash:"âŠ¨",vdash:"âŠ¢",Vdashl:"â«¦",Vee:"â‹",vee:"âˆ¨",veebar:"âŠ»",veeeq:"â‰š",vellip:"â‹®",Verbar:"â€–",verbar:"|",Vert:"â€–",vert:"|",VerticalBar:"âˆ£",VerticalLine:"|",VerticalSeparator:"â˜",VerticalTilde:"â‰€",VeryThinSpace:"â€Š",Vfr:"ð”™",vfr:"ð”³",vltri:"âŠ²",vnsub:"âŠ‚âƒ’",vnsup:"âŠƒâƒ’",Vopf:"ð•",vopf:"ð•§",vprop:"âˆ",vrtri:"âŠ³",Vscr:"ð’±",vscr:"ð“‹",vsubnE:"â«‹ï¸€",vsubne:"âŠŠï¸€",vsupnE:"â«Œï¸€",vsupne:"âŠ‹ï¸€",Vvdash:"âŠª",vzigzag:"â¦š",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©Ÿ",Wedge:"â‹€",wedge:"âˆ§",wedgeq:"â‰™",weierp:"â„˜",Wfr:"ð”š",wfr:"ð”´",Wopf:"ð•Ž",wopf:"ð•¨",wp:"â„˜",wr:"â‰€",wreath:"â‰€",Wscr:"ð’²",wscr:"ð“Œ",xcap:"â‹‚",xcirc:"â—¯",xcup:"â‹ƒ",xdtri:"â–½",Xfr:"ð”›",xfr:"ð”µ",xhArr:"âŸº",xharr:"âŸ·",Xi:"Îž",xi:"Î¾",xlArr:"âŸ¸",xlarr:"âŸµ",xmap:"âŸ¼",xnis:"â‹»",xodot:"â¨€",Xopf:"ð•",xopf:"ð•©",xoplus:"â¨",xotime:"â¨‚",xrArr:"âŸ¹",xrarr:"âŸ¶",Xscr:"ð’³",xscr:"ð“",xsqcup:"â¨†",xuplus:"â¨„",xutri:"â–³",xvee:"â‹",xwedge:"â‹€",Yacute:"Ã",yacute:"Ã½",YAcy:"Ð¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ð«",ycy:"Ñ‹",yen:"Â¥",Yfr:"ð”œ",yfr:"ð”¶",YIcy:"Ð‡",yicy:"Ñ—",Yopf:"ð•",yopf:"ð•ª",Yscr:"ð’´",yscr:"ð“Ž",YUcy:"Ð®",yucy:"ÑŽ",Yuml:"Å¸",yuml:"Ã¿",Zacute:"Å¹",zacute:"Åº",Zcaron:"Å½",zcaron:"Å¾",Zcy:"Ð—",zcy:"Ð·",Zdot:"Å»",zdot:"Å¼",zeetrf:"â„¨",ZeroWidthSpace:"â€‹",Zeta:"Î–",zeta:"Î¶",Zfr:"â„¨",zfr:"ð”·",ZHcy:"Ð–",zhcy:"Ð¶",zigrarr:"â‡",Zopf:"â„¤",zopf:"ð•«",Zscr:"ð’µ",zscr:"ð“",zwj:"â€",zwnj:"â€Œ"}),t.entityMap=t.HTML_ENTITIES},3969:function(e,t,n){var i=n(1146);i.DOMImplementation,i.XMLSerializer,t.DOMParser=n(6129).DOMParser},6925:function(e,t,n){var i=n(2167).NAMESPACE,r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),s=new RegExp("^"+r.source+o.source+"*(?::"+r.source+o.source+"*)?$");function a(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,a)}function l(){}function c(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function u(e,t,n,r,o,s){function a(e,t,i){n.attributeNames.hasOwnProperty(e)&&s.fatalError("Attribute "+e+" redefined"),n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,o),i)}for(var l,c=++t,u=0;;){var h=e.charAt(c);switch(h){case"=":if(1===u)l=e.slice(t,c),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(s.warning('attribute value must after "="'),l=e.slice(t,c)),t=c+1,!((c=e.indexOf(h,t))>0))throw new Error("attribute value no end '"+h+"' match");a(l,d=e.slice(t,c),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');a(l,d=e.slice(t,c),t),s.warning('attribute "'+l+'" missed start quot('+h+")!!"),t=c+1,u=5}break;case"/":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:break;case 2:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),0==u&&n.setTagName(e.slice(t,c)),c;case">":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=e.slice(t,c)).slice(-1)&&(n.closed=!0,d=d.slice(0,-1));case 2:2===u&&(d=l),4==u?(s.warning('attribute "'+d+'" missed quot(")!'),a(l,d,t)):(i.isHTML(r[""])&&d.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),a(d,d,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"Â€":h=" ";default:if(h<=" ")switch(u){case 0:n.setTagName(e.slice(t,c)),u=6;break;case 1:l=e.slice(t,c),u=2;break;case 4:var d=e.slice(t,c);s.warning('attribute "'+d+'" missed quot(")!!'),a(l,d,t);case 5:u=6}else switch(u){case 2:n.tagName,i.isHTML(r[""])&&l.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),a(l,l,t),t=c,u=1;break;case 5:s.warning('attribute space is required"'+l+'"!!');case 6:u=1,t=c;break;case 3:u=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function h(e,t,n){for(var r=e.tagName,o=null,s=e.length;s--;){var a=e[s],l=a.qName,c=a.value;if((p=l.indexOf(":"))>0)var u=a.prefix=l.slice(0,p),h=l.slice(p+1),d="xmlns"===u&&h;else h=l,u=null,d="xmlns"===l&&"";a.localName=h,!1!==d&&(null==o&&(o={},f(n,n={})),n[d]=o[d]=c,a.uri=i.XMLNS,t.startPrefixMapping(d,c))}for(s=e.length;s--;)(u=(a=e[s]).prefix)&&("xml"===u&&(a.uri=i.XML),"xmlns"!==u&&(a.uri=n[u||""]));var p;(p=r.indexOf(":"))>0?(u=e.prefix=r.slice(0,p),h=e.localName=r.slice(p+1)):(u=null,h=e.localName=r);var m=e.uri=n[u||""];if(t.startElement(m,h,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,!0;if(t.endElement(m,h,r),o)for(u in o)Object.prototype.hasOwnProperty.call(o,u)&&t.endPrefixMapping(u)}function d(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),s=e.substring(t+1,o);if(/[&<]/.test(s))return/^script$/i.test(n)?(r.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,i),r.characters(s,0,s.length),o)}return t+1}function p(e,t,n,i){var r=i[n];return null==r&&((r=e.lastIndexOf("</"+n+">"))<t&&(r=e.lastIndexOf("</"+n)),i[n]=r),r<t}function f(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function m(e,t,n,i){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,r-t-4),r+3):(i.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,r-t-9),n.endCDATA(),r+3}var o=function(e,t){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=t,r.exec(e);n=r.exec(e);)if(i.push(n),n[1])return i}(e,t),s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var a=o[1][0],l=!1,c=!1;s>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],c=s>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var u=o[s-1];return n.startDTD(a,l,c),n.endDTD(),u.index+u[0].length}return-1}function g(e,t,n){var i=e.indexOf("?>",t);if(i){var r=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function y(){this.attributeNames={}}a.prototype=new Error,a.prototype.name=a.name,l.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),f(t,t={}),function(e,t,n,r,o){function s(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(n,t)?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function l(t){if(t>E){var n=e.substring(E,t).replace(/&#?\w+;/g,s);w&&f(E),r.characters(n,0,t-E),E=t}}function f(t,n){for(;t>=b&&(n=_.exec(e));)v=n.index,b=v+n[0].length,w.lineNumber++;w.columnNumber=t-v+1}for(var v=0,b=0,_=/.*(?:\r\n?|\n)|.*$/g,w=r.locator,k=[{currentNSMap:t}],S={},E=0;;){try{var T=e.indexOf("<",E);if(T<0){if(!e.substr(E).match(/^\s*$/)){var x=r.doc,C=x.createTextNode(e.substr(E));x.appendChild(C),r.currentElement=C}return}switch(T>E&&l(T),e.charAt(T+1)){case"/":var P=e.indexOf(">",T+3),A=e.substring(T+2,P).replace(/[ \t\n\r]+$/g,""),O=k.pop();P<0?(A=e.substring(T+2).replace(/[\s<].*/,""),o.error("end tag name: "+A+" is not complete:"+O.tagName),P=T+1+A.length):A.match(/\s</)&&(A=A.replace(/[\s<].*/,""),o.error("end tag name: "+A+" maybe not complete"),P=T+1+A.length);var I=O.localNSMap,L=O.tagName==A;if(L||O.tagName&&O.tagName.toLowerCase()==A.toLowerCase()){if(r.endElement(O.uri,O.localName,A),I)for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&r.endPrefixMapping(D);L||o.fatalError("end tag name: "+A+" is not match the current start tagName:"+O.tagName)}else k.push(O);P++;break;case"?":w&&f(T),P=g(e,T,r);break;case"!":w&&f(T),P=m(e,T,r,o);break;default:w&&f(T);var R=new y,M=k[k.length-1].currentNSMap,N=(P=u(e,T,R,M,s,o),R.length);if(!R.closed&&p(e,P,R.tagName,S)&&(R.closed=!0,n.nbsp||o.warning("unclosed xml attribute")),w&&N){for(var j=c(w,{}),F=0;F<N;F++){var B=R[F];f(B.offset),B.locator=c(w,{})}r.locator=j,h(R,r,M)&&k.push(R),r.locator=w}else h(R,r,M)&&k.push(R);i.isHTML(R.uri)&&!R.closed?P=d(e,P,R.tagName,s,r):P++}}catch(e){if(e instanceof a)throw e;o.error("element parse error: "+e),P=-1}P>E?E=P:l(Math.max(T,E)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},y.prototype={setTagName:function(e){if(!s.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!s.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=a},7392:function(e,t){var n,i,r,o;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}o=function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var o={player:"lottie-player"},a="[lottieInteractivity]:",l=function(){function e(){var s=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,P=l.actions,A=l.container,O=l.mode,I=l.player,L=i(l,["actions","container","mode","player"]);if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c.set(this,{writable:!0,value:function(){if(s.player){var e=function(){s.player.addEventListener("enterFrame",r(s,b)),s.container.addEventListener("mouseenter",r(s,_)),s.container.addEventListener("mouseleave",r(s,w)),s.container.addEventListener("touchstart",r(s,_),{passive:!0}),s.container.addEventListener("touchend",r(s,w),{passive:!0})},t=function(){s.container.addEventListener("mouseenter",r(s,_)),s.container.addEventListener("mouseleave",r(s,w)),s.container.addEventListener("touchstart",r(s,_),{passive:!0}),s.container.addEventListener("touchend",r(s,w),{passive:!0})};s.stateHandler.set("loop",(function(){s.actions[s.interactionIdx].loop?s.player.loop=parseInt(s.actions[s.interactionIdx].loop)-1:s.player.loop=!0,s.player.autoplay=!0})),s.stateHandler.set("autoplay",(function(){s.player.loop=!1,s.player.autoplay=!0})),s.stateHandler.set("click",(function(){s.player.loop=!1,s.player.autoplay=!1,s.container.addEventListener("click",r(s,u))})),s.stateHandler.set("hover",(function(){s.player.loop=!1,s.player.autoplay=!1,s.container.addEventListener("mouseenter",r(s,u)),s.container.addEventListener("touchstart",r(s,u),{passive:!0})})),s.stateHandler.set("hold",t),s.stateHandler.set("pauseHold",t),s.transitionHandler.set("click",(function(){s.container.addEventListener("click",r(s,d))})),s.transitionHandler.set("hover",(function(){s.container.addEventListener("mouseenter",r(s,d)),s.container.addEventListener("touchstart",r(s,d),{passive:!0})})),s.transitionHandler.set("hold",e),s.transitionHandler.set("pauseHold",e),s.transitionHandler.set("repeat",(function(){s.player.loop=!0,s.player.autoplay=!0,s.player.addEventListener("loopComplete",(function e(){r(s,y).call(s,{handler:e})}))})),s.transitionHandler.set("onComplete",(function(){"loop"===s.actions[s.interactionIdx].state?s.player.addEventListener("loopComplete",r(s,g)):s.player.addEventListener("complete",r(s,g))})),s.transitionHandler.set("seek",(function(){s.player.stop(),s.player.addEventListener("enterFrame",r(s,v)),s.container.addEventListener("mousemove",r(s,p)),s.container.addEventListener("touchmove",r(s,f),{passive:!1}),s.container.addEventListener("mouseout",r(s,m))}))}}}),u.set(this,{writable:!0,value:function(){var e=s.actions[s.interactionIdx].forceFlag;e||!0!==s.player.isPaused?e&&r(s,S).call(s,!0):r(s,S).call(s,!0)}}),h.set(this,{writable:!0,value:function(){0===s.clickCounter?(s.player.play(),s.clickCounter++):(s.clickCounter++,s.player.setDirection(-1*s.player.playDirection),s.player.play())}}),d.set(this,{writable:!0,value:function(){var e=s.actions[s.interactionIdx].forceFlag,t=s.actions[s.interactionIdx].state,n=s.actions[s.interactionIdx].transition;if("chain"===s.mode){if(s.actions[s.interactionIdx].count){var i=parseInt(s.actions[s.interactionIdx].count);if(s.clickCounter<i-1)return void(s.clickCounter+=1)}return s.clickCounter=0,!e&&"click"===n&&"click"===t||"hover"===n&&"hover"===t?s.transitionHandler.get("onComplete").call():s.nextInteraction(),s.container.removeEventListener("click",r(s,d)),void s.container.removeEventListener("mouseenter",r(s,d))}e||!0!==s.player.isPaused?e&&s.player.goToAndPlay(0,!0):s.player.goToAndPlay(0,!0)}}),p.set(this,{writable:!0,value:function(e){r(s,x).call(s,e.clientX,e.clientY)}}),f.set(this,{writable:!0,value:function(e){e.cancelable&&e.preventDefault(),r(s,x).call(s,e.touches[0].clientX,e.touches[0].clientY)}}),m.set(this,{writable:!0,value:function(){r(s,x).call(s,-1,-1)}}),g.set(this,{writable:!0,value:function(){"loop"===s.actions[s.interactionIdx].state?s.player.removeEventListener("loopComplete",r(s,g)):s.player.removeEventListener("complete",r(s,g)),s.nextInteraction()}}),y.set(this,{writable:!0,value:function(e){var t=e.handler,n=1;s.actions[s.interactionIdx].repeat&&(n=s.actions[s.interactionIdx].repeat),s.playCounter>=n-1?(s.playCounter=0,s.player.removeEventListener("loopComplete",t),s.player.loop=!1,s.player.autoplay=!1,s.nextInteraction()):s.playCounter+=1}}),v.set(this,{writable:!0,value:function(){var e=s.actions[s.interactionIdx].frames;e&&s.player.currentFrame>=parseInt(e[1])-1&&(s.player.removeEventListener("enterFrame",r(s,v)),s.container.removeEventListener("mousemove",r(s,p)),s.container.removeEventListener("mouseout",r(s,m)),setTimeout(s.nextInteraction,0))}}),b.set(this,{writable:!0,value:function(){var e=s.actions[s.interactionIdx].frames;(e&&s.player.currentFrame>=e[1]||s.player.currentFrame>=s.player.totalFrames-1)&&(s.player.removeEventListener("enterFrame",r(s,b)),s.container.removeEventListener("mouseenter",r(s,_)),s.container.removeEventListener("mouseleave",r(s,w)),s.container.removeEventListener("touchstart",r(s,_),{passive:!0}),s.container.removeEventListener("touchend",r(s,w),{passive:!0}),s.player.pause(),s.holdStatus=!1,s.nextInteraction()),-1===s.player.playDirection&&e&&s.player.currentFrame<e[0]&&s.player.pause()}}),_.set(this,{writable:!0,value:function(){-1!==s.player.playDirection&&null!==s.holdStatus&&s.holdStatus||(s.player.setDirection(1),s.player.play(),s.holdStatus=!0)}}),w.set(this,{writable:!0,value:function(){"hold"===s.actions[s.interactionIdx].transition||"hold"===s.actions[s.interactionIdx].state||"hold"===s.actions[0].type?(s.player.setDirection(-1),s.player.play()):"pauseHold"!==s.actions[s.interactionIdx].transition&&"pauseHold"!==s.actions[s.interactionIdx].state&&"pauseHold"!==s.actions[0].type||s.player.pause(),s.holdStatus=!1}}),k.set(this,{writable:!0,value:function(){if(s.container.removeEventListener("click",r(s,d)),s.container.removeEventListener("click",r(s,u)),s.container.removeEventListener("mouseenter",r(s,d)),s.container.removeEventListener("touchstart",r(s,d)),s.container.removeEventListener("touchmove",r(s,f)),s.container.removeEventListener("mouseenter",r(s,u)),s.container.removeEventListener("touchstart",r(s,u)),s.container.removeEventListener("mouseenter",r(s,_)),s.container.removeEventListener("touchstart",r(s,_)),s.container.removeEventListener("mouseleave",r(s,w)),s.container.removeEventListener("mousemove",r(s,p)),s.container.removeEventListener("mouseout",r(s,m)),s.container.removeEventListener("touchend",r(s,w)),s.player)try{s.player.removeEventListener("loopComplete",r(s,g)),s.player.removeEventListener("complete",r(s,g)),s.player.removeEventListener("enterFrame",r(s,v)),s.player.removeEventListener("enterFrame",r(s,b))}catch(e){}}}),n(this,"jumpToInteraction",(function(e){r(s,k).call(s),s.interactionIdx=e,s.interactionIdx<0?s.interactionIdx=0:s.interactionIdx,s.nextInteraction(!1)})),n(this,"nextInteraction",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s.oldInterctionIdx=s.interactionIdx,r(s,k).call(s),s.player.loop=!1;var t=s.actions[s.interactionIdx].jumpTo;t?t>=0&&t<s.actions.length?(s.interactionIdx=t,r(s,T).call(s,{ignorePath:!1})):(s.interactionIdx=0,s.player.goToAndStop(0,!0),r(s,T).call(s,{ignorePath:!1})):(e&&s.interactionIdx++,s.interactionIdx>=s.actions.length?s.actions[s.actions.length-1].reset?(s.interactionIdx=0,s.player.resetSegments(!0),s.actions[s.interactionIdx].frames?s.player.goToAndStop(s.actions[s.interactionIdx].frames,!0):s.player.goToAndStop(0,!0),r(s,T).call(s,{ignorePath:!1})):(s.interactionIdx=s.actions.length-1,r(s,T).call(s,{ignorePath:!1})):r(s,T).call(s,{ignorePath:!1})),s.container.dispatchEvent(new CustomEvent("transition",{bubbles:!0,composed:!0,detail:{oldIndex:s.oldInterctionIdx,newIndex:s.interactionIdx}}))})),S.set(this,{writable:!0,value:function(e){var t=s.actions[s.interactionIdx].frames;if(!t)return s.player.resetSegments(!0),void s.player.goToAndPlay(0,!0);"string"==typeof t?s.player.goToAndPlay(t,e):s.player.playSegments(t,e)}}),E.set(this,{writable:!0,value:function(){var e=s.actions[s.interactionIdx].path;if(!e)if("object"===t(s.enteredPlayer)&&"AnimationItem"===s.enteredPlayer.constructor.name){if(e=s.enteredPlayer,s.player===e)return void r(s,T).call(s,{ignorePath:!0})}else{var n=(e=s.loadedAnimation).substr(e.lastIndexOf("/")+1);if(n=n.substr(0,n.lastIndexOf(".json")),s.player.fileName===n)return void r(s,T).call(s,{ignorePath:!0})}var i=s.container.getBoundingClientRect(),o="width: "+i.width+"px !important; height: "+i.height+"px !important; background: "+s.container.style.background;if(s.container.setAttribute("style",o),"object"!==t(s.enteredPlayer)||"AnimationItem"!==s.enteredPlayer.constructor.name){if("string"==typeof s.enteredPlayer){var l=document.querySelector(s.enteredPlayer);l&&"LOTTIE-PLAYER"===l.nodeName&&(s.attachedListeners||(l.addEventListener("ready",(function(){s.container.style.width="",s.container.style.height=""})),l.addEventListener("load",(function(){s.player=l.getLottie(),r(s,T).call(s,{ignorePath:!0})})),s.attachedListeners=!0),l.load(e))}else s.enteredPlayer instanceof HTMLElement&&"LOTTIE-PLAYER"===s.enteredPlayer.nodeName&&(s.attachedListeners||(s.enteredPlayer.addEventListener("ready",(function(){s.container.style.width="",s.container.style.height=""})),s.enteredPlayer.addEventListener("load",(function(){s.player=s.enteredPlayer.getLottie(),r(s,T).call(s,{ignorePath:!0})})),s.attachedListeners=!0),s.enteredPlayer.load(e));if(!s.player)throw new Error("".concat(a," Specified player is invalid."),s.enteredPlayer)}else{if(!window.lottie)throw new Error("".concat(a," A Lottie player is required."));s.stop(),s.container.innerHTML="","object"===t(e)&&"AnimationItem"===e.constructor.name?s.player=window.lottie.loadAnimation({loop:!1,autoplay:!1,animationData:e.animationData,container:s.container}):s.player=window.lottie.loadAnimation({loop:!1,autoplay:!1,path:e,container:s.container}),s.player.addEventListener("DOMLoaded",(function(){s.container.style.width="",s.container.style.height="",r(s,T).call(s,{ignorePath:!0})}))}s.clickCounter=0,s.playCounter=0}}),T.set(this,{writable:!0,value:function(e){var t=e.ignorePath,n=s.actions[s.interactionIdx].frames,i=s.actions[s.interactionIdx].state,o=s.actions[s.interactionIdx].transition,a=s.actions[s.interactionIdx].path,l=s.stateHandler.get(i),c=s.transitionHandler.get(o),u=s.actions[s.interactionIdx].speed?s.actions[s.interactionIdx].speed:1,h=s.actions[s.interactionIdx].delay?s.actions[s.interactionIdx].delay:0;t||!(a||s.actions[s.actions.length-1].reset&&0===s.interactionIdx)?setTimeout((function(){n&&(s.player.autoplay=!1,s.player.resetSegments(!0),s.player.goToAndStop(n[0],!0)),l?l.call():"none"===i&&(s.player.loop=!1,s.player.autoplay=!1),c&&c.call(),s.player.autoplay&&(s.player.resetSegments(!0),r(s,S).call(s,!0)),s.player.setSpeed(u)}),h):r(s,E).call(s)}}),x.set(this,{writable:!0,value:function(e,t){if(-1!==e&&-1!==t){var n=s.getContainerCursorPosition(e,t);e=n.x,t=n.y}var i=s.actions.find((function(n){var i=n.position;if(i){if(Array.isArray(i.x)&&Array.isArray(i.y))return e>=i.x[0]&&e<=i.x[1]&&t>=i.y[0]&&t<=i.y[1];if(!Number.isNaN(i.x)&&!Number.isNaN(i.y))return e===i.x&&t===i.y}return!1}));if(i)if("seek"===i.type||"seek"===i.transition){var r=(e-i.position.x[0])/(i.position.x[1]-i.position.x[0]),o=(t-i.position.y[0])/(i.position.y[1]-i.position.y[0]);s.player.playSegments(i.frames,!0),i.position.y[0]<0&&i.position.y[1]>1?s.player.goToAndStop(Math.floor(r*s.player.totalFrames),!0):s.player.goToAndStop(Math.ceil((r+o)/2*s.player.totalFrames),!0)}else"loop"===i.type?s.player.playSegments(i.frames,!0):"play"===i.type?(!0===s.player.isPaused&&s.player.resetSegments(),s.player.playSegments(i.frames)):"stop"===i.type&&(s.player.resetSegments(!0),s.player.goToAndStop(i.frames[0],!0))}}),C.set(this,{writable:!0,value:function(){var e=s.getContainerVisibility(),t=s.actions.find((function(t){var n=t.visibility;return e>=n[0]&&e<=n[1]}));if(t)if("seek"===t.type){var n=t.frames[0],i=2==t.frames.length?t.frames[1]:s.player.totalFrames-1;null!==s.assignedSegment&&(s.player.resetSegments(!0),s.assignedSegment=null),s.player.goToAndStop(n+Math.round((e-t.visibility[0])/(t.visibility[1]-t.visibility[0])*(i-n)),!0)}else if("loop"===t.type)s.player.loop=!0,(null===s.assignedSegment||s.assignedSegment!==t.frames||!0===s.player.isPaused)&&(s.player.playSegments(t.frames,!0),s.assignedSegment=t.frames);else if("play"===t.type||"playOnce"===t.type){if("playOnce"===t.type&&!s.scrolledAndPlayed)return s.scrolledAndPlayed=!0,s.player.resetSegments(!0),void(t.frames?s.player.playSegments(t.frames,!0):s.player.play());"play"===t.type&&s.player.isPaused&&(s.player.resetSegments(!0),t.frames?s.player.playSegments(t.frames,!0):s.player.play())}else"stop"===t.type&&s.player.goToAndStop(t.frames[0],!0)}}),this.enteredPlayer=I,"object"!==t(I)||"AnimationItem"!==I.constructor.name){if("string"==typeof I){var D=document.querySelector(I);D&&"LOTTIE-PLAYER"===D.nodeName&&(I=D.getLottie())}else I instanceof HTMLElement&&"LOTTIE-PLAYER"===I.nodeName&&(I=I.getLottie());if(!I)throw new Error(a+"Specified player:"+I+" is invalid.")}"string"==typeof A&&(A=document.querySelector(A)),A||(A=I.wrapper),this.player=I,this.loadedAnimation=this.player.path+this.player.fileName+".json",this.attachedListeners=!1,this.container=A,this.mode=O,this.actions=P,this.options=L,this.assignedSegment=null,this.scrolledAndPlayed=!1,this.interactionIdx=0,this.oldInterctionIdx=0,this.clickCounter=0,this.playCounter=0,this.stateHandler=new Map,this.transitionHandler=new Map}var s;return(s=[{key:"getContainerVisibility",value:function(){var e=this.container.getBoundingClientRect(),t=e.top,n=e.height;return(window.innerHeight-t)/(window.innerHeight+n)}},{key:"getContainerCursorPosition",value:function(e,t){var n=this.container.getBoundingClientRect(),i=n.top;return{x:(e-n.left)/n.width,y:(t-i)/n.height}}},{key:"initScrollMode",value:function(){this.player.stop(),window.addEventListener("scroll",r(this,C),!0)}},{key:"initCursorMode",value:function(){this.actions&&1===this.actions.length?"click"===this.actions[0].type?(this.player.loop=!1,this.player.stop(),this.container.addEventListener("click",r(this,d))):"hover"===this.actions[0].type?(this.player.loop=!1,this.player.stop(),this.container.addEventListener("mouseenter",r(this,d)),this.container.addEventListener("touchstart",r(this,d),{passive:!0})):"toggle"===this.actions[0].type?(this.player.loop=!1,this.player.stop(),this.container.addEventListener("click",r(this,h))):"hold"===this.actions[0].type||"pauseHold"===this.actions[0].type?(this.container.addEventListener("mouseenter",r(this,_)),this.container.addEventListener("mouseleave",r(this,w)),this.container.addEventListener("touchstart",r(this,_),{passive:!0}),this.container.addEventListener("touchend",r(this,w),{passive:!0})):"seek"===this.actions[0].type&&(this.player.loop=!0,this.player.stop(),this.container.addEventListener("mousemove",r(this,p)),this.container.addEventListener("touchmove",r(this,f),{passive:!1}),this.container.addEventListener("mouseout",r(this,m))):(this.player.loop=!0,this.player.stop(),this.container.addEventListener("mousemove",r(this,p)),this.container.addEventListener("mouseleave",r(this,m)),r(this,x).call(this,-1,-1))}},{key:"initChainMode",value:function(){r(this,c).call(this),this.player.loop=!1,this.player.stop(),r(this,T).call(this,{ignorePath:!1})}},{key:"start",value:function(){var e=this;"scroll"===this.mode?this.player.isLoaded?this.initScrollMode():this.player.addEventListener("DOMLoaded",(function(){e.initScrollMode()})):"cursor"===this.mode?this.player.isLoaded?this.initCursorMode():this.player.addEventListener("DOMLoaded",(function(){e.initCursorMode()})):"chain"===this.mode&&(this.player.isLoaded?this.initChainMode():this.player.addEventListener("DOMLoaded",(function(){e.initChainMode()})))}},{key:"redefineOptions",value:function(e){var n=e.actions,r=e.container,o=e.mode,s=e.player,l=i(e,["actions","container","mode","player"]);if(this.stop(),this.enteredPlayer=s,"object"!==t(s)||"AnimationItem"!==s.constructor.name){if("string"==typeof s){var c=document.querySelector(s);c&&"LOTTIE-PLAYER"===c.nodeName&&(s=c.getLottie())}else s instanceof HTMLElement&&"LOTTIE-PLAYER"===s.nodeName&&(s=s.getLottie());if(!s)throw new Error(a+"Specified player:"+s+" is invalid.",s)}"string"==typeof r&&(r=document.querySelector(r)),r||(r=s.wrapper),this.player=s,this.loadedAnimation=this.player.path+this.player.fileName+".json",this.attachedListeners=!1,this.container=r,this.mode=o,this.actions=n,this.options=l,this.assignedSegment=null,this.scrolledAndPlayed=!1,this.interactionIdx=0,this.clickCounter=0,this.playCounter=0,this.holdStatus=null,this.stateHandler=new Map,this.transitionHandler=new Map,this.start()}},{key:"stop",value:function(){if("scroll"===this.mode&&window.removeEventListener("scroll",r(this,C),!0),"cursor"===this.mode&&(this.container.removeEventListener("click",r(this,d)),this.container.removeEventListener("click",r(this,h)),this.container.removeEventListener("mouseenter",r(this,d)),this.container.removeEventListener("touchstart",r(this,d)),this.container.removeEventListener("touchmove",r(this,f)),this.container.removeEventListener("mousemove",r(this,p)),this.container.removeEventListener("mouseleave",r(this,m)),this.container.removeEventListener("touchstart",r(this,_)),this.container.removeEventListener("touchend",r(this,w))),"chain"===this.mode&&(this.container.removeEventListener("click",r(this,d)),this.container.removeEventListener("click",r(this,u)),this.container.removeEventListener("mouseenter",r(this,d)),this.container.removeEventListener("touchstart",r(this,d)),this.container.removeEventListener("touchmove",r(this,f)),this.container.removeEventListener("mouseenter",r(this,u)),this.container.removeEventListener("touchstart",r(this,u)),this.container.removeEventListener("mouseenter",r(this,_)),this.container.removeEventListener("touchstart",r(this,_)),this.container.removeEventListener("mouseleave",r(this,w)),this.container.removeEventListener("mousemove",r(this,p)),this.container.removeEventListener("mouseout",r(this,m)),this.container.removeEventListener("touchend",r(this,w)),this.player))try{this.player.removeEventListener("loopComplete",r(this,g)),this.player.removeEventListener("complete",r(this,g)),this.player.removeEventListener("enterFrame",r(this,v)),this.player.removeEventListener("enterFrame",r(this,b))}catch(e){}this.player&&(this.player.destroy(),this.player=null)}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,s),e}(),c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,_=new WeakMap,w=new WeakMap,k=new WeakMap,S=new WeakMap,E=new WeakMap,T=new WeakMap,x=new WeakMap,C=new WeakMap,P=function(e){var t=new l(e);return t.start(),t};e.LottieInteractivity=l,e.create=P,e.default=P,Object.defineProperty(e,"__esModule",{value:!0})},"object"==s(t)?o(t):(i=[t],void 0===(r="function"==typeof(n=o)?n.apply(t,i):n)||(e.exports=r))},3704:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,e;function _defineProperty2(e,t,n){return(t=_toPropertyKey2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _superPropGet(e,t,n,i){var r=_get2(_getPrototypeOf2(1&i?e.prototype:e),t,n);return 2&i?function(e){return r.apply(n,e)}:r}function _get2(){return _get2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=_superPropBase2(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},_get2.apply(null,arguments)}function _superPropBase2(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf2(e)););return e}function _slicedToArray2(e,t){return _arrayWithHoles2(e)||_iterableToArrayLimit2(e,t)||_unsupportedIterableToArray2(e,t)||_nonIterableRest2()}function _nonIterableRest2(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit2(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}function _arrayWithHoles2(e){if(Array.isArray(e))return e}function _toConsumableArray2(e){return _arrayWithoutHoles2(e)||_iterableToArray2(e)||_unsupportedIterableToArray2(e)||_nonIterableSpread2()}function _nonIterableSpread2(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray2(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles2(e){if(Array.isArray(e))return _arrayLikeToArray2(e)}function _regeneratorRuntime(){"use strict";_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==_typeof2(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(_typeof2(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function _callSuper(e,t,n){return t=_getPrototypeOf2(t),_possibleConstructorReturn2(e,_isNativeReflectConstruct2()?Reflect.construct(t,n||[],_getPrototypeOf2(e).constructor):t.apply(e,n))}function _possibleConstructorReturn2(e,t){if(t&&("object"==_typeof2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized2(e)}function _assertThisInitialized2(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits2(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf2(e,t)}function _wrapNativeSuper2(e){var t="function"==typeof Map?new Map:void 0;return _wrapNativeSuper2=function(e){if(null===e||!_isNativeFunction2(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct2(e,arguments,_getPrototypeOf2(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf2(n,e)},_wrapNativeSuper2(e)}function _construct2(e,t,n){if(_isNativeReflectConstruct2())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(e.bind.apply(e,i));return n&&_setPrototypeOf2(r,n.prototype),r}function _isNativeReflectConstruct2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct2=function(){return!!e})()}function _isNativeFunction2(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}function _setPrototypeOf2(e,t){return _setPrototypeOf2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_setPrototypeOf2(e,t)}function _getPrototypeOf2(e){return _getPrototypeOf2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf2(e)}function _createForOfIteratorHelper2(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray2(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray2(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray2(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray2(e,t):void 0}}function _arrayLikeToArray2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function _classCallCheck2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey2(i.key),i)}}function _createClass2(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey2(e){var t=_toPrimitive2(e,"string");return"symbol"==_typeof2(t)?t:t+""}function _toPrimitive2(e,t){if("object"!=_typeof2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=_typeof2(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _typeof2(e){return _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof2(e)}e=function(exports){"use strict";function _asyncIterator(e){var t,n,i,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new AsyncFromSyncIterator(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new AsyncFromSyncIterator(e)}var REACT_ELEMENT_TYPE;function _jsx(e,t,n,i){REACT_ELEMENT_TYPE||(REACT_ELEMENT_TYPE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=i;else if(o>1){for(var s=new Array(o),a=0;a<o;a++)s[a]=arguments[a+3];t.children=s}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:REACT_ELEMENT_TYPE,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},_typeof(e)}function _wrapRegExp(){_wrapRegExp=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,i,r){var o=new RegExp(e,i);return t.set(o,r||t.get(e)),_setPrototypeOf(o,n.prototype)}function i(e,n){var i=t.get(n);return Object.keys(i).reduce((function(t,n){return t[n]=e[i[n]],t}),Object.create(null))}return _inherits(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=i(n,this)),n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var o=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+o[t]})))}if("function"==typeof r){var s=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=_typeof2(e[e.length-1])&&(e=[].slice.call(e)).push(i(e,s)),r.apply(this,e)}))}return e[Symbol.replace].call(this,n,r)},_wrapRegExp.apply(this,arguments)}function _AwaitValue(e){this.wrapped=e}function _AsyncGenerator(e){var t,n;function i(t,n){try{var o=e[t](n),s=o.value,a=s instanceof _AwaitValue;Promise.resolve(a?s.wrapped:s).then((function(e){a?i("return"===t?"return":"next",e):r(o.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(o,s){var a={key:e,arg:r,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,i(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}function _wrapAsyncGenerator(e){return function(){return new _AsyncGenerator(e.apply(this,arguments))}}function _awaitAsyncGenerator(e){return new _AwaitValue(e)}function _asyncGeneratorDelegate(e,t){var n={},i=!1;function r(n,r){return i=!0,r=new Promise((function(t){t(e[n](r))})),{done:!1,value:t(r)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return i?(i=!1,e):r("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(i)throw i=!1,e;return r("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return i?(i=!1,e):r("return",e)}),n}function asyncGeneratorStep(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){asyncGeneratorStep(o,i,r,s,a,"next",e)}function a(e){asyncGeneratorStep(o,i,r,s,a,"throw",e)}s(void 0)}))}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineEnumerableProperties(e,t){for(var n in t)(o=t[n]).configurable=o.enumerable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n,o);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),r=0;r<i.length;r++){var o,s=i[r];(o=t[s]).configurable=o.enumerable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,s,o)}return e}function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(t,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends.apply(this,arguments)}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach((function(t){_defineProperty(e,t,n[t])}))}return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_setPrototypeOf(e,t)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _construct(e,t,n){return _construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&_setPrototypeOf(r,n.prototype),r},_construct.apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)},_wrapNativeSuper(e)}function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(e){return e?n:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof2(e)&&"function"!=typeof e)return{default:e};var n=_getRequireWildcardCache(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}function _newArrowCheck(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function _objectWithoutProperties(e,t){if(null==e)return{};var n,i,r=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){if(t&&("object"==_typeof2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},_get.apply(this,arguments)}function set(e,t,n,i){return set="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,i){var r,o=_superPropBase(e,t);if(o){if((r=Object.getOwnPropertyDescriptor(o,t)).set)return r.set.call(i,n),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(i,t)){if(!r.writable)return!1;r.value=n,Object.defineProperty(i,t,r)}else _defineProperty(i,t,n);return!0},set(e,t,n,i)}function _set(e,t,n,i,r){if(!set(e,t,n,i||e)&&r)throw new Error("failed to set property");return n}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _taggedTemplateLiteralLoose(e,t){return t||(t=e.slice(0)),e.raw=t,e}function _readOnlyError(e){throw new TypeError('"'+e+'" is read-only')}function _writeOnlyError(e){throw new TypeError('"'+e+'" is write-only')}function _classNameTDZError(e){throw new Error('Class "'+e+'" cannot be referenced in computed property keys.')}function _temporalUndefined(){}function _tdz(e){throw new ReferenceError(e+" is not defined - temporal dead zone")}function _temporalRef(e,t){return e===_temporalUndefined?_tdz(t):e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _slicedToArrayLoose(e,t){return _arrayWithHoles(e)||_iterableToArrayLimitLoose(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _maybeArrayLike(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return _arrayLikeToArray(t,void 0!==n&&n<i?n:i)}return e(t,n)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}function _iterableToArrayLimitLoose(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var i=[];for(n=n.call(e),_step;!(_step=n.next()).done&&(i.push(_step.value),!t||i.length!==t););return i}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _createForOfIteratorHelperLoose(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _skipFirstGeneratorNext(e){return function(){var t=e.apply(this,arguments);return t.next(),t}}function _toPrimitive(e,t){if("object"!=_typeof2(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=_typeof2(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof2(t)?t:String(t)}function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}function _initializerDefineProperty(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function _applyDecoratedDescriptor(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}_AsyncGenerator.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},_AsyncGenerator.prototype.next=function(e){return this._invoke("next",e)},_AsyncGenerator.prototype.throw=function(e){return this._invoke("throw",e)},_AsyncGenerator.prototype.return=function(e){return this._invoke("return",e)};var id=0;function _classPrivateFieldLooseKey(e){return"__private_"+id+++"_"+e}function _classPrivateFieldLooseBase(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}function _classPrivateFieldGet(e,t){return _classApplyDescriptorGet(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateFieldSet(e,t,n){return _classApplyDescriptorSet(e,_classExtractFieldDescriptor(e,t,"set"),n),n}function _classPrivateFieldDestructureSet(e,t){return _classApplyDescriptorDestructureSet(e,_classExtractFieldDescriptor(e,t,"set"))}function _classExtractFieldDescriptor(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function _classStaticPrivateFieldSpecGet(e,t,n){return _classCheckPrivateStaticAccess(e,t),_classCheckPrivateStaticFieldDescriptor(n,"get"),_classApplyDescriptorGet(e,n)}function _classStaticPrivateFieldSpecSet(e,t,n,i){return _classCheckPrivateStaticAccess(e,t),_classCheckPrivateStaticFieldDescriptor(n,"set"),_classApplyDescriptorSet(e,n,i),i}function _classStaticPrivateMethodGet(e,t,n){return _classCheckPrivateStaticAccess(e,t),n}function _classStaticPrivateMethodSet(){throw new TypeError("attempted to set read only static private field")}function _classApplyDescriptorGet(e,t){return t.get?t.get.call(e):t.value}function _classApplyDescriptorSet(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function _classApplyDescriptorDestructureSet(e,t){if(t.set)return"__destrObj"in t||(t.__destrObj={set value(n){t.set.call(e,n)}}),t.__destrObj;if(!t.writable)throw new TypeError("attempted to set read only private field");return t}function _classStaticPrivateFieldDestructureSet(e,t,n){return _classCheckPrivateStaticAccess(e,t),_classCheckPrivateStaticFieldDescriptor(n,"set"),_classApplyDescriptorDestructureSet(e,n)}function _classCheckPrivateStaticAccess(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function _classCheckPrivateStaticFieldDescriptor(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function _decorate(e,t,n,i){var r=_getDecoratorsApi();if(i)for(var o=0;o<i.length;o++)r=i[o](r);var s=t((function(e){r.initializeInstanceElements(e,a.elements)}),n),a=r.decorateClass(_coalesceClassElements(s.d.map(_createElementDescriptor)),e);return r.initializeClassElements(s.F,a.elements),r.runClassFinishers(s.F,a.finishers)}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(i){t.forEach((function(t){var r=t.placement;if(t.kind===i&&("static"===r||"prototype"===r)){var o="static"===r?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var i=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===i?void 0:i.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],i=[],r={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,r)}),this),e.forEach((function(e){if(!_hasDecorators(e))return n.push(e);var t=this.decorateElement(e,r);n.push(t.element),n.push.apply(n,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:n,finishers:i};var o=this.decorateConstructor(n,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,n){var i=t[e.placement];if(!n&&-1!==i.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var n=[],i=[],r=e.decorators,o=r.length-1;o>=0;o--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,r[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);n.push.apply(n,c)}}return{element:e,finishers:i,extras:n}},decorateConstructor:function(e,t){for(var n=[],i=t.length-1;i>=0;i--){var r=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(r)||r);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(void 0!==e)return _toArray(e).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var r=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:i,descriptor:Object.assign({},r)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(r,"get","The property descriptor of a field descriptor"),this.disallowProperty(r,"set","The property descriptor of a field descriptor"),this.disallowProperty(r,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var i=(0,t[n])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,n=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _coalesceClassElements(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},i=0;i<e.length;i++){var r,o=e[i];if("method"===o.kind&&(r=t.find(n)))if(_isDataDescriptor(o.descriptor)||_isDataDescriptor(r.descriptor)){if(_hasDecorators(o)||_hasDecorators(r))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");r.descriptor=o.descriptor}else{if(_hasDecorators(o)){if(_hasDecorators(r))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");r.decorators=o.decorators}_coalesceGetterSetter(o,r)}else t.push(o)}return t}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function _classPrivateMethodGet(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec(e,t,n){_checkPrivateRedeclaration(e,t),t.set(e,n)}function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t),t.add(e)}function _classPrivateMethodSet(){throw new TypeError("attempted to reassign private method")}var _extendStatics2=function(e,t){return _extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},_extendStatics2(e,t)};function __extends(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_extendStatics2(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var _assign2=function(){return _assign2=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},_assign2.apply(this,arguments)};function __rest(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function __decorate(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function __param(e,t){return function(n,i){t(n,i,e)}}function __metadata(e,t){if("object"==("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function __generator(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var __createBinding=Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};function __exportStar(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||__createBinding(t,e,n)}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __spreadArrays(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function __spreadArray(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){o.push([e,t,n,i])>1||a(e,t)}))})}function a(e,t){try{!function(e){e.value instanceof __await?Promise.resolve(e.value.v).then(l,c):u(o[0][2],e)}(r[e](t))}catch(e){u(o[0][3],e)}}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function __asyncDelegator(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:__await(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,r,(t=e[n](t)).done,t.value)}))}}}function __makeTemplateObject(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var __setModuleDefault=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function __importStar(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding(t,e,n);return __setModuleDefault(t,e),t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}function __classPrivateFieldGet(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function __classPrivateFieldSet(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n}var t$3=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$8=Symbol(),n$5=new Map,s$3=function(){return _createClass2((function e(t,n){if(_classCallCheck2(this,e),this._$cssResult$=!0,n!==e$8)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}),[{key:"styleSheet",get:function(){var e=n$5.get(this.cssText);return t$3&&void 0===e&&(n$5.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}},{key:"toString",value:function(){return this.cssText}}])}(),o$5=function(e){return new s$3("string"==typeof e?e:e+"",e$8)},r$3=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=1===e.length?e[0]:n.reduce((function(t,n,i){return t+function(e){if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(n)+e[i+1]}),e[0]);return new s$3(r,e$8)},i$3=function(e,t){t$3?e.adoptedStyleSheets=t.map((function(e){return e instanceof CSSStyleSheet?e:e.styleSheet})):t.forEach((function(t){var n=document.createElement("style"),i=window.litNonce;void 0!==i&&n.setAttribute("nonce",i),n.textContent=t.cssText,e.appendChild(n)}))},S$1=t$3?function(e){return e}:function(e){return e instanceof CSSStyleSheet?function(e){var t,n="",i=_createForOfIteratorHelper2(e.cssRules);try{for(i.s();!(t=i.n()).done;)n+=t.value.cssText}catch(e){i.e(e)}finally{i.f()}return o$5(n)}(e):e},s$2,e$7=window.trustedTypes,r$2=e$7?e$7.emptyScript:"",h$2=window.reactiveElementPolyfillSupport,o$4={toAttribute:function(e,t){switch(t){case Boolean:e=e?r$2:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute:function(e,t){var n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},n$4=function(e,t){return t!==e&&(t==t||e==e)},l$3={attribute:!0,type:String,converter:o$4,reflect:!1,hasChanged:n$4},t$2,a$1=function(e){function t(){var e;return _classCallCheck2(this,t),(e=_callSuper(this,t))._$Et=new Map,e.isUpdatePending=!1,e.hasUpdated=!1,e._$Ei=null,e.o(),e}return _inherits2(t,e),_createClass2(t,[{key:"o",value:function(){var e,t=this;this._$Ep=new Promise((function(e){return t.enableUpdating=e})),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(e=this.constructor.l)||void 0===e||e.forEach((function(e){return e(t)}))}},{key:"addController",value:function(e){var t,n;(null!==(t=this._$Eg)&&void 0!==t?t:this._$Eg=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(n=e.hostConnected)||void 0===n||n.call(e))}},{key:"removeController",value:function(e){var t;null===(t=this._$Eg)||void 0===t||t.splice(this._$Eg.indexOf(e)>>>0,1)}},{key:"_$Em",value:function(){var e=this;this.constructor.elementProperties.forEach((function(t,n){e.hasOwnProperty(n)&&(e._$Et.set(n,e[n]),delete e[n])}))}},{key:"createRenderRoot",value:function(){var e,t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return i$3(t,this.constructor.elementStyles),t}},{key:"connectedCallback",value:function(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$Eg)||void 0===e||e.forEach((function(e){var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}},{key:"enableUpdating",value:function(e){}},{key:"disconnectedCallback",value:function(){var e;null===(e=this._$Eg)||void 0===e||e.forEach((function(e){var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}},{key:"attributeChangedCallback",value:function(e,t,n){this._$AK(e,n)}},{key:"_$ES",value:function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l$3,o=this.constructor._$Eh(e,r);if(void 0!==o&&!0===r.reflect){var s=(null!==(i=null===(n=r.converter)||void 0===n?void 0:n.toAttribute)&&void 0!==i?i:o$4.toAttribute)(t,r.type);this._$Ei=e,null==s?this.removeAttribute(o):this.setAttribute(o,s),this._$Ei=null}}},{key:"_$AK",value:function(e,t){var n,i,r,o=this.constructor,s=o._$Eu.get(e);if(void 0!==s&&this._$Ei!==s){var a=o.getPropertyOptions(s),l=a.converter,c=null!==(r=null!==(i=null===(n=l)||void 0===n?void 0:n.fromAttribute)&&void 0!==i?i:"function"==typeof l?l:null)&&void 0!==r?r:o$4.fromAttribute;this._$Ei=s,this[s]=c(t,a.type),this._$Ei=null}}},{key:"requestUpdate",value:function(e,t,n){var i=!0;void 0!==e&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||n$4)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$Ei!==e&&(void 0===this._$E_&&(this._$E_=new Map),this._$E_.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$Ep=this._$EC())}},{key:"_$EC",value:function(){var e=this;return _asyncToGenerator(_regeneratorRuntime().mark((function t(){var n;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isUpdatePending=!0,t.prev=1,t.next=4,e._$Ep;case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),Promise.reject(t.t0);case 9:if(n=e.scheduleUpdate(),t.t1=null!=n,!t.t1){t.next=14;break}return t.next=14,n;case 14:return t.abrupt("return",!e.isUpdatePending);case 15:case"end":return t.stop()}}),t,null,[[1,6]])})))()}},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var e,t=this;if(this.isUpdatePending){this.hasUpdated,this._$Et&&(this._$Et.forEach((function(e,n){return t[n]=e})),this._$Et=void 0);var n=!1,i=this._$AL;try{(n=this.shouldUpdate(i))?(this.willUpdate(i),null===(e=this._$Eg)||void 0===e||e.forEach((function(e){var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(i)):this._$EU()}catch(e){throw n=!1,this._$EU(),e}n&&this._$AE(i)}}},{key:"willUpdate",value:function(e){}},{key:"_$AE",value:function(e){var t;null===(t=this._$Eg)||void 0===t||t.forEach((function(e){var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}},{key:"_$EU",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$Ep}},{key:"shouldUpdate",value:function(e){return!0}},{key:"update",value:function(e){var t=this;void 0!==this._$E_&&(this._$E_.forEach((function(e,n){return t._$ES(n,t[n],e)})),this._$E_=void 0),this._$EU()}},{key:"updated",value:function(e){}},{key:"firstUpdated",value:function(e){}}],[{key:"addInitializer",value:function(e){var t;null!==(t=this.l)&&void 0!==t||(this.l=[]),this.l.push(e)}},{key:"observedAttributes",get:function(){var e=this;this.finalize();var t=[];return this.elementProperties.forEach((function(n,i){var r=e._$Eh(i,n);void 0!==r&&(e._$Eu.set(r,i),t.push(r))})),t}},{key:"createProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l$3;if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var n="symbol"==_typeof2(e)?Symbol():"__"+e,i=this.getPropertyDescriptor(e,n,t);void 0!==i&&Object.defineProperty(this.prototype,e,i)}}},{key:"getPropertyDescriptor",value:function(e,t,n){return{get:function(){return this[t]},set:function(i){var r=this[e];this[t]=i,this.requestUpdate(e,r,n)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(e){return this.elementProperties.get(e)||l$3}},{key:"finalize",value:function(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){var t,n=this.properties,i=_createForOfIteratorHelper2([].concat(_toConsumableArray2(Object.getOwnPropertyNames(n)),_toConsumableArray2(Object.getOwnPropertySymbols(n))));try{for(i.s();!(t=i.n()).done;){var r=t.value;this.createProperty(r,n[r])}}catch(e){i.e(e)}finally{i.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(e){var t=[];if(Array.isArray(e)){var n,i=_createForOfIteratorHelper2(new Set(e.flat(1/0).reverse()));try{for(i.s();!(n=i.n()).done;){var r=n.value;t.unshift(S$1(r))}}catch(e){i.e(e)}finally{i.f()}}else void 0!==e&&t.push(S$1(e));return t}},{key:"_$Eh",value:function(e,t){var n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}}])}(_wrapNativeSuper2(HTMLElement));a$1.finalized=!0,a$1.elementProperties=new Map,a$1.elementStyles=[],a$1.shadowRootOptions={mode:"open"},null==h$2||h$2({ReactiveElement:a$1}),(null!==(s$2=globalThis.reactiveElementVersions)&&void 0!==s$2?s$2:globalThis.reactiveElementVersions=[]).push("1.2.1");var i$2=globalThis.trustedTypes,s$1=i$2?i$2.createPolicy("lit-html",{createHTML:function(e){return e}}):void 0,e$6="lit$".concat((Math.random()+"").slice(9),"$"),o$3="?"+e$6,n$3="<".concat(o$3,">"),l$2=document,h$1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l$2.createComment(e)},r$1=function(e){return null===e||"object"!=_typeof2(e)&&"function"!=typeof e},d=Array.isArray,u=function(e){var t;return d(e)||"function"==typeof(null===(t=e)||void 0===t?void 0:t[Symbol.iterator])},c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m=/"/g,g=/^(?:script|style|textarea)$/i,p=function(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return{_$litType$:e,strings:t,values:i}}},$=p(1),y=p(2),b=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),T=new WeakMap,x=function(e,t,n){var i,r,o=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:t,s=o._$litPart$;if(void 0===s){var a=null!==(r=null==n?void 0:n.renderBefore)&&void 0!==r?r:null;o._$litPart$=s=new N(t.insertBefore(h$1(),a),a,void 0,null!=n?n:{})}return s._$AI(e),s},A=l$2.createTreeWalker(l$2,129,null,!1),C=function(e,t){for(var n,i=e.length-1,r=[],o=2===t?"<svg>":"",s=c,l=0;l<i;l++){for(var u=e[l],h=void 0,d=void 0,p=-1,y=0;y<u.length&&(s.lastIndex=y,null!==(d=s.exec(u)));)y=s.lastIndex,s===c?"!--"===d[1]?s=v:void 0!==d[1]?s=a:void 0!==d[2]?(g.test(d[2])&&(n=RegExp("</"+d[2],"g")),s=f):void 0!==d[3]&&(s=f):s===f?">"===d[0]?(s=null!=n?n:c,p=-1):void 0===d[1]?p=-2:(p=s.lastIndex-d[2].length,h=d[1],s=void 0===d[3]?f:'"'===d[3]?m:_):s===m||s===_?s=f:s===v||s===a?s=c:(s=f,n=void 0);var b=s===f&&e[l+1].startsWith("/>")?" ":"";o+=s===c?u+n$3:p>=0?(r.push(h),u.slice(0,p)+"$lit$"+u.slice(p)+e$6+b):u+e$6+(-2===p?(r.push(void 0),l):b)}var w=o+(e[i]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==s$1?s$1.createHTML(w):w,r]},E=function(){return _createClass2((function e(t,n){_classCallCheck2(this,e);var i,r=t.strings,o=t._$litType$;this.parts=[];var s=0,a=0,l=r.length-1,c=this.parts,u=_slicedToArray2(C(r,o),2),h=u[0],d=u[1];if(this.el=e.createElement(h,n),A.currentNode=this.el.content,2===o){var p=this.el.content,f=p.firstChild;f.remove(),p.append.apply(p,_toConsumableArray2(f.childNodes))}for(;null!==(i=A.nextNode())&&c.length<l;){if(1===i.nodeType){if(i.hasAttributes()){var m,y=[],v=_createForOfIteratorHelper2(i.getAttributeNames());try{for(v.s();!(m=v.n()).done;){var b=m.value;if(b.endsWith("$lit$")||b.startsWith(e$6)){var _=d[a++];if(y.push(b),void 0!==_){var w=i.getAttribute(_.toLowerCase()+"$lit$").split(e$6),k=/([.?@])?(.*)/.exec(_);c.push({type:1,index:s,name:k[2],strings:w,ctor:"."===k[1]?M:"?"===k[1]?H:"@"===k[1]?I:S})}else c.push({type:6,index:s})}}}catch(e){v.e(e)}finally{v.f()}for(var E=0,T=y;E<T.length;E++){var x=T[E];i.removeAttribute(x)}}if(g.test(i.tagName)){var P=i.textContent.split(e$6),O=P.length-1;if(O>0){i.textContent=i$2?i$2.emptyScript:"";for(var L=0;L<O;L++)i.append(P[L],h$1()),A.nextNode(),c.push({type:2,index:++s});i.append(P[O],h$1())}}}else if(8===i.nodeType)if(i.data===o$3)c.push({type:2,index:s});else for(var D=-1;-1!==(D=i.data.indexOf(e$6,D+1));)c.push({type:7,index:s}),D+=e$6.length-1;s++}}),null,[{key:"createElement",value:function(e,t){var n=l$2.createElement("template");return n.innerHTML=e,n}}])}();function P(e,t){var n,i,r,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0;if(t===b)return t;var l=void 0!==a?null===(n=s._$Cl)||void 0===n?void 0:n[a]:s._$Cu,c=r$1(t)?void 0:t._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(i=null==l?void 0:l._$AO)||void 0===i||i.call(l,!1),void 0===c?l=void 0:(l=new c(e))._$AT(e,s,a),void 0!==a?(null!==(r=(o=s)._$Cl)&&void 0!==r?r:o._$Cl=[])[a]=l:s._$Cu=l),void 0!==l&&(t=P(e,l._$AS(e,t.values),l,a)),t}var V=function(){return _createClass2((function e(t,n){_classCallCheck2(this,e),this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=n}),[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"p",value:function(e){var t,n=this._$AD,i=n.el.content,r=n.parts,o=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:l$2).importNode(i,!0);A.currentNode=o;for(var s=A.nextNode(),a=0,l=0,c=r[0];void 0!==c;){if(a===c.index){var u=void 0;2===c.type?u=new N(s,s.nextSibling,this,e):1===c.type?u=new c.ctor(s,c.name,c.strings,this,e):6===c.type&&(u=new L(s,this,e)),this.v.push(u),c=r[++l]}a!==(null==c?void 0:c.index)&&(s=A.nextNode(),a++)}return o}},{key:"m",value:function(e){var t,n=0,i=_createForOfIteratorHelper2(this.v);try{for(i.s();!(t=i.n()).done;){var r=t.value;void 0!==r&&(void 0!==r.strings?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}catch(e){i.e(e)}finally{i.f()}}}])}(),N=function(){function e(t,n,i,r){var o;_classCallCheck2(this,e),this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=i,this.options=r,this._$Cg=null===(o=null==r?void 0:r.isConnected)||void 0===o||o}return _createClass2(e,[{key:"_$AU",get:function(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cg}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){e=P(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),r$1(e)?e===w||null==e||""===e?(this._$AH!==w&&this._$AR(),this._$AH=w):e!==this._$AH&&e!==b&&this.$(e):void 0!==e._$litType$?this.T(e):void 0!==e.nodeType?this.S(e):u(e)?this.A(e):this.$(e)}},{key:"M",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(e,t)}},{key:"S",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.M(e))}},{key:"$",value:function(e){this._$AH!==w&&r$1(this._$AH)?this._$AA.nextSibling.data=e:this.S(l$2.createTextNode(e)),this._$AH=e}},{key:"T",value:function(e){var t,n=e.values,i=e._$litType$,r="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=E.createElement(i.h,this.options)),i);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===r)this._$AH.m(n);else{var o=new V(r,this),s=o.p(this.options);o.m(n),this.S(s),this._$AH=o}}},{key:"_$AC",value:function(e){var t=T.get(e.strings);return void 0===t&&T.set(e.strings,t=new E(e)),t}},{key:"A",value:function(t){d(this._$AH)||(this._$AH=[],this._$AR());var n,i,r=this._$AH,o=0,s=_createForOfIteratorHelper2(t);try{for(s.s();!(i=s.n()).done;){var a=i.value;o===r.length?r.push(n=new e(this.M(h$1()),this.M(h$1()),this,this.options)):n=r[o],n._$AI(a),o++}}catch(e){s.e(e)}finally{s.f()}o<r.length&&(this._$AR(n&&n._$AB.nextSibling,o),r.length=o)}},{key:"_$AR",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0;for(null===(e=this._$AP)||void 0===e||e.call(this,!1,!0,n);t&&t!==this._$AB;){var i=t.nextSibling;t.remove(),t=i}}},{key:"setConnected",value:function(e){var t;void 0===this._$AM&&(this._$Cg=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}])}(),S=function(){return _createClass2((function e(t,n,i,r,o){_classCallCheck2(this,e),this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=n,this._$AM=r,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=w}),[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=this.strings,o=!1;if(void 0===r)e=P(this,e,t,0),(o=!r$1(e)||e!==this._$AH&&e!==b)&&(this._$AH=e);else{var s,a,l=e;for(e=r[0],s=0;s<r.length-1;s++)(a=P(this,l[n+s],t,s))===b&&(a=this._$AH[s]),o||(o=!r$1(a)||a!==this._$AH[s]),a===w?e=w:e!==w&&(e+=(null!=a?a:"")+r[s+1]),this._$AH[s]=a}o&&!i&&this.k(e)}},{key:"k",value:function(e){e===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}])}(),M=function(e){function t(){var e;return _classCallCheck2(this,t),(e=_callSuper(this,t,arguments)).type=3,e}return _inherits2(t,e),_createClass2(t,[{key:"k",value:function(e){this.element[this.name]=e===w?void 0:e}}])}(S),_k=i$2?i$2.emptyScript:"",H=function(e){function t(){var e;return _classCallCheck2(this,t),(e=_callSuper(this,t,arguments)).type=4,e}return _inherits2(t,e),_createClass2(t,[{key:"k",value:function(e){e&&e!==w?this.element.setAttribute(this.name,_k):this.element.removeAttribute(this.name)}}])}(S),I=function(e){function t(e,n,i,r,o){var s;return _classCallCheck2(this,t),(s=_callSuper(this,t,[e,n,i,r,o])).type=5,s}return _inherits2(t,e),_createClass2(t,[{key:"_$AI",value:function(e){var t;if((e=null!==(t=P(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==t?t:w)!==b){var n=this._$AH,i=e===w&&n!==w||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,r=e!==w&&(n===w||i);i&&this.element.removeEventListener(this.name,this,n),r&&this.element.addEventListener(this.name,this,e),this._$AH=e}}},{key:"handleEvent",value:function(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==n?n:this.element,e):this._$AH.handleEvent(e)}}])}(S),L=function(){return _createClass2((function e(t,n,i){_classCallCheck2(this,e),this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}),[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){P(this,e)}}])}(),R={P:"$lit$",V:e$6,L:o$3,I:1,N:C,R:V,D:u,j:P,H:N,O:S,F:H,B:I,W:M,Z:L},z=window.litHtmlPolyfillSupport,l$1,o$2;null==z||z(E,N),(null!==(t$2=globalThis.litHtmlVersions)&&void 0!==t$2?t$2:globalThis.litHtmlVersions=[]).push("2.1.2");var r=a$1,s=function(e){function t(){var e;return _classCallCheck2(this,t),(e=_callSuper(this,t,arguments)).renderOptions={host:_assertThisInitialized2(e)},e._$Dt=void 0,e}return _inherits2(t,e),_createClass2(t,[{key:"createRenderRoot",value:function(){var e,n,i=_superPropGet(t,"createRenderRoot",this,3)([]);return null!==(e=(n=this.renderOptions).renderBefore)&&void 0!==e||(n.renderBefore=i.firstChild),i}},{key:"update",value:function(e){var n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_superPropGet(t,"update",this,3)([e]),this._$Dt=x(n,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var e;_superPropGet(t,"connectedCallback",this,3)([]),null===(e=this._$Dt)||void 0===e||e.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var e;_superPropGet(t,"disconnectedCallback",this,3)([]),null===(e=this._$Dt)||void 0===e||e.setConnected(!1)}},{key:"render",value:function(){return b}}])}(a$1);s.finalized=!0,s._$litElement$=!0,null===(l$1=globalThis.litElementHydrateSupport)||void 0===l$1||l$1.call(globalThis,{LitElement:s});var n$2=globalThis.litElementPolyfillSupport;null==n$2||n$2({LitElement:s});var h={_$AK:function(e,t,n){e._$AK(t,n)},_$AL:function(e){return e._$AL}};(null!==(o$2=globalThis.litElementVersions)&&void 0!==o$2?o$2:globalThis.litElementVersions=[]).push("3.1.2");var n$1=function(e){return function(t){return"function"==typeof t?function(e,t){return window.customElements.define(e,t),t}(e,t):function(e,t){return{kind:t.kind,elements:t.elements,finisher:function(t){window.customElements.define(e,t)}}}(e,t)}},i$1=function(e,t){return"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?_objectSpread2(_objectSpread2({},t),{},{finisher:function(n){n.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer:function(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher:function(n){n.createProperty(t.key,e)}}};function e$5(e){return function(t,n){return void 0!==n?function(e,t,n){t.constructor.createProperty(n,e)}(e,t,n):i$1(e,t)}}function t$1(e){return e$5(_objectSpread2(_objectSpread2({},e),{},{state:!0}))}var e$4=function(e,t,n){Object.defineProperty(t,n,e)},t=function(e,t){return{kind:"method",placement:"prototype",key:t.key,descriptor:e}},o$1=function(e){var t=e.finisher,n=e.descriptor;return function(e,i){var r;if(void 0===i){var o=null!==(r=e.originalKey)&&void 0!==r?r:e.key,s=null!=n?{kind:"method",placement:"prototype",key:o,descriptor:n(e.key)}:_objectSpread2(_objectSpread2({},e),{},{key:o});return null!=t&&(s.finisher=function(e){t(e,o)}),s}var a=e.constructor;void 0!==n&&Object.defineProperty(e,i,n(i)),null==t||t(a,i)}},n;function e$3(e){return o$1({finisher:function(t,n){Object.assign(t.prototype[n],e)}})}function i(e,t){return o$1({descriptor:function(n){var i={get:function(){var t,n;return null!==(n=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==n?n:null},enumerable:!0,configurable:!0};if(t){var r="symbol"==_typeof2(n)?Symbol():"__"+n;i.get=function(){var t,n;return void 0===this[r]&&(this[r]=null!==(n=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==n?n:null),this[r]}}return i}})}function e$2(e){return o$1({descriptor:function(t){return{get:function(){var t,n;return null!==(n=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelectorAll(e))&&void 0!==n?n:[]},enumerable:!0,configurable:!0}}})}function e$1(e){return o$1({descriptor:function(t){return{get:function(){var t=this;return _asyncToGenerator(_regeneratorRuntime().mark((function n(){var i;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.updateComplete;case 2:return n.abrupt("return",null===(i=t.renderRoot)||void 0===i?void 0:i.querySelector(e));case 3:case"end":return n.stop()}}),n)})))()},enumerable:!0,configurable:!0}}})}var e=null!=(null===(n=window.HTMLSlotElement)||void 0===n?void 0:n.prototype.assignedElements)?function(e,t){return e.assignedElements(t)}:function(e,t){return e.assignedNodes(t).filter((function(e){return e.nodeType===Node.ELEMENT_NODE}))};function l(t){var n=null!=t?t:{},i=n.slot,r=n.selector;return o$1({descriptor:function(n){return{get:function(){var n,o="slot"+(i?"[name=".concat(i,"]"):":not([name])"),s=null===(n=this.renderRoot)||void 0===n?void 0:n.querySelector(o),a=null!=s?e(s,t):[];return r?a.filter((function(e){return e.matches(r)})):a},enumerable:!0,configurable:!0}}})}function o(e,t,n){var i,r=e;return"object"==_typeof2(e)?(r=e.slot,i=e):i={flatten:t},n?l({slot:r,flatten:t,selector:n}):o$1({descriptor:function(e){return{get:function(){var e,t,n="slot"+(r?"[name=".concat(r,"]"):":not([name])"),o=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(n);return null!==(t=null==o?void 0:o.assignedNodes(i))&&void 0!==t?t:[]},enumerable:!0,configurable:!0}}})}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getDefaultExportFromNamespaceIfPresent(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getDefaultExportFromNamespaceIfNotNamed(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")&&1===Object.keys(e).length?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})})),t}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lottie$1={exports:{}};(function(module,exports){var factory;"undefined"!=typeof navigator&&(factory=function factory(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var n,i,r=e.length;for(n=0;n<r;n+=1)for(var o in i=e[n].prototype)Object.prototype.hasOwnProperty.call(i,o)&&(t.prototype[o]=i[o])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,n=this.audios.length;for(t=0;t<n;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(e,t){var n,i=0,r=[];switch(e){case"int16":case"uint8c":n=1;break;default:n=1.1}for(i=0;i<t;i+=1)r.push(n);return r}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,n){return"float32"===t?new Float32Array(n):"int16"===t?new Int16Array(n):"uint8c"===t?new Uint8ClampedArray(n):e(t,n)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){return _typeof$6="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=t.length;for(e=0;e<n;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===_typeof$6(e)&&e.length){var t,n=createSizedArray(e.length),i=e.length;for(t=0;t<i;t+=1)n[t]=Math.abs(e[t]);return n}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){_shouldRoundValues=!!e}function bmRnd(e){return _shouldRoundValues?Math.round(e):e}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,n,i){this.type=e,this.currentTime=t,this.totalTime=n,this.direction=i<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,n,i){this.type=e,this.currentLoop=n,this.totalLoops=t,this.direction=i<0?-1:1}function BMSegmentStartEvent(e,t,n){this.type=e,this.firstFrame=t,this.totalFrames=n}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(e,t,n){var i,r,o,s,a,l,c,u;switch(l=n*(1-t),c=n*(1-(a=6*e-(s=Math.floor(6*e)))*t),u=n*(1-(1-a)*t),s%6){case 0:i=n,r=u,o=l;break;case 1:i=c,r=n,o=l;break;case 2:i=l,r=n,o=u;break;case 3:i=l,r=c,o=n;break;case 4:i=u,r=l,o=n;break;case 5:i=n,r=l,o=c}return[i,r,o]}function RGBtoHSV(e,t,n){var i,r=Math.max(e,t,n),o=Math.min(e,t,n),s=r-o,a=0===r?0:s/r,l=r/255;switch(r){case o:i=0;break;case e:i=t-n+s*(t<n?6:0),i/=6*s;break;case t:i=n-e+2*s,i/=6*s;break;case n:i=e-t+4*s,i/=6*s}return[i,a,l]}function addSaturationToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[1]+=t,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[2]+=t,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[0]+=t/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var e,t,n=[];for(e=0;e<256;e+=1)t=e.toString(16),n[e]=1===t.length?"0"+t:t;return function(e,t,i){return e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),"#"+n[e]+n[t]+n[i]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e},getIdPrefix=function(){return idPrefix$1};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){return _typeof$5="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},_typeof$5(e)}var dataManager=function(){var e,t,n=1,i=[],r={onmessage:function(){},postMessage:function(t){e({data:t})}},o={postMessage:function(e){r.onmessage({data:e})}};function s(){t||(t=function(t){if(window.Worker&&window.Blob&&getWebWorker()){var n=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"}),i=URL.createObjectURL(n);return new Worker(i)}return e=t,r}((function(e){if(o.dataManager||(o.dataManager=function(){function e(r,o){var s,a,l,c,u,d,p=r.length;for(a=0;a<p;a+=1)if("ks"in(s=r[a])&&!s.completed){if(s.completed=!0,s.hasMask){var f=s.masksProperties;for(c=f.length,l=0;l<c;l+=1)if(f[l].pt.k.i)i(f[l].pt.k);else for(d=f[l].pt.k.length,u=0;u<d;u+=1)f[l].pt.k[u].s&&i(f[l].pt.k[u].s[0]),f[l].pt.k[u].e&&i(f[l].pt.k[u].e[0])}0===s.ty?(s.layers=t(s.refId,o),e(s.layers,o)):4===s.ty?n(s.shapes):5===s.ty&&h(s)}}function t(e,t){var n=function(e,t){for(var n=0,i=t.length;n<i;){if(t[n].id===e)return t[n];n+=1}return null}(e,t);return n?n.layers.__used?JSON.parse(JSON.stringify(n.layers)):(n.layers.__used=!0,n.layers):null}function n(e){var t,r,o;for(t=e.length-1;t>=0;t-=1)if("sh"===e[t].ty)if(e[t].ks.k.i)i(e[t].ks.k);else for(o=e[t].ks.k.length,r=0;r<o;r+=1)e[t].ks.k[r].s&&i(e[t].ks.k[r].s[0]),e[t].ks.k[r].e&&i(e[t].ks.k[r].e[0]);else"gr"===e[t].ty&&n(e[t].it)}function i(e){var t,n=e.i.length;for(t=0;t<n;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function r(e,t){var n=t?t.split("."):[100,100,100];return e[0]>n[0]||!(n[0]>e[0])&&(e[1]>n[1]||!(n[1]>e[1])&&(e[2]>n[2]||!(n[2]>e[2])&&null))}var o,s=function(){var e=[4,4,14];function t(e){var t,n,i,r=e.length;for(t=0;t<r;t+=1)5===e[t].ty&&(i=(n=e[t]).t.d,n.t.d={k:[{s:i,t:0}]})}return function(n){if(r(e,n.v)&&(t(n.layers),n.assets)){var i,o=n.assets.length;for(i=0;i<o;i+=1)n.assets[i].layers&&t(n.assets[i].layers)}}}(),a=(o=[4,7,99],function(e){if(e.chars&&!r(o,e.v)){var t,i=e.chars.length;for(t=0;t<i;t+=1){var s=e.chars[t];s.data&&s.data.shapes&&(n(s.data.shapes),s.data.ip=0,s.data.op=99999,s.data.st=0,s.data.sr=1,s.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},e.chars[t].t||(s.data.shapes.push({ty:"no"}),s.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),l=function(){var e=[5,7,15];function t(e){var t,n,i=e.length;for(t=0;t<i;t+=1)5===e[t].ty&&(n=void 0,"number"==typeof(n=e[t].t.p).a&&(n.a={a:0,k:n.a}),"number"==typeof n.p&&(n.p={a:0,k:n.p}),"number"==typeof n.r&&(n.r={a:0,k:n.r}))}return function(n){if(r(e,n.v)&&(t(n.layers),n.assets)){var i,o=n.assets.length;for(i=0;i<o;i+=1)n.assets[i].layers&&t(n.assets[i].layers)}}}(),c=function(){var e=[4,1,9];function t(e){var n,i,r,o=e.length;for(n=0;n<o;n+=1)if("gr"===e[n].ty)t(e[n].it);else if("fl"===e[n].ty||"st"===e[n].ty)if(e[n].c.k&&e[n].c.k[0].i)for(r=e[n].c.k.length,i=0;i<r;i+=1)e[n].c.k[i].s&&(e[n].c.k[i].s[0]/=255,e[n].c.k[i].s[1]/=255,e[n].c.k[i].s[2]/=255,e[n].c.k[i].s[3]/=255),e[n].c.k[i].e&&(e[n].c.k[i].e[0]/=255,e[n].c.k[i].e[1]/=255,e[n].c.k[i].e[2]/=255,e[n].c.k[i].e[3]/=255);else e[n].c.k[0]/=255,e[n].c.k[1]/=255,e[n].c.k[2]/=255,e[n].c.k[3]/=255}function n(e){var n,i=e.length;for(n=0;n<i;n+=1)4===e[n].ty&&t(e[n].shapes)}return function(t){if(r(e,t.v)&&(n(t.layers),t.assets)){var i,o=t.assets.length;for(i=0;i<o;i+=1)t.assets[i].layers&&n(t.assets[i].layers)}}}(),u=function(){var e=[4,4,18];function t(e){var n,i,r;for(n=e.length-1;n>=0;n-=1)if("sh"===e[n].ty)if(e[n].ks.k.i)e[n].ks.k.c=e[n].closed;else for(r=e[n].ks.k.length,i=0;i<r;i+=1)e[n].ks.k[i].s&&(e[n].ks.k[i].s[0].c=e[n].closed),e[n].ks.k[i].e&&(e[n].ks.k[i].e[0].c=e[n].closed);else"gr"===e[n].ty&&t(e[n].it)}function n(e){var n,i,r,o,s,a,l=e.length;for(i=0;i<l;i+=1){if((n=e[i]).hasMask){var c=n.masksProperties;for(o=c.length,r=0;r<o;r+=1)if(c[r].pt.k.i)c[r].pt.k.c=c[r].cl;else for(a=c[r].pt.k.length,s=0;s<a;s+=1)c[r].pt.k[s].s&&(c[r].pt.k[s].s[0].c=c[r].cl),c[r].pt.k[s].e&&(c[r].pt.k[s].e[0].c=c[r].cl)}4===n.ty&&t(n.shapes)}}return function(t){if(r(e,t.v)&&(n(t.layers),t.assets)){var i,o=t.assets.length;for(i=0;i<o;i+=1)t.assets[i].layers&&n(t.assets[i].layers)}}}();function h(e){0===e.t.a.length&&e.t.p}var d={completeData:function(n){n.__complete||(c(n),s(n),a(n),l(n),u(n),e(n.layers,n.assets),function(n,i){if(n){var r=0,o=n.length;for(r=0;r<o;r+=1)1===n[r].t&&(n[r].data.layers=t(n[r].data.refId,i),e(n[r].data.layers,i))}}(n.chars,n.assets),n.__complete=!0)}};return d.checkColors=c,d.checkChars=a,d.checkPathProperties=l,d.checkShapes=u,d.completeLayers=e,d}()),o.assetLoader||(o.assetLoader=function(){function e(e){var t=e.getResponseHeader("content-type");return t&&"json"===e.responseType&&-1!==t.indexOf("json")||e.response&&"object"===_typeof$5(e.response)?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}return{load:function(t,n,i,r){var o,s=new XMLHttpRequest;try{s.responseType="json"}catch(e){}s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)o=e(s),i(o);else try{o=e(s),i(o)}catch(e){r&&r(e)}};try{s.open(["G","E","T"].join(""),t,!0)}catch(e){s.open(["G","E","T"].join(""),n+"/"+t,!0)}s.send()}}}()),"loadAnimation"===e.data.type)o.assetLoader.load(e.data.path,e.data.fullPath,(function(t){o.dataManager.completeData(t),o.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){o.postMessage({id:e.data.id,status:"error"})}));else if("complete"===e.data.type){var t=e.data.animation;o.dataManager.completeData(t),o.postMessage({id:e.data.id,payload:t,status:"success"})}else"loadData"===e.data.type&&o.assetLoader.load(e.data.path,e.data.fullPath,(function(t){o.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){o.postMessage({id:e.data.id,status:"error"})}))})),t.onmessage=function(e){var t=e.data,n=t.id,r=i[n];i[n]=null,"success"===t.status?r.onComplete(t.payload):r.onError&&r.onError()})}function a(e,t){var r="processId_"+(n+=1);return i[r]={onComplete:e,onError:t},r}return{loadAnimation:function(e,n,i){s();var r=a(n,i);t.postMessage({type:"loadAnimation",path:e,fullPath:window.location.origin+window.location.pathname,id:r})},loadData:function(e,n,i){s();var r=a(n,i);t.postMessage({type:"loadData",path:e,fullPath:window.location.origin+window.location.pathname,id:r})},completeAnimation:function(e,n,i){s();var r=a(n,i);t.postMessage({type:"complete",animation:e,id:r})}}}(),ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(e,t,n){var i="";if(e.e)i=e.p;else if(t){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),i=t+r}else i=n,i+=e.u?e.u:"",i+=e.p;return i}function r(e){var t=0,n=setInterval(function(){(e.getBBox().width||t>500)&&(this._imageLoaded(),clearInterval(n)),t+=1}.bind(this),50)}function o(e){var t={assetData:e},n=i(e,this.assetsPath,this.path);return dataManager.loadData(n,function(e){t.img=e,this._footageLoaded()}.bind(this),function(){t.img={},this._footageLoaded()}.bind(this)),t}function s(){this._imageLoaded=t.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=r.bind(this),this.createFootageData=o.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return s.prototype={loadAssets:function(e,t){var n;this.imagesLoadedCb=t;var i=e.length;for(n=0;n<i;n+=1)e[n].layers||(e[n].t&&"seq"!==e[n].t?3===e[n].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[n]))):(this.totalImages+=1,this.images.push(this._createImageData(e[n]))))},setAssetsPath:function(e){this.assetsPath=e||""},setPath:function(e){this.path=e||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(e){for(var t=0,n=this.images.length;t<n;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}return null},createImgData:function(t){var n=i(t,this.assetsPath,this.path),r=createTag("img");r.crossOrigin="anonymous",r.addEventListener("load",this._imageLoaded,!1),r.addEventListener("error",function(){o.img=e,this._imageLoaded()}.bind(this),!1),r.src=n;var o={img:r,assetData:t};return o},createImageData:function(t){var n=i(t,this.assetsPath,this.path),r=createNS("image");isSafari?this.testImageLoaded(r):r.addEventListener("load",this._imageLoaded,!1),r.addEventListener("error",function(){o.img=e,this._imageLoaded()}.bind(this),!1),r.setAttributeNS("http://www.w3.org/1999/xlink","href",n),this._elementHelper.append?this._elementHelper.append(r):this._elementHelper.appendChild(r);var o={img:r,assetData:t};return o},imageLoaded:t,footageLoaded:n,setCacheType:function(e,t){"svg"===e?(this._elementHelper=t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},s}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var n=this._cbs[e],i=0;i<n.length;i+=1)n[i](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var n=0,i=this._cbs[e].length;n<i;)this._cbs[e][n]===t&&(this._cbs[e].splice(n,1),n-=1,i-=1),n+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var markerParser=function(){function e(e){for(var t,n=e.split("\r\n"),i={},r=0,o=0;o<n.length;o+=1)2===(t=n[o].split(":")).length&&(i[t[0]]=t[1].trim(),r+=1);if(0===r)throw new Error;return i}return function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],o={time:r.tm,duration:r.dr};try{o.payload=JSON.parse(t[i].cm)}catch(n){try{o.payload=e(t[i].cm)}catch(e){o.payload={name:t[i].cm}}}n.push(o)}return n}}(),ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,n=this.compositions.length;t<n;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),renderers={},registerRenderer=function(e,t){renderers[e]=t};function getRenderer(e){return renderers[e]}function _typeof$4(e){return _typeof$4="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var n=getRenderer(t);this.renderer=new n(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&"object"!==_typeof$4(t)&&(t=JSON.parse(t));var n={wrapper:e,animationData:t},i=e.attributes;n.path=i.getNamedItem("data-animation-path")?i.getNamedItem("data-animation-path").value:i.getNamedItem("data-bm-path")?i.getNamedItem("data-bm-path").value:i.getNamedItem("bm-path")?i.getNamedItem("bm-path").value:"",n.animType=i.getNamedItem("data-anim-type")?i.getNamedItem("data-anim-type").value:i.getNamedItem("data-bm-type")?i.getNamedItem("data-bm-type").value:i.getNamedItem("bm-type")?i.getNamedItem("bm-type").value:i.getNamedItem("data-bm-renderer")?i.getNamedItem("data-bm-renderer").value:i.getNamedItem("bm-renderer")?i.getNamedItem("bm-renderer").value:"canvas";var r=i.getNamedItem("data-anim-loop")?i.getNamedItem("data-anim-loop").value:i.getNamedItem("data-bm-loop")?i.getNamedItem("data-bm-loop").value:i.getNamedItem("bm-loop")?i.getNamedItem("bm-loop").value:"";"false"===r?n.loop=!1:"true"===r?n.loop=!0:""!==r&&(n.loop=parseInt(r,10));var o=i.getNamedItem("data-anim-autoplay")?i.getNamedItem("data-anim-autoplay").value:i.getNamedItem("data-bm-autoplay")?i.getNamedItem("data-bm-autoplay").value:!i.getNamedItem("bm-autoplay")||i.getNamedItem("bm-autoplay").value;n.autoplay="false"!==o,n.name=i.getNamedItem("data-name")?i.getNamedItem("data-name").value:i.getNamedItem("data-bm-name")?i.getNamedItem("data-bm-name").value:i.getNamedItem("bm-name")?i.getNamedItem("bm-name").value:"","false"===(i.getNamedItem("data-anim-prerender")?i.getNamedItem("data-anim-prerender").value:i.getNamedItem("data-bm-prerender")?i.getNamedItem("data-bm-prerender").value:i.getNamedItem("bm-prerender")?i.getNamedItem("bm-prerender").value:"")&&(n.prerender=!1),this.setParams(n)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,n,i=this.animationData.layers,r=i.length,o=e.layers,s=o.length;for(n=0;n<s;n+=1)for(t=0;t<r;){if(i[t].id===o[n].id){i[t]=o[n];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(r=e.assets.length,t=0;t<r;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,t){var n="number"==typeof e?e:void 0,i="number"==typeof t?t:void 0;this.renderer.updateContainerSize(n,i)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,n=0;n<this.markers.length;n+=1)if((t=this.markers[n]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,n){if(!n||this.name===n){var i=Number(e);if(isNaN(i)){var r=this.getMarkerData(e);r&&this.goToAndStop(r.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,n){if(!n||this.name===n){var i=Number(e);if(isNaN(i)){var r=this.getMarkerData(e);r&&(r.duration?this.playSegments([r.time,r.time+r.duration],!0):this.goToAndStop(r.time,!0))}else this.goToAndStop(i,t,n);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,n=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(n=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(n=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),n&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?n=e:this.currentRawFrame+this.firstFrame>t&&(n=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,-1!==n&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"===_typeof$4(e[0])){var n,i=e.length;for(n=0;n<i;n+=1)this.segments.push(e[n])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var n=e.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),t=this.assetsPath+n}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,n=this.assets.length;t<n;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,n){try{this.renderer.getElementByPath(e).updateDocumentData(t,n)}catch(e){}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var e={},t=[],n=0,i=0,r=0,o=!0,s=!1;function a(e){for(var n=0,r=e.target;n<i;)t[n].animation===r&&(t.splice(n,1),n-=1,i-=1,r.isPaused||u()),n+=1}function l(e,n){if(!e)return null;for(var r=0;r<i;){if(t[r].elem===e&&null!==t[r].elem)return t[r].animation;r+=1}var o=new AnimationItem;return h(o,e),o.setData(e,n),o}function c(){r+=1,f()}function u(){r-=1}function h(e,n){e.addEventListener("destroy",a),e.addEventListener("_active",c),e.addEventListener("_idle",u),t.push({elem:n,animation:e}),i+=1}function d(e){var a,l=e-n;for(a=0;a<i;a+=1)t[a].animation.advanceTime(l);n=e,r&&!s?window.requestAnimationFrame(d):o=!0}function p(e){n=e,window.requestAnimationFrame(d)}function f(){!s&&r&&o&&(window.requestAnimationFrame(p),o=!1)}return e.registerAnimation=l,e.loadAnimation=function(e){var t=new AnimationItem;return h(t,null),t.setParams(e),t},e.setSpeed=function(e,n){var r;for(r=0;r<i;r+=1)t[r].animation.setSpeed(e,n)},e.setDirection=function(e,n){var r;for(r=0;r<i;r+=1)t[r].animation.setDirection(e,n)},e.play=function(e){var n;for(n=0;n<i;n+=1)t[n].animation.play(e)},e.pause=function(e){var n;for(n=0;n<i;n+=1)t[n].animation.pause(e)},e.stop=function(e){var n;for(n=0;n<i;n+=1)t[n].animation.stop(e)},e.togglePause=function(e){var n;for(n=0;n<i;n+=1)t[n].animation.togglePause(e)},e.searchAnimations=function(e,t,n){var i,r=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),o=r.length;for(i=0;i<o;i+=1)n&&r[i].setAttribute("data-bm-type",n),l(r[i],e);if(t&&0===o){n||(n="svg");var s=document.getElementsByTagName("body")[0];s.innerText="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",n),s.appendChild(a),l(a,e)}},e.resize=function(){var e;for(e=0;e<i;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,n,r){var o;for(o=0;o<i;o+=1)t[o].animation.goToAndStop(e,n,r)},e.destroy=function(e){var n;for(n=i-1;n>=0;n-=1)t[n].animation.destroy(e)},e.freeze=function(){s=!0},e.unfreeze=function(){s=!1,f()},e.setVolume=function(e,n){var r;for(r=0;r<i;r+=1)t[r].animation.setVolume(e,n)},e.mute=function(e){var n;for(n=0;n<i;n+=1)t[n].animation.mute(e)},e.unmute=function(e){var n;for(n=0;n<i;n+=1)t[n].animation.unmute(e)},e.getRegisteredAnimations=function(){var e,n=t.length,i=[];for(e=0;e<n;e+=1)i.push(t[e].animation);return i},e}(),BezierFactory=function(){var e={getBezierEasing:function(e,n,i,r,o){var s=o||("bez_"+e+"_"+n+"_"+i+"_"+r).replace(/\./g,"p");if(t[s])return t[s];var a=new c([e,n,i,r]);return t[s]=a,a}},t={},n=.1,i="function"==typeof Float32Array;function r(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function s(e){return 3*e}function a(e,t,n){return((r(t,n)*e+o(t,n))*e+s(t))*e}function l(e,t,n){return 3*r(t,n)*e*e+2*o(t,n)*e+s(t)}function c(e){this._p=e,this._mSampleValues=i?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return c.prototype={get:function(e){var t=this._p[0],n=this._p[1],i=this._p[2],r=this._p[3];return this._precomputed||this._precompute(),t===n&&i===r?e:0===e?0:1===e?1:a(this._getTForX(e),n,r)},_precompute:function(){var e=this._p[0],t=this._p[1],n=this._p[2],i=this._p[3];this._precomputed=!0,e===t&&n===i||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],i=0;i<11;++i)this._mSampleValues[i]=a(i*n,e,t)},_getTForX:function(e){for(var t=this._p[0],i=this._p[2],r=this._mSampleValues,o=0,s=1;10!==s&&r[s]<=e;++s)o+=n;var c=o+(e-r[--s])/(r[s+1]-r[s])*n,u=l(c,t,i);return u>=.001?function(e,t,n,i){for(var r=0;r<4;++r){var o=l(t,n,i);if(0===o)return t;t-=(a(t,n,i)-e)/o}return t}(e,c,t,i):0===u?c:function(e,t,n,i,r){var o,s,l=0;do{(o=a(s=t+(n-t)/2,i,r)-e)>0?n=s:t=s}while(Math.abs(o)>1e-7&&++l<10);return s}(e,o,o+n,t,i)}},e}(),pooling={double:function(e){return e.concat(createSizedArray(e.length))}},poolFactory=function(e,t,n){var i=0,r=e,o=createSizedArray(r);return{newElement:function(){return i?o[i-=1]:t()},release:function(e){i===r&&(o=pooling.double(o),r*=2),n&&n(e),o[i]=e,i+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(e){var t,n=e.lengths.length;for(t=0;t<n;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0}));function bezFunction(){var e=Math;function t(e,t,n,i,r,o){var s=e*i+t*r+n*o-r*i-o*e-n*t;return s>-.001&&s<.001}var n=function(e,t,n,i){var r,o,s,a,l,c,u=getDefaultCurveSegments(),h=0,d=[],p=[],f=bezierLengthPool.newElement();for(s=n.length,r=0;r<u;r+=1){for(l=r/(u-1),c=0,o=0;o<s;o+=1)a=bmPow(1-l,3)*e[o]+3*bmPow(1-l,2)*l*n[o]+3*(1-l)*bmPow(l,2)*i[o]+bmPow(l,3)*t[o],d[o]=a,null!==p[o]&&(c+=bmPow(d[o]-p[o],2)),p[o]=d[o];c&&(h+=c=bmSqrt(c)),f.percents[r]=l,f.lengths[r]=h}return f.addedLength=h,f};function i(e){this.segmentLength=0,this.points=new Array(e)}function r(e,t){this.partialLength=e,this.point=t}var o,s=(o={},function(e,n,s,a){var l=(e[0]+"_"+e[1]+"_"+n[0]+"_"+n[1]+"_"+s[0]+"_"+s[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!o[l]){var c,u,h,d,p,f,m,g=getDefaultCurveSegments(),y=0,v=null;2===e.length&&(e[0]!==n[0]||e[1]!==n[1])&&t(e[0],e[1],n[0],n[1],e[0]+s[0],e[1]+s[1])&&t(e[0],e[1],n[0],n[1],n[0]+a[0],n[1]+a[1])&&(g=2);var b=new i(g);for(h=s.length,c=0;c<g;c+=1){for(m=createSizedArray(h),p=c/(g-1),f=0,u=0;u<h;u+=1)d=bmPow(1-p,3)*e[u]+3*bmPow(1-p,2)*p*(e[u]+s[u])+3*(1-p)*bmPow(p,2)*(n[u]+a[u])+bmPow(p,3)*n[u],m[u]=d,null!==v&&(f+=bmPow(m[u]-v[u],2));y+=f=bmSqrt(f),b.points[c]=new r(f,m),v=m}b.segmentLength=y,o[l]=b}return o[l]});function a(e,t){var n=t.percents,i=t.lengths,r=n.length,o=bmFloor((r-1)*e),s=e*t.addedLength,a=0;if(o===r-1||0===o||s===i[o])return n[o];for(var l=i[o]>s?-1:1,c=!0;c;)if(i[o]<=s&&i[o+1]>s?(a=(s-i[o])/(i[o+1]-i[o]),c=!1):o+=l,o<0||o>=r-1){if(o===r-1)return n[o];c=!1}return n[o]+(n[o+1]-n[o])*a}var l=createTypedArray("float32",8);return{getSegmentsLength:function(e){var t,i=segmentsLengthPool.newElement(),r=e.c,o=e.v,s=e.o,a=e.i,l=e._length,c=i.lengths,u=0;for(t=0;t<l-1;t+=1)c[t]=n(o[t],o[t+1],s[t],a[t+1]),u+=c[t].addedLength;return r&&l&&(c[t]=n(o[t],o[0],s[t],a[0]),u+=c[t].addedLength),i.totalLength=u,i},getNewSegment:function(t,n,i,r,o,s,c){o<0?o=0:o>1&&(o=1);var u,h=a(o,c),d=a(s=s>1?1:s,c),p=t.length,f=1-h,m=1-d,g=f*f*f,y=h*f*f*3,v=h*h*f*3,b=h*h*h,_=f*f*m,w=h*f*m+f*h*m+f*f*d,k=h*h*m+f*h*d+h*f*d,S=h*h*d,E=f*m*m,T=h*m*m+f*d*m+f*m*d,x=h*d*m+f*d*d+h*m*d,C=h*d*d,P=m*m*m,A=d*m*m+m*d*m+m*m*d,O=d*d*m+m*d*d+d*m*d,I=d*d*d;for(u=0;u<p;u+=1)l[4*u]=e.round(1e3*(g*t[u]+y*i[u]+v*r[u]+b*n[u]))/1e3,l[4*u+1]=e.round(1e3*(_*t[u]+w*i[u]+k*r[u]+S*n[u]))/1e3,l[4*u+2]=e.round(1e3*(E*t[u]+T*i[u]+x*r[u]+C*n[u]))/1e3,l[4*u+3]=e.round(1e3*(P*t[u]+A*i[u]+O*r[u]+I*n[u]))/1e3;return l},getPointInSegment:function(t,n,i,r,o,s){var l=a(o,s),c=1-l;return[e.round(1e3*(c*c*c*t[0]+(l*c*c+c*l*c+c*c*l)*i[0]+(l*l*c+c*l*l+l*c*l)*r[0]+l*l*l*n[0]))/1e3,e.round(1e3*(c*c*c*t[1]+(l*c*c+c*l*c+c*c*l)*i[1]+(l*l*c+c*l*l+l*c*l)*r[1]+l*l*l*n[1]))/1e3]},buildBezierData:s,pointOnLine2D:t,pointOnLine3D:function(n,i,r,o,s,a,l,c,u){if(0===r&&0===a&&0===u)return t(n,i,o,s,l,c);var h,d=e.sqrt(e.pow(o-n,2)+e.pow(s-i,2)+e.pow(a-r,2)),p=e.sqrt(e.pow(l-n,2)+e.pow(c-i,2)+e.pow(u-r,2)),f=e.sqrt(e.pow(l-o,2)+e.pow(c-s,2)+e.pow(u-a,2));return(h=d>p?d>f?d-p-f:f-p-d:f>p?f-p-d:p-d-f)>-1e-4&&h<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var e=initialDefaultFrame,t=Math.abs;function n(e,t){var n,r=this.offsetTime;"multidimensional"===this.propType&&(n=createTypedArray("float32",this.pv.length));for(var o,s,a,l,c,u,h,d,p,f=t.lastIndex,m=f,g=this.keyframes.length-1,y=!0;y;){if(o=this.keyframes[m],s=this.keyframes[m+1],m===g-1&&e>=s.t-r){o.h&&(o=s),f=0;break}if(s.t-r>e){f=m;break}m<g-1?m+=1:(f=0,y=!1)}a=this.keyframesMetadata[m]||{};var v,b,_,w,k,S,E,T,x,C,P=s.t-r,A=o.t-r;if(o.to){a.bezierData||(a.bezierData=bez.buildBezierData(o.s,s.s||o.e,o.to,o.ti));var O=a.bezierData;if(e>=P||e<A){var I=e>=P?O.points.length-1:0;for(c=O.points[I].point.length,l=0;l<c;l+=1)n[l]=O.points[I].point[l]}else{a.__fnct?p=a.__fnct:(p=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y,o.n).get,a.__fnct=p),u=p((e-A)/(P-A));var L,D=O.segmentLength*u,R=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastAddedLength:0;for(d=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastPoint:0,y=!0,h=O.points.length;y;){if(R+=O.points[d].partialLength,0===D||0===u||d===O.points.length-1){for(c=O.points[d].point.length,l=0;l<c;l+=1)n[l]=O.points[d].point[l];break}if(D>=R&&D<R+O.points[d+1].partialLength){for(L=(D-R)/O.points[d+1].partialLength,c=O.points[d].point.length,l=0;l<c;l+=1)n[l]=O.points[d].point[l]+(O.points[d+1].point[l]-O.points[d].point[l])*L;break}d<h-1?d+=1:y=!1}t._lastPoint=d,t._lastAddedLength=R-O.points[d].partialLength,t._lastKeyframeIndex=m}}else{var M,N,j,F,B;if(g=o.s.length,v=s.s||o.e,this.sh&&1!==o.h)e>=P?(n[0]=v[0],n[1]=v[1],n[2]=v[2]):e<=A?(n[0]=o.s[0],n[1]=o.s[1],n[2]=o.s[2]):(b=n,_=function(e,t,n){var i,r,o,s,a,l=[],c=e[0],u=e[1],h=e[2],d=e[3],p=t[0],f=t[1],m=t[2],g=t[3];return(r=c*p+u*f+h*m+d*g)<0&&(r=-r,p=-p,f=-f,m=-m,g=-g),1-r>1e-6?(i=Math.acos(r),o=Math.sin(i),s=Math.sin((1-n)*i)/o,a=Math.sin(n*i)/o):(s=1-n,a=n),l[0]=s*c+a*p,l[1]=s*u+a*f,l[2]=s*h+a*m,l[3]=s*d+a*g,l}(i(o.s),i(v),(e-A)/(P-A)),w=_[0],k=_[1],S=_[2],E=_[3],T=Math.atan2(2*k*E-2*w*S,1-2*k*k-2*S*S),x=Math.asin(2*w*k+2*S*E),C=Math.atan2(2*w*E-2*k*S,1-2*w*w-2*S*S),b[0]=T/degToRads,b[1]=x/degToRads,b[2]=C/degToRads);else for(m=0;m<g;m+=1)1!==o.h&&(e>=P?u=1:e<A?u=0:(o.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[m]?p=a.__fnct[m]:(M=void 0===o.o.x[m]?o.o.x[0]:o.o.x[m],N=void 0===o.o.y[m]?o.o.y[0]:o.o.y[m],j=void 0===o.i.x[m]?o.i.x[0]:o.i.x[m],F=void 0===o.i.y[m]?o.i.y[0]:o.i.y[m],p=BezierFactory.getBezierEasing(M,N,j,F).get,a.__fnct[m]=p)):a.__fnct?p=a.__fnct:(M=o.o.x,N=o.o.y,j=o.i.x,F=o.i.y,p=BezierFactory.getBezierEasing(M,N,j,F).get,o.keyframeMetadata=p),u=p((e-A)/(P-A)))),v=s.s||o.e,B=1===o.h?o.s[m]:o.s[m]+(v[m]-o.s[m])*u,"multidimensional"===this.propType?n[m]=B:n=B}return t.lastIndex=f,n}function i(e){var t=e[0]*degToRads,n=e[1]*degToRads,i=e[2]*degToRads,r=Math.cos(t/2),o=Math.cos(n/2),s=Math.cos(i/2),a=Math.sin(t/2),l=Math.sin(n/2),c=Math.sin(i/2);return[a*l*s+r*o*c,a*o*s+r*l*c,r*l*s-a*o*c,r*o*s-a*l*c]}function r(){var t=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==e&&(this._caching.lastFrame>=i&&t>=i||this._caching.lastFrame<n&&t<n))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(t,this._caching);this.pv=r}return this._caching.lastFrame=t,this.pv}function o(e){var n;if("unidimensional"===this.propType)n=e*this.mult,t(this.v-n)>1e-5&&(this.v=n,this._mdf=!0);else for(var i=0,r=this.v.length;i<r;)n=e[i]*this.mult,t(this.v[i]-n)>1e-5&&(this.v[i]=n,this._mdf=!0),i+=1}function s(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e;this.lock=!0,this._mdf=this._isFirstFrame;var t=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)n=this.effectsSequence[e](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(e,t,n,i){this.propType="unidimensional",this.mult=n||1,this.data=t,this.v=n?t.k*n:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=i,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=s,this.setVValue=o,this.addEffect=a}function c(e,t,n,i){var r;this.propType="multidimensional",this.mult=n||1,this.data=t,this._mdf=!1,this.elem=e,this.container=i,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var l=t.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),this.vel=createTypedArray("float32",l),r=0;r<l;r+=1)this.v[r]=t.k[r]*this.mult,this.pv[r]=t.k[r];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=s,this.setVValue=o,this.addEffect=a}function u(t,i,l,c){this.propType="unidimensional",this.keyframes=i.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=i,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.v=e,this.pv=e,this._isFirstFrame=!0,this.getValue=s,this.setVValue=o,this.interpolateValue=n,this.effectsSequence=[r.bind(this)],this.addEffect=a}function h(t,i,l,c){var u;this.propType="multidimensional";var h,d,p,f,m=i.k.length;for(u=0;u<m-1;u+=1)i.k[u].to&&i.k[u].s&&i.k[u+1]&&i.k[u+1].s&&(h=i.k[u].s,d=i.k[u+1].s,p=i.k[u].to,f=i.k[u].ti,(2===h.length&&(h[0]!==d[0]||h[1]!==d[1])&&bez.pointOnLine2D(h[0],h[1],d[0],d[1],h[0]+p[0],h[1]+p[1])&&bez.pointOnLine2D(h[0],h[1],d[0],d[1],d[0]+f[0],d[1]+f[1])||3===h.length&&(h[0]!==d[0]||h[1]!==d[1]||h[2]!==d[2])&&bez.pointOnLine3D(h[0],h[1],h[2],d[0],d[1],d[2],h[0]+p[0],h[1]+p[1],h[2]+p[2])&&bez.pointOnLine3D(h[0],h[1],h[2],d[0],d[1],d[2],d[0]+f[0],d[1]+f[1],d[2]+f[2]))&&(i.k[u].to=null,i.k[u].ti=null),h[0]===d[0]&&h[1]===d[1]&&0===p[0]&&0===p[1]&&0===f[0]&&0===f[1]&&(2===h.length||h[2]===d[2]&&0===p[2]&&0===f[2])&&(i.k[u].to=null,i.k[u].ti=null));this.effectsSequence=[r.bind(this)],this.data=i,this.keyframes=i.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.getValue=s,this.setVValue=o,this.interpolateValue=n,this.frameId=-1;var g=i.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),u=0;u<g;u+=1)this.v[u]=e,this.pv[u]=e;this._caching={lastFrame:e,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=a}var d={getProp:function(e,t,n,i,r){var o;if(t.k.length)if("number"==typeof t.k[0])o=new c(e,t,i,r);else switch(n){case 0:o=new u(e,t,i,r);break;case 1:o=new h(e,t,i,r)}else o=new l(e,t,i,r);return o.effectsSequence.length&&r.addDynamicProperty(o),o}};return d}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var n=0;n<t;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,n,i,r){var o;switch(this._length=Math.max(this._length,i+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o;break;default:o=[]}(!o[i]||o[i]&&!r)&&(o[i]=pointPool.newElement()),o[i][0]=e,o[i][1]=t},ShapePath.prototype.setTripleAt=function(e,t,n,i,r,o,s,a){this.setXYAt(e,t,"v",s,a),this.setXYAt(n,i,"o",s,a),this.setXYAt(r,o,"i",s,a)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,n=this.o,i=this.i,r=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],i[0][0],i[0][1],n[0][0],n[0][1],0,!1),r=1);var o,s=this._length-1,a=this._length;for(o=r;o<a;o+=1)e.setTripleAt(t[s][0],t[s][1],i[s][0],i[s][1],n[s][0],n[s][1],o,!1),s-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(e){var t,n=e._length;for(t=0;t<n;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1})),factory.clone=function(e){var t,n=factory.newElement(),i=void 0===e._length?e.v.length:e._length;for(n.setLength(i),n.c=e.c,t=0;t<i;t+=1)n.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return n},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(e){var t,n=e._length;for(t=0;t<n;t+=1)shapePool.release(e.shapes[t]);e._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=e,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var e=-999999;function t(e,t,n){var i,r,o,s,a,l,c,u,h,d=n.lastIndex,p=this.keyframes;if(e<p[0].t-this.offsetTime)i=p[0].s[0],o=!0,d=0;else if(e>=p[p.length-1].t-this.offsetTime)i=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],o=!0;else{for(var f,m,g,y=d,v=p.length-1,b=!0;b&&(f=p[y],!((m=p[y+1]).t-this.offsetTime>e));)y<v-1?y+=1:b=!1;if(g=this.keyframesMetadata[y]||{},d=y,!(o=1===f.h)){if(e>=m.t-this.offsetTime)u=1;else if(e<f.t-this.offsetTime)u=0;else{var _;g.__fnct?_=g.__fnct:(_=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,g.__fnct=_),u=_((e-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}r=m.s?m.s[0]:f.e[0]}i=f.s[0]}for(l=t._length,c=i.i[0].length,n.lastIndex=d,s=0;s<l;s+=1)for(a=0;a<c;a+=1)h=o?i.i[s][a]:i.i[s][a]+(r.i[s][a]-i.i[s][a])*u,t.i[s][a]=h,h=o?i.o[s][a]:i.o[s][a]+(r.o[s][a]-i.o[s][a])*u,t.o[s][a]=h,h=o?i.v[s][a]:i.v[s][a]+(r.v[s][a]-i.v[s][a])*u,t.v[s][a]=h}function n(){var t=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime,r=this._caching.lastFrame;return r!==e&&(r<n&&t<n||r>i&&t>i)||(this._caching.lastIndex=r<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function i(){this.paths=this.localShapeCollection}function r(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var n,i=e._length;for(n=0;n<i;n+=1)if(e.v[n][0]!==t.v[n][0]||e.v[n][1]!==t.v[n][1]||e.o[n][0]!==t.o[n][0]||e.o[n][1]!==t.o[n][1]||e.i[n][0]!==t.i[n][0]||e.i[n][1]!==t.i[n][1])return!1;return!0})(this.v,e)||(this.v=shapePool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function o(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e,t;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var n=this.effectsSequence.length;for(t=0;t<n;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function s(e,t,n){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var r=3===n?t.pt.k:t.ks.k;this.v=shapePool.clone(r),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i,this.effectsSequence=[]}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(t,r,o){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===o?r.pt.k:r.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var s=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,s),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=i,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[n.bind(this)]}s.prototype.interpolateShape=t,s.prototype.getValue=o,s.prototype.setVValue=r,s.prototype.addEffect=a,l.prototype.getValue=o,l.prototype.interpolateShape=t,l.prototype.setVValue=r,l.prototype.addEffect=a;var c=function(){var e=roundCorner;function t(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],n=this.p.v[1],i=this.s.v[0]/2,r=this.s.v[1]/2,o=3!==this.d,s=this.v;s.v[0][0]=t,s.v[0][1]=n-r,s.v[1][0]=o?t+i:t-i,s.v[1][1]=n,s.v[2][0]=t,s.v[2][1]=n+r,s.v[3][0]=o?t-i:t+i,s.v[3][1]=n,s.i[0][0]=o?t-i*e:t+i*e,s.i[0][1]=n-r,s.i[1][0]=o?t+i:t-i,s.i[1][1]=n-r*e,s.i[2][0]=o?t+i*e:t-i*e,s.i[2][1]=n+r,s.i[3][0]=o?t-i:t+i,s.i[3][1]=n+r*e,s.o[0][0]=o?t+i*e:t-i*e,s.o[0][1]=n-r,s.o[1][0]=o?t+i:t-i,s.o[1][1]=n+r*e,s.o[2][0]=o?t-i*e:t+i*e,s.o[2][1]=n+r,s.o[3][0]=o?t-i:t+i,s.o[3][1]=n-r*e}},extendPrototype([DynamicPropertyContainer],t),t}(),u=function(){function e(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,n,i,r=2*Math.floor(this.pt.v),o=2*Math.PI/r,s=!0,a=this.or.v,l=this.ir.v,c=this.os.v,u=this.is.v,h=2*Math.PI*a/(2*r),d=2*Math.PI*l/(2*r),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<r;e+=1){n=s?c:u,i=s?h:d;var m=(t=s?a:l)*Math.cos(p),g=t*Math.sin(p),y=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),v=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-y*i*n*f,g-v*i*n*f,m+y*i*n*f,g+v*i*n*f,e,!0),s=!s,p+=o*f}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),n=2*Math.PI/t,i=this.or.v,r=this.os.v,o=2*Math.PI*i/(4*t),s=.5*-Math.PI,a=3===this.data.d?-1:1;for(s+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var l=i*Math.cos(s),c=i*Math.sin(s),u=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),h=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-u*o*r*a,c-h*o*r*a,l+u*o*r*a,c+h*o*r*a,e,!0),s+=n*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),h=function(){function e(e,t){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],n=this.s.v[0]/2,i=this.s.v[1]/2,r=bmMin(n,i,this.r.v),o=r*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+n,t-i+r,e+n,t-i+r,e+n,t-i+o,0,!0),this.v.setTripleAt(e+n,t+i-r,e+n,t+i-o,e+n,t+i-r,1,!0),0!==r?(this.v.setTripleAt(e+n-r,t+i,e+n-r,t+i,e+n-o,t+i,2,!0),this.v.setTripleAt(e-n+r,t+i,e-n+o,t+i,e-n+r,t+i,3,!0),this.v.setTripleAt(e-n,t+i-r,e-n,t+i-r,e-n,t+i-o,4,!0),this.v.setTripleAt(e-n,t-i+r,e-n,t-i+o,e-n,t-i+r,5,!0),this.v.setTripleAt(e-n+r,t-i,e-n+r,t-i,e-n+o,t-i,6,!0),this.v.setTripleAt(e+n-r,t-i,e+n-o,t-i,e+n-r,t-i,7,!0)):(this.v.setTripleAt(e-n,t+i,e-n+o,t+i,e-n,t+i,2),this.v.setTripleAt(e-n,t-i,e-n,t-i+o,e-n,t-i,3))):(this.v.setTripleAt(e+n,t-i+r,e+n,t-i+o,e+n,t-i+r,0,!0),0!==r?(this.v.setTripleAt(e+n-r,t-i,e+n-r,t-i,e+n-o,t-i,1,!0),this.v.setTripleAt(e-n+r,t-i,e-n+o,t-i,e-n+r,t-i,2,!0),this.v.setTripleAt(e-n,t-i+r,e-n,t-i+r,e-n,t-i+o,3,!0),this.v.setTripleAt(e-n,t+i-r,e-n,t+i-o,e-n,t+i-r,4,!0),this.v.setTripleAt(e-n+r,t+i,e-n+r,t+i,e-n+o,t+i,5,!0),this.v.setTripleAt(e+n-r,t+i,e+n-o,t+i,e+n-r,t+i,6,!0),this.v.setTripleAt(e+n,t+i-r,e+n,t+i-r,e+n,t+i-o,7,!0)):(this.v.setTripleAt(e-n,t-i,e-n+o,t-i,e-n,t-i,1,!0),this.v.setTripleAt(e-n,t+i,e-n,t+i-o,e-n,t+i,2,!0),this.v.setTripleAt(e+n,t+i,e+n-o,t+i,e+n,t+i,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:i},extendPrototype([DynamicPropertyContainer],e),e}(),d={getShapeProp:function(e,t,n){var i;return 3===n||4===n?i=(3===n?t.pt:t.ks).k.length?new l(e,t,n):new s(e,t,n):5===n?i=new h(e,t):6===n?i=new c(e,t):7===n&&(i=new u(e,t)),i.k&&e.addDynamicProperty(i),i},getConstructorFunction:function(){return s},getKeyframedConstructorFunction:function(){return l}};return d}(),Matrix=function(){var e=Math.cos,t=Math.sin,n=Math.tan,i=Math.round;function r(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(n){if(0===n)return this;var i=e(n),r=t(n);return this._t(i,-r,0,0,r,i,0,0,0,0,1,0,0,0,0,1)}function s(n){if(0===n)return this;var i=e(n),r=t(n);return this._t(1,0,0,0,0,i,-r,0,0,r,i,0,0,0,0,1)}function a(n){if(0===n)return this;var i=e(n),r=t(n);return this._t(i,0,r,0,0,1,0,0,-r,0,i,0,0,0,0,1)}function l(n){if(0===n)return this;var i=e(n),r=t(n);return this._t(i,-r,0,0,r,i,0,0,0,0,1,0,0,0,0,1)}function c(e,t){return this._t(1,t,e,1,0,0)}function u(e,t){return this.shear(n(e),n(t))}function h(i,r){var o=e(r),s=t(r);return this._t(o,s,0,0,-s,o,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(i),1,0,0,0,0,1,0,0,0,0,1)._t(o,-s,0,0,s,o,0,0,0,0,1,0,0,0,0,1)}function d(e,t,n){return n||0===n||(n=1),1===e&&1===t&&1===n?this:this._t(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1)}function p(e,t,n,i,r,o,s,a,l,c,u,h,d,p,f,m){return this.props[0]=e,this.props[1]=t,this.props[2]=n,this.props[3]=i,this.props[4]=r,this.props[5]=o,this.props[6]=s,this.props[7]=a,this.props[8]=l,this.props[9]=c,this.props[10]=u,this.props[11]=h,this.props[12]=d,this.props[13]=p,this.props[14]=f,this.props[15]=m,this}function f(e,t,n){return n=n||0,0!==e||0!==t||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1):this}function m(e,t,n,i,r,o,s,a,l,c,u,h,d,p,f,m){var g=this.props;if(1===e&&0===t&&0===n&&0===i&&0===r&&1===o&&0===s&&0===a&&0===l&&0===c&&1===u&&0===h)return g[12]=g[12]*e+g[15]*d,g[13]=g[13]*o+g[15]*p,g[14]=g[14]*u+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var y=g[0],v=g[1],b=g[2],_=g[3],w=g[4],k=g[5],S=g[6],E=g[7],T=g[8],x=g[9],C=g[10],P=g[11],A=g[12],O=g[13],I=g[14],L=g[15];return g[0]=y*e+v*r+b*l+_*d,g[1]=y*t+v*o+b*c+_*p,g[2]=y*n+v*s+b*u+_*f,g[3]=y*i+v*a+b*h+_*m,g[4]=w*e+k*r+S*l+E*d,g[5]=w*t+k*o+S*c+E*p,g[6]=w*n+k*s+S*u+E*f,g[7]=w*i+k*a+S*h+E*m,g[8]=T*e+x*r+C*l+P*d,g[9]=T*t+x*o+C*c+P*p,g[10]=T*n+x*s+C*u+P*f,g[11]=T*i+x*a+C*h+P*m,g[12]=A*e+O*r+I*l+L*d,g[13]=A*t+O*o+I*c+L*p,g[14]=A*n+O*s+I*u+L*f,g[15]=A*i+O*a+I*h+L*m,this._identityCalculated=!1,this}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function y(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function v(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t];return e}function b(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function _(e,t,n){return{x:e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}}function w(e,t,n){return e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12]}function k(e,t,n){return e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13]}function S(e,t,n){return e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}function E(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,n=-this.props[1]/e,i=-this.props[4]/e,r=this.props[0]/e,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,a=new Matrix;return a.props[0]=t,a.props[1]=n,a.props[4]=i,a.props[5]=r,a.props[12]=o,a.props[13]=s,a}function T(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function x(e){var t,n=e.length,i=[];for(t=0;t<n;t+=1)i[t]=T(e[t]);return i}function C(e,t,n){var i=createTypedArray("float32",6);if(this.isIdentity())i[0]=e[0],i[1]=e[1],i[2]=t[0],i[3]=t[1],i[4]=n[0],i[5]=n[1];else{var r=this.props[0],o=this.props[1],s=this.props[4],a=this.props[5],l=this.props[12],c=this.props[13];i[0]=e[0]*r+e[1]*s+l,i[1]=e[0]*o+e[1]*a+c,i[2]=t[0]*r+t[1]*s+l,i[3]=t[0]*o+t[1]*a+c,i[4]=n[0]*r+n[1]*s+l,i[5]=n[0]*o+n[1]*a+c}return i}function P(e,t,n){return this.isIdentity()?[e,t,n]:[e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]]}function A(e,t){if(this.isIdentity())return e+","+t;var n=this.props;return Math.round(100*(e*n[0]+t*n[4]+n[12]))/100+","+Math.round(100*(e*n[1]+t*n[5]+n[13]))/100}function O(){for(var e=0,t=this.props,n="matrix3d(";e<16;)n+=i(1e4*t[e])/1e4,n+=15===e?")":",",e+=1;return n}function I(e){return e<1e-6&&e>0||e>-1e-6&&e<0?i(1e4*e)/1e4:e}function L(){var e=this.props;return"matrix("+I(e[0])+","+I(e[1])+","+I(e[4])+","+I(e[5])+","+I(e[12])+","+I(e[13])+")"}return function(){this.reset=r,this.rotate=o,this.rotateX=s,this.rotateY=a,this.rotateZ=l,this.skew=u,this.skewFromAxis=h,this.shear=c,this.scale=d,this.setTransform=p,this.translate=f,this.transform=m,this.applyToPoint=_,this.applyToX=w,this.applyToY=k,this.applyToZ=S,this.applyToPointArray=P,this.applyToTriplePoints=C,this.applyToPointStringified=A,this.toCSS=O,this.to2dCSS=L,this.clone=v,this.cloneFromProps=b,this.equals=y,this.inversePoints=x,this.inversePoint=T,this.getInverseMatrix=E,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){return _typeof$3="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},_typeof$3(e)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(e){setLocationHref(e)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),n=0;n<t.length;n+=1){var i=t[n].split("=");if(decodeURIComponent(i[0])==e)return decodeURIComponent(i[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.10.0";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&(window.bodymovin=lottie)}catch(e){}var ShapeModifiers=function(){var e={},t={};return e.registerModifier=function(e,n){t[e]||(t[e]=n)},e.getModifier=function(e,n,i){return new t[e](n,i)},e}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,n,i,r){var o=[];t<=1?o.push({s:e,e:t}):e>=1?o.push({s:e-1,e:t-1}):(o.push({s:e,e:1}),o.push({s:0,e:t-1}));var s,a,l=[],c=o.length;for(s=0;s<c;s+=1){var u,h;(a=o[s]).e*r<i||a.s*r>i+n||(u=a.s*r<=i?0:(a.s*r-i)/n,h=a.e*r>=i+n?1:(a.e*r-i)/n,l.push([u,h]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,n=e.length;for(t=0;t<n;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,n,i,r;if(this._mdf||e){var o=this.o.v%360/360;if(o<0&&(o+=1),(t=this.s.v>1?1+o:this.s.v<0?0+o:this.s.v+o)>(n=this.e.v>1?1+o:this.e.v<0?0+o:this.e.v+o)){var s=t;t=n,n=s}t=1e-4*Math.round(1e4*t),n=1e-4*Math.round(1e4*n),this.sValue=t,this.eValue=n}else t=this.sValue,n=this.eValue;var a,l,c,u,h,d=this.shapes.length,p=0;if(n===t)for(r=0;r<d;r+=1)this.shapes[r].localShapeCollection.releaseShapes(),this.shapes[r].shape._mdf=!0,this.shapes[r].shape.paths=this.shapes[r].localShapeCollection,this._mdf&&(this.shapes[r].pathsData.length=0);else if(1===n&&0===t||0===n&&1===t){if(this._mdf)for(r=0;r<d;r+=1)this.shapes[r].pathsData.length=0,this.shapes[r].shape._mdf=!0}else{var f,m,g=[];for(r=0;r<d;r+=1)if((f=this.shapes[r]).shape._mdf||this._mdf||e||2===this.m){if(l=(i=f.shape.paths)._length,h=0,!f.shape._mdf&&f.pathsData.length)h=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),a=0;a<l;a+=1)u=bez.getSegmentsLength(i.shapes[a]),c.push(u),h+=u.totalLength;f.totalShapeLength=h,f.pathsData=c}p+=h,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var y,v=t,b=n,_=0;for(r=d-1;r>=0;r-=1)if((f=this.shapes[r]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&d>1?(y=this.calculateShapeEdges(t,n,f.totalShapeLength,_,p),_+=f.totalShapeLength):y=[[v,b]],l=y.length,a=0;a<l;a+=1){v=y[a][0],b=y[a][1],g.length=0,b<=1?g.push({s:f.totalShapeLength*v,e:f.totalShapeLength*b}):v>=1?g.push({s:f.totalShapeLength*(v-1),e:f.totalShapeLength*(b-1)}):(g.push({s:f.totalShapeLength*v,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(b-1)}));var w=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var k=w.pop();this.addPaths(w,m),w=this.addShapes(f,g[1],k)}else this.addPaths(w,m),w=this.addShapes(f,g[1]);this.addPaths(w,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(e,t){var n,i=e.length;for(n=0;n<i;n+=1)t.addShape(e[n])},TrimModifier.prototype.addSegment=function(e,t,n,i,r,o,s){r.setXYAt(t[0],t[1],"o",o),r.setXYAt(n[0],n[1],"i",o+1),s&&r.setXYAt(e[0],e[1],"v",o),r.setXYAt(i[0],i[1],"v",o+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,n,i){t.setXYAt(e[1],e[5],"o",n),t.setXYAt(e[2],e[6],"i",n+1),i&&t.setXYAt(e[0],e[4],"v",n),t.setXYAt(e[3],e[7],"v",n+1)},TrimModifier.prototype.addShapes=function(e,t,n){var i,r,o,s,a,l,c,u,h=e.pathsData,d=e.shape.paths.shapes,p=e.shape.paths._length,f=0,m=[],g=!0;for(n?(a=n._length,u=n._length):(n=shapePool.newElement(),a=0,u=0),m.push(n),i=0;i<p;i+=1){for(l=h[i].lengths,n.c=d[i].c,o=d[i].c?l.length:l.length+1,r=1;r<o;r+=1)if(f+(s=l[r-1]).addedLength<t.s)f+=s.addedLength,n.c=!1;else{if(f>t.e){n.c=!1;break}t.s<=f&&t.e>=f+s.addedLength?(this.addSegment(d[i].v[r-1],d[i].o[r-1],d[i].i[r],d[i].v[r],n,a,g),g=!1):(c=bez.getNewSegment(d[i].v[r-1],d[i].v[r],d[i].o[r-1],d[i].i[r],(t.s-f)/s.addedLength,(t.e-f)/s.addedLength,l[r-1]),this.addSegmentFromArray(c,n,a,g),g=!1,n.c=!1),f+=s.addedLength,a+=1}if(d[i].c&&l.length){if(s=l[r-1],f<=t.e){var y=l[r-1].addedLength;t.s<=f&&t.e>=f+y?(this.addSegment(d[i].v[r-1],d[i].o[r-1],d[i].i[0],d[i].v[0],n,a,g),g=!1):(c=bez.getNewSegment(d[i].v[r-1],d[i].v[0],d[i].o[r-1],d[i].i[0],(t.s-f)/y,(t.e-f)/y,l[r-1]),this.addSegmentFromArray(c,n,a,g),g=!1,n.c=!1)}else n.c=!1;f+=s.addedLength,a+=1}if(n._length&&(n.setXYAt(n.v[u][0],n.v[u][1],"i",u),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),f>t.e)break;i<p-1&&(n=shapePool.newElement(),g=!0,m.push(n),a=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var n=t/100,i=[0,0],r=e._length,o=0;for(o=0;o<r;o+=1)i[0]+=e.v[o][0],i[1]+=e.v[o][1];i[0]/=r,i[1]/=r;var s,a,l,c,u,h,d=shapePool.newElement();for(d.c=e.c,o=0;o<r;o+=1)s=e.v[o][0]+(i[0]-e.v[o][0])*n,a=e.v[o][1]+(i[1]-e.v[o][1])*n,l=e.o[o][0]+(i[0]-e.o[o][0])*-n,c=e.o[o][1]+(i[1]-e.o[o][1])*-n,u=e.i[o][0]+(i[0]-e.i[o][0])*-n,h=e.i[o][1]+(i[1]-e.i[o][1])*-n,d.setTripleAt(s,a,l,c,u,h,o);return d},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,n,i,r,o,s,a=this.shapes.length,l=this.amount.v;if(0!==l)for(n=0;n<a;n+=1){if(s=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||e)for(s.releaseShapes(),o.shape._mdf=!0,t=o.shape.paths.shapes,r=o.shape.paths._length,i=0;i<r;i+=1)s.addShape(this.processPath(t[i],l));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function t(e,t,n){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var i,r=t.or.k.length;for(i=0;i<r;i+=1)t.or.k[i].to=null,t.or.k[i].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var n;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var i,r;if(n=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(i=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),r=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(i=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),r=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(i=this.p.pv,r=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){i=[],r=[];var o=this.px,s=this.py;o._caching.lastFrame+o.offsetTime<=o.keyframes[0].t?(i[0]=o.getValueAtTime((o.keyframes[0].t+.01)/n,0),i[1]=s.getValueAtTime((s.keyframes[0].t+.01)/n,0),r[0]=o.getValueAtTime(o.keyframes[0].t/n,0),r[1]=s.getValueAtTime(s.keyframes[0].t/n,0)):o._caching.lastFrame+o.offsetTime>=o.keyframes[o.keyframes.length-1].t?(i[0]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/n,0),i[1]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/n,0),r[0]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/n,0),r[1]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/n,0)):(i=[o.pv,s.pv],r[0]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/n,o.offsetTime),r[1]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/n,s.offsetTime))}else i=r=e;this.v.rotate(-Math.atan2(i[1]-r[1],i[0]-r[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,n,i){return new t(e,n,i)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(e,t){return 1e5*Math.abs(e-t)<=Math.min(Math.abs(e),Math.abs(t))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,t,n){return e*(1-n)+t*n}function lerpPoint(e,t,n){return[lerp(e[0],t[0],n),lerp(e[1],t[1],n)]}function quadRoots(e,t,n){if(0===e)return[];var i=t*t-4*e*n;if(i<0)return[];var r=-t/(2*e);if(0===i)return[r];var o=Math.sqrt(i)/(2*e);return[r-o,r+o]}function polynomialCoefficients(e,t,n,i){return[3*t-e-3*n+i,3*e-6*t+3*n,-3*e+3*t,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,t,n,i,r){r&&pointEqual(e,t)&&(t=lerpPoint(e,i,1/3)),r&&pointEqual(n,i)&&(n=lerpPoint(e,i,2/3));var o=polynomialCoefficients(e[0],t[0],n[0],i[0]),s=polynomialCoefficients(e[1],t[1],n[1],i[1]);this.a=[o[0],s[0]],this.b=[o[1],s[1]],this.c=[o[2],s[2]],this.d=[o[3],s[3]],this.points=[e,t,n,i]}function extrema(e,t){var n=e.points[0][t],i=e.points[e.points.length-1][t];if(n>i){var r=i;i=n,n=r}for(var o=quadRoots(3*e.a[t],2*e.b[t],e.c[t]),s=0;s<o.length;s+=1)if(o[s]>0&&o[s]<1){var a=e.point(o[s])[t];a<n?n=a:a>i&&(i=a)}return{min:n,max:i}}function intersectData(e,t,n){var i=e.boundingBox();return{cx:i.cx,cy:i.cy,width:i.width,height:i.height,bez:e,t:(t+n)/2,t1:t,t2:n}}function splitData(e){var t=e.bez.split(.5);return[intersectData(t[0],e.t1,e.t),intersectData(t[1],e.t,e.t2)]}function boxIntersect(e,t){return 2*Math.abs(e.cx-t.cx)<e.width+t.width&&2*Math.abs(e.cy-t.cy)<e.height+t.height}function intersectsImpl(e,t,n,i,r,o){if(boxIntersect(e,t))if(n>=o||e.width<=i&&e.height<=i&&t.width<=i&&t.height<=i)r.push([e.t,t.t]);else{var s=splitData(e),a=splitData(t);intersectsImpl(s[0],a[0],n+1,i,r,o),intersectsImpl(s[0],a[1],n+1,i,r,o),intersectsImpl(s[1],a[0],n+1,i,r,o),intersectsImpl(s[1],a[1],n+1,i,r,o)}}function crossProduct(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function lineIntersection(e,t,n,i){var r=[e[0],e[1],1],o=[t[0],t[1],1],s=[n[0],n[1],1],a=[i[0],i[1],1],l=crossProduct(crossProduct(r,o),crossProduct(s,a));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(e,t,n){return[e[0]+Math.cos(t)*n,e[1]-Math.sin(t)*n]}function pointDistance(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function pointEqual(e,t){return floatEqual(e[0],t[0])&&floatEqual(e[1],t[1])}function ZigZagModifier(){}function setPoint(e,t,n,i,r,o,s){var a=n-Math.PI/2,l=n+Math.PI/2,c=t[0]+Math.cos(n)*i*r,u=t[1]-Math.sin(n)*i*r;e.setTripleAt(c,u,c+Math.cos(a)*o,u-Math.sin(a)*o,c+Math.cos(l)*s,u-Math.sin(l)*s,e.length())}function getPerpendicularVector(e,t){var n=[t[0]-e[0],t[1]-e[1]],i=.5*-Math.PI;return[Math.cos(i)*n[0]-Math.sin(i)*n[1],Math.sin(i)*n[0]+Math.cos(i)*n[1]]}function getProjectingAngle(e,t){var n=0===t?e.length()-1:t-1,i=(t+1)%e.length(),r=getPerpendicularVector(e.v[n],e.v[i]);return Math.atan2(0,1)-Math.atan2(r[1],r[0])}function zigZagCorner(e,t,n,i,r,o,s){var a=getProjectingAngle(t,n),l=t.v[n%t._length],c=t.v[0===n?t._length-1:n-1],u=t.v[(n+1)%t._length],h=2===o?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,d=2===o?Math.sqrt(Math.pow(l[0]-u[0],2)+Math.pow(l[1]-u[1],2)):0;setPoint(e,t.v[n%t._length],a,s,i,d/(2*(r+1)),h/(2*(r+1)),o)}function zigZagSegment(e,t,n,i,r,o){for(var s=0;s<i;s+=1){var a=(s+1)/(i+1),l=2===r?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,c=t.normalAngle(a);setPoint(e,t.point(a),c,o,n,l/(2*(i+1)),l/(2*(i+1)),r),o=-o}return o}function linearOffset(e,t,n){var i=Math.atan2(t[0]-e[0],t[1]-e[1]);return[polarOffset(e,i,n),polarOffset(t,i,n)]}function offsetSegment(e,t){var n,i,r,o,s,a,l;n=(l=linearOffset(e.points[0],e.points[1],t))[0],i=l[1],r=(l=linearOffset(e.points[1],e.points[2],t))[0],o=l[1],s=(l=linearOffset(e.points[2],e.points[3],t))[0],a=l[1];var c=lineIntersection(n,i,r,o);null===c&&(c=i);var u=lineIntersection(s,a,r,o);return null===u&&(u=s),new PolynomialBezier(n,c,u,a)}function joinLines(e,t,n,i,r){var o=t.points[3],s=n.points[0];if(3===i)return o;if(pointEqual(o,s))return o;if(2===i){var a=-t.tangentAngle(1),l=-n.tangentAngle(0)+Math.PI,c=lineIntersection(o,polarOffset(o,a+Math.PI/2,100),s,polarOffset(s,a+Math.PI/2,100)),u=c?pointDistance(c,o):pointDistance(o,s)/2,h=polarOffset(o,a,2*u*roundCorner);return e.setXYAt(h[0],h[1],"o",e.length()-1),h=polarOffset(s,l,2*u*roundCorner),e.setTripleAt(s[0],s[1],s[0],s[1],h[0],h[1],e.length()),s}var d=lineIntersection(pointEqual(o,t.points[2])?t.points[0]:t.points[2],o,s,pointEqual(s,n.points[1])?n.points[3]:n.points[1]);return d&&pointDistance(d,o)<r?(e.setTripleAt(d[0],d[1],d[0],d[1],d[0],d[1],e.length()),d):o}function getIntersection(e,t){var n=e.intersections(t);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(e,t){var n=e.slice(),i=t.slice(),r=getIntersection(e[e.length-1],t[0]);return r&&(n[e.length-1]=e[e.length-1].split(r[0])[0],i[0]=t[0].split(r[1])[1]),e.length>1&&t.length>1&&(r=getIntersection(e[0],t[t.length-1]))?[[e[0].split(r[0])[0]],[t[t.length-1].split(r[1])[1]]]:[n,i]}function pruneIntersections(e){for(var t,n=1;n<e.length;n+=1)t=pruneSegmentIntersection(e[n-1],e[n]),e[n-1]=t[0],e[n]=t[1];return e.length>1&&(t=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function offsetSegmentSplit(e,t){var n,i,r,o,s=e.inflectionPoints();if(0===s.length)return[offsetSegment(e,t)];if(1===s.length||floatEqual(s[1],1))return n=(r=e.split(s[0]))[0],i=r[1],[offsetSegment(n,t),offsetSegment(i,t)];n=(r=e.split(s[0]))[0];var a=(s[1]-s[0])/(1-s[0]);return o=(r=r[1].split(a))[0],i=r[1],[offsetSegment(n,t),offsetSegment(o,t),offsetSegment(i,t)]}function OffsetPathModifier(){}function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],n="normal",i="normal",r=t.length,o=0;o<r;o+=1)switch(t[o].toLowerCase()){case"italic":i="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200"}return{style:i,weight:e.fWeight||n}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,n,i,r,o){var s=o?-1:1,a=i.s.v[0]+(1-i.s.v[0])*(1-r),l=i.s.v[1]+(1-i.s.v[1])*(1-r);e.translate(i.p.v[0]*s*r,i.p.v[1]*s*r,i.p.v[2]),t.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),t.rotate(-i.r.v*s*r),t.translate(i.a.v[0],i.a.v[1],i.a.v[2]),n.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),n.scale(o?1/a:a,o?1/l:l),n.translate(i.a.v[0],i.a.v[1],i.a.v[2])},RepeaterModifier.prototype.init=function(e,t,n,i){for(this.elem=e,this.arr=t,this.pos=n,this.elemsData=i,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[n]);n>0;)n-=1,this._elements.unshift(t[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var n,i=e.length;for(n=0;n<i;n+=1)e[n]._render=t,"gr"===e[n].ty&&this.changeGroupRender(e[n].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,n,i,r,o,s=!1;if(this._mdf||e){var a,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),s=!0}for(o=0,i=0;i<=this._groups.length-1;i+=1){if(a=o<l,this._groups[i]._render=a,this.changeGroupRender(this._groups[i].it,a),!a){var u=this.elemsData[i].it,h=u[u.length-1];0!==h.transform.op.v?(h.transform.op._mdf=!0,h.transform.op.v=0):h.transform.op._mdf=!1}o+=1}this._currentCopies=l;var d=this.o.v,p=d%1,f=d>0?Math.floor(d):Math.ceil(d),m=this.pMatrix.props,g=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var v,b,_=0;if(d>0){for(;_<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),_+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),_+=p)}else if(d<0){for(;_>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),_-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),_-=p)}for(i=1===this.data.m?0:this._currentCopies-1,r=1===this.data.m?1:-1,o=this._currentCopies;o;){if(b=(n=(t=this.elemsData[i].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(i/(this._currentCopies-1)),0!==_){for((0!==i&&1===r||i!==this._currentCopies-1&&-1===r)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),v=0;v<b;v+=1)n[v]=this.matrix.props[v];this.matrix.reset()}else for(this.matrix.reset(),v=0;v<b;v+=1)n[v]=this.matrix.props[v];_+=1,o-=1,i+=r}}else for(o=this._currentCopies,i=0,r=1;o;)n=(t=this.elemsData[i].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,o-=1,i+=r;return s},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var n,i=shapePool.newElement();i.c=e.c;var r,o,s,a,l,c,u,h,d,p,f,m,g=e._length,y=0;for(n=0;n<g;n+=1)r=e.v[n],s=e.o[n],o=e.i[n],r[0]===s[0]&&r[1]===s[1]&&r[0]===o[0]&&r[1]===o[1]?0!==n&&n!==g-1||e.c?(a=0===n?e.v[g-1]:e.v[n-1],c=(l=Math.sqrt(Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2)))?Math.min(l/2,t)/l:0,u=f=r[0]+(a[0]-r[0])*c,h=m=r[1]-(r[1]-a[1])*c,d=u-(u-r[0])*roundCorner,p=h-(h-r[1])*roundCorner,i.setTripleAt(u,h,d,p,f,m,y),y+=1,a=n===g-1?e.v[0]:e.v[n+1],c=(l=Math.sqrt(Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2)))?Math.min(l/2,t)/l:0,u=d=r[0]+(a[0]-r[0])*c,h=p=r[1]+(a[1]-r[1])*c,f=u-(u-r[0])*roundCorner,m=h-(h-r[1])*roundCorner,i.setTripleAt(u,h,d,p,f,m,y),y+=1):(i.setTripleAt(r[0],r[1],s[0],s[1],o[0],o[1],y),y+=1):(i.setTripleAt(e.v[n][0],e.v[n][1],e.o[n][0],e.o[n][1],e.i[n][0],e.i[n][1],y),y+=1);return i},RoundCornersModifier.prototype.processShapes=function(e){var t,n,i,r,o,s,a=this.shapes.length,l=this.rd.v;if(0!==l)for(n=0;n<a;n+=1){if(s=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||e)for(s.releaseShapes(),o.shape._mdf=!0,t=o.shape.paths.shapes,r=o.shape.paths._length,i=0;i<r;i+=1)s.addShape(this.processPath(t[i],l));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,n=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(n<0)return[];var i=Math.sqrt(n);return floatZero(i)?i>0&&i<1?[t]:[]:[t-i,t+i].filter((function(e){return e>0&&e<1}))},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],e),n=lerpPoint(this.points[1],this.points[2],e),i=lerpPoint(this.points[2],this.points[3],e),r=lerpPoint(t,n,e),o=lerpPoint(n,i,e),s=lerpPoint(r,o,e);return[new PolynomialBezier(this.points[0],t,r,s,!0),new PolynomialBezier(s,o,i,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}},PolynomialBezier.prototype.intersections=function(e,t,n){void 0===t&&(t=2),void 0===n&&(n=7);var i=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,t,i,n),i},PolynomialBezier.shapeSegment=function(e,t){var n=(t+1)%e.length();return new PolynomialBezier(e.v[t],e.o[t],e.i[n],e.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(e,t){var n=(t+1)%e.length();return new PolynomialBezier(e.v[n],e.i[n],e.o[t],e.v[t],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,t.s,0,null,this),this.frequency=PropertyFactory.getProp(e,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,t.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(e,t,n,i){var r=e._length,o=shapePool.newElement();if(o.c=e.c,e.c||(r-=1),0===r)return o;var s=-1,a=PolynomialBezier.shapeSegment(e,0);zigZagCorner(o,e,0,t,n,i,s);for(var l=0;l<r;l+=1)s=zigZagSegment(o,a,t,n,i,-s),a=l!==r-1||e.c?PolynomialBezier.shapeSegment(e,(l+1)%r):null,zigZagCorner(o,e,l+1,t,n,i,s);return o},ZigZagModifier.prototype.processShapes=function(e){var t,n,i,r,o,s,a=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),u=this.pointsType.v;if(0!==l)for(n=0;n<a;n+=1){if(s=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||e)for(s.releaseShapes(),o.shape._mdf=!0,t=o.shape.paths.shapes,r=o.shape.paths._length,i=0;i<r;i+=1)s.addShape(this.processPath(t[i],l,c,u));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(e,t,n,i){var r=shapePool.newElement();r.c=e.c;var o,s,a,l=e.length();e.c||(l-=1);var c=[];for(o=0;o<l;o+=1)a=PolynomialBezier.shapeSegment(e,o),c.push(offsetSegmentSplit(a,t));if(!e.c)for(o=l-1;o>=0;o-=1)a=PolynomialBezier.shapeSegmentInverted(e,o),c.push(offsetSegmentSplit(a,t));c=pruneIntersections(c);var u=null,h=null;for(o=0;o<c.length;o+=1){var d=c[o];for(h&&(u=joinLines(r,h,d[0],n,i)),h=d[d.length-1],s=0;s<d.length;s+=1)a=d[s],u&&pointEqual(a.points[0],u)?r.setXYAt(a.points[1][0],a.points[1][1],"o",r.length()-1):r.setTripleAt(a.points[0][0],a.points[0][1],a.points[1][0],a.points[1][1],a.points[0][0],a.points[0][1],r.length()),r.setTripleAt(a.points[3][0],a.points[3][1],a.points[3][0],a.points[3][1],a.points[2][0],a.points[2][1],r.length()),u=a.points[3]}return c.length&&joinLines(r,h,c[0][0],n,i),r},OffsetPathModifier.prototype.processShapes=function(e){var t,n,i,r,o,s,a=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,u=this.lineJoin;if(0!==l)for(n=0;n<a;n+=1){if(s=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||e)for(s.releaseShapes(),o.shape._mdf=!0,t=o.shape.paths.shapes,r=o.shape.paths._length,i=0;i<r;i+=1)s.addShape(this.processPath(t[i],l,u,c));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var e={w:0,size:0,shapes:[],data:{shapes:[]}},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],i=[65039,8205];function r(e,t){var n=createTag("span");n.setAttribute("aria-hidden",!0),n.style.fontFamily=t;var i=createTag("span");i.innerText="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(i),document.body.appendChild(n);var r=i.offsetWidth;return i.style.fontFamily=function(e){var t,n=e.split(","),i=n.length,r=[];for(t=0;t<i;t+=1)"sans-serif"!==n[t]&&"monospace"!==n[t]&&r.push(n[t]);return r.join(",")}(e)+", "+t,{node:i,w:r,parent:n}}function o(e,t){var n,i=document.body&&t?"svg":"canvas",r=getFontProperties(e);if("svg"===i){var o=createNS("text");o.style.fontSize="100px",o.setAttribute("font-family",e.fFamily),o.setAttribute("font-style",r.style),o.setAttribute("font-weight",r.weight),o.textContent="1",e.fClass?(o.style.fontFamily="inherit",o.setAttribute("class",e.fClass)):o.style.fontFamily=e.fFamily,t.appendChild(o),n=o}else{var s=new OffscreenCanvas(500,500).getContext("2d");s.font=r.style+" "+r.weight+" 100px "+e.fFamily,n=s}return{measureText:function(e){return"svg"===i?(n.textContent=e,n.getComputedTextLength()):n.measureText(e).width}}}var s=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};s.isModifier=function(e,t){var i=e.toString(16)+t.toString(16);return-1!==n.indexOf(i)},s.isZeroWidthJoiner=function(e,t){return t?e===i[0]&&t===i[1]:e===i[1]},s.isCombinedCharacter=function(e){return-1!==t.indexOf(e)};var a={addChars:function(e){if(e){var t;this.chars||(this.chars=[]);var n,i,r=e.length,o=this.chars.length;for(t=0;t<r;t+=1){for(n=0,i=!1;n<o;)this.chars[n].style===e[t].style&&this.chars[n].fFamily===e[t].fFamily&&this.chars[n].ch===e[t].ch&&(i=!0),n+=1;i||(this.chars.push(e[t]),o+=1)}}},addFonts:function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);if(!document.body)return this.isLoaded=!0,e.list.forEach((function(e){e.helper=o(e),e.cache={}})),void(this.fonts=e.list);var n,i=e.list,s=i.length,a=s;for(n=0;n<s;n+=1){var l,c,u=!0;if(i[n].loaded=!1,i[n].monoCase=r(i[n].fFamily,"monospace"),i[n].sansCase=r(i[n].fFamily,"sans-serif"),i[n].fPath){if("p"===i[n].fOrigin||3===i[n].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+i[n].fFamily+'"], style[f-origin="3"][f-family="'+i[n].fFamily+'"]')).length>0&&(u=!1),u){var h=createTag("style");h.setAttribute("f-forigin",i[n].fOrigin),h.setAttribute("f-origin",i[n].origin),h.setAttribute("f-family",i[n].fFamily),h.type="text/css",h.innerText="@font-face {font-family: "+i[n].fFamily+"; font-style: normal; src: url('"+i[n].fPath+"');}",t.appendChild(h)}}else if("g"===i[n].fOrigin||1===i[n].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(i[n].fPath)&&(u=!1);if(u){var d=createTag("link");d.setAttribute("f-forigin",i[n].fOrigin),d.setAttribute("f-origin",i[n].origin),d.type="text/css",d.rel="stylesheet",d.href=i[n].fPath,document.body.appendChild(d)}}else if("t"===i[n].fOrigin||2===i[n].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)i[n].fPath===l[c].src&&(u=!1);if(u){var p=createTag("link");p.setAttribute("f-forigin",i[n].fOrigin),p.setAttribute("f-origin",i[n].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",i[n].fPath),t.appendChild(p)}}}else i[n].loaded=!0,a-=1;i[n].helper=o(i[n],t),i[n].cache={},this.fonts.push(i[n])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,n,i){for(var r=0,o=this.chars.length;r<o;){if(this.chars[r].ch===t&&this.chars[r].style===n&&this.chars[r].fFamily===i)return this.chars[r];r+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,n,i)),e},getFontByName:function(e){for(var t=0,n=this.fonts.length;t<n;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},measureText:function(e,t,n){var i=this.getFontByName(t),r=e.charCodeAt(0);if(!i.cache[r+1]){var o=i.helper;if(" "===e){var s=o.measureText("|"+e+"|"),a=o.measureText("||");i.cache[r+1]=(s-a)/100}else i.cache[r+1]=o.measureText(e)/100}return i.cache[r+1]*n},checkLoadedFonts:function(){var e,t,n,i=this.fonts.length,r=i;for(e=0;e<i;e+=1)this.fonts[e].loaded?r-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,n=this.fonts[e].monoCase.w,t.offsetWidth!==n?(r-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,n=this.fonts[e].sansCase.w,t.offsetWidth!==n&&(r-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==r&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return s.prototype=a,s}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return blendModeEnums[e]||""}),blendModeEnums;function SliderEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function AngleEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function ColorEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function PointEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function LayerIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function MaskIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function CheckboxEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var n,i=e.ef||[];this.effectElements=[];var r,o=i.length;for(n=0;n<o;n+=1)r=new GroupEffect(i[n],t),this.effectElements.push(r)}function GroupEffect(e,t){this.init(e,t)}function BaseElement(){}function FrameElement(){}function FootageElement(e,t,n){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,n)}function AudioElement(e,t,n){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,n),this._isPlaying=!1,this._canPlay=!1;var i=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(i),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(e,t,n){this.data=e,this.element=t,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var i,r,o=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var a,l,c,u,h,d,p=this.masksProperties,f=0,m=[],g=createElementID(),y="clipPath",v="clip-path";for(i=0;i<s;i+=1)if(("a"!==p[i].mode&&"n"!==p[i].mode||p[i].inv||100!==p[i].o.k||p[i].o.x)&&(y="mask",v="mask"),"s"!==p[i].mode&&"i"!==p[i].mode||0!==f?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),r=createNS("path"),"n"===p[i].mode)this.viewData[i]={op:PropertyFactory.getProp(this.element,p[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[i],3),elem:r,lastPath:""},o.appendChild(r);else{var b;if(f+=1,r.setAttribute("fill","s"===p[i].mode?"#000000":"#ffffff"),r.setAttribute("clip-rule","nonzero"),0!==p[i].x.k?(y="mask",v="mask",d=PropertyFactory.getProp(this.element,p[i].x,0,null,this.element),b=createElementID(),(u=createNS("filter")).setAttribute("id",b),(h=createNS("feMorphology")).setAttribute("operator","erode"),h.setAttribute("in","SourceGraphic"),h.setAttribute("radius","0"),u.appendChild(h),o.appendChild(u),r.setAttribute("stroke","s"===p[i].mode?"#000000":"#ffffff")):(h=null,d=null),this.storedData[i]={elem:r,x:d,expan:h,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"===p[i].mode){l=m.length;var _=createNS("g");for(a=0;a<l;a+=1)_.appendChild(m[a]);var w=createNS("mask");w.setAttribute("mask-type","alpha"),w.setAttribute("id",g+"_"+f),w.appendChild(r),o.appendChild(w),_.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+f+")"),m.length=0,m.push(_)}else m.push(r);p[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:r,lastPath:"",op:PropertyFactory.getProp(this.element,p[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[i],3),invRect:c},this.viewData[i].prop.k||this.drawPath(p[i],this.viewData[i].prop.v,this.viewData[i])}for(this.maskElement=createNS(y),s=m.length,i=0;i<s;i+=1)this.maskElement.appendChild(m[i]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(v,"url("+getLocationHref()+"#"+g+")"),o.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){var n;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var i,r=this.data.ef.length,o=this.data.ef;for(n=0;n<r;n+=1){switch(i=null,o[n].ty){case 0:i=new SliderEffect(o[n],t,this);break;case 1:i=new AngleEffect(o[n],t,this);break;case 2:i=new ColorEffect(o[n],t,this);break;case 3:i=new PointEffect(o[n],t,this);break;case 4:case 7:i=new CheckboxEffect(o[n],t,this);break;case 10:i=new LayerIndexEffect(o[n],t,this);break;case 11:i=new MaskIndexEffect(o[n],t,this);break;case 5:i=new EffectsManager(o[n],t,this);break;default:i=new NoValueEffect(o[n],t,this)}i&&this.effectElements.push(i)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var t=e("layer"),n=e("effects"),i=e("shape"),r=e("text"),o=e("comp");this.layerInterface=t(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var s=n.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(s),0===this.data.ty||this.data.xt?this.compInterface=o(this):4===this.data.ty?(this.layerInterface.shapeInterface=i(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=r(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,n){this.globalData=t,this.comp=n,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var n,i=this.dynamicProperties.length;for(n=0;n<i;n+=1)(t||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var t=e("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(e){var t,n,i=this.layers.length;for(this.completeLayers=!0,t=i-1;t>=0;t-=1)this.elements[t]||(n=this.layers[t]).ip-n.st<=e-this.layers[t].st&&n.op-n.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:default:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var n,i=e.length,r=this.layers.length;for(t=0;t<i;t+=1)for(n=0;n<r;){if(this.layers[n].id===e[t].id){this.layers[n]=e[t];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,n){for(var i=this.elements,r=this.layers,o=0,s=r.length;o<s;)r[o].ind==t&&(i[o]&&!0!==i[o]?(n.push(i[o]),i[o].setAsParent(),void 0!==r[o].parent?this.buildElementParenting(e,r[o].parent,n):e.setHierarchy(n)):(this.buildItem(o),this.addPendingElement(e))),o+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,n=e.length;for(t=0;t<n;t+=1)if(e[t].xt){var i=this.createComp(e[t]);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},BaseRenderer.prototype.getElementByPath=function(e){var t,n=e.shift();if("number"==typeof n)t=this.elements[n];else{var i,r=this.elements.length;for(i=0;i<r;i+=1)if(this.elements[i].data.nm===n){t=this.elements[i];break}}return 0===e.length?t:t.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,n=0,i=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<i;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),n=0;n<i;n+=1)e=this.hierarchy[n].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var n,i=!0,r=this.comp;i;)r.finalTransform?(r.data.hasMask&&t.splice(0,0,r.finalTransform),r=r.comp):i=!1;var o,s=t.length;for(n=0;n<s;n+=1)o=t[n].mat.applyToPointArray(0,0,0),e=[e[0]-o[0],e[1]-o[1],0];return e},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,n=this.element.finalTransform.mat,i=this.masksProperties.length;for(t=0;t<i;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var r=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[t].filterId+")")),r.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,n){var i,r,o=" M"+t.v[0][0]+","+t.v[0][1];for(r=t._length,i=1;i<r;i+=1)o+=" C"+t.o[i-1][0]+","+t.o[i-1][1]+" "+t.i[i][0]+","+t.i[i][1]+" "+t.v[i][0]+","+t.v[i][1];if(t.c&&r>1&&(o+=" C"+t.o[i-1][0]+","+t.o[i-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),n.lastPath!==o){var s="";n.elem&&(t.c&&(s=e.inv?this.solidPath+o:o),n.elem.setAttribute("d",s)),n.lastPath=o}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var e={createFilter:function(e,t){var n=createNS("filter");return n.setAttribute("id",e),!0!==t&&(n.setAttribute("filterUnits","objectBoundingBox"),n.setAttribute("x","0%"),n.setAttribute("y","0%"),n.setAttribute("width","100%"),n.setAttribute("height","100%")),n},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}};return e}(),featureSupport=function(){var e={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),e}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(e){var t,n,i="SourceGraphic",r=e.data.ef?e.data.ef.length:0,o=createElementID(),s=filtersFactory.createFilter(o,!0),a=0;for(this.filters=[],t=0;t<r;t+=1){n=null;var l=e.data.ef[t].ty;registeredEffects[l]&&(n=new(0,registeredEffects[l].effect)(s,e.effectsManager.effectElements[t],e,idPrefix+a,i),i=idPrefix+a,registeredEffects[l].countsAsEffect&&(a+=1)),n&&this.filters.push(n)}a&&(e.globalData.defs.appendChild(s),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+o+")")),this.filters.length&&e.addRenderableComponent(this)}function registerEffect(e,t,n){registeredEffects[e]={effect:t,countsAsEffect:n}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(e){var t,n=this.filters.length;for(t=0;t<n;t+=1)this.filters[t].renderFrame(e)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var t=createNS("symbol");t.setAttribute("id",this.layerId);var n=createNS("g");n.appendChild(this.layerElement),t.appendChild(n),e=n,this.globalData.defs.appendChild(t)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var i=createNS("clipPath"),r=createNS("path");r.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var o=createElementID();if(i.setAttribute("id",o),i.appendChild(r),this.globalData.defs.appendChild(i),this.checkMasks()){var s=createNS("g");s.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),s.appendChild(this.layerElement),this.transformedElement=s,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},getMatte:function(e){if(!this.matteMasks[e]){var t,n,i,r,o=this.layerId+"_"+e;if(1===e||3===e){var s=createNS("mask");s.setAttribute("id",o),s.setAttribute("mask-type",3===e?"luminance":"alpha"),(i=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),s.appendChild(i),this.globalData.defs.appendChild(s),featureSupport.maskType||1!==e||(s.setAttribute("mask-type","luminance"),t=createElementID(),n=filtersFactory.createFilter(t),this.globalData.defs.appendChild(n),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(i),s.appendChild(r),r.setAttribute("filter","url("+getLocationHref()+"#"+t+")"))}else if(2===e){var a=createNS("mask");a.setAttribute("id",o),a.setAttribute("mask-type","alpha");var l=createNS("g");a.appendChild(l),t=createElementID(),n=filtersFactory.createFilter(t);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),n.appendChild(c);var u=createNS("feFuncA");u.setAttribute("type","table"),u.setAttribute("tableValues","1.0 0.0"),c.appendChild(u),this.globalData.defs.appendChild(n);var h=createNS("rect");h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+t+")"),l.appendChild(h),(i=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(i),featureSupport.maskType||(a.setAttribute("mask-type","luminance"),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),l.appendChild(h),r.appendChild(this.layerElement),l.appendChild(r)),this.globalData.defs.appendChild(a)}this.matteMasks[e]=o}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(e){var t,n=this.shapeModifiers.length;for(t=0;t<n;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,n=0,i=t.length;n<i;){if(t[n].elem===e)return t[n].pos;n+=1}return 0},addProcessedElement:function(e,t){for(var n=this.processedElements,i=n.length;i;)if(n[i-=1].elem===e)return void(n[i].pos=t);n.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,n){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=n,this.lvl=t,this._isAnimated=!!n.k;for(var i=0,r=e.length;i<r;){if(e[i].mProps.dynamicProperties.length){this._isAnimated=!0;break}i+=1}}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(e,t,n,i){var r;this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(i);var o,s=t.length||0;for(r=0;r<s;r+=1)o=PropertyFactory.getProp(e,t[r].v,0,0,this),this.k=o.k||this.k,this.dataProps[r]={n:t[r].n,p:o};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=n}function SVGNoStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=n}function GradientProperty(e,t,n){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var i=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",i),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=i,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,n)}function SVGGradientStrokeStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,n){this.transform={mProps:e,op:t,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,n=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<n;t+=1)"o"!==this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(e,t){for(var n=0,i=this.o.length/2;n<i;){if(Math.abs(e[4*n]-e[4*t+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,n,i,r=4*this.data.p;for(t=0;t<r;t+=1)n=t%4==0?100:255,i=Math.round(this.prop.v[t]*n),this.c[t]!==i&&(this.c[t]=i,this._cmdf=!e);if(this.o.length)for(r=this.prop.v.length,t=4*this.data.p;t<r;t+=1)n=t%2==0?100:1,i=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==i&&(this.o[t-4*this.data.p]=i,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,n){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,t),this.setGradientOpacity(t,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var n=createElementID(),i=createNS(1===t.t?"linearGradient":"radialGradient");i.setAttribute("id",n),i.setAttribute("spreadMethod","pad"),i.setAttribute("gradientUnits","userSpaceOnUse");var r,o,s,a=[];for(s=4*t.g.p,o=0;o<s;o+=4)r=createNS("stop"),i.appendChild(r),a.push(r);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=i,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var n,i,r,o=createNS("mask"),s=createNS("path");o.appendChild(s);var a=createElementID(),l=createElementID();o.setAttribute("id",l);var c=createNS(1===e.t?"linearGradient":"radialGradient");c.setAttribute("id",a),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),r=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var u=this.stops;for(i=4*e.g.p;i<r;i+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(n),u.push(n);s.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+a+")"),"gs"===e.ty&&(s.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),1===e.lj&&s.setAttribute("stroke-miterlimit",e.ml)),this.of=c,this.ms=o,this.ost=u,this.maskId=l,t.msElem=s}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(e,t,n,i){if(0===t)return"";var r,o=e.o,s=e.i,a=e.v,l=" M"+i.applyToPointStringified(a[0][0],a[0][1]);for(r=1;r<t;r+=1)l+=" C"+i.applyToPointStringified(o[r-1][0],o[r-1][1])+" "+i.applyToPointStringified(s[r][0],s[r][1])+" "+i.applyToPointStringified(a[r][0],a[r][1]);return n&&t&&(l+=" C"+i.applyToPointStringified(o[r-1][0],o[r-1][1])+" "+i.applyToPointStringified(s[0][0],s[0][1])+" "+i.applyToPointStringified(a[0][0],a[0][1]),l+="z"),l},SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function n(e,t,n){(n||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(n||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function i(){}function r(n,i,r){var o,s,a,l,c,u,h,d,p,f,m,g=i.styles.length,y=i.lvl;for(u=0;u<g;u+=1){if(l=i.sh._mdf||r,i.styles[u].lvl<y){for(d=t.reset(),f=y-i.styles[u].lvl,m=i.transformers.length-1;!l&&f>0;)l=i.transformers[m].mProps._mdf||l,f-=1,m-=1;if(l)for(f=y-i.styles[u].lvl,m=i.transformers.length-1;f>0;)p=i.transformers[m].mProps.v.props,d.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),f-=1,m-=1}else d=e;if(s=(h=i.sh.paths)._length,l){for(a="",o=0;o<s;o+=1)(c=h.shapes[o])&&c._length&&(a+=buildShapeString(c,c._length,c.c,d));i.caches[u]=a}else a=i.caches[u];i.styles[u].d+=!0===n.hd?"":a,i.styles[u]._mdf=l||i.styles[u]._mdf}}function o(e,t,n){var i=t.style;(t.c._mdf||n)&&i.pElem.setAttribute("fill","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n)&&i.pElem.setAttribute("fill-opacity",t.o.v)}function s(e,t,n){a(e,t,n),l(0,t,n)}function a(e,t,n){var i,r,o,s,a,l=t.gf,c=t.g._hasOpacity,u=t.s.v,h=t.e.v;if(t.o._mdf||n){var d="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(d,t.o.v)}if(t.s._mdf||n){var p=1===e.t?"x1":"cx",f="x1"===p?"y1":"cy";l.setAttribute(p,u[0]),l.setAttribute(f,u[1]),c&&!t.g._collapsable&&(t.of.setAttribute(p,u[0]),t.of.setAttribute(f,u[1]))}if(t.g._cmdf||n){i=t.cst;var m=t.g.c;for(o=i.length,r=0;r<o;r+=1)(s=i[r]).setAttribute("offset",m[4*r]+"%"),s.setAttribute("stop-color","rgb("+m[4*r+1]+","+m[4*r+2]+","+m[4*r+3]+")")}if(c&&(t.g._omdf||n)){var g=t.g.o;for(o=(i=t.g._collapsable?t.cst:t.ost).length,r=0;r<o;r+=1)s=i[r],t.g._collapsable||s.setAttribute("offset",g[2*r]+"%"),s.setAttribute("stop-opacity",g[2*r+1])}if(1===e.t)(t.e._mdf||n)&&(l.setAttribute("x2",h[0]),l.setAttribute("y2",h[1]),c&&!t.g._collapsable&&(t.of.setAttribute("x2",h[0]),t.of.setAttribute("y2",h[1])));else if((t.s._mdf||t.e._mdf||n)&&(a=Math.sqrt(Math.pow(u[0]-h[0],2)+Math.pow(u[1]-h[1],2)),l.setAttribute("r",a),c&&!t.g._collapsable&&t.of.setAttribute("r",a)),t.e._mdf||t.h._mdf||t.a._mdf||n){a||(a=Math.sqrt(Math.pow(u[0]-h[0],2)+Math.pow(u[1]-h[1],2)));var y=Math.atan2(h[1]-u[1],h[0]-u[0]),v=t.h.v;v>=1?v=.99:v<=-1&&(v=-.99);var b=a*v,_=Math.cos(y+t.a.v)*b+u[0],w=Math.sin(y+t.a.v)*b+u[1];l.setAttribute("fx",_),l.setAttribute("fy",w),c&&!t.g._collapsable&&(t.of.setAttribute("fx",_),t.of.setAttribute("fy",w))}}function l(e,t,n){var i=t.style,r=t.d;r&&(r._mdf||n)&&r.dashStr&&(i.pElem.setAttribute("stroke-dasharray",r.dashStr),i.pElem.setAttribute("stroke-dashoffset",r.dashoffset[0])),t.c&&(t.c._mdf||n)&&i.pElem.setAttribute("stroke","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n)&&i.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||n)&&(i.pElem.setAttribute("stroke-width",t.w.v),i.msElem&&i.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty){case"fl":return o;case"gf":return a;case"gs":return s;case"st":return l;case"sh":case"el":case"rc":case"sr":return r;case"tr":return n;case"no":return i;default:return null}}}}();function SVGShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,n),this.prevViewData=[]}function LetterProps(e,t,n,i,r,o){this.o=e,this.sw=t,this.sc=n,this.fc=i,this.m=r,this.p=o,this._mdf={o:!0,sw:!!t,sc:!!n,fc:!!i,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,n,i,r=this.shapes.length,o=this.stylesList.length,s=[],a=!1;for(n=0;n<o;n+=1){for(i=this.stylesList[n],a=!1,s.length=0,e=0;e<r;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(i)&&(s.push(t),a=t._isAnimated||a);s.length>1&&a&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var n,i=new SVGStyleData(e,t),r=i.pElem;return"st"===e.ty?n=new SVGStrokeStyleData(this,e,i):"fl"===e.ty?n=new SVGFillStyleData(this,e,i):"gf"===e.ty||"gs"===e.ty?(n=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,i),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),r.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))):"no"===e.ty&&(n=new SVGNoStyleData(this,e,i)),"st"!==e.ty&&"gs"!==e.ty||(r.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),r.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),r.setAttribute("fill-opacity","0"),1===e.lj&&r.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&r.setAttribute("fill-rule","evenodd"),e.ln&&r.setAttribute("id",e.ln),e.cl&&r.setAttribute("class",e.cl),e.bm&&(r.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(i),this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var n=TransformPropertyFactory.getTransformProperty(this,e,this),i=new SVGTransformData(n,n.o,t);return this.addToAnimatedContents(e,i),i},SVGShapeElement.prototype.createShapeElement=function(e,t,n){var i=4;"rc"===e.ty?i=5:"el"===e.ty?i=6:"sr"===e.ty&&(i=7);var r=new SVGShapeData(t,n,ShapePropertyFactory.getShapeProp(this,e,i,this));return this.shapes.push(r),this.addShapeToModifiers(r),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var n=0,i=this.animatedContents.length;n<i;){if(this.animatedContents[n].element===t)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,n=e.styles,i=this.stylesList.length;for(t=0;t<i;t+=1)this.stylesList[t].closed||n.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,n,i,r,o,s){var a,l,c,u,h,d,p=[].concat(o),f=e.length-1,m=[],g=[];for(a=f;a>=0;a-=1){if((d=this.searchProcessedElement(e[a]))?t[a]=n[d-1]:e[a]._render=s,"fl"===e[a].ty||"st"===e[a].ty||"gf"===e[a].ty||"gs"===e[a].ty||"no"===e[a].ty)d?t[a].style.closed=!1:t[a]=this.createStyleElement(e[a],r),e[a]._render&&t[a].style.pElem.parentNode!==i&&i.appendChild(t[a].style.pElem),m.push(t[a].style);else if("gr"===e[a].ty){if(d)for(c=t[a].it.length,l=0;l<c;l+=1)t[a].prevViewData[l]=t[a].it[l];else t[a]=this.createGroupElement(e[a]);this.searchShapes(e[a].it,t[a].it,t[a].prevViewData,t[a].gr,r+1,p,s),e[a]._render&&t[a].gr.parentNode!==i&&i.appendChild(t[a].gr)}else"tr"===e[a].ty?(d||(t[a]=this.createTransformElement(e[a],i)),u=t[a].transform,p.push(u)):"sh"===e[a].ty||"rc"===e[a].ty||"el"===e[a].ty||"sr"===e[a].ty?(d||(t[a]=this.createShapeElement(e[a],p,r)),this.setElementStyles(t[a])):"tm"===e[a].ty||"rd"===e[a].ty||"ms"===e[a].ty||"pb"===e[a].ty||"zz"===e[a].ty||"op"===e[a].ty?(d?(h=t[a]).closed=!1:((h=ShapeModifiers.getModifier(e[a].ty)).init(this,e[a]),t[a]=h,this.shapeModifiers.push(h)),g.push(h)):"rp"===e[a].ty&&(d?(h=t[a]).closed=!0:(h=ShapeModifiers.getModifier(e[a].ty),t[a]=h,h.init(this,e,a,t),this.shapeModifiers.push(h),s=!1),g.push(h));this.addProcessedElement(e[a],a+1)}for(f=m.length,a=0;a<f;a+=1)m[a].closed=!0;for(f=g.length,a=0;a<f;a+=1)g[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,n=this.animatedContents.length;for(e=0;e<n;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(e,t,n,i,r,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,s=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,s=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,s=!0),this.fc!==i&&(this.fc=i,this._mdf.fc=!0,s=!0),this.m!==r&&(this.m=r,this._mdf.m=!0,s=!0),!o.length||this.p[0]===o[0]&&this.p[1]===o[1]&&this.p[4]===o[4]&&this.p[5]===o[5]&&this.p[12]===o[12]&&this.p[13]===o[13]||(this.p=o,this._mdf.p=!0,s=!0),s},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var i;this.lock=!0,this._mdf=!1;var r=this.effectsSequence.length,o=e||this.data.d.k[this.keysIndex].s;for(i=0;i<r;i+=1)o=n!==this.keysIndex?this.effectsSequence[i](o,o.t):this.effectsSequence[i](this.currentData,o.t);t!==o&&this.setCurrentData(o),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,n=0,i=e.length;n<=i-1&&!(n===i-1||e[n+1].t>t);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,n,i=[],r=0,o=e.length,s=!1;r<o;)t=e.charCodeAt(r),FontManager.isCombinedCharacter(t)?i[i.length-1]+=e.charAt(r):t>=55296&&t<=56319?(n=e.charCodeAt(r+1))>=56320&&n<=57343?(s||FontManager.isModifier(t,n)?(i[i.length-1]+=e.substr(r,2),s=!1):i.push(e.substr(r,2)),r+=1):i.push(e.charAt(r)):t>56319?(n=e.charCodeAt(r+1),FontManager.isZeroWidthJoiner(t,n)?(s=!0,i[i.length-1]+=e.substr(r,2),r+=1):i.push(e.charAt(r))):FontManager.isZeroWidthJoiner(t)?(i[i.length-1]+=e.charAt(r),s=!0):i.push(e.charAt(r)),r+=1;return i},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,n,i,r,o,s,a,l=this.elem.globalData.fontManager,c=this.data,u=[],h=0,d=c.m.g,p=0,f=0,m=0,g=[],y=0,v=0,b=l.getFontByName(e.f),_=0,w=getFontProperties(b);e.fWeight=w.weight,e.fStyle=w.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),n=e.finalText.length,e.finalLineHeight=e.lh;var k,S=e.tr/1e3*e.finalSize;if(e.sz)for(var E,T,x=!0,C=e.sz[0],P=e.sz[1];x;){E=0,y=0,n=(T=this.buildFinalText(e.t)).length,S=e.tr/1e3*e.finalSize;var A=-1;for(t=0;t<n;t+=1)k=T[t].charCodeAt(0),i=!1," "===T[t]?A=t:13!==k&&3!==k||(y=0,i=!0,E+=e.finalLineHeight||1.2*e.finalSize),l.chars?(a=l.getCharData(T[t],b.fStyle,b.fFamily),_=i?0:a.w*e.finalSize/100):_=l.measureText(T[t],e.f,e.finalSize),y+_>C&&" "!==T[t]?(-1===A?n+=1:t=A,E+=e.finalLineHeight||1.2*e.finalSize,T.splice(t,A===t?1:0,"\r"),A=-1,y=0):(y+=_,y+=S);E+=b.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&P<E?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=T,n=e.finalText.length,x=!1)}y=-S,_=0;var O,I=0;for(t=0;t<n;t+=1)if(i=!1,13===(k=(O=e.finalText[t]).charCodeAt(0))||3===k?(I=0,g.push(y),v=y>v?y:v,y=-2*S,r="",i=!0,m+=1):r=O,l.chars?(a=l.getCharData(O,b.fStyle,l.getFontByName(e.f).fFamily),_=i?0:a.w*e.finalSize/100):_=l.measureText(r,e.f,e.finalSize)," "===O?I+=_+S:(y+=_+S+I,I=0),u.push({l:_,an:_,add:p,n:i,anIndexes:[],val:r,line:m,animatorJustifyOffset:0}),2==d){if(p+=_,""===r||" "===r||t===n-1){for(""!==r&&" "!==r||(p-=_);f<=t;)u[f].an=p,u[f].ind=h,u[f].extra=_,f+=1;h+=1,p=0}}else if(3==d){if(p+=_,""===r||t===n-1){for(""===r&&(p-=_);f<=t;)u[f].an=p,u[f].ind=h,u[f].extra=_,f+=1;p=0,h+=1}}else u[h].ind=h,u[h].extra=0,h+=1;if(e.l=u,v=y>v?y:v,g.push(y),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=v,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=g;var L,D,R,M,N=c.a;s=N.length;var j=[];for(o=0;o<s;o+=1){for((L=N[o]).a.sc&&(e.strokeColorAnim=!0),L.a.sw&&(e.strokeWidthAnim=!0),(L.a.fc||L.a.fh||L.a.fs||L.a.fb)&&(e.fillColorAnim=!0),M=0,R=L.s.b,t=0;t<n;t+=1)(D=u[t]).anIndexes[o]=M,(1==R&&""!==D.val||2==R&&""!==D.val&&" "!==D.val||3==R&&(D.n||" "==D.val||t==n-1)||4==R&&(D.n||t==n-1))&&(1===L.s.rn&&j.push(M),M+=1);c.a[o].s.totalChars=M;var F,B=-1;if(1===L.s.rn)for(t=0;t<n;t+=1)B!=(D=u[t]).anIndexes[o]&&(B=D.anIndexes[o],F=j.splice(Math.floor(Math.random()*j.length),1)[0]),D.anIndexes[o]=F}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=b.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var n=this.copyData({},this.data.d.k[t].s);n=this.copyData(n,e),this.data.d.k[t].s=n,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,n=Math.floor;function i(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(e,t.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return i.prototype={getMult:function(i){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var r=0,o=0,s=1,a=1;this.ne.v>0?r=this.ne.v/100:o=-this.ne.v/100,this.xe.v>0?s=1-this.xe.v/100:a=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(r,o,s,a).get,c=0,u=this.finalS,h=this.finalE,d=this.data.sh;if(2===d)c=l(c=h===u?i>=h?1:0:e(0,t(.5/(h-u)+(i-u)/(h-u),1)));else if(3===d)c=l(c=h===u?i>=h?0:1:1-e(0,t(.5/(h-u)+(i-u)/(h-u),1)));else if(4===d)h===u?c=0:(c=e(0,t(.5/(h-u)+(i-u)/(h-u),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===d){if(h===u)c=0;else{var p=h-u,f=-p/2+(i=t(e(0,i+.5-u),h-u)),m=p/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===d?(h===u?c=0:(i=t(e(0,i+.5-u),h-u),c=(1+Math.cos(Math.PI+2*Math.PI*i/(h-u)))/2),c=l(c)):(i>=n(u)&&(c=e(0,t(i-u<0?t(h,1)-(u-i):h-i,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var y=.5-.5*g;c<y?c=0:(c=(c-y)/g)>1&&(c=1)}return c*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/t,i=this.s.v/t+n,r=this.e.v/t+n;if(i>r){var o=i;i=r,r=o}this.finalS=i,this.finalE=r}},extendPrototype([DynamicPropertyContainer],i),{getTextSelectorProp:function(e,t,n){return new i(e,t,n)}}}();function TextAnimatorDataProperty(e,t,n){var i={propType:!1},r=PropertyFactory.getProp,o=t.a;this.a={r:o.r?r(e,o.r,0,degToRads,n):i,rx:o.rx?r(e,o.rx,0,degToRads,n):i,ry:o.ry?r(e,o.ry,0,degToRads,n):i,sk:o.sk?r(e,o.sk,0,degToRads,n):i,sa:o.sa?r(e,o.sa,0,degToRads,n):i,s:o.s?r(e,o.s,1,.01,n):i,a:o.a?r(e,o.a,1,0,n):i,o:o.o?r(e,o.o,0,.01,n):i,p:o.p?r(e,o.p,1,0,n):i,sw:o.sw?r(e,o.sw,0,0,n):i,sc:o.sc?r(e,o.sc,1,0,n):i,fc:o.fc?r(e,o.fc,1,0,n):i,fh:o.fh?r(e,o.fh,0,0,n):i,fs:o.fs?r(e,o.fs,0,.01,n):i,fb:o.fb?r(e,o.fb,0,.01,n):i,t:o.t?r(e,o.t,0,0,n):i},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,n),this.s.t=t.s.t}function TextAnimatorProperty(e,t,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,n=this._textData.a.length,i=PropertyFactory.getProp;for(e=0;e<n;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:i(this._elem,this._textData.p.a,0,0,this),f:i(this._elem,this._textData.p.f,0,0,this),l:i(this._elem,this._textData.p.l,0,0,this),r:i(this._elem,this._textData.p.r,0,0,this),p:i(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=i(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,i,r,o,s,a,l,c,u,h,d,p,f,m,g,y,v,b,_,w=this._moreOptions.alignment.v,k=this._animatorsData,S=this._textData,E=this.mHelper,T=this._renderType,x=this.renderedLetters.length,C=e.l;if(this._hasMaskedPath){if(_=this._pathData.m,!this._pathData.n||this._pathData._mdf){var P,A=_.v;for(this._pathData.r.v&&(A=A.reverse()),s={tLength:0,segments:[]},o=A._length-1,y=0,r=0;r<o;r+=1)P=bez.buildBezierData(A.v[r],A.v[r+1],[A.o[r][0]-A.v[r][0],A.o[r][1]-A.v[r][1]],[A.i[r+1][0]-A.v[r+1][0],A.i[r+1][1]-A.v[r+1][1]]),s.tLength+=P.segmentLength,s.segments.push(P),y+=P.segmentLength;r=o,_.v.c&&(P=bez.buildBezierData(A.v[r],A.v[0],[A.o[r][0]-A.v[r][0],A.o[r][1]-A.v[r][1]],[A.i[0][0]-A.v[0][0],A.i[0][1]-A.v[0][1]]),s.tLength+=P.segmentLength,s.segments.push(P),y+=P.segmentLength),this._pathData.pi=s}if(s=this._pathData.pi,a=this._pathData.f.v,d=0,h=1,c=0,u=!0,m=s.segments,a<0&&_.v.c)for(s.tLength<Math.abs(a)&&(a=-Math.abs(a)%s.tLength),h=(f=m[d=m.length-1].points).length-1;a<0;)a+=f[h].partialLength,(h-=1)<0&&(h=(f=m[d-=1].points).length-1);p=(f=m[d].points)[h-1],g=(l=f[h]).partialLength}o=C.length,n=0,i=0;var O,I,L,D,R,M=1.2*e.finalSize*.714,N=!0;L=k.length;var j,F,B,U,q,V,H,$,z,W,G,K,Y=-1,X=a,J=d,Q=h,Z=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var ne=0,ie=0,re=2===e.j?-.5:-1,oe=0,se=!0;for(r=0;r<o;r+=1)if(C[r].n){for(ne&&(ne+=ie);oe<r;)C[oe].animatorJustifyOffset=ne,oe+=1;ne=0,se=!0}else{for(I=0;I<L;I+=1)(O=k[I].a).t.propType&&(se&&2===e.j&&(ie+=O.t.v*re),(R=k[I].s.getMult(C[r].anIndexes[I],S.a[I].s.totalChars)).length?ne+=O.t.v*R[0]*re:ne+=O.t.v*R*re);se=!1}for(ne&&(ne+=ie);oe<r;)C[oe].animatorJustifyOffset=ne,oe+=1}for(r=0;r<o;r+=1){if(E.reset(),U=1,C[r].n)n=0,i+=e.yOffset,i+=N?1:0,a=X,N=!1,this._hasMaskedPath&&(h=Q,p=(f=m[d=J].points)[h-1],g=(l=f[h]).partialLength,c=0),ee="",G="",z="",K="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Z!==C[r].line){switch(e.j){case 1:a+=y-e.lineWidths[C[r].line];break;case 2:a+=(y-e.lineWidths[C[r].line])/2}Z=C[r].line}Y!==C[r].ind&&(C[Y]&&(a+=C[Y].extra),a+=C[r].an/2,Y=C[r].ind),a+=w[0]*C[r].an*.005;var ae=0;for(I=0;I<L;I+=1)(O=k[I].a).p.propType&&((R=k[I].s.getMult(C[r].anIndexes[I],S.a[I].s.totalChars)).length?ae+=O.p.v[0]*R[0]:ae+=O.p.v[0]*R),O.a.propType&&((R=k[I].s.getMult(C[r].anIndexes[I],S.a[I].s.totalChars)).length?ae+=O.a.v[0]*R[0]:ae+=O.a.v[0]*R);for(u=!0,this._pathData.a.v&&(a=.5*C[0].an+(y-this._pathData.f.v-.5*C[0].an-.5*C[C.length-1].an)*Y/(o-1),a+=this._pathData.f.v);u;)c+g>=a+ae||!f?(v=(a+ae-c)/l.partialLength,F=p.point[0]+(l.point[0]-p.point[0])*v,B=p.point[1]+(l.point[1]-p.point[1])*v,E.translate(-w[0]*C[r].an*.005,-w[1]*M*.01),u=!1):f&&(c+=l.partialLength,(h+=1)>=f.length&&(h=0,m[d+=1]?f=m[d].points:_.v.c?(h=0,f=m[d=0].points):(c-=l.partialLength,f=null)),f&&(p=l,g=(l=f[h]).partialLength));j=C[r].an/2-C[r].add,E.translate(-j,0,0)}else j=C[r].an/2-C[r].add,E.translate(-j,0,0),E.translate(-w[0]*C[r].an*.005,-w[1]*M*.01,0);for(I=0;I<L;I+=1)(O=k[I].a).t.propType&&(R=k[I].s.getMult(C[r].anIndexes[I],S.a[I].s.totalChars),0===n&&0===e.j||(this._hasMaskedPath?R.length?a+=O.t.v*R[0]:a+=O.t.v*R:R.length?n+=O.t.v*R[0]:n+=O.t.v*R));for(e.strokeWidthAnim&&(V=e.sw||0),e.strokeColorAnim&&(q=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(H=[e.fc[0],e.fc[1],e.fc[2]]),I=0;I<L;I+=1)(O=k[I].a).a.propType&&((R=k[I].s.getMult(C[r].anIndexes[I],S.a[I].s.totalChars)).length?E.translate(-O.a.v[0]*R[0],-O.a.v[1]*R[1],O.a.v[2]*R[2]):E.translate(-O.a.v[0]*R,-O.a.v[1]*R,O.a.v[2]*R));for(I=0;I<L;I+=1)(O=k[I].a).s.propType&&((R=k[I].s.getMult(C[r].anIndexes[I],S.a[I].s.totalChars)).length?E.scale(1+(O.s.v[0]-1)*R[0],1+(O.s.v[1]-1)*R[1],1):E.scale(1+(O.s.v[0]-1)*R,1+(O.s.v[1]-1)*R,1));for(I=0;I<L;I+=1){if(O=k[I].a,R=k[I].s.getMult(C[r].anIndexes[I],S.a[I].s.totalChars),O.sk.propType&&(R.length?E.skewFromAxis(-O.sk.v*R[0],O.sa.v*R[1]):E.skewFromAxis(-O.sk.v*R,O.sa.v*R)),O.r.propType&&(R.length?E.rotateZ(-O.r.v*R[2]):E.rotateZ(-O.r.v*R)),O.ry.propType&&(R.length?E.rotateY(O.ry.v*R[1]):E.rotateY(O.ry.v*R)),O.rx.propType&&(R.length?E.rotateX(O.rx.v*R[0]):E.rotateX(O.rx.v*R)),O.o.propType&&(R.length?U+=(O.o.v*R[0]-U)*R[0]:U+=(O.o.v*R-U)*R),e.strokeWidthAnim&&O.sw.propType&&(R.length?V+=O.sw.v*R[0]:V+=O.sw.v*R),e.strokeColorAnim&&O.sc.propType)for($=0;$<3;$+=1)R.length?q[$]+=(O.sc.v[$]-q[$])*R[0]:q[$]+=(O.sc.v[$]-q[$])*R;if(e.fillColorAnim&&e.fc){if(O.fc.propType)for($=0;$<3;$+=1)R.length?H[$]+=(O.fc.v[$]-H[$])*R[0]:H[$]+=(O.fc.v[$]-H[$])*R;O.fh.propType&&(H=R.length?addHueToRGB(H,O.fh.v*R[0]):addHueToRGB(H,O.fh.v*R)),O.fs.propType&&(H=R.length?addSaturationToRGB(H,O.fs.v*R[0]):addSaturationToRGB(H,O.fs.v*R)),O.fb.propType&&(H=R.length?addBrightnessToRGB(H,O.fb.v*R[0]):addBrightnessToRGB(H,O.fb.v*R))}}for(I=0;I<L;I+=1)(O=k[I].a).p.propType&&(R=k[I].s.getMult(C[r].anIndexes[I],S.a[I].s.totalChars),this._hasMaskedPath?R.length?E.translate(0,O.p.v[1]*R[0],-O.p.v[2]*R[1]):E.translate(0,O.p.v[1]*R,-O.p.v[2]*R):R.length?E.translate(O.p.v[0]*R[0],O.p.v[1]*R[1],-O.p.v[2]*R[2]):E.translate(O.p.v[0]*R,O.p.v[1]*R,-O.p.v[2]*R));if(e.strokeWidthAnim&&(z=V<0?0:V),e.strokeColorAnim&&(W="rgb("+Math.round(255*q[0])+","+Math.round(255*q[1])+","+Math.round(255*q[2])+")"),e.fillColorAnim&&e.fc&&(G="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),this._hasMaskedPath){if(E.translate(0,-e.ls),E.translate(0,w[1]*M*.01+i,0),this._pathData.p.v){b=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var le=180*Math.atan(b)/Math.PI;l.point[0]<p.point[0]&&(le+=180),E.rotate(-le*Math.PI/180)}E.translate(F,B,0),a-=w[0]*C[r].an*.005,C[r+1]&&Y!==C[r+1].ind&&(a+=C[r].an/2,a+=.001*e.tr*e.finalSize)}else{switch(E.translate(n,i,0),e.ps&&E.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:E.translate(C[r].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[C[r].line]),0,0);break;case 2:E.translate(C[r].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[C[r].line])/2,0,0)}E.translate(0,-e.ls),E.translate(j,0,0),E.translate(w[0]*C[r].an*.005,w[1]*M*.01,0),n+=C[r].l+.001*e.tr*e.finalSize}"html"===T?ee=E.toCSS():"svg"===T?ee=E.to2dCSS():te=[E.props[0],E.props[1],E.props[2],E.props[3],E.props[4],E.props[5],E.props[6],E.props[7],E.props[8],E.props[9],E.props[10],E.props[11],E.props[12],E.props[13],E.props[14],E.props[15]],K=U}x<=r?(D=new LetterProps(K,z,W,G,ee,te),this.renderedLetters.push(D),x+=1,this.lettersChangedFlag=!0):(D=this.renderedLetters[r],this.lettersChangedFlag=D.update(K,z,W,G,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(e,t,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,n),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){var n,i,r=t.length,o="";for(n=0;n<r;n+=1)"sh"===t[n].ty&&(i=t[n].ks.k,o+=buildShapeString(i,i.i.length,!0,e));return o},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,n,i,r){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n])/2,0,0)}t.translate(i,r,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,n){this.textSpans=[],this.renderType="svg",this.initElement(e,t,n)}function ISolidElement(e,t,n){this.initElement(e,t,n)}function NullElement(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initFrame(),this.initTransform(e,t,n),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(e,t,n){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(t&&t.title){var i=createNS("title"),r=createElementID();i.setAttribute("id",r),i.textContent=t.title,this.svgElement.appendChild(i),n+=r}if(t&&t.description){var o=createNS("desc"),s=createElementID();o.setAttribute("id",s),o.textContent=t.description,this.svgElement.appendChild(o),n+=" "+s}n&&this.svgElement.setAttribute("aria-labelledby",n);var a=createNS("defs");this.svgElement.appendChild(a);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&!1===t.hideOnTransparent),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var e;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVEffects(){}function CVMaskElement(e,t){var n;this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var i=this.masksProperties.length,r=!1;for(n=0;n<i;n+=1)"n"!==this.masksProperties[n].mode&&(r=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=r,r&&this.element.addRenderableComponent(this)}function CVBaseElement(){}function CVShapeData(e,t,n,i){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var r,o=4;"rc"===t.ty?o=5:"el"===t.ty?o=6:"sr"===t.ty&&(o=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,o,e);var s,a=n.length;for(r=0;r<a;r+=1)n[r].closed||(s={transforms:i.addTransformSequence(n[r].transforms),trNodes:[]},this.styledShapes.push(s),n[r].elements.push(s))}function CVShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,n)}function CVTextElement(e,t,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,n)}function CVImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,n)}function CVSolidElement(e,t,n){this.initElement(e,t,n)}function CanvasRendererBase(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(e,t,n){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(e,t,n){this.initElement(e,t,n)}function HShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,n)}function HCameraElement(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initHierarchy();var i=PropertyFactory.getProp;if(this.pe=i(this,e.pe,0,0,this),e.ks.p.s?(this.px=i(this,e.ks.p.x,1,0,this),this.py=i(this,e.ks.p.y,1,0,this),this.pz=i(this,e.ks.p.z,1,0,this)):this.p=i(this,e.ks.p,1,0,this),e.ks.a&&(this.a=i(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var r,o=e.ks.or.k.length;for(r=0;r<o;r+=1)e.ks.or.k[r].to=null,e.ks.or.k[r].ti=null}this.or=i(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=i(this,e.ks.rx,0,degToRads,this),this.ry=i(this,e.ks.ry,0,degToRads,this),this.rz=i(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,n)}function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(e,t,n){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,n=e.length,i=[],r="";t<n;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(i.push(r),r=""):r+=e[t],t+=1;return i.push(r),i},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var n=e.shapes[0];if(n.it){var i=n.it[n.it.length-1];i.s&&(i.s.k[0]=t,i.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){var e,t;this.addDynamicProperty(this);var n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var i=this.globalData.fontManager.getFontByName(n.f);if(i.fClass)this.layerElement.setAttribute("class",i.fClass);else{this.layerElement.setAttribute("font-family",i.fFamily);var r=n.fWeight,o=n.fStyle;this.layerElement.setAttribute("font-style",o),this.layerElement.setAttribute("font-weight",r)}this.layerElement.setAttribute("aria-label",n.t);var s,a=n.l||[],l=!!this.globalData.fontManager.chars;t=a.length;var c=this.mHelper,u=this.data.singleShape,h=0,d=0,p=!0,f=.001*n.tr*n.finalSize;if(!u||l||n.sz){var m,g=this.textSpans.length;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!l||!u||0===e){if(s=g>e?this.textSpans[e].span:createNS(l?"g":"text"),g<=e){if(s.setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=s,l){var y=createNS("g");s.appendChild(y),this.textSpans[e].childSpan=y}this.textSpans[e].span=s,this.layerElement.appendChild(s)}s.style.display="inherit"}if(c.reset(),u&&(a[e].n&&(h=-f,d+=n.yOffset,d+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(n,c,a[e].line,h,d),h+=a[e].l||0,h+=f),l){var v;if(1===(m=this.globalData.fontManager.getCharData(n.finalText[e],i.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily)).t)v=new SVGCompElement(m.data,this.globalData,this);else{var b=emptyShapeData;m.data&&m.data.shapes&&(b=this.buildShapeData(m.data,n.finalSize)),v=new SVGShapeElement(b,this.globalData,this)}if(this.textSpans[e].glyph){var _=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(_.layerElement),_.destroy()}this.textSpans[e].glyph=v,v._debug=!0,v.prepareFrame(0),v.renderFrame(),this.textSpans[e].childSpan.appendChild(v.layerElement),1===m.t&&this.textSpans[e].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else u&&s.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),s.textContent=a[e].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}u&&s&&s.setAttribute("d","")}else{var w=this.textContainer,k="start";switch(n.j){case 1:k="end";break;case 2:k="middle";break;default:k="start"}w.setAttribute("text-anchor",k),w.setAttribute("letter-spacing",f);var S=this.buildTextContents(n.finalText);for(t=S.length,d=n.ps?n.ps[1]+n.ascent:0,e=0;e<t;e+=1)(s=this.textSpans[e].span||createNS("tspan")).textContent=S[e],s.setAttribute("x",0),s.setAttribute("y",d),s.style.display="inherit",w.appendChild(s),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=s,d+=n.finalLineHeight;this.layerElement.appendChild(w)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t,n=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<n;e+=1)(t=this.textSpans[e].glyph)&&(t.prepareFrame(this.comp.renderedFrame-this.data.st),t._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var n,i,r,o=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(t=s.length,e=0;e<t;e+=1)s[e].n||(n=o[e],i=this.textSpans[e].span,(r=this.textSpans[e].glyph)&&r.renderFrame(),n._mdf.m&&i.setAttribute("transform",n.m),n._mdf.o&&i.setAttribute("opacity",n.o),n._mdf.sw&&i.setAttribute("stroke-width",n.sw),n._mdf.sc&&i.setAttribute("stroke",n.sc),n._mdf.fc&&i.setAttribute("fill",n.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var n=createNS("clipPath"),i=createNS("rect");i.setAttribute("width",e.w),i.setAttribute("height",e.h),i.setAttribute("x",0),i.setAttribute("y",0);var r=createElementID();n.setAttribute("id",r),n.appendChild(i),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+r+")"),t.appendChild(n),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var t=0,n=this.layers.length;for(t=0;t<n;t+=1)if(this.layers[t].ind===e)return t;return-1},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){t[e]=!0;var n=this.createItem(this.layers[e]);if(t[e]=n,getExpressionsPlugin()&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,e),this.layers[e].tt){var i="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(-1===i)return;if(this.elements[i]&&!0!==this.elements[i]){var r=t[i].getMatte(this.layers[e].tt);n.setMatte(r)}else this.buildItem(i),this.addPendingElement(n)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,n=this.elements.length;t<n;){if(this.elements[t]===e){var i="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,r=this.elements[i].getMatte(this.layers[t].tt);e.setMatte(r);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var n=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=n-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<n;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){for(var i,r=0;r<t;)this.elements[r]&&!0!==this.elements[r]&&this.elements[r].getBaseElement()&&(i=this.elements[r].getBaseElement()),r+=1;i?this.layerElement.insertBefore(n,i):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var n,i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=i-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);var n=0;for(n=this._length;n<e;n+=1)this.saved[n]=createTypedArray("float32",16);this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},ShapeTransformManager.prototype={addTransformSequence:function(e){var t,n=e.length,i="_";for(t=0;t<n;t+=1)i+=e[t].transform.key+"_";var r=this.sequences[i];return r||(r={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[i]=r,this.sequenceList.push(r)),r},processSequence:function(e,t){for(var n,i=0,r=e.transforms.length,o=t;i<r&&!t;){if(e.transforms[i].transform.mProps._mdf){o=!0;break}i+=1}if(o)for(e.finalTransform.reset(),i=r-1;i>=0;i-=1)n=e.transforms[i].transform.mProps.v.props,e.finalTransform.transform(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]);e._mdf=o},processSequences:function(e){var t,n=this.sequenceList.length;for(t=0;t<n;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,n,i,r=this.element.finalTransform.mat,o=this.element.canvasContext,s=this.masksProperties.length;for(o.beginPath(),e=0;e<s;e+=1)if("n"!==this.masksProperties[e].mode){var a;this.masksProperties[e].inv&&(o.moveTo(0,0),o.lineTo(this.element.globalData.compSize.w,0),o.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),o.lineTo(0,this.element.globalData.compSize.h),o.lineTo(0,0)),i=this.viewData[e].v,t=r.applyToPointArray(i.v[0][0],i.v[0][1],0),o.moveTo(t[0],t[1]);var l=i._length;for(a=1;a<l;a+=1)n=r.applyToTriplePoints(i.o[a-1],i.i[a],i.v[a]),o.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=r.applyToTriplePoints(i.o[a-1],i.i[0],i.v[0]),o.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),o.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var e=0===this.data.ty;this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var n={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},i={};if("fl"===e.ty||"st"===e.ty?(i.c=PropertyFactory.getProp(this,e.c,1,255,this),i.c.k||(n.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(i.s=PropertyFactory.getProp(this,e.s,1,null,this),i.e=PropertyFactory.getProp(this,e.e,1,null,this),i.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),i.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),i.g=new GradientProperty(this,e.g,this)),i.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"===e.ty||"gs"===e.ty){if(n.lc=lineCapEnum[e.lc||2],n.lj=lineJoinEnum[e.lj||2],1==e.lj&&(n.ml=e.ml),i.w=PropertyFactory.getProp(this,e.w,0,null,this),i.w.k||(n.wi=i.w.v),e.d){var r=new DashProperty(this,e.d,"canvas",this);i.d=r,i.d.k||(n.da=i.d.dashArray,n.do=i.d.dashoffset[0])}}else n.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(n),i.style=n,i},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,n,i,r){var o,s,a,l,c,u,h=e.length-1,d=[],p=[],f=[].concat(r);for(o=h;o>=0;o-=1){if((l=this.searchProcessedElement(e[o]))?t[o]=n[l-1]:e[o]._shouldRender=i,"fl"===e[o].ty||"st"===e[o].ty||"gf"===e[o].ty||"gs"===e[o].ty)l?t[o].style.closed=!1:t[o]=this.createStyleElement(e[o],f),d.push(t[o].style);else if("gr"===e[o].ty){if(l)for(a=t[o].it.length,s=0;s<a;s+=1)t[o].prevViewData[s]=t[o].it[s];else t[o]=this.createGroupElement(e[o]);this.searchShapes(e[o].it,t[o].it,t[o].prevViewData,i,f)}else"tr"===e[o].ty?(l||(u=this.createTransformElement(e[o]),t[o]=u),f.push(t[o]),this.addTransformToStyleList(t[o])):"sh"===e[o].ty||"rc"===e[o].ty||"el"===e[o].ty||"sr"===e[o].ty?l||(t[o]=this.createShapeElement(e[o])):"tm"===e[o].ty||"rd"===e[o].ty||"pb"===e[o].ty||"zz"===e[o].ty||"op"===e[o].ty?(l?(c=t[o]).closed=!1:((c=ShapeModifiers.getModifier(e[o].ty)).init(this,e[o]),t[o]=c,this.shapeModifiers.push(c)),p.push(c)):"rp"===e[o].ty&&(l?(c=t[o]).closed=!0:(c=ShapeModifiers.getModifier(e[o].ty),t[o]=c,c.init(this,e,o,t),this.shapeModifiers.push(c),i=!1),p.push(c));this.addProcessedElement(e[o],o+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),h=p.length,o=0;o<h;o+=1)p[o].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,n,i,r,o,s,a,l,c=this.stylesList.length,u=this.globalData.renderer,h=this.globalData.canvasContext;for(e=0;e<c;e+=1)if(("st"!==(a=(l=this.stylesList[e]).type)&&"gs"!==a||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(u.save(),o=l.elements,"st"===a||"gs"===a?(h.strokeStyle="st"===a?l.co:l.grd,h.lineWidth=l.wi,h.lineCap=l.lc,h.lineJoin=l.lj,h.miterLimit=l.ml||0):h.fillStyle="fl"===a?l.co:l.grd,u.ctxOpacity(l.coOp),"st"!==a&&"gs"!==a&&h.beginPath(),u.ctxTransform(l.preTransforms.finalTransform.props),n=o.length,t=0;t<n;t+=1){for("st"!==a&&"gs"!==a||(h.beginPath(),l.da&&(h.setLineDash(l.da),h.lineDashOffset=l.do)),r=(s=o[t].trNodes).length,i=0;i<r;i+=1)"m"===s[i].t?h.moveTo(s[i].p[0],s[i].p[1]):"c"===s[i].t?h.bezierCurveTo(s[i].pts[0],s[i].pts[1],s[i].pts[2],s[i].pts[3],s[i].pts[4],s[i].pts[5]):h.closePath();"st"!==a&&"gs"!==a||(h.stroke(),l.da&&h.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&h.fill(l.r),u.restore()}},CVShapeElement.prototype.renderShape=function(e,t,n,i){var r,o;for(o=e,r=t.length-1;r>=0;r-=1)"tr"===t[r].ty?(o=n[r].transform,this.renderShapeTransform(e,o)):"sh"===t[r].ty||"el"===t[r].ty||"rc"===t[r].ty||"sr"===t[r].ty?this.renderPath(t[r],n[r]):"fl"===t[r].ty?this.renderFill(t[r],n[r],o):"st"===t[r].ty?this.renderStroke(t[r],n[r],o):"gf"===t[r].ty||"gs"===t[r].ty?this.renderGradientFill(t[r],n[r],o):"gr"===t[r].ty?this.renderShape(o,t[r].it,n[r].it):t[r].ty;i&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var n,i,r,o=e.trNodes,s=t.paths,a=s._length;o.length=0;var l=e.transforms.finalTransform;for(r=0;r<a;r+=1){var c=s.shapes[r];if(c&&c.v){for(i=c._length,n=1;n<i;n+=1)1===n&&o.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),o.push({t:"c",pts:l.applyToTriplePoints(c.o[n-1],c.i[n],c.v[n])});1===i&&o.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&i&&(o.push({t:"c",pts:l.applyToTriplePoints(c.o[n-1],c.i[0],c.v[0])}),o.push({t:"z"}))}}e.trNodes=o}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var n,i=t.styledShapes.length;for(n=0;n<i;n+=1)this.renderStyledShape(t.styledShapes[n],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,n){var i=t.style;(t.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n._opMdf||this._isFirstFrame)&&(i.coOp=t.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,n){var i,r=t.style;if(!r.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var o,s=this.globalData.canvasContext,a=t.s.v,l=t.e.v;if(1===e.t)i=s.createLinearGradient(a[0],a[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2)),u=Math.atan2(l[1]-a[1],l[0]-a[0]),h=t.h.v;h>=1?h=.99:h<=-1&&(h=-.99);var d=c*h,p=Math.cos(u+t.a.v)*d+a[0],f=Math.sin(u+t.a.v)*d+a[1];i=s.createRadialGradient(p,f,0,a[0],a[1],c)}var m=e.g.p,g=t.g.c,y=1;for(o=0;o<m;o+=1)t.g._hasOpacity&&t.g._collapsable&&(y=t.g.o[2*o+1]),i.addColorStop(g[4*o]/100,"rgba("+g[4*o+1]+","+g[4*o+2]+","+g[4*o+3]+","+y+")");r.grd=i}r.coOp=t.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(e,t,n){var i=t.style,r=t.d;r&&(r._mdf||this._isFirstFrame)&&(i.da=r.dashArray,i.do=r.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n._opMdf||this._isFirstFrame)&&(i.coOp=t.o.v*n.opacity),(t.w._mdf||this._isFirstFrame)&&(i.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var n=!1;e.sc&&(n=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var i,r,o,s,a,l,c,u,h,d,p,f,m=this.globalData.fontManager.getFontByName(e.f),g=e.l,y=this.mHelper;this.stroke=n,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,r=e.finalText.length;var v=this.data.singleShape,b=.001*e.tr*e.finalSize,_=0,w=0,k=!0,S=0;for(i=0;i<r;i+=1){s=(o=this.globalData.fontManager.getCharData(e.finalText[i],m.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&o.data||{},y.reset(),v&&g[i].n&&(_=-b,w+=e.yOffset,w+=k?1:0,k=!1),h=(c=s.shapes?s.shapes[0].it:[]).length,y.scale(e.finalSize/100,e.finalSize/100),v&&this.applyTextPropertiesToMatrix(e,y,g[i].line,_,w),p=createSizedArray(h-1);var E=0;for(u=0;u<h;u+=1)if("sh"===c[u].ty){for(l=c[u].ks.k.i.length,d=c[u].ks.k,f=[],a=1;a<l;a+=1)1===a&&f.push(y.applyToX(d.v[0][0],d.v[0][1],0),y.applyToY(d.v[0][0],d.v[0][1],0)),f.push(y.applyToX(d.o[a-1][0],d.o[a-1][1],0),y.applyToY(d.o[a-1][0],d.o[a-1][1],0),y.applyToX(d.i[a][0],d.i[a][1],0),y.applyToY(d.i[a][0],d.i[a][1],0),y.applyToX(d.v[a][0],d.v[a][1],0),y.applyToY(d.v[a][0],d.v[a][1],0));f.push(y.applyToX(d.o[a-1][0],d.o[a-1][1],0),y.applyToY(d.o[a-1][0],d.o[a-1][1],0),y.applyToX(d.i[0][0],d.i[0][1],0),y.applyToY(d.i[0][0],d.i[0][1],0),y.applyToX(d.v[0][0],d.v[0][1],0),y.applyToY(d.v[0][0],d.v[0][1],0)),p[E]=f,E+=1}v&&(_+=g[i].l,_+=b),this.textSpans[S]?this.textSpans[S].elem=p:this.textSpans[S]={elem:p},S+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,n,i,r,o,s=this.canvasContext;s.font=this.values.fValue,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;t=c.length;var u,h,d=null,p=null,f=null;for(e=0;e<t;e+=1)if(!c[e].n){if((a=l[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(a.p),this.globalData.renderer.ctxOpacity(a.o)),this.fill){for(a&&a.fc?d!==a.fc&&(d=a.fc,s.fillStyle=a.fc):d!==this.values.fill&&(d=this.values.fill,s.fillStyle=this.values.fill),i=(u=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<i;n+=1)for(o=(h=u[n]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),r=2;r<o;r+=6)this.globalData.canvasContext.bezierCurveTo(h[r],h[r+1],h[r+2],h[r+3],h[r+4],h[r+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(a&&a.sw?f!==a.sw&&(f=a.sw,s.lineWidth=a.sw):f!==this.values.sWidth&&(f=this.values.sWidth,s.lineWidth=this.values.sWidth),a&&a.sc?p!==a.sc&&(p=a.sc,s.strokeStyle=a.sc):p!==this.values.stroke&&(p=this.values.stroke,s.strokeStyle=this.values.stroke),i=(u=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<i;n+=1)for(o=(h=u[n]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),r=2;r<o;r+=6)this.globalData.canvasContext.bezierCurveTo(h[r],h[r+1],h[r+2],h[r+3],h[r+4],h[r+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}a&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,n,i=e.getContext("2d"),r=this.img.width,o=this.img.height,s=r/o,a=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>a&&"xMidYMid slice"===l||s<a&&"xMidYMid slice"!==l?t=(n=o)*a:n=(t=r)/a,i.drawImage(this.img,(r-t)/2,(o-n)/2,t,n,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){if(1!==e[0]||0!==e[1]||0!==e[4]||1!==e[5]||0!==e[12]||0!==e[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(e);var t=this.contextData.cTr.props;this.transformMat.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var n=this.contextData.cTr.props;this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])}else this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=e<0?0:e,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.save();var t,n=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var i=this.contextData.saved[this.contextData.cArrPos];for(t=0;t<16;t+=1)i[t]=n[t];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var t,n=this.contextData.saved[this.contextData.cArrPos],i=this.contextData.cTr.props;for(t=0;t<16;t+=1)i[t]=n[t];this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),n=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=n,this.globalData.currentGlobalAlpha!==n&&(this.canvasContext.globalAlpha=n,this.globalData.currentGlobalAlpha=n)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var n="0px 0px 0px";t.transformOrigin=n,t.mozTransformOrigin=n,t.webkitTransformOrigin=n,t["-webkit-transform"]=n,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,t){var n,i,r,o;if(this.reset(),e?(n=e,i=t,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=i):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,i=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=i*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var s=this.renderConfig.preserveAspectRatio.split(" "),a=s[1]||"meet",l=s[0]||"xMidYMid",c=l.substr(0,4),u=l.substr(4);r=n/i,(o=this.transformCanvas.w/this.transformCanvas.h)>r&&"meet"===a||o<r&&"slice"===a?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=i/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(o<r&&"meet"===a||o>r&&"slice"===a)?(n-this.transformCanvas.w*(i/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(o<r&&"meet"===a||o>r&&"slice"===a)?(n-this.transformCanvas.w*(i/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===u&&(o>r&&"meet"===a||o<r&&"slice"===a)?(i-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===u&&(o>r&&"meet"===a||o<r&&"slice"===a)?(i-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){var n;this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var i=this.layers.length;for(this.completeLayers||this.checkLayers(e),n=0;n<i;n+=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(e-this.layers[n].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=i-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){var n=this.createItem(this.layers[e],this,this.globalData);t[e]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var n,i=e.length;for(n=0;n<i;n+=1)t=e[n].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var n,i,r,o,s,a=e.sh.v,l=e.transformers,c=a._length;if(!(c<=1)){for(n=0;n<c-1;n+=1)i=this.getTransformedPoint(l,a.v[n]),r=this.getTransformedPoint(l,a.o[n]),o=this.getTransformedPoint(l,a.i[n+1]),s=this.getTransformedPoint(l,a.v[n+1]),this.checkBounds(i,r,o,s,t);a.c&&(i=this.getTransformedPoint(l,a.v[n]),r=this.getTransformedPoint(l,a.o[n]),o=this.getTransformedPoint(l,a.i[0]),s=this.getTransformedPoint(l,a.v[0]),this.checkBounds(i,r,o,s,t))}},HShapeElement.prototype.checkBounds=function(e,t,n,i,r){this.getBoundsOfCurve(e,t,n,i);var o=this.shapeBoundingBox;r.x=bmMin(o.left,r.x),r.xMax=bmMax(o.right,r.xMax),r.y=bmMin(o.top,r.y),r.yMax=bmMax(o.bottom,r.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,n,i){for(var r,o,s,a,l,c,u,h=[[e[0],i[0]],[e[1],i[1]]],d=0;d<2;++d)o=6*e[d]-12*t[d]+6*n[d],r=-3*e[d]+9*t[d]-9*n[d]+3*i[d],s=3*t[d]-3*e[d],o|=0,s|=0,0==(r|=0)&&0===o||(0===r?(a=-s/o)>0&&a<1&&h[d].push(this.calculateF(a,e,t,n,i,d)):(l=o*o-4*s*r)>=0&&((c=(-o+bmSqrt(l))/(2*r))>0&&c<1&&h[d].push(this.calculateF(c,e,t,n,i,d)),(u=(-o-bmSqrt(l))/(2*r))>0&&u<1&&h[d].push(this.calculateF(u,e,t,n,i,d))));this.shapeBoundingBox.left=bmMin.apply(null,h[0]),this.shapeBoundingBox.top=bmMin.apply(null,h[1]),this.shapeBoundingBox.right=bmMax.apply(null,h[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,h[1])},HShapeElement.prototype.calculateF=function(e,t,n,i,r,o){return bmPow(1-e,3)*t[o]+3*bmPow(1-e,2)*e*n[o]+3*(1-e)*bmPow(e,2)*i[o]+bmPow(e,3)*r[o]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var n,i=e.length;for(n=0;n<i;n+=1)e[n]&&e[n].sh?this.calculateShapeBoundingBox(e[n],t):e[n]&&e[n].it?this.calculateBoundingBox(e[n].it,t):e[n]&&e[n].style&&e[n].w&&this.expandStrokeBoundingBox(e[n].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var n=0;if(e.keyframes){for(var i=0;i<e.keyframes.length;i+=1){var r=e.keyframes[i].s;r>n&&(n=r)}n*=e.mult}else n=e.v*e.mult;t.x-=n,t.xMax+=n,t.y-=n,t.yMax+=n},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var n=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),n=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),n=!0),n||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var i=this.shapeCont.style,r="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";i.transform=r,i.webkitTransform=r}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,n=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=n,t.color=n,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var i,r,o=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",o.fClass)this.innerElem.className=o.fClass;else{t.fontFamily=o.fFamily;var s=e.fWeight,a=e.fStyle;t.fontStyle=a,t.fontWeight=s}var l,c,u,h=e.l;r=h.length;var d,p=this.mHelper,f="",m=0;for(i=0;i<r;i+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?u=(c=this.textSpans[m]).children[0]:((c=createTag("div")).style.lineHeight=0,(u=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],l=this.textPaths[m]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,y=this.globalData.fontManager.getCharData(e.finalText[i],o.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(g=y?y.data:null,p.reset(),g&&g.shapes&&g.shapes.length&&(d=g.shapes[0].it,p.scale(e.finalSize/100,e.finalSize/100),f=this.createPathShape(p,d),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(u);var v=u.getBBox();u.setAttribute("width",v.width+2),u.setAttribute("height",v.height+2),u.setAttribute("viewBox",v.x-1+" "+(v.y-1)+" "+(v.width+2)+" "+(v.height+2));var b=u.style,_="translate("+(v.x-1)+"px,"+(v.y-1)+"px)";b.transform=_,b.webkitTransform=_,h[i].yOffset=v.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);c.appendChild(u)}}else if(l.textContent=h[i].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var w=l.style,k="translate3d(0,"+-e.finalSize/1.2+"px,0)";w.transform=k,w.webkitTransform=k}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var n,i,r,o,s,a=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(i=c.length,n=0;n<i;n+=1)c[n].n?a+=1:(o=this.textSpans[n],s=this.textPaths[n],r=l[a],a+=1,r._mdf.m&&(this.isMasked?o.setAttribute("transform",r.m):(o.style.webkitTransform=r.m,o.style.transform=r.m)),o.style.opacity=r.o,r.sw&&r._mdf.sw&&s.setAttribute("stroke-width",r.sw),r.sc&&r._mdf.sc&&s.setAttribute("stroke",r.sc),r.fc&&r._mdf.fc&&(s.setAttribute("fill",r.fc),s.style.color=r.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var u=this.innerElem.getBBox();if(this.currentBBox.w!==u.width&&(this.currentBBox.w=u.width,this.svgElement.setAttribute("width",u.width)),this.currentBBox.h!==u.height&&(this.currentBBox.h=u.height,this.svgElement.setAttribute("height",u.height)),this.currentBBox.w!==u.width+2||this.currentBBox.h!==u.height+2||this.currentBBox.x!==u.x-1||this.currentBBox.y!==u.y-1){this.currentBBox.w=u.width+2,this.currentBBox.h=u.height+2,this.currentBBox.x=u.x-1,this.currentBBox.y=u.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var h="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=h,e.webkitTransform=h}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,n,i,r=this.comp.threeDElements.length;for(e=0;e<r;e+=1)if("3d"===(t=this.comp.threeDElements[e]).type){n=t.perspectiveElem.style,i=t.container.style;var o=this.pe.v+"px",s="0px 0px 0px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=o,n.webkitPerspective=o,i.transformOrigin=s,i.mozTransformOrigin=s,i.webkitTransformOrigin=s,n.transform=a,n.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,n=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)n=this.hierarchy[e].finalTransform.mProp._mdf||n;if(n||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var i=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-i.p.v[0],-i.p.v[1],i.p.v[2]),this.mat.rotateX(-i.or.v[0]).rotateY(-i.or.v[1]).rotateZ(i.or.v[2]),this.mat.rotateX(-i.rx.v).rotateY(-i.ry.v).rotateZ(i.rz.v),this.mat.scale(1/i.s.v[0],1/i.s.v[1],1/i.s.v[2]),this.mat.translate(i.a.v[0],i.a.v[1],i.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var r;r=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var o=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2)),s=[r[0]/o,r[1]/o,r[2]/o],a=Math.sqrt(s[2]*s[2]+s[0]*s[0]),l=Math.atan2(s[1],a),c=Math.atan2(s[0],-s[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){var h,d,p;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if("3d"===(h=this.comp.threeDElements[e]).type){if(u){var f=this.mat.toCSS();(p=h.container.style).transform=f,p.webkitTransform=f}this.pe._mdf&&((d=h.perspectiveElem.style).perspective=this.pe.v+"px",d.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){var i=this.layers[t];if(i.ddd&&this.supports3d)this.addTo3dContainer(n,t);else if(this.threeDElements)this.addTo3dContainer(n,t);else{for(var r,o,s=0;s<t;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(o=this.elements[s],r=(this.layers[s].ddd?this.getThreeDContainerByPos(s):o.getBaseElement())||r),s+=1;r?i.ddd&&this.supports3d||this.layerElement.insertBefore(n,r):i.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,n=this.threeDElements.length;t<n;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var n,i,r=createTag("div");styleDiv(r);var o=createTag("div");if(styleDiv(o),"3d"===t){(n=r.style).width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px";var s="50% 50%";n.webkitTransformOrigin=s,n.mozTransformOrigin=s,n.transformOrigin=s;var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(i=o.style).transform=a,i.webkitTransform=a}r.appendChild(o);var l={container:o,perspectiveElem:r,startPos:e,endPos:e,type:t};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var e,t,n=this.layers.length,i="";for(e=0;e<n;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?("3d"!==i&&(i="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):("2d"!==i&&(i="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(n=this.threeDElements.length)-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var n=0,i=this.threeDElements.length;n<i;){if(t<=this.threeDElements[n].endPos){for(var r,o=this.threeDElements[n].startPos;o<t;)this.elements[o]&&this.elements[o].getBaseElement&&(r=this.elements[o].getBaseElement()),o+=1;r?this.threeDElements[n].container.insertBefore(e,r):this.threeDElements[n].container.appendChild(e);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),n=this.animationItem.wrapper,i=t.style;i.width=e.w+"px",i.height=e.h+"px",this.resizerElem=t,styleDiv(t),i.transformStyle="flat",i.mozTransformStyle="flat",i.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),n.appendChild(t),i.overflow="hidden";var r=createNS("svg");r.setAttribute("width","1"),r.setAttribute("height","1"),styleDiv(r),this.resizerElem.appendChild(r);var o=createNS("defs");r.appendChild(o),this.data=e,this.setupGlobalData(e,r),this.globalData.defs=o,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e,t,n,i,r=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight,s=r/o;this.globalData.compSize.w/this.globalData.compSize.h>s?(e=r/this.globalData.compSize.w,t=r/this.globalData.compSize.w,n=0,i=(o-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(e=o/this.globalData.compSize.h,t=o/this.globalData.compSize.h,n=(r-this.globalData.compSize.w*(o/this.globalData.compSize.h))/2,i=0);var a=this.resizerElem.style;a.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+n+","+i+",0,1)",a.transform=a.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,n=this.globalData.compSize.h,i=this.threeDElements.length;for(e=0;e<i;e+=1){var r=this.threeDElements[e].perspectiveElem.style;r.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(n,2))+"px",r.perspective=r.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,n=e.length,i=createTag("div");for(t=0;t<n;t+=1)if(e[t].xt){var r=this.createComp(e[t],i,this.globalData.comp,null);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var n,i=0;i<t;)this.elements[i]&&this.elements[i].getBaseElement&&(n=this.elements[i].getBaseElement()),i+=1;n?this.layerElement.insertBefore(e,n):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(e){function t(t){for(var n=0,i=e.layers.length;n<i;){if(e.layers[n].nm===t||e.layers[n].ind===t)return e.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t},Expressions=function(){var e={initExpressions:function(e){var t=0,n=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0==(t-=1)&&function(){var e,t=n.length;for(e=0;e<t;e+=1)n[e].release();n.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===n.indexOf(e)&&n.push(e)}}};return e}(),MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var n,i=createSizedArray(t.viewData.length),r=t.viewData.length;for(n=0;n<r;n+=1)i[n]=new e(t.viewData[n],t.masksProperties[n]);return function(e){for(n=0;n<r;){if(t.masksProperties[n].nm===e)return i[n];n+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function n(e,t,n){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(i){if(!e.numKeys)return 0;var r;r="s"in t.keyframes[i-1]?t.keyframes[i-1].s:"e"in t.keyframes[i-2]?t.keyframes[i-2].e:t.keyframes[i-2].s;var o="unidimensional"===n?new Number(r):Object.assign({},r);return o.time=t.keyframes[i-1].t/t.elem.comp.globalData.frameRate,o.value="unidimensional"===n?r[0]:r,o},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function i(){return e}return function(r){return r?"unidimensional"===r.propType?function(t){t&&"pv"in t||(t=e);var i=1/t.mult,r=t.pv*i,o=new Number(r);return o.value=r,n(o,t,"unidimensional"),function(){return t.k&&t.getValue(),r=t.v*i,o.value!==r&&((o=new Number(r)).value=r,n(o,t,"unidimensional")),o}}(r):function(e){e&&"pv"in e||(e=t);var i=1/e.mult,r=e.data&&e.data.l||e.pv.length,o=createTypedArray("float32",r),s=createTypedArray("float32",r);return o.value=s,n(o,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<r;t+=1)s[t]=e.v[t]*i,o[t]=s[t];return o}}(r):i}}(),TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var n,i,r,o;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?o=ExpressionPropertyInterface(e.p):(n=ExpressionPropertyInterface(e.px),i=ExpressionPropertyInterface(e.py),e.pz&&(r=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?o():[n(),i(),r?r():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},LayerExpressionInterface=function(){function e(e){var t=new Matrix;return void 0!==e?this._elem.finalTransform.mProp.getValueAtTime(e).clone(t):this._elem.finalTransform.mProp.applyToMatrix(t),t}function t(e,t){var n=this.getMatrix(t);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.applyPoint(n,e)}function n(e,t){var n=this.getMatrix(t);return this.applyPoint(n,e)}function i(e,t){var n=this.getMatrix(t);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.invertPoint(n,e)}function r(e,t){var n=this.getMatrix(t);return this.invertPoint(n,e)}function o(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,i=this._elem.hierarchy.length;for(n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e)}return e.applyToPointArray(t[0],t[1],t[2]||0)}function s(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,i=this._elem.hierarchy.length;for(n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e)}return e.inversePoint(t)}function a(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var n,i=this._elem.hierarchy.length;for(n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function l(){return[1,1,1,1]}return function(c){var u;function h(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return h.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return u;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return h.effect;case"ADBE Text Properties":return h.textInterface;default:return null}}h.getMatrix=e,h.invertPoint=s,h.applyPoint=o,h.toWorld=n,h.toWorldVec=t,h.fromWorld=r,h.fromWorldVec=i,h.toComp=n,h.fromComp=a,h.sampleImage=l,h.sourceRectAtTime=c.sourceRectAtTime.bind(c),h._elem=c;var d=getDescriptor(u=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(h,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(u,"rotation"),scale:getDescriptor(u,"scale"),position:getDescriptor(u,"position"),opacity:getDescriptor(u,"opacity"),anchorPoint:d,anchor_point:d,transform:{get:function(){return u}},active:{get:function(){return c.isInRange}}}),h.startTime=c.data.st,h.index=c.data.ind,h.source=c.data.refId,h.height=0===c.data.ty?c.data.h:100,h.width=0===c.data.ty?c.data.w:100,h.inPoint=c.data.ip/c.comp.globalData.frameRate,h.outPoint=c.data.op/c.comp.globalData.frameRate,h._name=c.data.nm,h.registerMaskInterface=function(e){h.mask=new MaskManagerInterface(e,c)},h.registerEffectsInterface=function(e){h.effect=e},h}}(),propertyGroupFactory=function(e,t){return function(n){return(n=void 0===n?1:n)<=0?e:t(n-1)}},PropertyInterface=function(e,t){var n={_name:e};return function(e){return(e=void 0===e?1:e)<=0?n:t(e-1)}},EffectsExpressionInterface=function(){var e={createEffectsInterface:function(e,n){if(e.effectsManager){var i,r=[],o=e.data.ef,s=e.effectsManager.effectElements.length;for(i=0;i<s;i+=1)r.push(t(o[i],e.effectsManager.effectElements[i],n,e));var a=e.data.ef||[],l=function(e){for(i=0,s=a.length;i<s;){if(e===a[i].nm||e===a[i].mn||e===a[i].ix)return r[i];i+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return a.length}}),l}return null}};function t(e,i,r,o){function s(t){for(var n=e.ef,i=0,r=n.length;i<r;){if(t===n[i].nm||t===n[i].mn||t===n[i].ix)return 5===n[i].ty?c[i]:c[i]();i+=1}throw new Error}var a,l=propertyGroupFactory(s,r),c=[],u=e.ef.length;for(a=0;a<u;a+=1)5===e.ef[a].ty?c.push(t(e.ef[a],i.effectElements[a],i.effectElements[a].propertyGroup,o)):c.push(n(i.effectElements[a],e.ef[a].ty,o,l));return"ADBE Color Control"===e.mn&&Object.defineProperty(s,"color",{get:function(){return c[0]()}}),Object.defineProperties(s,{numProperties:{get:function(){return e.np}},_name:{value:e.nm},propertyGroup:{value:l}}),s.enabled=0!==e.en,s.active=s.enabled,s}function n(e,t,n,i){var r=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(PropertyInterface("",i)),function(){return 10===t?n.comp.compInterface(e.p.v):r()}}return e}(),ShapePathInterface=function(e,t,n){var i=t.sh;function r(e){return"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e?r.path:null}var o=propertyGroupFactory(r,n);return i.setGroupProperty(PropertyInterface("Path",o)),Object.defineProperties(r,{path:{get:function(){return i.k&&i.getValue(),i}},shape:{get:function(){return i.k&&i.getValue(),i}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:n}}),r},ShapeExpressionInterface=function(){function e(e,s,d){var p,f=[],m=e?e.length:0;for(p=0;p<m;p+=1)"gr"===e[p].ty?f.push(t(e[p],s[p],d)):"fl"===e[p].ty?f.push(n(e[p],s[p],d)):"st"===e[p].ty?f.push(r(e[p],s[p],d)):"tm"===e[p].ty?f.push(o(e[p],s[p],d)):"tr"===e[p].ty||("el"===e[p].ty?f.push(a(e[p],s[p],d)):"sr"===e[p].ty?f.push(l(e[p],s[p],d)):"sh"===e[p].ty?f.push(ShapePathInterface(e[p],s[p],d)):"rc"===e[p].ty?f.push(c(e[p],s[p],d)):"rd"===e[p].ty?f.push(u(e[p],s[p],d)):"rp"===e[p].ty?f.push(h(e[p],s[p],d)):"gf"===e[p].ty?f.push(i(e[p],s[p],d)):f.push((e[p],s[p],function(){return null})));return f}function t(t,n,i){var r=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return r.content;default:return r.transform}};r.propertyGroup=propertyGroupFactory(r,i);var o=function(t,n,i){var r,o=function(e){for(var t=0,n=r.length;t<n;){if(r[t]._name===e||r[t].mn===e||r[t].propertyIndex===e||r[t].ix===e||r[t].ind===e)return r[t];t+=1}return"number"==typeof e?r[e-1]:null};o.propertyGroup=propertyGroupFactory(o,i),r=e(t.it,n.it,o.propertyGroup),o.numProperties=r.length;var a=s(t.it[t.it.length-1],n.it[n.it.length-1],o.propertyGroup);return o.transform=a,o.propertyIndex=t.cix,o._name=t.nm,o}(t,n,r.propertyGroup),a=s(t.it[t.it.length-1],n.it[n.it.length-1],r.propertyGroup);return r.content=o,r.transform=a,Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.numProperties=t.np,r.propertyIndex=t.ix,r.nm=t.nm,r.mn=t.mn,r}function n(e,t,n){function i(e){return"Color"===e||"color"===e?i.color:"Opacity"===e||"opacity"===e?i.opacity:null}return Object.defineProperties(i,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",n)),t.o.setGroupProperty(PropertyInterface("Opacity",n)),i}function i(e,t,n){function i(e){return"Start Point"===e||"start point"===e?i.startPoint:"End Point"===e||"end point"===e?i.endPoint:"Opacity"===e||"opacity"===e?i.opacity:null}return Object.defineProperties(i,{startPoint:{get:ExpressionPropertyInterface(t.s)},endPoint:{get:ExpressionPropertyInterface(t.e)},opacity:{get:ExpressionPropertyInterface(t.o)},type:{get:function(){return"a"}},_name:{value:e.nm},mn:{value:e.mn}}),t.s.setGroupProperty(PropertyInterface("Start Point",n)),t.e.setGroupProperty(PropertyInterface("End Point",n)),t.o.setGroupProperty(PropertyInterface("Opacity",n)),i}function r(e,t,n){var i,r=propertyGroupFactory(c,n),o=propertyGroupFactory(l,r);function s(n){Object.defineProperty(l,e.d[n].nm,{get:ExpressionPropertyInterface(t.d.dataProps[n].p)})}var a=e.d?e.d.length:0,l={};for(i=0;i<a;i+=1)s(i),t.d.dataProps[i].p.setGroupProperty(o);function c(e){return"Color"===e||"color"===e?c.color:"Opacity"===e||"opacity"===e?c.opacity:"Stroke Width"===e||"stroke width"===e?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return l}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),t.w.setGroupProperty(PropertyInterface("Stroke Width",r)),c}function o(e,t,n){function i(t){return t===e.e.ix||"End"===t||"end"===t?i.end:t===e.s.ix?i.start:t===e.o.ix?i.offset:null}var r=propertyGroupFactory(i,n);return i.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",r)),t.e.setGroupProperty(PropertyInterface("End",r)),t.o.setGroupProperty(PropertyInterface("Offset",r)),i.propertyIndex=e.ix,i.propertyGroup=n,Object.defineProperties(i,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),i.mn=e.mn,i}function s(e,t,n){function i(t){return e.a.ix===t||"Anchor Point"===t?i.anchorPoint:e.o.ix===t||"Opacity"===t?i.opacity:e.p.ix===t||"Position"===t?i.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?i.rotation:e.s.ix===t||"Scale"===t?i.scale:e.sk&&e.sk.ix===t||"Skew"===t?i.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?i.skewAxis:null}var r=propertyGroupFactory(i,n);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",r)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",r)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",r)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",r)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",r)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",r)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",r))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",r)),Object.defineProperties(i,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),i.ty="tr",i.mn=e.mn,i.propertyGroup=n,i}function a(e,t,n){function i(t){return e.p.ix===t?i.position:e.s.ix===t?i.size:null}var r=propertyGroupFactory(i,n);i.propertyIndex=e.ix;var o="tm"===t.sh.ty?t.sh.prop:t.sh;return o.s.setGroupProperty(PropertyInterface("Size",r)),o.p.setGroupProperty(PropertyInterface("Position",r)),Object.defineProperties(i,{size:{get:ExpressionPropertyInterface(o.s)},position:{get:ExpressionPropertyInterface(o.p)},_name:{value:e.nm}}),i.mn=e.mn,i}function l(e,t,n){function i(t){return e.p.ix===t?i.position:e.r.ix===t?i.rotation:e.pt.ix===t?i.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?i.outerRadius:e.os.ix===t?i.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?i.innerRoundness:null:i.innerRadius}var r=propertyGroupFactory(i,n),o="tm"===t.sh.ty?t.sh.prop:t.sh;return i.propertyIndex=e.ix,o.or.setGroupProperty(PropertyInterface("Outer Radius",r)),o.os.setGroupProperty(PropertyInterface("Outer Roundness",r)),o.pt.setGroupProperty(PropertyInterface("Points",r)),o.p.setGroupProperty(PropertyInterface("Position",r)),o.r.setGroupProperty(PropertyInterface("Rotation",r)),e.ir&&(o.ir.setGroupProperty(PropertyInterface("Inner Radius",r)),o.is.setGroupProperty(PropertyInterface("Inner Roundness",r))),Object.defineProperties(i,{position:{get:ExpressionPropertyInterface(o.p)},rotation:{get:ExpressionPropertyInterface(o.r)},points:{get:ExpressionPropertyInterface(o.pt)},outerRadius:{get:ExpressionPropertyInterface(o.or)},outerRoundness:{get:ExpressionPropertyInterface(o.os)},innerRadius:{get:ExpressionPropertyInterface(o.ir)},innerRoundness:{get:ExpressionPropertyInterface(o.is)},_name:{value:e.nm}}),i.mn=e.mn,i}function c(e,t,n){function i(t){return e.p.ix===t?i.position:e.r.ix===t?i.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?i.size:null}var r=propertyGroupFactory(i,n),o="tm"===t.sh.ty?t.sh.prop:t.sh;return i.propertyIndex=e.ix,o.p.setGroupProperty(PropertyInterface("Position",r)),o.s.setGroupProperty(PropertyInterface("Size",r)),o.r.setGroupProperty(PropertyInterface("Rotation",r)),Object.defineProperties(i,{position:{get:ExpressionPropertyInterface(o.p)},roundness:{get:ExpressionPropertyInterface(o.r)},size:{get:ExpressionPropertyInterface(o.s)},_name:{value:e.nm}}),i.mn=e.mn,i}function u(e,t,n){function i(t){return e.r.ix===t||"Round Corners 1"===t?i.radius:null}var r=propertyGroupFactory(i,n),o=t;return i.propertyIndex=e.ix,o.rd.setGroupProperty(PropertyInterface("Radius",r)),Object.defineProperties(i,{radius:{get:ExpressionPropertyInterface(o.rd)},_name:{value:e.nm}}),i.mn=e.mn,i}function h(e,t,n){function i(t){return e.c.ix===t||"Copies"===t?i.copies:e.o.ix===t||"Offset"===t?i.offset:null}var r=propertyGroupFactory(i,n),o=t;return i.propertyIndex=e.ix,o.c.setGroupProperty(PropertyInterface("Copies",r)),o.o.setGroupProperty(PropertyInterface("Offset",r)),Object.defineProperties(i,{copies:{get:ExpressionPropertyInterface(o.c)},offset:{get:ExpressionPropertyInterface(o.o)},_name:{value:e.nm}}),i.mn=e.mn,i}return function(t,n,i){var r;function o(e){if("number"==typeof e)return 0===(e=void 0===e?1:e)?i:r[e-1];for(var t=0,n=r.length;t<n;){if(r[t]._name===e)return r[t];t+=1}return null}return o.propertyGroup=propertyGroupFactory(o,(function(){return i})),r=e(t,n,o.propertyGroup),o.numProperties=r.length,o._name="Contents",o}}(),TextExpressionInterface=function(e){var t,n;function i(e){return"ADBE Text Document"===e?i.sourceText:null}return Object.defineProperty(i,"sourceText",{get:function(){e.textProperty.getValue();var i=e.textProperty.currentData.t;return i!==t&&(e.textProperty.currentData.t=t,(n=new String(i)).value=i||new String(i)),n}}),i};function _typeof$2(e){return _typeof$2="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},_typeof$2(e)}var FootageInterface=(dataInterfaceFactory=function(e){function t(e){return"Outline"===e?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(e){var t="",n=e.getFootageData();function i(e){if(n[e])return t=e,"object"===_typeof$2(n=n[e])?i:n;var r=e.indexOf(t);if(-1!==r){var o=parseInt(e.substr(r+t.length),10);return"object"===_typeof$2(n=n[o])?i:n}return""}return function(){return t="",n=e.getFootageData(),i}}(e),t},function(e){function t(e){return"Data"===e?t.dataInterface:null}return t._name="Data",t.dataInterface=dataInterfaceFactory(e),t}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}function _typeof$1(e){return _typeof$1="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},_typeof$1(e)}function seedRandom(e,t){var n=this,i=256,r=t.pow(i,6),o=t.pow(2,52),s=2*o,a=255;function l(e){var t,n=e.length,r=this,o=0,s=r.i=r.j=0,l=r.S=[];for(n||(e=[n++]);o<i;)l[o]=o++;for(o=0;o<i;o++)l[o]=l[s=a&s+e[o%n]+(t=l[o])],l[s]=t;r.g=function(e){for(var t,n=0,o=r.i,s=r.j,l=r.S;e--;)t=l[o=a&o+1],n=n*i+l[a&(l[o]=l[s=a&s+t])+(l[s]=t)];return r.i=o,r.j=s,n}}function c(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function u(e,t){var n,i=[],r=_typeof$1(e);if(t&&"object"==r)for(n in e)try{i.push(u(e[n],t-1))}catch(e){}return i.length?i:"string"==r?e:e+"\0"}function h(e,t){for(var n,i=e+"",r=0;r<i.length;)t[a&r]=a&(n^=19*t[a&r])+i.charCodeAt(r++);return d(t)}function d(e){return String.fromCharCode.apply(0,e)}t.seedrandom=function(a,p,f){var m=[],g=h(u((p=!0===p?{entropy:!0}:p||{}).entropy?[a,d(e)]:null===a?function(){try{var t=new Uint8Array(i);return(n.crypto||n.msCrypto).getRandomValues(t),d(t)}catch(t){var r=n.navigator,o=r&&r.plugins;return[+new Date,n,o,n.screen,d(e)]}}():a,3),m),y=new l(m),v=function(){for(var e=y.g(6),t=r,n=0;e<o;)e=(e+n)*i,t*=i,n=y.g(1);for(;e>=s;)e/=2,t/=2,n>>>=1;return(e+n)/t};return v.int32=function(){return 0|y.g(4)},v.quick=function(){return y.g(4)/4294967296},v.double=v,h(d(y.S),e),(p.pass||f||function(e,n,i,r){return r&&(r.S&&c(r,y),e.state=function(){return c(y,{})}),i?(t.random=e,n):e})(v,g,"global"in p?p.global:this==t,p.state)},h(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},_typeof(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||"boolean"===e||"string"===e||t instanceof Number}function $bm_neg(e){var t=_typeof(e);if("number"===t||"boolean"===t||e instanceof Number)return-e;if($bm_isInstanceOfArray(e)){var n,i=e.length,r=[];for(n=0;n<i;n+=1)r[n]=-e[n];return r}return e.propType?e.v:-e}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var n=_typeof(e),i=_typeof(t);if("string"===n||"string"===i)return e+t;if(isNumerable(n,e)&&isNumerable(i,t))return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(i,t))return(e=e.slice(0))[0]+=t,e;if(isNumerable(n,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var r=0,o=e.length,s=t.length,a=[];r<o||r<s;)("number"==typeof e[r]||e[r]instanceof Number)&&("number"==typeof t[r]||t[r]instanceof Number)?a[r]=e[r]+t[r]:a[r]=void 0===t[r]?e[r]:e[r]||t[r],r+=1;return a}return 0}var add=sum;function sub(e,t){var n=_typeof(e),i=_typeof(t);if(isNumerable(n,e)&&isNumerable(i,t))return"string"===n&&(e=parseInt(e,10)),"string"===i&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(i,t))return(e=e.slice(0))[0]-=t,e;if(isNumerable(n,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var r=0,o=e.length,s=t.length,a=[];r<o||r<s;)("number"==typeof e[r]||e[r]instanceof Number)&&("number"==typeof t[r]||t[r]instanceof Number)?a[r]=e[r]-t[r]:a[r]=void 0===t[r]?e[r]:e[r]||t[r],r+=1;return a}return 0}function mul(e,t){var n,i,r,o=_typeof(e),s=_typeof(t);if(isNumerable(o,e)&&isNumerable(s,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(r=e.length,n=createTypedArray("float32",r),i=0;i<r;i+=1)n[i]=e[i]*t;return n}if(isNumerable(o,e)&&$bm_isInstanceOfArray(t)){for(r=t.length,n=createTypedArray("float32",r),i=0;i<r;i+=1)n[i]=e*t[i];return n}return 0}function div(e,t){var n,i,r,o=_typeof(e),s=_typeof(t);if(isNumerable(o,e)&&isNumerable(s,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(r=e.length,n=createTypedArray("float32",r),i=0;i<r;i+=1)n[i]=e[i]/t;return n}if(isNumerable(o,e)&&$bm_isInstanceOfArray(t)){for(r=t.length,n=createTypedArray("float32",r),i=0;i<r;i+=1)n[i]=e/t[i];return n}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e,10)),"string"==typeof t&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,n){if(t>n){var i=n;n=t,t=i}return Math.min(Math.max(e,t),n)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);var n;t||(t=helperLengthArray);var i=Math.min(e.length,t.length),r=0;for(n=0;n<i;n+=1)r+=Math.pow(t[n]-e[n],2);return Math.sqrt(r)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,n,i=e[0],r=e[1],o=e[2],s=Math.max(i,r,o),a=Math.min(i,r,o),l=(s+a)/2;if(s===a)t=0,n=0;else{var c=s-a;switch(n=l>.5?c/(2-s-a):c/(s+a),s){case i:t=(r-o)/c+(r<o?6:0);break;case r:t=(o-i)/c+2;break;case o:t=(i-r)/c+4}t/=6}return[t,n,l,e[3]]}function hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslToRgb(e){var t,n,i,r=e[0],o=e[1],s=e[2];if(0===o)t=s,i=s,n=s;else{var a=s<.5?s*(1+o):s+o-s*o,l=2*s-a;t=hue2rgb(l,a,r+1/3),n=hue2rgb(l,a,r),i=hue2rgb(l,a,r-1/3)}return[t,n,i,e[3]]}function linear(e,t,n,i,r){if(void 0!==i&&void 0!==r||(i=t,r=n,t=0,n=1),n<t){var o=n;n=t,t=o}if(e<=t)return i;if(e>=n)return r;var s,a=n===t?0:(e-t)/(n-t);if(!i.length)return i+(r-i)*a;var l=i.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=i[s]+(r[s]-i[s])*a;return c}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var n,i=t.length;e||(e=createTypedArray("float32",i));var r=createTypedArray("float32",i),o=BMMath.random();for(n=0;n<i;n+=1)r[n]=e[n]+o*(t[n]-e[n]);return r}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,n,i){var r,o=e.length,s=shapePool.newElement();s.setPathData(!!i,o);var a,l,c=[0,0];for(r=0;r<o;r+=1)a=t&&t[r]?t[r]:c,l=n&&n[r]?n[r]:c,s.setTripleAt(e[r][0],e[r][1],l[0]+e[r][0],l[1]+e[r][1],a[0]+e[r][0],a[1]+e[r][1],r,!0);return s}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var n,i,r=this.pv.length?this.pv.length:1,o=createTypedArray("float32",r),s=Math.floor(5*time);for(n=0,i=0;n<s;){for(i=0;i<r;i+=1)o[i]+=-t+2*t*BMMath.random();n+=1}var a=5*time,l=a-Math.floor(a),c=createTypedArray("float32",r);if(r>1){for(i=0;i<r;i+=1)c[i]=this.pv[i]+o[i]+(-t+2*t*BMMath.random())*l;return c}return this.pv+o[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var n=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],i=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,i,0]}function easeOut(e,t,n,i,r){return applyEase(easeOutBez,e,t,n,i,r)}function easeIn(e,t,n,i,r){return applyEase(easeInBez,e,t,n,i,r)}function ease(e,t,n,i,r){return applyEase(easeInOutBez,e,t,n,i,r)}function applyEase(e,t,n,i,r,o){void 0===r?(r=n,o=i):t=(t-n)/(i-n),t>1?t=1:t<0&&(t=0);var s=e(t);if($bm_isInstanceOfArray(r)){var a,l=r.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=(o[a]-r[a])*s+r[a];return c}return(o-r)*s+r}function nearestKey(e){var t,n,i,r=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(n=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,i=data.k[0].t;else{for(t=0;t<r-1;t+=1){if(e===data.k[t].t){n=t+1,i=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(n=t+2,i=data.k[t+1].t):(n=t+1,i=data.k[t].t);break}}-1===n&&(n=t+1,i=data.k[t].t)}else n=0,i=0;var o={};return o.index=n,o.time=i/elem.comp.globalData.frameRate,o}function key(e){var t,n,i;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var r=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(i=r.length,n=0;n<i;n+=1)t[n]=r[n],t.value[n]=r[n];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"==typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function(e,t,n){t.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(e,t,n).bind(n)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),n=this.getValueAtTime(e+-.01),i=0;if(t.length){var r;for(r=0;r<t.length;r+=1)i+=Math.pow(n[r]-t[r],2);i=100*Math.sqrt(i)}else i=0;return i},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,n,i=-.001,r=this.getValueAtTime(e),o=this.getValueAtTime(e+i);if(r.length)for(t=createTypedArray("float32",r.length),n=0;n<r.length;n+=1)t[n]=(o[n]-r[n])/i;else t=(o-r)/i;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};function addPropertyDecorator(){function e(e,t,n){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var i,r,o,s,a,l=this.comp.renderedFrame,c=this.keyframes,u=c[c.length-1].t;if(l<=u)return this.pv;if(n?r=u-(i=t?Math.abs(u-this.elem.comp.globalData.frameRate*t):Math.max(0,u-this.elem.data.ip)):((!t||t>c.length-1)&&(t=c.length-1),i=u-(r=c[c.length-1-t].t)),"pingpong"===e){if(Math.floor((l-r)/i)%2!=0)return this.getValueAtTime((i-(l-r)%i+r)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var h=this.getValueAtTime(r/this.comp.globalData.frameRate,0),d=this.getValueAtTime(u/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-r)%i+r)/this.comp.globalData.frameRate,0),f=Math.floor((l-r)/i);if(this.pv.length){for(s=(a=new Array(h.length)).length,o=0;o<s;o+=1)a[o]=(d[o]-h[o])*f+p[o];return a}return(d-h)*f+p}if("continue"===e){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),g=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(m.length)).length,o=0;o<s;o+=1)a[o]=m[o]+(m[o]-g[o])*((l-u)/this.comp.globalData.frameRate)/5e-4;return a}return m+(l-u)/.001*(m-g)}}return this.getValueAtTime(((l-r)%i+r)/this.comp.globalData.frameRate,0)}function t(e,t,n){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var i,r,o,s,a,l=this.comp.renderedFrame,c=this.keyframes,u=c[0].t;if(l>=u)return this.pv;if(n?r=u+(i=t?Math.abs(this.elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-u)):((!t||t>c.length-1)&&(t=c.length-1),i=(r=c[t].t)-u),"pingpong"===e){if(Math.floor((u-l)/i)%2==0)return this.getValueAtTime(((u-l)%i+u)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var h=this.getValueAtTime(u/this.comp.globalData.frameRate,0),d=this.getValueAtTime(r/this.comp.globalData.frameRate,0),p=this.getValueAtTime((i-(u-l)%i+u)/this.comp.globalData.frameRate,0),f=Math.floor((u-l)/i)+1;if(this.pv.length){for(s=(a=new Array(h.length)).length,o=0;o<s;o+=1)a[o]=p[o]-(d[o]-h[o])*f;return a}return p-(d-h)*f}if("continue"===e){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),g=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(m.length)).length,o=0;o<s;o+=1)a[o]=m[o]+(m[o]-g[o])*(u-l)/.001;return a}return m+(m-g)*(u-l)/.001}}return this.getValueAtTime((i-((u-l)%i+u))/this.comp.globalData.frameRate,0)}function n(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var n,i,r=this.comp.renderedFrame/this.comp.globalData.frameRate,o=r-e,s=t>1?(r+e-o)/(t-1):1,a=0,l=0;for(n=this.pv.length?createTypedArray("float32",this.pv.length):0;a<t;){if(i=this.getValueAtTime(o+a*s),this.pv.length)for(l=0;l<this.pv.length;l+=1)n[l]+=i[l];else n+=i;a+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)n[l]/=t;else n/=t;return n}function i(e){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var t=this._transformCachingAtTime.v;if(t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var n=this.a.getValueAtTime(e);t.translate(-n[0]*this.a.mult,-n[1]*this.a.mult,n[2]*this.a.mult)}if(this.appliedTransformations<2){var i=this.s.getValueAtTime(e);t.scale(i[0]*this.s.mult,i[1]*this.s.mult,i[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var r=this.sk.getValueAtTime(e),o=this.sa.getValueAtTime(e);t.skewFromAxis(-r*this.sk.mult,o*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var s=this.r.getValueAtTime(e);t.rotate(-s*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var a=this.rz.getValueAtTime(e),l=this.ry.getValueAtTime(e),c=this.rx.getValueAtTime(e),u=this.or.getValueAtTime(e);t.rotateZ(-a*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-u[2]*this.or.mult).rotateY(u[1]*this.or.mult).rotateX(u[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var h=this.px.getValueAtTime(e),d=this.py.getValueAtTime(e);if(this.data.p.z){var p=this.pz.getValueAtTime(e);t.translate(h*this.px.mult,d*this.py.mult,-p*this.pz.mult)}else t.translate(h*this.px.mult,d*this.py.mult,0)}else{var f=this.p.getValueAtTime(e);t.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return t}function r(){return this.v.clone(new Matrix)}var o=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,n){var s=o(e,t,n);return s.dynamicProperties.length?s.getValueAtTime=i.bind(s):s.getValueAtTime=r.bind(s),s.setGroupProperty=expressionHelpers.setGroupProperty,s};var s=PropertyFactory.getProp;PropertyFactory.getProp=function(i,r,o,a,l){var c=s(i,r,o,a,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=e,c.loopIn=t,c.smooth=n,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===r.a?r.k.length:0,c.propertyIndex=r.ix;var u=0;return 0!==o&&(u=createTypedArray("float32",1===r.a?r.k[0].s.length:r.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},expressionHelpers.searchExpressions(i,r,c),c.k&&l.addDynamicProperty(c),c};var a=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(e,t){this.k&&this.getValue();var n,i=this.v;void 0!==t&&(i=this.getValueAtTime(t,0));var r=i._length,o=i[e],s=i.v,a=createSizedArray(r);for(n=0;n<r;n+=1)a[n]="i"===e||"o"===e?[o[n][0]-s[n][0],o[n][1]-s[n][1]]:[o[n][0],o[n][1]];return a},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(n));for(var i,r=this._segmentsLength,o=r.lengths,s=r.totalLength*e,a=0,l=o.length,c=0;a<l;){if(c+o[a].addedLength>s){var u=a,h=n.c&&a===l-1?0:a+1,d=(s-c)/o[a].addedLength;i=bez.getPointInSegment(n.v[u],n.v[h],n.o[u],n.i[h],d,o[a]);break}c+=o[a].addedLength,a+=1}return i||(i=n.c?[n.v[0][0],n.v[0][1]]:[n.v[n._length-1][0],n.v[n._length-1][1]]),i},vectorOnPath:function(e,t,n){1==e?e=this.v.c:0==e&&(e=.999);var i=this.pointOnPath(e,t),r=this.pointOnPath(e+.001,t),o=r[0]-i[0],s=r[1]-i[1],a=Math.sqrt(Math.pow(o,2)+Math.pow(s,2));return 0===a?[0,0]:"tangent"===n?[o/a,s/a]:[-s/a,o/a]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],a),extendPrototype([c],l),l.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var u=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,n,i,r){var o=u(e,t,n,i,r);return o.propertyIndex=t.ix,o.lock=!1,3===n?expressionHelpers.searchExpressions(e,t.pt,o):4===n&&expressionHelpers.searchExpressions(e,t.ks,o),o.k&&e.addDynamicProperty(o),o}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(e,t){var n=this.calculateExpression(t);if(e.t!==n){var i={};return this.copyData(i,e),i.t=n.toString(),i.__complete=!1,i}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}function SVGTintFilter(e,t,n,i,r){this.filterManager=t;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),o.setAttribute("result",i+"_tint_1"),e.appendChild(o),(o=createNS("feColorMatrix")).setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",i+"_tint_2"),e.appendChild(o),this.matrixFilter=o;var s=this.createMergeNode(i,[r,i+"_tint_1",i+"_tint_2"]);e.appendChild(s)}function SVGFillFilter(e,t,n,i){this.filterManager=t;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.setAttribute("result",i),e.appendChild(r),this.matrixFilter=r}function SVGStrokeEffect(e,t,n){this.initialized=!1,this.filterManager=t,this.elem=n,this.paths=[]}function SVGTritoneFilter(e,t,n,i){this.filterManager=t;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(r);var o=createNS("feComponentTransfer");o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("result",i),this.matrixFilter=o;var s=createNS("feFuncR");s.setAttribute("type","table"),o.appendChild(s),this.feFuncR=s;var a=createNS("feFuncG");a.setAttribute("type","table"),o.appendChild(a),this.feFuncG=a;var l=createNS("feFuncB");l.setAttribute("type","table"),o.appendChild(l),this.feFuncB=l,e.appendChild(o)}function SVGProLevelsFilter(e,t,n,i){this.filterManager=t;var r=this.filterManager.effectElements,o=createNS("feComponentTransfer");(r[10].p.k||0!==r[10].p.v||r[11].p.k||1!==r[11].p.v||r[12].p.k||1!==r[12].p.v||r[13].p.k||0!==r[13].p.v||r[14].p.k||1!==r[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",o)),(r[17].p.k||0!==r[17].p.v||r[18].p.k||1!==r[18].p.v||r[19].p.k||1!==r[19].p.v||r[20].p.k||0!==r[20].p.v||r[21].p.k||1!==r[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",o)),(r[24].p.k||0!==r[24].p.v||r[25].p.k||1!==r[25].p.v||r[26].p.k||1!==r[26].p.v||r[27].p.k||0!==r[27].p.v||r[28].p.k||1!==r[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",o)),(r[31].p.k||0!==r[31].p.v||r[32].p.k||1!==r[32].p.v||r[33].p.k||1!==r[33].p.v||r[34].p.k||0!==r[34].p.v||r[35].p.k||1!==r[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",o)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(o.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(o)),(r[3].p.k||0!==r[3].p.v||r[4].p.k||1!==r[4].p.v||r[5].p.k||1!==r[5].p.v||r[6].p.k||0!==r[6].p.v||r[7].p.k||1!==r[7].p.v)&&((o=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("result",i),e.appendChild(o),this.feFuncRComposed=this.createFeFunc("feFuncR",o),this.feFuncGComposed=this.createFeFunc("feFuncG",o),this.feFuncBComposed=this.createFeFunc("feFuncB",o))}function SVGDropShadowEffect(e,t,n,i,r){var o=t.container.globalData.renderConfig.filterSize,s=t.data.fs||o;e.setAttribute("x",s.x||o.x),e.setAttribute("y",s.y||o.y),e.setAttribute("width",s.width||o.width),e.setAttribute("height",s.height||o.height),this.filterManager=t;var a=createNS("feGaussianBlur");a.setAttribute("in","SourceAlpha"),a.setAttribute("result",i+"_drop_shadow_1"),a.setAttribute("stdDeviation","0"),this.feGaussianBlur=a,e.appendChild(a);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",i+"_drop_shadow_1"),l.setAttribute("result",i+"_drop_shadow_2"),this.feOffset=l,e.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",i+"_drop_shadow_3"),this.feFlood=c,e.appendChild(c);var u=createNS("feComposite");u.setAttribute("in",i+"_drop_shadow_3"),u.setAttribute("in2",i+"_drop_shadow_2"),u.setAttribute("operator","in"),u.setAttribute("result",i+"_drop_shadow_4"),e.appendChild(u);var h=this.createMergeNode(i,[i+"_drop_shadow_4",r]);e.appendChild(h)}SVGComposableEffect.prototype={createMergeNode:function(e,t){var n,i,r=createNS("feMerge");for(r.setAttribute("result",e),i=0;i<t.length;i+=1)(n=createNS("feMergeNode")).setAttribute("in",t[i]),r.appendChild(n),r.appendChild(n);return r}},extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",n[0]-t[0]+" 0 0 0 "+t[0]+" "+(n[1]-t[1])+" 0 0 0 "+t[1]+" "+(n[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+i+" 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+n+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var e,t,n,i,r=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(i=this.elem.maskManager.masksProperties.length,n=0):i=1+(n=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);n<i;n+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:n});if(3===this.filterManager.effectElements[10].p.v){var o=createNS("mask"),s=createElementID();o.setAttribute("id",s),o.setAttribute("mask-type","alpha"),o.appendChild(t),this.elem.globalData.defs.appendChild(o);var a=createNS("g");for(a.setAttribute("mask","url("+getLocationHref()+"#"+s+")");r[0];)a.appendChild(r[0]);this.elem.layerElement.appendChild(a),this.masker=o,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){var t;this.initialized||this.initialize();var n,i,r=this.paths.length;for(t=0;t<r;t+=1)if(-1!==this.paths[t].m&&(n=this.elem.maskManager.viewData[this.paths[t].m],i=this.paths[t].p,(e||this.filterManager._mdf||n.prop._mdf)&&i.setAttribute("d",n.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var o;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var s=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),a=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=i.getTotalLength();o="0 0 0 "+l*s+" ";var c,u=l*(a-s),h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,d=Math.floor(u/h);for(c=0;c<d;c+=1)o+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";o+="0 "+10*l+" 0 0"}else o="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;i.setAttribute("stroke-dasharray",o)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v,r=i[0]+" "+n[0]+" "+t[0],o=i[1]+" "+n[1]+" "+t[1],s=i[2]+" "+n[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",r),this.feFuncG.setAttribute("tableValues",o),this.feFuncB.setAttribute("tableValues",s)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var n=createNS(e);return n.setAttribute("type","table"),t.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(e,t,n,i,r){for(var o,s,a=0,l=Math.min(e,t),c=Math.max(e,t),u=Array.call(null,{length:256}),h=0,d=r-i,p=t-e;a<=256;)s=(o=a/256)<=l?p<0?r:i:o>=c?p<0?i:r:i+d*Math.pow((o-e)/p,1/n),u[h]=s,h+=1,a+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,n=this.filterManager.effectElements;this.feFuncRComposed&&(e||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(t=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(t=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(t=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(t=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(t=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,r=n*Math.cos(i),o=n*Math.sin(i);this.feOffset.setAttribute("dx",r),this.feOffset.setAttribute("dy",o)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,n){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGGaussianBlurEffect(e,t,n,i){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var r=createNS("feGaussianBlur");r.setAttribute("result",i),e.appendChild(r),this.feGaussianBlur=r}return SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,n=_svgMatteSymbols.length;t<n;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var n=e.layerElement.parentNode;if(n){for(var i,r=n.children,o=0,s=r.length;o<s&&r[o]!==e.layerElement;)o+=1;o<=s-2&&(i=r[o+1]);var a=createNS("use");a.setAttribute("href","#"+t),i?n.insertBefore(a,i):n.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var n=createElementID(),i=createNS("mask");i.setAttribute("id",t.layerId),i.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var r=e.globalData.defs;r.appendChild(i);var o=createNS("symbol");o.setAttribute("id",n),this.replaceInParent(t,n),o.appendChild(t.layerElement),r.appendChild(o);var s=createNS("use");s.setAttribute("href","#"+n),i.appendChild(s),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,n=0,i=t.length;n<i;)t[n]&&t[n].data.ind===e&&this.setElementAsMask(this.elem,t[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,i=3==n?0:t,r=2==n?0:t;this.feGaussianBlur.setAttribute("stdDeviation",i+" "+r);var o=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",o)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=factory())})(lottie$1,lottie$1.exports);var lottie=lottie$1.exports,_templateObject$1,styles=r$3(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral(["\n  * {\n    box-sizing: border-box;\n  }\n\n  :host {\n    --lottie-player-toolbar-height: 35px;\n    --lottie-player-toolbar-background-color: transparent;\n    --lottie-player-toolbar-icon-color: #999;\n    --lottie-player-toolbar-icon-hover-color: #222;\n    --lottie-player-toolbar-icon-active-color: #555;\n    --lottie-player-seeker-track-color: #ccc;\n    --lottie-player-seeker-thumb-color: rgba(0, 107, 120, 0.8);\n    --lottie-player-seeker-display: block;\n\n    display: block;\n    width: 100%;\n    height: 100%;\n  }\n\n  .main {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 100%;\n  }\n\n  .animation {\n    width: 100%;\n    height: 100%;\n    display: flex;\n  }\n  .animation.controls {\n    height: calc(100% - 35px);\n  }\n\n  .toolbar {\n    display: flex;\n    align-items: center;\n    justify-items: center;\n    background-color: var(--lottie-player-toolbar-background-color);\n    margin: 0 5px;\n    height: 35px;\n  }\n\n  .toolbar button {\n    cursor: pointer;\n    fill: var(--lottie-player-toolbar-icon-color);\n    display: flex;\n    background: none;\n    border: 0;\n    padding: 0;\n    outline: none;\n    height: 100%;\n  }\n\n  .toolbar button:hover {\n    fill: var(--lottie-player-toolbar-icon-hover-color);\n  }\n\n  .toolbar button.active {\n    fill: var(--lottie-player-toolbar-icon-active-color);\n  }\n\n  .toolbar button.active:hover {\n    fill: var(--lottie-player-toolbar-icon-hover-color);\n  }\n\n  .toolbar button:focus {\n    outline: 1px dotted var(--lottie-player-toolbar-icon-active-color);\n  }\n\n  .toolbar button svg {\n  }\n\n  .toolbar button.disabled svg {\n    display: none;\n  }\n\n  .seeker {\n    -webkit-appearance: none;\n    width: 95%;\n    outline: none;\n    background-color: var(--lottie-player-toolbar-background-color);\n    display: var(--lottie-player-seeker-display);\n  }\n\n  .seeker::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 5px;\n    cursor: pointer;\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-webkit-slider-thumb {\n    height: 15px;\n    width: 15px;\n    border-radius: 50%;\n    background: var(--lottie-player-seeker-thumb-color);\n    cursor: pointer;\n    -webkit-appearance: none;\n    margin-top: -5px;\n  }\n  .seeker:focus::-webkit-slider-runnable-track {\n    background: #999;\n  }\n  .seeker::-moz-range-track {\n    width: 100%;\n    height: 5px;\n    cursor: pointer;\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-moz-range-thumb {\n    height: 15px;\n    width: 15px;\n    border-radius: 50%;\n    background: var(--lottie-player-seeker-thumb-color);\n    cursor: pointer;\n  }\n  .seeker::-ms-track {\n    width: 100%;\n    height: 5px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    color: transparent;\n  }\n  .seeker::-ms-fill-lower {\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-ms-fill-upper {\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-ms-thumb {\n    border: 0;\n    height: 15px;\n    width: 15px;\n    border-radius: 50%;\n    background: var(--lottie-player-seeker-thumb-color);\n    cursor: pointer;\n  }\n  .seeker:focus::-ms-fill-lower {\n    background: var(--lottie-player-seeker-track-color);\n  }\n  .seeker:focus::-ms-fill-upper {\n    background: var(--lottie-player-seeker-track-color);\n  }\n\n  .error {\n    display: flex;\n    justify-content: center;\n    height: 100%;\n    align-items: center;\n  }\n"]))),LOTTIE_PLAYER_VERSION="1.6.3",LOTTIE_WEB_VERSION="^5.10.0",_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,PlayerState,PlayMode,PlayerEvents;function parseSrc(e){if("object"==_typeof2(e))return e;try{return JSON.parse(e)}catch(t){return new URL(e,window.location.href).toString()}}function isLottie(e){return["v","ip","op","layers","fr","w","h"].every((function(t){return Object.prototype.hasOwnProperty.call(e,t)}))}function fromURL(e){return _fromURL.apply(this,arguments)}function _fromURL(){return(_fromURL=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,i,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}throw new Error("The url value must be a string");case 2:return e.prev=2,i=new URL(t),e.next=6,fetch(i.toString());case 6:return r=e.sent,e.next=9,r.json();case 9:n=e.sent,e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),new Error("An error occurred while trying to load the Lottie file from URL");case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}exports.PlayerState=void 0,PlayerState=exports.PlayerState||(exports.PlayerState={}),PlayerState.Destroyed="destroyed",PlayerState.Error="error",PlayerState.Frozen="frozen",PlayerState.Loading="loading",PlayerState.Paused="paused",PlayerState.Playing="playing",PlayerState.Stopped="stopped",exports.PlayMode=void 0,PlayMode=exports.PlayMode||(exports.PlayMode={}),PlayMode.Bounce="bounce",PlayMode.Normal="normal",exports.PlayerEvents=void 0,PlayerEvents=exports.PlayerEvents||(exports.PlayerEvents={}),PlayerEvents.Complete="complete",PlayerEvents.Destroyed="destroyed",PlayerEvents.Error="error",PlayerEvents.Frame="frame",PlayerEvents.Freeze="freeze",PlayerEvents.Load="load",PlayerEvents.Loop="loop",PlayerEvents.Pause="pause",PlayerEvents.Play="play",PlayerEvents.Ready="ready",PlayerEvents.Rendered="rendered",PlayerEvents.Stop="stop",exports.LottiePlayer=function(e){function t(){var e;return _classCallCheck2(this,t),(e=_callSuper(this,t,arguments)).autoplay=!1,e.background="transparent",e.controls=!1,e.currentState=exports.PlayerState.Loading,e.description="Lottie animation",e.direction=1,e.disableCheck=!1,e.hover=!1,e.intermission=1,e.loop=!1,e.mode=exports.PlayMode.Normal,e.preserveAspectRatio="xMidYMid meet",e.renderer="svg",e.speed=1,e._io=void 0,e._counter=1,e}return _inherits2(t,e),_createClass2(t,[{key:"load",value:function(e){var t=this;return _asyncToGenerator(_regeneratorRuntime().mark((function n(){var i,r,o,s;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.shadowRoot){n.next=24;break}if(i={container:t.container,loop:!1,autoplay:!1,renderer:t.renderer,rendererSettings:Object.assign({preserveAspectRatio:t.preserveAspectRatio,clearCanvas:!1,progressiveLoad:!0,hideOnTransparent:!0},t.viewBoxSize&&{viewBoxSize:t.viewBoxSize})},n.prev=2,r=parseSrc(e),o={},s="string"==typeof r?"path":"animationData",t._lottie&&t._lottie.destroy(),t.webworkers&&lottie$1.exports.useWebWorker(!0),t._lottie=lottie$1.exports.loadAnimation(Object.assign(Object.assign({},i),_defineProperty2({},s,r))),t._attachEventListeners(),n.t0=t.disableCheck,n.t0){n.next=19;break}if("path"!==s){n.next=17;break}return n.next=13,fromURL(r);case 13:o=n.sent,s="animationData",n.next=18;break;case 17:o=r;case 18:isLottie(o)||(t.currentState=exports.PlayerState.Error,t.dispatchEvent(new CustomEvent(exports.PlayerEvents.Error)));case 19:n.next=24;break;case 21:n.prev=21,n.t1=n.catch(2),t.currentState=exports.PlayerState.Error,t.dispatchEvent(new CustomEvent(exports.PlayerEvents.Error));case 24:case"end":return n.stop()}}),n,null,[[2,21]])})))()}},{key:"getLottie",value:function(){return this._lottie}},{key:"getVersions",value:function(){return{lottieWebVersion:LOTTIE_WEB_VERSION,lottiePlayerVersion:LOTTIE_PLAYER_VERSION}}},{key:"play",value:function(){this._lottie&&(this._lottie.play(),this.currentState=exports.PlayerState.Playing,this.dispatchEvent(new CustomEvent(exports.PlayerEvents.Play)))}},{key:"pause",value:function(){this._lottie&&(this._lottie.pause(),this.currentState=exports.PlayerState.Paused,this.dispatchEvent(new CustomEvent(exports.PlayerEvents.Pause)))}},{key:"stop",value:function(){this._lottie&&(this._counter=1,this._lottie.stop(),this.currentState=exports.PlayerState.Stopped,this.dispatchEvent(new CustomEvent(exports.PlayerEvents.Stop)))}},{key:"destroy",value:function(){this._lottie&&(this._lottie.destroy(),this._lottie=null,this.currentState=exports.PlayerState.Destroyed,this.dispatchEvent(new CustomEvent(exports.PlayerEvents.Destroyed)),this.remove())}},{key:"seek",value:function(e){if(this._lottie){var t=/^(\d+)(%?)$/.exec(e.toString());if(t){var n="%"===t[2]?this._lottie.totalFrames*Number(t[1])/100:Number(t[1]);this.seeker=n,this.currentState===exports.PlayerState.Playing?this._lottie.goToAndPlay(n,!0):(this._lottie.goToAndStop(n,!0),this._lottie.pause())}}}},{key:"snapshot",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.shadowRoot){var t=this.shadowRoot.querySelector(".animation svg"),n=(new XMLSerializer).serializeToString(t);if(e){var i=document.createElement("a");i.href="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(n)),i.download="download_".concat(this.seeker,".svg"),document.body.appendChild(i),i.click(),document.body.removeChild(i)}return n}}},{key:"setSpeed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._lottie&&this._lottie.setSpeed(e)}},{key:"setDirection",value:function(e){this._lottie&&this._lottie.setDirection(e)}},{key:"setLooping",value:function(e){this._lottie&&(this.loop=e,this._lottie.loop=e)}},{key:"togglePlay",value:function(){return this.currentState===exports.PlayerState.Playing?this.pause():this.play()}},{key:"toggleLooping",value:function(){this.setLooping(!this.loop)}},{key:"resize",value:function(){this._lottie&&this._lottie.resize()}},{key:"disconnectedCallback",value:function(){var e=this;this.isConnected||(this._io&&(this._io.disconnect(),this._io=void 0),document.removeEventListener("visibilitychange",(function(){return e._onVisibilityChange()})),this.destroy())}},{key:"render",value:function(){var e=this.controls?"main controls":"main",t=this.controls?"animation controls":"animation";return $(_templateObject||(_templateObject=_taggedTemplateLiteral([' <div\n      id="animation-container"\n      class=','\n      lang="en"\n      aria-label=','\n      role="img"\n    >\n      <div\n        id="animation"\n        class=','\n        style="background:',';"\n      >\n        ',"\n      </div>\n      ","\n    </div>"])),e,this.description,t,this.background,this.currentState===exports.PlayerState.Error?$(_templateObject2||(_templateObject2=_taggedTemplateLiteral(['<div class="error">âš ï¸</div>']))):void 0,this.controls?this.renderControls():void 0)}},{key:"firstUpdated",value:function(){var e=this;"IntersectionObserver"in window&&(this._io=new IntersectionObserver((function(t){t[0].isIntersecting?e.currentState===exports.PlayerState.Frozen&&e.play():e.currentState===exports.PlayerState.Playing&&e.freeze()})),this._io.observe(this.container)),void 0!==document.hidden&&document.addEventListener("visibilitychange",(function(){return e._onVisibilityChange()})),this.src&&this.load(this.src),this.dispatchEvent(new CustomEvent(exports.PlayerEvents.Rendered))}},{key:"renderControls",value:function(){var e=this,t=this.currentState===exports.PlayerState.Playing,n=this.currentState===exports.PlayerState.Paused,i=this.currentState===exports.PlayerState.Stopped;return $(_templateObject3||(_templateObject3=_taggedTemplateLiteral(['\n      <div\n        id="lottie-controls"\n        aria-label="lottie-animation-controls"\n        class="toolbar"\n      >\n        <button\n          id="lottie-play-button"\n          @click=',"\n          class=",'\n          style="align-items:center;"\n          tabindex="0"\n          aria-label="play-pause"\n        >\n          ','\n        </button>\n        <button\n          id="lottie-stop-button"\n          @click=',"\n          class=",'\n          style="align-items:center;"\n          tabindex="0"\n          aria-label="stop"\n        >\n          <svg width="24" height="24" aria-hidden="true" focusable="false">\n            <path d="M6 6h12v12H6V6z" />\n          </svg>\n        </button>\n        <input\n          id="lottie-seeker-input"\n          class="seeker"\n          type="range"\n          min="0"\n          step="1"\n          max="100"\n          .value=',"\n          @input=","\n          @mousedown=","\n          @mouseup=",'\n          aria-valuemin="1"\n          aria-valuemax="100"\n          role="slider"\n          aria-valuenow=','\n          tabindex="0"\n          aria-label="lottie-seek-input"\n        />\n        <button\n          id="lottie-loop-toggle"\n          @click=',"\n          class=",'\n          style="align-items:center;"\n          tabindex="0"\n          aria-label="loop-toggle"\n        >\n          <svg width="24" height="24" aria-hidden="true" focusable="false">\n            <path\n              d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"\n            />\n          </svg>\n        </button>\n      </div>\n    '])),this.togglePlay,t||n?"active":"",$(t?_templateObject4||(_templateObject4=_taggedTemplateLiteral(['<svg\n                width="24"\n                height="24"\n                aria-hidden="true"\n                focusable="false"\n              >\n                <path\n                  d="M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z"\n                />\n              </svg>'])):_templateObject5||(_templateObject5=_taggedTemplateLiteral(['<svg\n                width="24"\n                height="24"\n                aria-hidden="true"\n                focusable="false"\n              >\n                <path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z" />\n              </svg>']))),this.stop,i?"active":"",this.seeker,this._handleSeekChange,(function(){e._prevState=e.currentState,e.freeze()}),(function(){e._prevState===exports.PlayerState.Playing&&e.play()}),this.seeker,this.toggleLooping,this.loop?"active":"")}},{key:"_onVisibilityChange",value:function(){!0===document.hidden&&this.currentState===exports.PlayerState.Playing?this.freeze():this.currentState===exports.PlayerState.Frozen&&this.play()}},{key:"_handleSeekChange",value:function(e){if(this._lottie&&!isNaN(e.target.value)){var t=e.target.value/100*this._lottie.totalFrames;this.seek(t)}}},{key:"_attachEventListeners",value:function(){var e=this;this._lottie.addEventListener("enterFrame",(function(){e.seeker=e._lottie.currentFrame/e._lottie.totalFrames*100,e.dispatchEvent(new CustomEvent(exports.PlayerEvents.Frame,{detail:{frame:e._lottie.currentFrame,seeker:e.seeker}}))})),this._lottie.addEventListener("complete",(function(){if(e.currentState===exports.PlayerState.Playing){if(!e.loop||e.count&&e._counter>=e.count){if(e.dispatchEvent(new CustomEvent(exports.PlayerEvents.Complete)),e.mode!==exports.PlayMode.Bounce)return;if(0===e._lottie.currentFrame)return}e.mode===exports.PlayMode.Bounce?(e.count&&(e._counter+=.5),setTimeout((function(){e.dispatchEvent(new CustomEvent(exports.PlayerEvents.Loop)),e.currentState===exports.PlayerState.Playing&&(e._lottie.setDirection(-1*e._lottie.playDirection),e._lottie.play())}),e.intermission)):(e.count&&(e._counter+=1),window.setTimeout((function(){e.dispatchEvent(new CustomEvent(exports.PlayerEvents.Loop)),e.currentState===exports.PlayerState.Playing&&(-1===e.direction?(e.seek("99%"),e.play()):(e._lottie.stop(),e._lottie.play()))}),e.intermission))}else e.dispatchEvent(new CustomEvent(exports.PlayerEvents.Complete))})),this._lottie.addEventListener("DOMLoaded",(function(){e.setSpeed(e.speed),e.setDirection(e.direction),e.autoplay&&(-1===e.direction&&e.seek("100%"),e.play()),e.dispatchEvent(new CustomEvent(exports.PlayerEvents.Ready))})),this._lottie.addEventListener("data_ready",(function(){e.dispatchEvent(new CustomEvent(exports.PlayerEvents.Load))})),this._lottie.addEventListener("data_failed",(function(){e.currentState=exports.PlayerState.Error,e.dispatchEvent(new CustomEvent(exports.PlayerEvents.Error))})),this.container.addEventListener("mouseenter",(function(){e.hover&&e.currentState!==exports.PlayerState.Playing&&e.play()})),this.container.addEventListener("mouseleave",(function(){e.hover&&e.currentState===exports.PlayerState.Playing&&e.stop()}))}},{key:"freeze",value:function(){this._lottie&&(this._lottie.pause(),this.currentState=exports.PlayerState.Frozen,this.dispatchEvent(new CustomEvent(exports.PlayerEvents.Freeze)))}}],[{key:"styles",get:function(){return styles}}])}(s),__decorate([e$5({type:Boolean})],exports.LottiePlayer.prototype,"autoplay",void 0),__decorate([e$5({type:String,reflect:!0})],exports.LottiePlayer.prototype,"background",void 0),__decorate([e$5({type:Boolean})],exports.LottiePlayer.prototype,"controls",void 0),__decorate([e$5({type:Number})],exports.LottiePlayer.prototype,"count",void 0),__decorate([e$5({type:String})],exports.LottiePlayer.prototype,"currentState",void 0),__decorate([e$5({type:String})],exports.LottiePlayer.prototype,"description",void 0),__decorate([e$5({type:Number})],exports.LottiePlayer.prototype,"direction",void 0),__decorate([e$5({type:Boolean})],exports.LottiePlayer.prototype,"disableCheck",void 0),__decorate([e$5({type:Boolean})],exports.LottiePlayer.prototype,"hover",void 0),__decorate([e$5()],exports.LottiePlayer.prototype,"intermission",void 0),__decorate([e$5({type:Boolean,reflect:!0})],exports.LottiePlayer.prototype,"loop",void 0),__decorate([e$5()],exports.LottiePlayer.prototype,"mode",void 0),__decorate([e$5({type:String})],exports.LottiePlayer.prototype,"preserveAspectRatio",void 0),__decorate([e$5({type:String})],exports.LottiePlayer.prototype,"renderer",void 0),__decorate([e$5({type:String})],exports.LottiePlayer.prototype,"viewBoxSize",void 0),__decorate([e$5()],exports.LottiePlayer.prototype,"seeker",void 0),__decorate([e$5({type:Number})],exports.LottiePlayer.prototype,"speed",void 0),__decorate([e$5({type:String})],exports.LottiePlayer.prototype,"src",void 0),__decorate([e$5({type:Boolean})],exports.LottiePlayer.prototype,"webworkers",void 0),__decorate([i(".animation")],exports.LottiePlayer.prototype,"container",void 0),exports.LottiePlayer=__decorate([n$1("lottie-player")],exports.LottiePlayer),exports.parseSrc=parseSrc,Object.defineProperty(exports,"__esModule",{value:!0})},"object"==_typeof2(exports)?e(exports):(__WEBPACK_AMD_DEFINE_ARRAY__=[exports],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=e)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1107:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(8764);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function o(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(){!function(t,r){if("object"===("undefined"==typeof exports?"undefined":c(exports))){var o=n(8764);e.exports=r(o.default)}else"function"==typeof define&&n.amdO?define(["videojs"],(function(e){return t.Youtube=r()})):t.Youtube=r(i.default)}(window,(function(){var e,t,n,o,u,h,d,p=i.default.browser.IS_IOS||i.default.browser.IS_NATIVE_ANDROID,f=i.default.getTech("Tech"),m=function(e){function t(e,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=function(e,t,n){return t=a(t),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,n||[],a(e).constructor):t.apply(e,n))}(this,t,[e,n])).setPoster(e.poster),i.setSrc(i.options_.source,!0),i.setTimeout(function(){this.el_&&(this.el_.parentNode.className+=" vjs-youtube",p&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),t.isApiReady?this.initYTPlayer():t.apiReadyQueue.push(this))}.bind(i)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(t,e),n=t,o=[{key:"dispose",value:function(){if(this.ytPlayer)this.ytPlayer.stopVideo&&this.ytPlayer.stopVideo(),this.ytPlayer.destroy&&this.ytPlayer.destroy();else{var e=t.apiReadyQueue.indexOf(this);-1!==e&&t.apiReadyQueue.splice(e,1)}this.ytPlayer=null,this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",""),this.el_.parentNode.removeChild(this.el_),f.prototype.dispose.call(this)}},{key:"createEl",value:function(){var e=document.createElement("div");e.setAttribute("id",this.options_.techId),e.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute"),e.setAttribute("class","vjs-tech");var t=document.createElement("div");if(t.appendChild(e),!p&&!this.options_.ytControls){var n=document.createElement("div");n.setAttribute("class","vjs-iframe-blocker"),n.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),n.onclick=function(){this.pause()}.bind(this),t.appendChild(n)}return t}},{key:"initYTPlayer",value:function(){var e={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(void 0!==this.options_.autohide&&(e.autohide=this.options_.autohide),void 0!==this.options_.cc_load_policy&&(e.cc_load_policy=this.options_.cc_load_policy),void 0!==this.options_.ytControls&&(e.controls=this.options_.ytControls),void 0!==this.options_.disablekb&&(e.disablekb=this.options_.disablekb),void 0!==this.options_.color&&(e.color=this.options_.color),e.controls?void 0!==this.options_.fs&&(e.fs=this.options_.fs):e.fs=0,-1!==this.options_.source.src.indexOf("end=")){var t=this.options_.source.src.match(/end=([0-9]*)/);this.options_.end=parseInt(t[1])}if(void 0!==this.options_.end&&(e.end=this.options_.end),void 0!==this.options_.hl?e.hl=this.options_.hl:void 0!==this.options_.language&&(e.hl=this.options_.language.substr(0,2)),void 0!==this.options_.iv_load_policy&&(e.iv_load_policy=this.options_.iv_load_policy),void 0!==this.options_.list?e.list=this.options_.list:this.url&&void 0!==this.url.listId&&(e.list=this.url.listId),void 0!==this.options_.listType&&(e.listType=this.options_.listType),void 0!==this.options_.modestbranding&&(e.modestbranding=this.options_.modestbranding),void 0!==this.options_.playlist&&(e.playlist=this.options_.playlist),void 0!==this.options_.playsinline&&(e.playsinline=this.options_.playsinline),void 0!==this.options_.rel&&(e.rel=this.options_.rel),void 0!==this.options_.showinfo&&(e.showinfo=this.options_.showinfo),-1!==this.options_.source.src.indexOf("start=")){var n=this.options_.source.src.match(/start=([0-9]*)/);this.options_.start=parseInt(n[1])}if(void 0!==this.options_.start&&(e.start=this.options_.start),void 0!==this.options_.theme&&(e.theme=this.options_.theme),void 0!==this.options_.customVars){var i=this.options_.customVars;Object.keys(i).forEach((function(t){e[t]=i[t]}))}this.activeVideoId=this.url?this.url.videoId:null,this.activeList=e.list;var r={videoId:this.activeVideoId,playerVars:e,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onVolumeChange:this.onPlayerVolumeChange.bind(this),onError:this.onPlayerError.bind(this)}};void 0!==this.options_.enablePrivacyEnhancedMode&&this.options_.enablePrivacyEnhancedMode&&(r.host="https://www.youtube-nocookie.com"),this.ytPlayer=new YT.Player(this.options_.techId,r)}},{key:"onPlayerReady",value:function(){this.options_.muted&&this.ytPlayer.mute(),this.ytPlayer.getAvailablePlaybackRates().length>1&&(this.featuresPlaybackRate=!0),this.playerReady_=!0,this.triggerReady(),this.playOnReady?this.play():this.cueOnReady&&(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)}},{key:"onPlayerPlaybackQualityChange",value:function(){}},{key:"onPlayerPlaybackRateChange",value:function(){this.trigger("ratechange")}},{key:"onPlayerStateChange",value:function(e){var t=e.data;if(t!==this.lastState&&!this.errorNumber)switch(this.lastState=t,t){case-1:this.trigger("loadstart"),this.trigger("loadedmetadata"),this.trigger("durationchange"),this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting")}}},{key:"onPlayerVolumeChange",value:function(){this.trigger("volumechange")}},{key:"onPlayerError",value:function(e){this.errorNumber=e.data,this.trigger("pause"),this.trigger("error")}},{key:"error",value:function(){var e=1e3+this.errorNumber;switch(this.errorNumber){case 5:return{code:e,message:"Error while trying to play the video"};case 2:case 100:return{code:e,message:"Unable to find the video"};case 101:case 150:return{code:e,message:"Playback on other Websites has been disabled by the video owner."}}return{code:e,message:"YouTube unknown error ("+this.errorNumber+")"}}},{key:"loadVideoById_",value:function(e){var t={videoId:e};this.options_.start&&(t.startSeconds=this.options_.start),this.options_.end&&(t.endSeconds=this.options_.end),this.ytPlayer.loadVideoById(t)}},{key:"cueVideoById_",value:function(e){var t={videoId:e};this.options_.start&&(t.startSeconds=this.options_.start),this.options_.end&&(t.endSeconds=this.options_.end),this.ytPlayer.cueVideoById(t)}},{key:"src",value:function(e){return e&&this.setSrc({src:e}),this.source}},{key:"poster",value:function(){return p?null:this.poster_}},{key:"setPoster",value:function(e){this.poster_=e}},{key:"setSrc",value:function(e){e&&e.src&&(delete this.errorNumber,this.source=e,this.url=t.parseUrl(e.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.trigger("posterchange"),this.checkHighResPoster()),this.options_.autoplay&&!p?this.isReady_?this.play():this.playOnReady=!0:this.activeVideoId!==this.url.videoId&&(this.isReady_?(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId):this.cueOnReady=!0))}},{key:"autoplay",value:function(){return this.options_.autoplay}},{key:"setAutoplay",value:function(e){this.options_.autoplay=e}},{key:"loop",value:function(){return this.options_.loop}},{key:"setLoop",value:function(e){this.options_.loop=e}},{key:"play",value:function(){this.url&&this.url.videoId&&(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.loadVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))}},{key:"pause",value:function(){this.ytPlayer&&this.ytPlayer.pauseVideo()}},{key:"paused",value:function(){return!this.ytPlayer||this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING}},{key:"currentTime",value:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0}},{key:"setCurrentTime",value:function(e){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(e,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==e&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval(function(){this.lastState===YT.PlayerState.PAUSED&&this.isSeeking?this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked()):clearInterval(this.checkSeekedInPauseInterval)}.bind(this),250))}},{key:"seeking",value:function(){return this.isSeeking}},{key:"seekable",value:function(){return this.ytPlayer?i.default.createTimeRange(0,this.ytPlayer.getDuration()):i.default.createTimeRange()}},{key:"onSeeked",value:function(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")}},{key:"playbackRate",value:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1}},{key:"setPlaybackRate",value:function(e){this.ytPlayer&&this.ytPlayer.setPlaybackRate(e)}},{key:"duration",value:function(){return this.ytPlayer?this.ytPlayer.getDuration():0}},{key:"currentSrc",value:function(){return this.source&&this.source.src}},{key:"ended",value:function(){return!!this.ytPlayer&&this.lastState===YT.PlayerState.ENDED}},{key:"volume",value:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1}},{key:"setVolume",value:function(e){this.ytPlayer&&this.ytPlayer.setVolume(100*e)}},{key:"muted",value:function(){return!!this.ytPlayer&&this.ytPlayer.isMuted()}},{key:"setMuted",value:function(e){this.ytPlayer&&(this.muted(!0),e?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout((function(){this.trigger("volumechange")}),50))}},{key:"buffered",value:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return i.default.createTimeRange();var e=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return i.default.createTimeRange(0,e)}},{key:"preload",value:function(){}},{key:"load",value:function(){}},{key:"reset",value:function(){}},{key:"networkState",value:function(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 3:return 2;default:return 1}}},{key:"readyState",value:function(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 5:return 1;case 3:return 2;default:return 4}}},{key:"supportsFullScreen",value:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}},{key:"checkHighResPoster",value:function(){var e="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var t=new document.Image;t.onload=function(){if("naturalHeight"in t){if(t.naturalHeight<=90||t.naturalWidth<=120)return}else if(t.height<=90||t.width<=120)return;this.poster_=e,this.trigger("posterchange")}.bind(this),t.onerror=function(){},t.src=e}catch(e){}}}],o&&r(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(f);m.isSupported=function(){return!0},m.canPlaySource=function(e){return m.canPlayType(e.type)},m.canPlayType=function(e){return"video/youtube"===e},m.parseUrl=function(e){var t={videoId:null},n=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return n&&11===n[2].length&&(t.videoId=n[2]),(n=e.match(/[?&]list=([^#\&\?]+)/))&&n[1]&&(t.listId=n[1]),t},m.apiReadyQueue=[],"undefined"!=typeof document&&(o=function(){YT.ready((function(){m.isApiReady=!0;for(var e=0;e<m.apiReadyQueue.length;++e)m.apiReadyQueue[e].initYTPlayer()}))},u=!1,h=document.createElement("script"),(d=document.getElementsByTagName("script")[0])&&(d.parentNode.insertBefore(h,d),h.onload=function(){u||(u=!0,o())},h.onreadystatechange=function(){u||"complete"!==this.readyState&&"loaded"!==this.readyState||(u=!0,o())},h.src="https://www.youtube.com/iframe_api"),e=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",t=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("style")).type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)),void 0!==i.default.registerTech?i.default.registerTech("Youtube",m):i.default.registerComponent("Youtube",m)}))}e=n.hmd(e)},1926:function(e,t,n){var i,r,o,s;function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}s=function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t="undefined"!=typeof window?window:{},n="cropper",i="all",r="crop",o="move",s="zoom",a="e",l="w",c="s",u="n",h="ne",d="nw",p="se",f="sw",m=n+"-crop",g=n+"-disabled",y=n+"-hidden",v=n+"-hide",b=n+"-modal",_=n+"-move",w="action",k="preview",S="crop",E="move",T="none",x="crop",C="cropend",P="cropmove",A="cropstart",O="dblclick",I="error",L="load",D=t.PointerEvent?"pointerdown":"touchstart mousedown",R=t.PointerEvent?"pointermove":"touchmove mousemove",M=t.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",N="ready",j="resize",F="wheel mousewheel DOMMouseScroll",B="zoom",U=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,q=/^data:/,V=/^data:image\/jpeg;base64,/,H=/^(img|canvas)$/i,$={viewMode:0,dragMode:S,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},z=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),W=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},G=Number.isNaN||t.isNaN;function K(e){return"number"==typeof e&&!G(e)}function Y(e){return void 0===e}function X(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.apply(t,i.concat(r))}}var J=Object.keys||function(t){var n=[];return e.each(t,(function(e){n.push(e)})),n},Q=/\.\d*(?:0|9){12}\d*$/i;function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Q.test(e)?Math.round(e*t)/t:e}var ee=t.location,te=/^(https?:)\/\/([^:/?#]+):?(\d*)/i;function ne(e){var t=e.match(te);return t&&(t[1]!==ee.protocol||t[2]!==ee.hostname||t[3]!==ee.port)}function ie(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function re(e){var t=e.rotate,n=e.scaleX,i=e.scaleY,r=e.translateX,o=e.translateY,s=[];return K(r)&&0!==r&&s.push("translateX("+r+"px)"),K(o)&&0!==o&&s.push("translateY("+o+"px)"),K(t)&&0!==t&&s.push("rotate("+t+"deg)"),K(n)&&1!==n&&s.push("scaleX("+n+")"),K(i)&&1!==i&&s.push("scaleY("+i+")"),s.length?s.join(" "):"none"}var oe=t.navigator,se=oe&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(oe.userAgent);function ae(t,n){var i=t.pageX,r=t.pageY,o={endX:i,endY:r};return n?o:e.extend({startX:i,startY:r},o)}var le=Number.isFinite||t.isFinite;function ce(e){var t=e.aspectRatio,n=e.height,i=e.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=function(e){return le(e)&&e>0};if(o(i)&&o(n)){var s=n*t;"contain"===r&&s>i||"cover"===r&&s<i?n=i/t:i=n*t}else o(i)?n=i/t:o(n)&&(i=n*t);return{width:i,height:n}}var ue=String.fromCharCode,he=/^data:.*,/,de={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.$element,t=this.options,n=this.$container,i=this.$cropper;i.addClass(y),e.removeClass(y),i.css(this.container={width:Math.max(n.width(),Number(t.minContainerWidth)||200),height:Math.max(n.height(),Number(t.minContainerHeight)||100)}),e.addClass(y),i.removeClass(y)},initCanvas:function(){var t=this.container,n=this.image,i=this.options.viewMode,r=Math.abs(n.rotate)%180==90,o=r?n.naturalHeight:n.naturalWidth,s=r?n.naturalWidth:n.naturalHeight,a=o/s,l=t.width,c=t.height;t.height*a>t.width?3===i?l=t.height*a:c=t.width/a:3===i?c=t.width/a:l=t.height*a;var u={aspectRatio:a,naturalWidth:o,naturalHeight:s,width:l,height:c};u.left=(t.width-l)/2,u.top=(t.height-c)/2,u.oldLeft=u.left,u.oldTop=u.top,this.canvas=u,this.limited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImage=e.extend({},n),this.initialCanvas=e.extend({},u)},limitCanvas:function(e,t){var n=this.options,i=this.container,r=this.canvas,o=this.cropBox,s=n.viewMode,a=r.aspectRatio,l=this.cropped&&o;if(e){var c=Number(n.minCanvasWidth)||0,u=Number(n.minCanvasHeight)||0;s>0&&(s>1?(c=Math.max(c,i.width),u=Math.max(u,i.height),3===s&&(u*a>c?c=u*a:u=c/a)):c?c=Math.max(c,l?o.width:0):u?u=Math.max(u,l?o.height:0):l&&(c=o.width,(u=o.height)*a>c?c=u*a:u=c/a));var h=ce({aspectRatio:a,width:c,height:u});c=h.width,u=h.height,r.minWidth=c,r.minHeight=u,r.maxWidth=1/0,r.maxHeight=1/0}if(t)if(s>0){var d=i.width-r.width,p=i.height-r.height;r.minLeft=Math.min(0,d),r.minTop=Math.min(0,p),r.maxLeft=Math.max(0,d),r.maxTop=Math.max(0,p),l&&this.limited&&(r.minLeft=Math.min(o.left,o.left+o.width-r.width),r.minTop=Math.min(o.top,o.top+o.height-r.height),r.maxLeft=o.left,r.maxTop=o.top,2===s&&(r.width>=i.width&&(r.minLeft=Math.min(0,d),r.maxLeft=Math.max(0,d)),r.height>=i.height&&(r.minTop=Math.min(0,p),r.maxTop=Math.max(0,p))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=i.width,r.maxTop=i.height},renderCanvas:function(e,t){var n=this.canvas,i=this.image;if(t){var r=function(e){var t=e.width,n=e.height,i=e.degree;if(90==(i=Math.abs(i)%180))return{width:n,height:t};var r=i%90*Math.PI/180,o=Math.sin(r),s=Math.cos(r),a=t*s+n*o,l=t*o+n*s;return i>90?{width:l,height:a}:{width:a,height:l}}({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=r.width,s=r.height,a=n.width*(o/n.naturalWidth),l=n.height*(s/n.naturalHeight);n.left-=(a-n.width)/2,n.top-=(l-n.height)/2,n.width=a,n.height=l,n.aspectRatio=o/s,n.naturalWidth=o,n.naturalHeight=s,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,this.$canvas.css({width:n.width,height:n.height,transform:re({translateX:n.left,translateY:n.top})}),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var n=this.canvas,i=this.image,r=i.naturalWidth*(n.width/n.naturalWidth),o=i.naturalHeight*(n.height/n.naturalHeight);e.extend(i,{width:r,height:o,left:(n.width-r)/2,top:(n.height-o)/2}),this.$clone.css({width:i.width,height:i.height,transform:re(e.extend({translateX:i.left,translateY:i.top},i))}),t&&this.output()},initCropBox:function(){var t=this.options,n=this.canvas,i=t.aspectRatio,r=Number(t.autoCropArea)||.8,o={width:n.width,height:n.height};i&&(n.height*i>n.width?o.height=o.width/i:o.width=o.height*i),this.cropBox=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*r),o.height=Math.max(o.minHeight,o.height*r),o.left=n.left+(n.width-o.width)/2,o.top=n.top+(n.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBox=e.extend({},o)},limitCropBox:function(e,t){var n=this.options,i=this.container,r=this.canvas,o=this.cropBox,s=this.limited,a=n.aspectRatio;if(e){var l=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,u=Math.min(i.width,s?r.width:i.width),h=Math.min(i.height,s?r.height:i.height);l=Math.min(l,i.width),c=Math.min(c,i.height),a&&(l&&c?c*a>l?c=l/a:l=c*a:l?c=l/a:c&&(l=c*a),h*a>u?h=u/a:u=h*a),o.minWidth=Math.min(l,u),o.minHeight=Math.min(c,h),o.maxWidth=u,o.maxHeight=h}t&&(s?(o.minLeft=Math.max(0,r.left),o.minTop=Math.max(0,r.top),o.maxLeft=Math.min(i.width,r.left+r.width)-o.width,o.maxTop=Math.min(i.height,r.top+r.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var e=this.options,t=this.container,n=this.cropBox;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&this.$face.data(w,n.width>=t.width&&n.height>=t.height?o:i),this.$cropBox.css({width:n.width,height:n.height,transform:re({translateX:n.left,translateY:n.top})}),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),this.completed&&this.trigger(x,this.getData())}},pe={initPreview:function(){var t=this.crossOrigin,n=t?this.crossOriginUrl:this.url,i=document.createElement("img");t&&(i.crossOrigin=t),i.src=n;var r=e(i);this.$preview=e(this.options.preview),this.$clone2=r,this.$viewBox.html(r),this.$preview.each((function(i,r){var o=e(r),s=document.createElement("img");o.data(k,{width:o.width(),height:o.height(),html:o.html()}),t&&(s.crossOrigin=t),s.src=n,s.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',o.html(s)}))},resetPreview:function(){this.$preview.each((function(t,n){var i=e(n),r=i.data(k);i.css({width:r.width,height:r.height}).html(r.html).removeData(k)}))},preview:function(){var t=this.image,n=this.canvas,i=this.cropBox,r=i.width,o=i.height,s=t.width,a=t.height,l=i.left-n.left-t.left,c=i.top-n.top-t.top;this.cropped&&!this.disabled&&(this.$clone2.css({width:s,height:a,transform:re(e.extend({translateX:-l,translateY:-c},t))}),this.$preview.each((function(n,i){var u=e(i),h=u.data(k),d=h.width,p=h.height,f=d,m=p,g=1;r&&(m=o*(g=d/r)),o&&m>p&&(f=r*(g=p/o),m=p),u.css({width:f,height:m}).find("img").css({width:s*g,height:a*g,transform:re(e.extend({translateX:-l*g,translateY:-c*g},t))})})))}},fe={bind:function(){var t=this.$element,n=this.options,i=this.$cropper;e.isFunction(n.cropstart)&&t.on(A,n.cropstart),e.isFunction(n.cropmove)&&t.on(P,n.cropmove),e.isFunction(n.cropend)&&t.on(C,n.cropend),e.isFunction(n.crop)&&t.on(x,n.crop),e.isFunction(n.zoom)&&t.on(B,n.zoom),i.on(D,X(this.cropStart,this)),n.zoomable&&n.zoomOnWheel&&i.on(F,X(this.wheel,this)),n.toggleDragModeOnDblclick&&i.on(O,X(this.dblclick,this)),e(this.element.ownerDocument).on(R,this.onCropMove=X(this.cropMove,this)).on(M,this.onCropEnd=X(this.cropEnd,this)),n.responsive&&e(window).on(j,this.onResize=X(this.resize,this))},unbind:function(){var t=this.$element,n=this.options,i=this.$cropper;e.isFunction(n.cropstart)&&t.off(A,n.cropstart),e.isFunction(n.cropmove)&&t.off(P,n.cropmove),e.isFunction(n.cropend)&&t.off(C,n.cropend),e.isFunction(n.crop)&&t.off(x,n.crop),e.isFunction(n.zoom)&&t.off(B,n.zoom),i.off(D,this.cropStart),n.zoomable&&n.zoomOnWheel&&i.off(F,this.wheel),n.toggleDragModeOnDblclick&&i.off(O,this.dblclick),e(this.element.ownerDocument).off(R,this.onCropMove).off(M,this.onCropEnd),n.responsive&&e(window).off(j,this.onResize)}},me={resize:function(){var t=this.options,n=this.$container,i=this.container,r=Number(t.minContainerWidth)||200,o=Number(t.minContainerHeight)||100;if(!(this.disabled||i.width<=r||i.height<=o)){var s=n.width()/i.width;if(1!==s||n.height()!==i.height){var a=void 0,l=void 0;t.restore&&(a=this.getCanvasData(),l=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(e.each(a,(function(e,t){a[e]=t*s}))),this.setCropBoxData(e.each(l,(function(e,t){l[e]=t*s}))))}}},dblclick:function(){this.disabled||this.options.dragMode===T||this.setDragMode(this.$dragBox.hasClass(m)?E:S)},wheel:function(e){var t=this,n=e.originalEvent||e,i=Number(this.options.wheelZoomRatio)||.1;if(!this.disabled&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50);var r=1;n.deltaY?r=n.deltaY>0?1:-1:n.wheelDelta?r=-n.wheelDelta/120:n.detail&&(r=n.detail>0?1:-1),this.zoom(-r*i,e)}},cropStart:function(t){if(!this.disabled){var n,i=this.options,o=this.pointers,a=t.originalEvent;a&&a.changedTouches?e.each(a.changedTouches,(function(e,t){o[t.identifier]=ae(t)})):o[a&&a.pointerId||0]=ae(a||t),n=J(o).length>1&&i.zoomable&&i.zoomOnTouch?s:e(t.target).data(w),U.test(n)&&(this.trigger(A,{originalEvent:a,action:n}).isDefaultPrevented()||(t.preventDefault(),this.action=n,this.cropping=!1,n===r&&(this.cropping=!0,this.$dragBox.addClass(b))))}},cropMove:function(t){var n=this.action;if(!this.disabled&&n){var i=this.pointers,r=t.originalEvent;t.preventDefault(),this.trigger(P,{originalEvent:r,action:n}).isDefaultPrevented()||(r&&r.changedTouches?e.each(r.changedTouches,(function(t,n){e.extend(i[n.identifier],ae(n,!0))})):e.extend(i[r&&r.pointerId||0],ae(r||t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var n=this.action,i=this.pointers,r=t.originalEvent;r&&r.changedTouches?e.each(r.changedTouches,(function(e,t){delete i[t.identifier]})):delete i[r&&r.pointerId||0],n&&(t.preventDefault(),J(i).length||(this.action=""),this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass(b,this.cropped&&this.options.modal)),this.trigger(C,{originalEvent:r,action:n}))}}},ge={change:function(t){var n=this.options,m=this.pointers,g=this.container,v=this.canvas,b=this.cropBox,_=this.action,w=n.aspectRatio,k=b.left,S=b.top,E=b.width,T=b.height,x=k+E,C=S+T,P=0,A=0,O=g.width,I=g.height,L=!0,D=void 0;!w&&t.shiftKey&&(w=E&&T?E/T:1),this.limited&&(P=b.minLeft,A=b.minTop,O=P+Math.min(g.width,v.width,v.left+v.width),I=A+Math.min(g.height,v.height,v.top+v.height));var R,M,N,j=m[J(m)[0]],F={x:j.endX-j.startX,y:j.endY-j.startY},B=function(e){switch(e){case a:x+F.x>O&&(F.x=O-x);break;case l:k+F.x<P&&(F.x=P-k);break;case u:S+F.y<A&&(F.y=A-S);break;case c:C+F.y>I&&(F.y=I-C)}};switch(_){case i:k+=F.x,S+=F.y;break;case a:if(F.x>=0&&(x>=O||w&&(S<=A||C>=I))){L=!1;break}B(a),E+=F.x,w&&(T=E/w,S-=F.x/w/2),E<0&&(_=l,E=0);break;case u:if(F.y<=0&&(S<=A||w&&(k<=P||x>=O))){L=!1;break}B(u),T-=F.y,S+=F.y,w&&(E=T*w,k+=F.y*w/2),T<0&&(_=c,T=0);break;case l:if(F.x<=0&&(k<=P||w&&(S<=A||C>=I))){L=!1;break}B(l),E-=F.x,k+=F.x,w&&(T=E/w,S+=F.x/w/2),E<0&&(_=a,E=0);break;case c:if(F.y>=0&&(C>=I||w&&(k<=P||x>=O))){L=!1;break}B(c),T+=F.y,w&&(E=T*w,k-=F.y*w/2),T<0&&(_=u,T=0);break;case h:if(w){if(F.y<=0&&(S<=A||x>=O)){L=!1;break}B(u),T-=F.y,S+=F.y,E=T*w}else B(u),B(a),F.x>=0?x<O?E+=F.x:F.y<=0&&S<=A&&(L=!1):E+=F.x,F.y<=0?S>A&&(T-=F.y,S+=F.y):(T-=F.y,S+=F.y);E<0&&T<0?(_=f,T=0,E=0):E<0?(_=d,E=0):T<0&&(_=p,T=0);break;case d:if(w){if(F.y<=0&&(S<=A||k<=P)){L=!1;break}B(u),T-=F.y,S+=F.y,E=T*w,k+=F.y*w}else B(u),B(l),F.x<=0?k>P?(E-=F.x,k+=F.x):F.y<=0&&S<=A&&(L=!1):(E-=F.x,k+=F.x),F.y<=0?S>A&&(T-=F.y,S+=F.y):(T-=F.y,S+=F.y);E<0&&T<0?(_=p,T=0,E=0):E<0?(_=h,E=0):T<0&&(_=f,T=0);break;case f:if(w){if(F.x<=0&&(k<=P||C>=I)){L=!1;break}B(l),E-=F.x,k+=F.x,T=E/w}else B(c),B(l),F.x<=0?k>P?(E-=F.x,k+=F.x):F.y>=0&&C>=I&&(L=!1):(E-=F.x,k+=F.x),F.y>=0?C<I&&(T+=F.y):T+=F.y;E<0&&T<0?(_=h,T=0,E=0):E<0?(_=p,E=0):T<0&&(_=d,T=0);break;case p:if(w){if(F.x>=0&&(x>=O||C>=I)){L=!1;break}B(a),T=(E+=F.x)/w}else B(c),B(a),F.x>=0?x<O?E+=F.x:F.y>=0&&C>=I&&(L=!1):E+=F.x,F.y>=0?C<I&&(T+=F.y):T+=F.y;E<0&&T<0?(_=d,T=0,E=0):E<0?(_=f,E=0):T<0&&(_=h,T=0);break;case o:this.move(F.x,F.y),L=!1;break;case s:this.zoom((R=m,M=e.extend({},R),N=[],e.each(R,(function(t,n){delete M[t],e.each(M,(function(e,t){var i=Math.abs(n.startX-t.startX),r=Math.abs(n.startY-t.startY),o=Math.abs(n.endX-t.endX),s=Math.abs(n.endY-t.endY),a=Math.sqrt(i*i+r*r),l=(Math.sqrt(o*o+s*s)-a)/a;N.push(l)}))})),N.sort((function(e,t){return Math.abs(e)<Math.abs(t)})),N[0]),t.originalEvent),L=!1;break;case r:if(!F.x||!F.y){L=!1;break}D=this.$cropper.offset(),k=j.startX-D.left,S=j.startY-D.top,E=b.minWidth,T=b.minHeight,F.x>0?_=F.y>0?p:h:F.x<0&&(k-=E,_=F.y>0?f:d),F.y<0&&(S-=T),this.cropped||(this.$cropBox.removeClass(y),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}L&&(b.width=E,b.height=T,b.left=k,b.top=S,this.action=_,this.renderCropBox()),e.each(m,(function(e,t){t.startX=t.endX,t.startY=t.endY}))}},ye={crop:function(){this.ready&&!this.disabled&&(this.cropped||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass(b),this.$cropBox.removeClass(y)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.ready&&!this.disabled&&(this.image=e.extend({},this.initialImage),this.canvas=e.extend({},this.initialCanvas),this.cropBox=e.extend({},this.initialCropBox),this.renderCanvas(),this.cropped&&this.renderCropBox())},clear:function(){this.cropped&&!this.disabled&&(e.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass(b),this.$cropBox.addClass(y))},replace:function(e,t){!this.disabled&&e&&(this.isImg&&this.$element.attr("src",e),t?(this.url=e,this.$clone.attr("src",e),this.ready&&this.$preview.find("img").add(this.$clone2).attr("src",e)):(this.isImg&&(this.replaced=!0),this.options.data=null,this.load(e)))},enable:function(){this.ready&&(this.disabled=!1,this.$cropper.removeClass(g))},disable:function(){this.ready&&(this.disabled=!0,this.$cropper.addClass(g))},destroy:function(){var e=this.$element;this.loaded?(this.isImg&&this.replaced&&e.attr("src",this.originalUrl),this.unbuild(),e.removeClass(y)):this.isImg?e.off(L,this.start):this.$clone&&this.$clone.remove(),e.removeData(n)},move:function(e,t){var n=this.canvas,i=n.left,r=n.top;this.moveTo(Y(e)?e:i+Number(e),Y(t)?t:r+Number(t))},moveTo:function(e,t){var n=this.canvas,i=!1;Y(t)&&(t=e),e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(K(e)&&(n.left=e,i=!0),K(t)&&(n.top=t,i=!0),i&&this.renderCanvas(!0))},zoom:function(e,t){var n=this.canvas;e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,t)},zoomTo:function(t,n){var i,r,o,s,a=this.options,l=this.pointers,c=this.canvas,u=c.width,h=c.height,d=c.naturalWidth,p=c.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&a.zoomable){var f=d*t,m=p*t,g=void 0;if(n&&(g=n.originalEvent),this.trigger(B,{originalEvent:g,oldRatio:u/d,ratio:f/d}).isDefaultPrevented())return;if(g){var y=this.$cropper.offset(),v=l&&J(l).length?(i=l,r=0,o=0,s=0,e.each(i,(function(e,t){var n=t.startX,i=t.startY;r+=n,o+=i,s+=1})),{pageX:r/=s,pageY:o/=s}):{pageX:n.pageX||g.pageX||0,pageY:n.pageY||g.pageY||0};c.left-=(f-u)*((v.pageX-y.left-c.left)/u),c.top-=(m-h)*((v.pageY-y.top-c.top)/h)}else c.left-=(f-u)/2,c.top-=(m-h)/2;c.width=f,c.height=m,this.renderCanvas(!0)}},rotate:function(e){this.rotateTo((this.image.rotate||0)+Number(e))},rotateTo:function(e){K(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.image.rotate=e%360,this.renderCanvas(!0,!0))},scaleX:function(e){var t=this.image.scaleY;this.scale(e,K(t)?t:1)},scaleY:function(e){var t=this.image.scaleX;this.scale(K(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.image,i=!1;e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(K(e)&&(n.scaleX=e,i=!0),K(t)&&(n.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0))},getData:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,i=this.image,r=this.canvas,o=this.cropBox,s=void 0;if(this.ready&&this.cropped){s={x:o.left-r.left,y:o.top-r.top,width:o.width,height:o.height};var a=i.width/i.naturalWidth;e.each(s,(function(e,n){n/=a,s[e]=t?Math.round(n):n}))}else s={x:0,y:0,width:0,height:0};return n.rotatable&&(s.rotate=i.rotate||0),n.scalable&&(s.scaleX=i.scaleX||1,s.scaleY=i.scaleY||1),s},setData:function(t){var n=this.options,i=this.image,r=this.canvas,o={};if(e.isFunction(t)&&(t=t.call(this.element)),this.ready&&!this.disabled&&e.isPlainObject(t)){var s=!1;n.rotatable&&K(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,s=!0),n.scalable&&(K(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,s=!0),K(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var a=i.width/i.naturalWidth;K(t.x)&&(o.left=t.x*a+r.left),K(t.y)&&(o.top=t.y*a+r.top),K(t.width)&&(o.width=t.width*a),K(t.height)&&(o.height=t.height*a),this.setCropBoxData(o)}},getContainerData:function(){return this.ready?e.extend({},this.container):{}},getImageData:function(){return this.loaded?e.extend({},this.image):{}},getCanvasData:function(){var t=this.canvas,n={};return this.ready&&e.each(["left","top","width","height","naturalWidth","naturalHeight"],(function(e,i){n[i]=t[i]})),n},setCanvasData:function(t){var n=this.canvas,i=n.aspectRatio;e.isFunction(t)&&(t=t.call(this.$element)),this.ready&&!this.disabled&&e.isPlainObject(t)&&(K(t.left)&&(n.left=t.left),K(t.top)&&(n.top=t.top),K(t.width)?(n.width=t.width,n.height=t.width/i):K(t.height)&&(n.height=t.height,n.width=t.height*i),this.renderCanvas(!0))},getCropBoxData:function(){var e=this.cropBox;return this.ready&&this.cropped?{left:e.left,top:e.top,width:e.width,height:e.height}:{}},setCropBoxData:function(t){var n=this.cropBox,i=this.options.aspectRatio,r=void 0,o=void 0;e.isFunction(t)&&(t=t.call(this.$element)),this.ready&&this.cropped&&!this.disabled&&e.isPlainObject(t)&&(K(t.left)&&(n.left=t.left),K(t.top)&&(n.top=t.top),K(t.width)&&t.width!==n.width&&(r=!0,n.width=t.width),K(t.height)&&t.height!==n.height&&(o=!0,n.height=t.height),i&&(r?n.height=n.width/i:o&&(n.width=n.height*i)),this.renderCropBox())},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n,i,r,o,s,a,l,c,u,h,d,p,f,m,g,y,v,b,_,w,k,S,E,T,x,C,P,A,O,I,L,D,R,M,N=this.canvas,j=(n=this.$clone[0],r=N,o=t,a=void 0===(s=(i=this.image).rotate)?0:s,c=void 0===(l=i.scaleX)?1:l,h=void 0===(u=i.scaleY)?1:u,d=r.aspectRatio,p=r.naturalWidth,f=r.naturalHeight,g=void 0===(m=o.fillColor)?"transparent":m,v=void 0===(y=o.imageSmoothingEnabled)||y,_=void 0===(b=o.imageSmoothingQuality)?"low":b,k=void 0===(w=o.maxWidth)?1/0:w,E=void 0===(S=o.maxHeight)?1/0:S,x=void 0===(T=o.minWidth)?0:T,P=void 0===(C=o.minHeight)?0:C,O=(A=document.createElement("canvas")).getContext("2d"),I=ce({aspectRatio:d,width:k,height:E}),L=ce({aspectRatio:d,width:x,height:P},"cover"),M=[-(D=Math.min(I.width,Math.max(L.width,p)))/2,-(R=Math.min(I.height,Math.max(L.height,f)))/2,D,R],A.width=Z(D),A.height=Z(R),O.fillStyle=g,O.fillRect(0,0,D,R),O.save(),O.translate(D/2,R/2),O.rotate(a*Math.PI/180),O.scale(c,h),O.imageSmoothingEnabled=v,O.imageSmoothingQuality=_,O.drawImage.apply(O,[n].concat(W(e.map(M,(function(e){return Math.floor(Z(e))}))))),O.restore(),A);if(!this.cropped)return j;var F=this.getData(),B=F.x,U=F.y,q=F.width,V=F.height,H=j.width/Math.floor(N.naturalWidth);1!==H&&(B*=H,U*=H,q*=H,V*=H);var $=q/V,z=ce({aspectRatio:$,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),G=ce({aspectRatio:$,width:t.minWidth||0,height:t.minHeight||0},"cover"),K=ce({aspectRatio:$,width:t.width||(1!==H?j.width:q),height:t.height||(1!==H?j.height:V)}),Y=K.width,X=K.height;Y=Math.min(z.width,Math.max(G.width,Y)),X=Math.min(z.height,Math.max(G.height,X));var J=document.createElement("canvas"),Q=J.getContext("2d");J.width=Z(Y),J.height=Z(X),Q.fillStyle=t.fillColor||"transparent",Q.fillRect(0,0,Y,X);var ee=t.imageSmoothingEnabled,te=void 0===ee||ee,ne=t.imageSmoothingQuality;Q.imageSmoothingEnabled=te,ne&&(Q.imageSmoothingQuality=ne);var ie=j.width,re=j.height,oe=B,se=U,ae=void 0,le=void 0,ue=void 0,he=void 0,de=void 0,pe=void 0;oe<=-q||oe>ie?(oe=0,ae=0,ue=0,de=0):oe<=0?(ue=-oe,oe=0,de=ae=Math.min(ie,q+oe)):oe<=ie&&(ue=0,de=ae=Math.min(q,ie-oe)),ae<=0||se<=-V||se>re?(se=0,le=0,he=0,pe=0):se<=0?(he=-se,se=0,pe=le=Math.min(re,V+se)):se<=re&&(he=0,pe=le=Math.min(V,re-se));var fe=[oe,se,ae,le];if(de>0&&pe>0){var me=Y/q;fe.push(ue*me,he*me,de*me,pe*me)}return Q.drawImage.apply(Q,[j].concat(W(e.map(fe,(function(e){return Math.floor(Z(e))}))))),J},setAspectRatio:function(e){var t=this.options;this.disabled||Y(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox()))},setDragMode:function(e){var t=this.options,n=void 0,i=void 0;this.loaded&&!this.disabled&&(n=e===S,i=t.movable&&e===E,e=n||i?e:T,this.$dragBox.data(w,e).toggleClass(m,n).toggleClass(_,i),t.cropBoxMovable||this.$face.data(w,e).toggleClass(m,n).toggleClass(_,i))}},ve=function(){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!n||!H.test(n.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=n,this.$element=e(n),this.options=e.extend({},$,e.isPlainObject(i)&&i),this.completed=!1,this.cropped=!1,this.disabled=!1,this.isImg=!1,this.limited=!1,this.loaded=!1,this.ready=!1,this.replaced=!1,this.wheeling=!1,this.originalUrl="",this.canvas=null,this.cropBox=null,this.pointers={},this.init()}return z(t,[{key:"init",value:function(){var e=this.$element,t=void 0;if(e.is("img")){if(this.isImg=!0,t=e.attr("src")||"",this.originalUrl=t,!t)return;t=e.prop("src")}else e.is("canvas")&&window.HTMLCanvasElement&&(t=e[0].toDataURL());this.load(t)}},{key:"trigger",value:function(t,n){var i=e.Event(t,n);return this.$element.trigger(i),i}},{key:"load",value:function(t){var n=this;if(t){this.url=t,this.image={};var i=this.$element,r=this.options;if(r.checkOrientation&&window.ArrayBuffer)if(q.test(t))V.test(t)?this.read((o=t.replace(he,""),s=atob(o),a=new ArrayBuffer(s.length),l=new Uint8Array(a),e.each(l,(function(e){l[e]=s.charCodeAt(e)})),a)):this.clone();else{var o,s,a,l,c=new XMLHttpRequest;c.onerror=function(){n.clone()},c.onload=function(){n.read(c.response)},r.checkCrossOrigin&&ne(t)&&!i.prop("crossOrigin")&&(t=ie(t)),c.open("get",t),c.responseType="arraybuffer",c.withCredentials="use-credentials"===i.prop("crossOrigin"),c.send()}else this.clone()}}},{key:"read",value:function(t){var n,i,r=this.options,o=this.image,s=function(e){var t=new DataView(e),n=void 0,i=void 0,r=void 0,o=void 0;if(255===t.getUint8(0)&&216===t.getUint8(1))for(var s=t.byteLength,a=2;a<s;){if(255===t.getUint8(a)&&225===t.getUint8(a+1)){r=a;break}a+=1}if(r){var l=r+10;if("Exif"===function(e,t,n){var i="",r=void 0;for(n+=t,r=t;r<n;r+=1)i+=ue(e.getUint8(r));return i}(t,r+4,4)){var c=t.getUint16(l);if(((i=18761===c)||19789===c)&&42===t.getUint16(l+2,i)){var u=t.getUint32(l+4,i);u>=8&&(o=l+u)}}}if(o){var h=t.getUint16(o,i),d=void 0,p=void 0;for(p=0;p<h;p+=1)if(d=o+12*p+2,274===t.getUint16(d,i)){d+=8,n=t.getUint16(d,i),t.setUint16(d,1,i);break}}return n}(t),a=0,l=1,c=1;if(s>1){this.url=(n=new Uint8Array(t),i="",e.each(n,(function(e,t){i+=ue(t)})),"data:image/jpeg;base64,"+btoa(i));var u=function(e){var t=0,n=1,i=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:i}}(s);a=u.rotate,l=u.scaleX,c=u.scaleY}r.rotatable&&(o.rotate=a),r.scalable&&(o.scaleX=l,o.scaleY=c),this.clone()}},{key:"clone",value:function(){var t=this.$element,n=this.options,i=this.url,r="",o=void 0;n.checkCrossOrigin&&ne(i)&&((r=t.prop("crossOrigin"))?o=i:(r="anonymous",o=ie(i))),this.crossOrigin=r,this.crossOriginUrl=o;var s=document.createElement("img");r&&(s.crossOrigin=r),s.src=o||i;var a=e(s);this.$clone=a,this.isImg?this.element.complete?this.start():t.one(L,e.proxy(this.start,this)):a.one(L,e.proxy(this.start,this)).one(I,e.proxy(this.stop,this)).addClass(v).insertAfter(t)}},{key:"start",value:function(){var t=this,n=this.$clone,i=this.$element;this.isImg||(n.off(I,this.stop),i=n),function(e,t){if(!e.naturalWidth||se){var n=document.createElement("img");n.onload=function(){t(n.width,n.height)},n.src=e.src}else t(e.naturalWidth,e.naturalHeight)}(i[0],(function(n,i){e.extend(t.image,{naturalWidth:n,naturalHeight:i,aspectRatio:n/i}),t.loaded=!0,t.build()}))}},{key:"stop",value:function(){this.$clone.remove(),this.$clone=null}},{key:"build",value:function(){var t=this;if(this.loaded){this.ready&&this.unbuild();var r=this.$element,o=this.options,s=this.$clone,a=e('<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>'),l=a.find("."+n+"-crop-box"),c=l.find("."+n+"-face");this.$container=r.parent(),this.$cropper=a,this.$canvas=a.find("."+n+"-canvas").append(s),this.$dragBox=a.find("."+n+"-drag-box"),this.$cropBox=l,this.$viewBox=a.find("."+n+"-view-box"),this.$face=c,r.addClass(y).after(a),this.isImg||s.removeClass(v),this.initPreview(),this.bind(),o.aspectRatio=Math.max(0,o.aspectRatio)||NaN,o.viewMode=Math.max(0,Math.min(3,Math.round(o.viewMode)))||0,this.cropped=o.autoCrop,o.autoCrop?o.modal&&this.$dragBox.addClass(b):l.addClass(y),o.guides||l.find("."+n+"-dashed").addClass(y),o.center||l.find("."+n+"-center").addClass(y),o.cropBoxMovable&&c.addClass(_).data(w,i),o.highlight||c.addClass("cropper-invisible"),o.background&&a.addClass(n+"-bg"),o.cropBoxResizable||l.find("."+n+"-line,."+n+"-point").addClass(y),this.setDragMode(o.dragMode),this.render(),this.ready=!0,this.setData(o.data),this.completing=setTimeout((function(){e.isFunction(o.ready)&&r.one(N,o.ready),t.trigger(N),t.trigger(x,t.getData()),t.completed=!0}),0)}}},{key:"unbuild",value:function(){this.ready&&(this.completed||clearTimeout(this.completing),this.ready=!1,this.completed=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.unbind(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)}}],[{key:"setDefaults",value:function(t){e.extend($,e.isPlainObject(t)&&t)}}]),t}();if(e.extend&&e.extend(ve.prototype,de,pe,fe,me,ge,ye),e.fn){var be=e.fn.cropper;e.fn.cropper=function(t){for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];var s=void 0;return this.each((function(i,o){var a=e(o),l=a.data(n);if(!l){if(/destroy/.test(t))return;var c=e.extend({},a.data(),e.isPlainObject(t)&&t);l=new ve(o,c),a.data(n,l)}if("string"==typeof t){var u=l[t];e.isFunction(u)&&(s=u.apply(l,r))}})),Y(s)?this:s},e.fn.cropper.Constructor=ve,e.fn.cropper.setDefaults=ve.setDefaults,e.fn.cropper.noConflict=function(){return e.fn.cropper=be,this}}},"object"==a(t)?s(n(6386)):(r=[n(6386)],void 0===(o="function"==typeof(i=s)?i.apply(t,r):i)||(e.exports=o))},6386:function(e,t,n){var i;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}e=n.nmd(e),function(t,n){"use strict";"object"==r(e)&&"object"==r(e.exports)?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(n,o){"use strict";var s=[],a=Object.getPrototypeOf,l=s.slice,c=s.flat?function(e){return s.flat.call(e)}:function(e){return s.concat.apply([],e)},u=s.push,h=s.indexOf,d={},p=d.toString,f=d.hasOwnProperty,m=f.toString,g=m.call(Object),y={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},b=function(e){return null!=e&&e===e.window},_=n.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function k(e,t,n){var i,r,o=(n=n||_).createElement("script");if(o.text=e,t)for(i in w)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function S(e){return null==e?e+"":"object"==r(e)||"function"==typeof e?d[p.call(e)]||"object":r(e)}var E="3.7.1",T=/HTML$/i,x=function(e,t){return new x.fn.init(e,t)};function C(e){var t=!!e&&"length"in e&&e.length,n=S(e);return!v(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}x.fn=x.prototype={jquery:E,constructor:x,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(x.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:s.sort,splice:s.splice},x.extend=x.fn.extend=function(){var e,t,n,i,o,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[l]||{},l++),"object"==r(a)||v(a)||(a={}),l===c&&(a=this,l--);l<c;l++)if(null!=(e=arguments[l]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(u&&i&&(x.isPlainObject(i)||(o=Array.isArray(i)))?(n=a[t],s=o&&!Array.isArray(n)?[]:o||x.isPlainObject(n)?n:{},o=!1,a[t]=x.extend(u,s,i)):void 0!==i&&(a[t]=i));return a},x.extend({expando:"jQuery"+(E+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e)||(t=a(e))&&("function"!=typeof(n=f.call(t,"constructor")&&t.constructor)||m.call(n)!==g))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){k(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(C(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},text:function(e){var t,n="",i=0,r=e.nodeType;if(!r)for(;t=e[i++];)n+=x.text(t);return 1===r||11===r?e.textContent:9===r?e.documentElement.textContent:3===r||4===r?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?x.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:h.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!T.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,s=[];if(C(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return c(s)},guid:1,support:y}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=s[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var A=s.pop,O=s.sort,I=s.splice,L="[\\x20\\t\\r\\n\\f]",D=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g");x.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var R=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function M(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}x.escapeSelector=function(e){return(e+"").replace(R,M)};var N=_,j=u;!function(){var e,t,i,r,o,a,c,u,d,p,m=j,g=x.expando,v=0,b=0,_=ee(),w=ee(),k=ee(),S=ee(),E=function(e,t){return e===t&&(o=!0),0},T="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",C="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",R="\\["+L+"*("+C+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+C+"))|)"+L+"*\\]",M=":("+C+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",F=new RegExp(L+"+","g"),B=new RegExp("^"+L+"*,"+L+"*"),U=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),q=new RegExp(L+"|>"),V=new RegExp(M),H=new RegExp("^"+C+"$"),$={ID:new RegExp("^#("+C+")"),CLASS:new RegExp("^\\.("+C+")"),TAG:new RegExp("^("+C+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+M),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+T+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},z=/^(?:input|select|textarea|button)$/i,W=/^h\d$/i,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Y=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),X=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},J=function(){le()},Q=de((function(e){return!0===e.disabled&&P(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{m.apply(s=l.call(N.childNodes),N.childNodes),s[N.childNodes.length].nodeType}catch(e){m={apply:function(e,t){j.apply(e,l.call(t))},call:function(e){j.apply(e,l.call(arguments,1))}}}function Z(e,t,n,i){var r,o,s,l,c,h,p,f=t&&t.ownerDocument,v=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==v&&9!==v&&11!==v)return n;if(!i&&(le(t),t=t||a,u)){if(11!==v&&(c=G.exec(e)))if(r=c[1]){if(9===v){if(!(s=t.getElementById(r)))return n;if(s.id===r)return m.call(n,s),n}else if(f&&(s=f.getElementById(r))&&Z.contains(t,s)&&s.id===r)return m.call(n,s),n}else{if(c[2])return m.apply(n,t.getElementsByTagName(e)),n;if((r=c[3])&&t.getElementsByClassName)return m.apply(n,t.getElementsByClassName(r)),n}if(!(S[e+" "]||d&&d.test(e))){if(p=e,f=t,1===v&&(q.test(e)||U.test(e))){for((f=K.test(e)&&ae(t.parentNode)||t)==t&&y.scope||((l=t.getAttribute("id"))?l=x.escapeSelector(l):t.setAttribute("id",l=g)),o=(h=ue(e)).length;o--;)h[o]=(l?"#"+l:":scope")+" "+he(h[o]);p=h.join(",")}try{return m.apply(n,f.querySelectorAll(p)),n}catch(t){S(e,!0)}finally{l===g&&t.removeAttribute("id")}}}return ve(e.replace(D,"$1"),t,n,i)}function ee(){var e=[];return function n(i,r){return e.push(i+" ")>t.cacheLength&&delete n[e.shift()],n[i+" "]=r}}function te(e){return e[g]=!0,e}function ne(e){var t=a.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ie(e){return function(t){return P(t,"input")&&t.type===e}}function re(e){return function(t){return(P(t,"input")||P(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Q(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function se(e){return te((function(t){return t=+t,te((function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function ae(e){return e&&void 0!==e.getElementsByTagName&&e}function le(e){var n,i=e?e.ownerDocument||e:N;return i!=a&&9===i.nodeType&&i.documentElement&&(c=(a=i).documentElement,u=!x.isXMLDoc(a),p=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&N!=a&&(n=a.defaultView)&&n.top!==n&&n.addEventListener("unload",J),y.getById=ne((function(e){return c.appendChild(e).id=x.expando,!a.getElementsByName||!a.getElementsByName(x.expando).length})),y.disconnectedMatch=ne((function(e){return p.call(e,"*")})),y.scope=ne((function(){return a.querySelectorAll(":scope")})),y.cssHas=ne((function(){try{return a.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),y.getById?(t.filter.ID=function(e){var t=e.replace(Y,X);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&u){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(Y,X);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&u){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&u)return t.getElementsByClassName(e)},d=[],ne((function(e){var t;c.appendChild(e).innerHTML="<a id='"+g+"' href='' disabled='disabled'></a><select id='"+g+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+L+"*(?:value|"+T+")"),e.querySelectorAll("[id~="+g+"-]").length||d.push("~="),e.querySelectorAll("a#"+g+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=a.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=a.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")")})),y.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),E=function(e,t){if(e===t)return o=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!y.sortDetached&&t.compareDocumentPosition(e)===n?e===a||e.ownerDocument==N&&Z.contains(N,e)?-1:t===a||t.ownerDocument==N&&Z.contains(N,t)?1:r?h.call(r,e)-h.call(r,t):0:4&n?-1:1)}),a}for(e in Z.matches=function(e,t){return Z(e,null,null,t)},Z.matchesSelector=function(e,t){if(le(e),u&&!S[t+" "]&&(!d||!d.test(t)))try{var n=p.call(e,t);if(n||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){S(t,!0)}return 0<Z(t,a,null,[e]).length},Z.contains=function(e,t){return(e.ownerDocument||e)!=a&&le(e),x.contains(e,t)},Z.attr=function(e,n){(e.ownerDocument||e)!=a&&le(e);var i=t.attrHandle[n.toLowerCase()],r=i&&f.call(t.attrHandle,n.toLowerCase())?i(e,n,!u):void 0;return void 0!==r?r:e.getAttribute(n)},Z.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},x.uniqueSort=function(e){var t,n=[],i=0,s=0;if(o=!y.sortStable,r=!y.sortStable&&l.call(e,0),O.call(e,E),o){for(;t=e[s++];)t===e[s]&&(i=n.push(s));for(;i--;)I.call(e,n[i],1)}return r=null,e},x.fn.uniqueSort=function(){return this.pushStack(x.uniqueSort(l.apply(this)))},(t=x.expr={cacheLength:50,createPseudo:te,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Y,X),e[3]=(e[3]||e[4]||e[5]||"").replace(Y,X),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Z.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Z.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Y,X).toLowerCase();return"*"===e?function(){return!0}:function(e){return P(e,t)}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&_(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=Z.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&-1<r.indexOf(n):"$="===t?n&&r.slice(-n.length)===n:"~="===t?-1<(" "+r.replace(F," ")+" ").indexOf(n):"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,p,f=o!==s?"nextSibling":"previousSibling",m=t.parentNode,y=a&&t.nodeName.toLowerCase(),b=!l&&!a,_=!1;if(m){if(o){for(;f;){for(h=t;h=h[f];)if(a?P(h,y):1===h.nodeType)return!1;p=f="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&b){for(_=(d=(c=(u=m[g]||(m[g]={}))[e]||[])[0]===v&&c[1])&&c[2],h=d&&m.childNodes[d];h=++d&&h&&h[f]||(_=d=0)||p.pop();)if(1===h.nodeType&&++_&&h===t){u[e]=[v,d,_];break}}else if(b&&(_=d=(c=(u=t[g]||(t[g]={}))[e]||[])[0]===v&&c[1]),!1===_)for(;(h=++d&&h&&h[f]||(_=d=0)||p.pop())&&(!(a?P(h,y):1===h.nodeType)||!++_||(b&&((u=h[g]||(h[g]={}))[e]=[v,_]),h!==t)););return(_-=r)===i||_%i==0&&0<=_/i}}},PSEUDO:function(e,n){var i,r=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Z.error("unsupported pseudo: "+e);return r[g]?r(n):1<r.length?(i=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var i,o=r(e,n),s=o.length;s--;)e[i=h.call(e,o[s])]=!(t[i]=o[s])})):function(e){return r(e,0,i)}):r}},pseudos:{not:te((function(e){var t=[],n=[],i=ye(e.replace(D,"$1"));return i[g]?te((function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return 0<Z(e,t).length}})),contains:te((function(e){return e=e.replace(Y,X),function(t){return-1<(t.textContent||x.text(t)).indexOf(e)}})),lang:te((function(e){return H.test(e||"")||Z.error("unsupported lang: "+e),e=e.replace(Y,X).toLowerCase(),function(t){var n;do{if(n=u?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return a.activeElement}catch(e){}}()&&a.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return P(e,"input")&&!!e.checked||P(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return W.test(e.nodeName)},input:function(e){return z.test(e.nodeName)},button:function(e){return P(e,"input")&&"button"===e.type||P(e,"button")},text:function(e){var t;return P(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se((function(){return[0]})),last:se((function(e,t){return[t-1]})),eq:se((function(e,t,n){return[n<0?n+t:n]})),even:se((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:se((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:se((function(e,t,n){var i;for(i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e})),gt:se((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=ie(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=re(e);function ce(){}function ue(e,n){var i,r,o,s,a,l,c,u=w[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=t.preFilter;a;){for(s in i&&!(r=B.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=U.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(D," ")}),a=a.slice(i.length)),t.filter)!(r=$[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?Z.error(e):w(e,l).slice(0)}function he(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function de(e,t,n){var i=t.dir,r=t.next,o=r||i,s=n&&"parentNode"===o,a=b++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,l){var c,u,h=[v,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(u=t[g]||(t[g]={}),r&&P(t,r))t=t[i]||t;else{if((c=u[o])&&c[0]===v&&c[1]===a)return h[2]=c[2];if((u[o]=h)[2]=e(t,n,l))return!0}return!1}}function pe(e){return 1<e.length?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function fe(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),c&&t.push(a)));return s}function me(e,t,n,i,r,o){return i&&!i[g]&&(i=me(i)),r&&!r[g]&&(r=me(r,o)),te((function(o,s,a,l){var c,u,d,p,f=[],g=[],y=s.length,v=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)Z(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),b=!e||!o&&t?v:fe(v,f,e,a,l);if(n?n(b,p=r||(o?e:y||i)?[]:s,a,l):p=b,i)for(c=fe(p,g),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(p[g[u]]=!(b[g[u]]=d));if(o){if(r||e){if(r){for(c=[],u=p.length;u--;)(d=p[u])&&c.push(b[u]=d);r(null,p=[],c,l)}for(u=p.length;u--;)(d=p[u])&&-1<(c=r?h.call(o,d):f[u])&&(o[c]=!(s[c]=d))}}else p=fe(p===s?p.splice(y,p.length):p),r?r(null,s,p,l):m.apply(s,p)}))}function ge(e){for(var n,r,o,s=e.length,a=t.relative[e[0].type],l=a||t.relative[" "],c=a?1:0,u=de((function(e){return e===n}),l,!0),d=de((function(e){return-1<h.call(n,e)}),l,!0),p=[function(e,t,r){var o=!a&&(r||t!=i)||((n=t).nodeType?u(e,t,r):d(e,t,r));return n=null,o}];c<s;c++)if(r=t.relative[e[c].type])p=[de(pe(p),r)];else{if((r=t.filter[e[c].type].apply(null,e[c].matches))[g]){for(o=++c;o<s&&!t.relative[e[o].type];o++);return me(1<c&&pe(p),1<c&&he(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(D,"$1"),r,c<o&&ge(e.slice(c,o)),o<s&&ge(e=e.slice(o)),o<s&&he(e))}p.push(r)}return pe(p)}function ye(e,n){var r,o,s,l,c,h,d=[],p=[],f=k[e+" "];if(!f){for(n||(n=ue(e)),r=n.length;r--;)(f=ge(n[r]))[g]?d.push(f):p.push(f);(f=k(e,(o=p,l=0<(s=d).length,c=0<o.length,h=function(e,n,r,h,d){var p,f,g,y=0,b="0",_=e&&[],w=[],k=i,S=e||c&&t.find.TAG("*",d),E=v+=null==k?1:Math.random()||.1,T=S.length;for(d&&(i=n==a||n||d);b!==T&&null!=(p=S[b]);b++){if(c&&p){for(f=0,n||p.ownerDocument==a||(le(p),r=!u);g=o[f++];)if(g(p,n||a,r)){m.call(h,p);break}d&&(v=E)}l&&((p=!g&&p)&&y--,e&&_.push(p))}if(y+=b,l&&b!==y){for(f=0;g=s[f++];)g(_,w,n,r);if(e){if(0<y)for(;b--;)_[b]||w[b]||(w[b]=A.call(h));w=fe(w)}m.apply(h,w),d&&!e&&0<w.length&&1<y+s.length&&x.uniqueSort(h)}return d&&(v=E,i=k),_},l?te(h):h))).selector=e}return f}function ve(e,n,i,r){var o,s,a,l,c,h="function"==typeof e&&e,d=!r&&ue(e=h.selector||e);if(i=i||[],1===d.length){if(2<(s=d[0]=d[0].slice(0)).length&&"ID"===(a=s[0]).type&&9===n.nodeType&&u&&t.relative[s[1].type]){if(!(n=(t.find.ID(a.matches[0].replace(Y,X),n)||[])[0]))return i;h&&(n=n.parentNode),e=e.slice(s.shift().value.length)}for(o=$.needsContext.test(e)?0:s.length;o--&&(a=s[o],!t.relative[l=a.type]);)if((c=t.find[l])&&(r=c(a.matches[0].replace(Y,X),K.test(s[0].type)&&ae(n.parentNode)||n))){if(s.splice(o,1),!(e=r.length&&he(s)))return m.apply(i,r),i;break}}return(h||ye(e,d))(r,n,!u,i,!n||K.test(e)&&ae(n.parentNode)||n),i}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,y.sortStable=g.split("").sort(E).join("")===g,le(),y.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(a.createElement("fieldset"))})),x.find=Z,x.expr[":"]=x.expr.pseudos,x.unique=x.uniqueSort,Z.compile=ye,Z.select=ve,Z.setDocument=le,Z.tokenize=ue,Z.escape=x.escapeSelector,Z.getText=x.text,Z.isXML=x.isXMLDoc,Z.selectors=x.expr,Z.support=x.support,Z.uniqueSort=x.uniqueSort}();var F=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&x(e).is(n))break;i.push(e)}return i},B=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},U=x.expr.match.needsContext,q=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function V(e,t,n){return v(t)?x.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?x.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?x.grep(e,(function(e){return-1<h.call(t,e)!==n})):x.filter(t,e,n)}x.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?x.find.matchesSelector(i,e)?[i]:[]:x.find.matches(e,x.grep(t,(function(e){return 1===e.nodeType})))},x.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(x(e).filter((function(){for(t=0;t<i;t++)if(x.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)x.find(e,r[t],n);return 1<i?x.uniqueSort(n):n},filter:function(e){return this.pushStack(V(this,e||[],!1))},not:function(e){return this.pushStack(V(this,e||[],!0))},is:function(e){return!!V(this,"string"==typeof e&&U.test(e)?x(e):e||[],!1).length}});var H,$=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||H,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:$.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:_,!0)),q.test(i[1])&&x.isPlainObject(t))for(i in t)v(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=_.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(x):x.makeArray(e,this)}).prototype=x.fn,H=x(_);var z=/^(?:parents|prev(?:Until|All))/,W={children:!0,contents:!0,next:!0,prev:!0};function G(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(x.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&x(e);if(!U.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&x.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?x.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?h.call(x(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return F(e,"parentNode")},parentsUntil:function(e,t,n){return F(e,"parentNode",n)},next:function(e){return G(e,"nextSibling")},prev:function(e){return G(e,"previousSibling")},nextAll:function(e){return F(e,"nextSibling")},prevAll:function(e){return F(e,"previousSibling")},nextUntil:function(e,t,n){return F(e,"nextSibling",n)},prevUntil:function(e,t,n){return F(e,"previousSibling",n)},siblings:function(e){return B((e.parentNode||{}).firstChild,e)},children:function(e){return B(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(P(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},(function(e,t){x.fn[e]=function(n,i){var r=x.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=x.filter(i,r)),1<this.length&&(W[e]||x.uniqueSort(r),z.test(e)&&r.reverse()),this.pushStack(r)}}));var K=/[^\x20\t\r\n\f]+/g;function Y(e){return e}function X(e){throw e}function J(e,t,n,i){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}x.Callbacks=function(e){var t,n;e="string"==typeof e?(t=e,n={},x.each(t.match(K)||[],(function(e,t){n[t]=!0})),n):x.extend({},e);var i,r,o,s,a=[],l=[],c=-1,u=function(){for(s=s||e.once,o=i=!0;l.length;c=-1)for(r=l.shift();++c<a.length;)!1===a[c].apply(r[0],r[1])&&e.stopOnFalse&&(c=a.length,r=!1);e.memory||(r=!1),i=!1,s&&(a=r?[]:"")},h={add:function(){return a&&(r&&!i&&(c=a.length-1,l.push(r)),function t(n){x.each(n,(function(n,i){v(i)?e.unique&&h.has(i)||a.push(i):i&&i.length&&"string"!==S(i)&&t(i)}))}(arguments),r&&!i&&u()),this},remove:function(){return x.each(arguments,(function(e,t){for(var n;-1<(n=x.inArray(t,a,n));)a.splice(n,1),n<=c&&c--})),this},has:function(e){return e?-1<x.inArray(e,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return s=l=[],a=r="",this},disabled:function(){return!a},lock:function(){return s=l=[],r||i||(a=r=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),i||u()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},x.extend({Deferred:function(e){var t=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return x.Deferred((function(n){x.each(t,(function(t,i){var r=v(e[i[4]])&&e[i[4]];s[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,i,o){var s=0;function a(e,t,i,o){return function(){var l=this,c=arguments,u=function(){var n,u;if(!(e<s)){if((n=i.apply(l,c))===t.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==r(n)||"function"==typeof n)&&n.then,v(u)?o?u.call(n,a(s,t,Y,o),a(s,t,X,o)):(s++,u.call(n,a(s,t,Y,o),a(s,t,X,o),a(s,t,Y,t.notifyWith))):(i!==Y&&(l=void 0,c=[n]),(o||t.resolveWith)(l,c))}},h=o?u:function(){try{u()}catch(n){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(n,h.error),s<=e+1&&(i!==X&&(l=void 0,c=[n]),t.rejectWith(l,c))}};e?h():(x.Deferred.getErrorHook?h.error=x.Deferred.getErrorHook():x.Deferred.getStackHook&&(h.error=x.Deferred.getStackHook()),n.setTimeout(h))}}return x.Deferred((function(n){t[0][3].add(a(0,n,v(o)?o:Y,n.notifyWith)),t[1][3].add(a(0,n,v(e)?e:Y)),t[2][3].add(a(0,n,v(i)?i:X))})).promise()},promise:function(e){return null!=e?x.extend(e,o):o}},s={};return x.each(t,(function(e,n){var r=n[2],a=n[5];o[n[1]]=r.add,a&&r.add((function(){i=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),r.add(n[3].fire),s[n[0]]=function(){return s[n[0]+"With"](this===s?void 0:this,arguments),this},s[n[0]+"With"]=r.fireWith})),o.promise(s),e&&e.call(s,s),s},when:function(e){var t=arguments.length,n=t,i=Array(n),r=l.call(arguments),o=x.Deferred(),s=function(e){return function(n){i[e]=this,r[e]=1<arguments.length?l.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(J(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||v(r[n]&&r[n].then)))return o.then();for(;n--;)J(r[n],s(n),o.reject);return o.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&Q.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},x.readyException=function(e){n.setTimeout((function(){throw e}))};var Z=x.Deferred();function ee(){_.removeEventListener("DOMContentLoaded",ee),n.removeEventListener("load",ee),x.ready()}x.fn.ready=function(e){return Z.then(e).catch((function(e){x.readyException(e)})),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0)!==e&&0<--x.readyWait||Z.resolveWith(_,[x])}}),x.ready.then=Z.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?n.setTimeout(x.ready):(_.addEventListener("DOMContentLoaded",ee),n.addEventListener("load",ee));var te=function(e,t,n,i,r,o,s){var a=0,l=e.length,c=null==n;if("object"===S(n))for(a in r=!0,n)te(e,t,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,v(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(x(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):o},ne=/^-ms-/,ie=/-([a-z])/g;function re(e,t){return t.toUpperCase()}function oe(e){return e.replace(ne,"ms-").replace(ie,re)}var se=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ae(){this.expando=x.expando+ae.uid++}ae.uid=1,ae.prototype={cache:function(e){var t=e[this.expando];return t||(t={},se(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[oe(t)]=n;else for(i in t)r[oe(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][oe(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(oe):(t=oe(t))in i?[t]:t.match(K)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||x.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var le=new ae,ce=new ae,ue=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,he=/[A-Z]/g;function de(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(he,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:ue.test(r)?JSON.parse(r):r)}catch(e){}ce.set(e,t,n)}else n=void 0;return n}x.extend({hasData:function(e){return ce.hasData(e)||le.hasData(e)},data:function(e,t,n){return ce.access(e,t,n)},removeData:function(e,t){ce.remove(e,t)},_data:function(e,t,n){return le.access(e,t,n)},_removeData:function(e,t){le.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,i,o,s=this[0],a=s&&s.attributes;if(void 0===e){if(this.length&&(o=ce.get(s),1===s.nodeType&&!le.get(s,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=oe(i.slice(5)),de(s,i,o[i]));le.set(s,"hasDataAttrs",!0)}return o}return"object"==r(e)?this.each((function(){ce.set(this,e)})):te(this,(function(t){var n;if(s&&void 0===t)return void 0!==(n=ce.get(s,e))||void 0!==(n=de(s,e))?n:void 0;this.each((function(){ce.set(this,e,t)}))}),null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each((function(){ce.remove(this,e)}))}}),x.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=le.get(e,t),n&&(!i||Array.isArray(n)?i=le.access(e,t,x.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),i=n.length,r=n.shift(),o=x._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){x.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return le.get(e,n)||le.access(e,n,{empty:x.Callbacks("once memory").add((function(){le.remove(e,[t+"queue",n])}))})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?x.queue(this[0],e):void 0===t?this:this.each((function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){x.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=x.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=le.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=new RegExp("^(?:([+-])=|)("+pe+")([a-z%]*)$","i"),me=["Top","Right","Bottom","Left"],ge=_.documentElement,ye=function(e){return x.contains(e.ownerDocument,e)},ve={composed:!0};ge.getRootNode&&(ye=function(e){return x.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});var be=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ye(e)&&"none"===x.css(e,"display")};function _e(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return x.css(e,t,"")},l=a(),c=n&&n[3]||(x.cssNumber[t]?"":"px"),u=e.nodeType&&(x.cssNumber[t]||"px"!==c&&+l)&&fe.exec(x.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)x.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,x.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var we={};function ke(e,t){for(var n,i,r,o,s,a,l,c=[],u=0,h=e.length;u<h;u++)(i=e[u]).style&&(n=i.style.display,t?("none"===n&&(c[u]=le.get(i,"display")||null,c[u]||(i.style.display="")),""===i.style.display&&be(i)&&(c[u]=(l=s=o=void 0,s=(r=i).ownerDocument,a=r.nodeName,(l=we[a])||(o=s.body.appendChild(s.createElement(a)),l=x.css(o,"display"),o.parentNode.removeChild(o),"none"===l&&(l="block"),we[a]=l)))):"none"!==n&&(c[u]="none",le.set(i,"display",n)));for(u=0;u<h;u++)null!=c[u]&&(e[u].style.display=c[u]);return e}x.fn.extend({show:function(){return ke(this,!0)},hide:function(){return ke(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){be(this)?x(this).show():x(this).hide()}))}});var Se,Ee,Te=/^(?:checkbox|radio)$/i,xe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i;Se=_.createDocumentFragment().appendChild(_.createElement("div")),(Ee=_.createElement("input")).setAttribute("type","radio"),Ee.setAttribute("checked","checked"),Ee.setAttribute("name","t"),Se.appendChild(Ee),y.checkClone=Se.cloneNode(!0).cloneNode(!0).lastChild.checked,Se.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!Se.cloneNode(!0).lastChild.defaultValue,Se.innerHTML="<option></option>",y.option=!!Se.lastChild;var Pe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ae(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?x.merge([e],n):n}function Oe(e,t){for(var n=0,i=e.length;n<i;n++)le.set(e[n],"globalEval",!t||le.get(t[n],"globalEval"))}Pe.tbody=Pe.tfoot=Pe.colgroup=Pe.caption=Pe.thead,Pe.th=Pe.td,y.option||(Pe.optgroup=Pe.option=[1,"<select multiple='multiple'>","</select>"]);var Ie=/<|&#?\w+;/;function Le(e,t,n,i,r){for(var o,s,a,l,c,u,h=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===S(o))x.merge(d,o.nodeType?[o]:o);else if(Ie.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(xe.exec(o)||["",""])[1].toLowerCase(),l=Pe[a]||Pe._default,s.innerHTML=l[1]+x.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;x.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(t.createTextNode(o));for(h.textContent="",p=0;o=d[p++];)if(i&&-1<x.inArray(o,i))r&&r.push(o);else if(c=ye(o),s=Ae(h.appendChild(o),"script"),c&&Oe(s),n)for(u=0;o=s[u++];)Ce.test(o.type||"")&&n.push(o);return h}var De=/^([^.]*)(?:\.(.+)|)/;function Re(){return!0}function Me(){return!1}function Ne(e,t,n,i,o,s){var a,l;if("object"==r(t)){for(l in"string"!=typeof n&&(i=i||n,n=void 0),t)Ne(e,l,n,i,t[l],s);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=Me;else if(!o)return e;return 1===s&&(a=o,(o=function(e){return x().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=x.guid++)),e.each((function(){x.event.add(this,t,o,i,n)}))}function je(e,t,n){n?(le.set(e,t,!1),x.event.add(e,t,{namespace:!1,handler:function(e){var n,i=le.get(this,t);if(1&e.isTrigger&&this[t]){if(i)(x.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=l.call(arguments),le.set(this,t,i),this[t](),n=le.get(this,t),le.set(this,t,!1),i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else i&&(le.set(this,t,x.event.trigger(i[0],i.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Re)}})):void 0===le.get(e,t)&&x.event.add(e,t,Re)}x.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,u,h,d,p,f,m,g=le.get(e);if(se(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&x.find.matchesSelector(ge,r),n.guid||(n.guid=x.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(K)||[""]).length;c--;)p=m=(a=De.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=x.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=x.event.special[p]||{},u=x.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&x.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,f,s)||e.addEventListener&&e.addEventListener(p,s)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),x.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,c,u,h,d,p,f,m,g=le.hasData(e)&&le.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(K)||[""]).length;c--;)if(p=m=(a=De.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=x.event.special[p]||{},d=l[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)u=d[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,g.handle)||x.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)x.event.remove(e,p+t[c],n,i,!0);x.isEmptyObject(l)&&le.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=new Array(arguments.length),l=x.event.fix(e),c=(le.get(this,"events")||Object.create(null))[l.type]||[],u=x.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=x.event.handlers.call(this,l,c),t=0;(r=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(i=((x.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,i,r,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?-1<x(r,this).index(c):x.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Te.test(t.type)&&t.click&&P(t,"input")&&je(t,"click",!0),!1},trigger:function(e){var t=this||e;return Te.test(t.type)&&t.click&&P(t,"input")&&je(t,"click"),!0},_default:function(e){var t=e.target;return Te.test(t.type)&&t.click&&P(t,"input")&&le.get(t,"click")||P(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Re:Me,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Me,isPropagationStopped:Me,isImmediatePropagationStopped:Me,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Re,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Re,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Re,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(_.documentMode){var n=le.get(this,"handle"),i=x.event.fix(e);i.type="focusin"===e.type?"focus":"blur",i.isSimulated=!0,n(e),i.target===i.currentTarget&&n(i)}else x.event.simulate(t,e.target,x.event.fix(e))}x.event.special[e]={setup:function(){var i;if(je(this,e,!0),!_.documentMode)return!1;(i=le.get(this,t))||this.addEventListener(t,n),le.set(this,t,(i||0)+1)},trigger:function(){return je(this,e),!0},teardown:function(){var e;if(!_.documentMode)return!1;(e=le.get(this,t)-1)?le.set(this,t,e):(this.removeEventListener(t,n),le.remove(this,t))},_default:function(t){return le.get(t.target,e)},delegateType:t},x.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=_.documentMode?this:i,o=le.get(r,t);o||(_.documentMode?this.addEventListener(t,n):i.addEventListener(e,n,!0)),le.set(r,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=_.documentMode?this:i,o=le.get(r,t)-1;o?le.set(r,t,o):(_.documentMode?this.removeEventListener(t,n):i.removeEventListener(e,n,!0),le.remove(r,t))}}})),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||x.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),x.fn.extend({on:function(e,t,n,i){return Ne(this,e,t,n,i)},one:function(e,t,n,i){return Ne(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==r(e)){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Me),this.each((function(){x.event.remove(this,e,n,t)}))}});var Fe=/<script|<style|<link/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function qe(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function Ve(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function $e(e,t){var n,i,r,o,s,a;if(1===t.nodeType){if(le.hasData(e)&&(a=le.get(e).events))for(r in le.remove(t,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)x.event.add(t,r,a[r][n]);ce.hasData(e)&&(o=ce.access(e),s=x.extend({},o),ce.set(t,s))}}function ze(e,t,n,i){t=c(t);var r,o,s,a,l,u,h=0,d=e.length,p=d-1,f=t[0],m=v(f);if(m||1<d&&"string"==typeof f&&!y.checkClone&&Be.test(f))return e.each((function(r){var o=e.eq(r);m&&(t[0]=f.call(this,r,o.html())),ze(o,t,n,i)}));if(d&&(o=(r=Le(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=x.map(Ae(r,"script"),Ve)).length;h<d;h++)l=r,h!==p&&(l=x.clone(l,!0,!0),a&&x.merge(s,Ae(l,"script"))),n.call(e[h],l,h);if(a)for(u=s[s.length-1].ownerDocument,x.map(s,He),h=0;h<a;h++)l=s[h],Ce.test(l.type||"")&&!le.access(l,"globalEval")&&x.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?x._evalUrl&&!l.noModule&&x._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):k(l.textContent.replace(Ue,""),l,u))}return e}function We(e,t,n){for(var i,r=t?x.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||x.cleanData(Ae(i)),i.parentNode&&(n&&ye(i)&&Oe(Ae(i,"script")),i.parentNode.removeChild(i));return e}x.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,s,a,l,c,u=e.cloneNode(!0),h=ye(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(s=Ae(u),i=0,r=(o=Ae(e)).length;i<r;i++)a=o[i],"input"===(c=(l=s[i]).nodeName.toLowerCase())&&Te.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(n)for(o=o||Ae(e),s=s||Ae(u),i=0,r=o.length;i<r;i++)$e(o[i],s[i]);else $e(e,u);return 0<(s=Ae(u,"script")).length&&Oe(s,!h&&Ae(e,"script")),u},cleanData:function(e){for(var t,n,i,r=x.event.special,o=0;void 0!==(n=e[o]);o++)if(se(n)){if(t=n[le.expando]){if(t.events)for(i in t.events)r[i]?x.event.remove(n,i):x.removeEvent(n,i,t.handle);n[le.expando]=void 0}n[ce.expando]&&(n[ce.expando]=void 0)}}}),x.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return te(this,(function(e){return void 0===e?x.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return ze(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qe(this,e).appendChild(e)}))},prepend:function(){return ze(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=qe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return ze(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return ze(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(Ae(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return x.clone(this,e,t)}))},html:function(e){return te(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Fe.test(e)&&!Pe[(xe.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(x.cleanData(Ae(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return ze(this,arguments,(function(t){var n=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(Ae(this)),n&&n.replaceChild(t,this))}),e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){x.fn[e]=function(e){for(var n,i=[],r=x(e),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),x(r[s])[t](n),u.apply(i,n.get());return this.pushStack(i)}}));var Ge=new RegExp("^("+pe+")(?!px)[a-z%]+$","i"),Ke=/^--/,Ye=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Xe=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},Je=new RegExp(me.join("|"),"i");function Qe(e,t,n){var i,r,o,s,a=Ke.test(t),l=e.style;return(n=n||Ye(e))&&(s=n.getPropertyValue(t)||n[t],a&&s&&(s=s.replace(D,"$1")||void 0),""!==s||ye(e)||(s=x.style(e,t)),!y.pixelBoxStyles()&&Ge.test(s)&&Je.test(t)&&(i=l.width,r=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=i,l.minWidth=r,l.maxWidth=o)),void 0!==s?s+"":s}function Ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ge.appendChild(c).appendChild(u);var e=n.getComputedStyle(u);i="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),r=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),ge.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var i,r,o,s,a,l,c=_.createElement("div"),u=_.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===u.style.backgroundClip,x.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,i,r;return null==a&&(e=_.createElement("table"),t=_.createElement("tr"),i=_.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",i.style.height="9px",i.style.display="block",ge.appendChild(e).appendChild(t).appendChild(i),r=n.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,ge.removeChild(e)),a}}))}();var et=["Webkit","Moz","ms"],tt=_.createElement("div").style,nt={};function it(e){return x.cssProps[e]||nt[e]||(e in tt?e:nt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=et.length;n--;)if((e=et[n]+t)in tt)return e}(e)||e)}var rt=/^(none|table(?!-c[ea]).+)/,ot={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function at(e,t,n){var i=fe.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function lt(e,t,n,i,r,o){var s="width"===t?1:0,a=0,l=0,c=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=x.css(e,n+me[s],!0,r)),i?("content"===n&&(l-=x.css(e,"padding"+me[s],!0,r)),"margin"!==n&&(l-=x.css(e,"border"+me[s]+"Width",!0,r))):(l+=x.css(e,"padding"+me[s],!0,r),"padding"!==n?l+=x.css(e,"border"+me[s]+"Width",!0,r):a+=x.css(e,"border"+me[s]+"Width",!0,r));return!i&&0<=o&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l+c}function ct(e,t,n){var i=Ye(e),r=(!y.boxSizingReliable()||n)&&"border-box"===x.css(e,"boxSizing",!1,i),o=r,s=Qe(e,t,i),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ge.test(s)){if(!n)return s;s="auto"}return(!y.boxSizingReliable()&&r||!y.reliableTrDimensions()&&P(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===x.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===x.css(e,"boxSizing",!1,i),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+lt(e,t,n||(r?"border":"content"),o,i,s)+"px"}function ut(e,t,n,i,r){return new ut.prototype.init(e,t,n,i,r)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,l=oe(t),c=Ke.test(t),u=e.style;if(c||(t=it(l)),a=x.cssHooks[t]||x.cssHooks[l],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:u[t];"string"===(s=r(n))&&(o=fe.exec(n))&&o[1]&&(n=_e(e,t,o),s="number"),null!=n&&n==n&&("number"!==s||c||(n+=o&&o[3]||(x.cssNumber[l]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,o,s,a=oe(t);return Ke.test(t)||(t=it(a)),(s=x.cssHooks[t]||x.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=Qe(e,t,i)),"normal"===r&&t in st&&(r=st[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),x.each(["height","width"],(function(e,t){x.cssHooks[t]={get:function(e,n,i){if(n)return!rt.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ct(e,t,i):Xe(e,ot,(function(){return ct(e,t,i)}))},set:function(e,n,i){var r,o=Ye(e),s=!y.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===x.css(e,"boxSizing",!1,o),l=i?lt(e,t,i,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-lt(e,t,"border",!1,o)-.5)),l&&(r=fe.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=x.css(e,t)),at(0,n,l)}}})),x.cssHooks.marginLeft=Ze(y.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||e.getBoundingClientRect().left-Xe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),x.each({margin:"",padding:"",border:"Width"},(function(e,t){x.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+me[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(x.cssHooks[e+t].set=at)})),x.fn.extend({css:function(e,t){return te(this,(function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=Ye(e),r=t.length;s<r;s++)o[t[s]]=x.css(e,t[s],!1,i);return o}return void 0!==n?x.style(e,t,n):x.css(e,t)}),e,t,1<arguments.length)}}),((x.Tween=ut).prototype={constructor:ut,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=ut.propHooks[this.prop];return e&&e.get?e.get(this):ut.propHooks._default.get(this)},run:function(e){var t,n=ut.propHooks[this.prop];return this.options.duration?this.pos=t=x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ut.propHooks._default.set(this),this}}).init.prototype=ut.prototype,(ut.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=x.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||!x.cssHooks[e.prop]&&null==e.elem.style[it(e.prop)]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=ut.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=ut.prototype.init,x.fx.step={};var ht,dt,pt,ft,mt=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;function yt(){dt&&(!1===_.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(yt):n.setTimeout(yt,x.fx.interval),x.fx.tick())}function vt(){return n.setTimeout((function(){ht=void 0})),ht=Date.now()}function bt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=me[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function _t(e,t,n){for(var i,r=(wt.tweeners[t]||[]).concat(wt.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function wt(e,t,n){var i,r,o=0,s=wt.prefilters.length,a=x.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=ht||vt(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(i);return a.notifyWith(e,[c,i,n]),i<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:t,originalOptions:n,startTime:ht||vt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=x.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=oe(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=x.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);o<s;o++)if(i=wt.prefilters[o].call(c,e,u,c.opts))return v(i.stop)&&(x._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return x.map(u,_t,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),x.fx.timer(x.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}x.Animation=x.extend(wt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return _e(n.elem,e,fe.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(K);for(var n,i=0,r=e.length;i<r;i++)n=e[i],wt.tweeners[n]=wt.tweeners[n]||[],wt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,l,c,u,h="width"in t||"height"in t,d=this,p={},f=e.style,m=e.nodeType&&be(e),g=le.get(e,"fxshow");for(i in n.queue||(null==(s=x._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()}))}))),t)if(r=t[i],mt.test(r)){if(delete t[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}p[i]=g&&g[i]||x.style(e,i)}if((l=!x.isEmptyObject(t))||!x.isEmptyObject(p))for(i in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=le.get(e,"display")),"none"===(u=x.css(e,"display"))&&(c?u=c:(ke([e],!0),c=e.style.display||c,u=x.css(e,"display"),ke([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===x.css(e,"float")&&(l||(d.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=le.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&ke([e],!0),d.done((function(){for(i in m||ke([e]),le.remove(e,"fxshow"),p)x.style(e,i,p[i])}))),l=_t(m?g[i]:0,i,d),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?wt.prefilters.unshift(e):wt.prefilters.push(e)}}),x.speed=function(e,t,n){var i=e&&"object"==r(e)?x.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return x.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in x.fx.speeds?i.duration=x.fx.speeds[i.duration]:i.duration=x.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&x.dequeue(this,i.queue)},i},x.fn.extend({fadeTo:function(e,t,n,i){return this.filter(be).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=x.isEmptyObject(e),o=x.speed(t,n,i),s=function(){var t=wt(this,x.extend({},e),o);(r||le.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=x.timers,s=le.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&gt.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||x.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=le.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=x.timers,s=i?i.length:0;for(n.finish=!0,x.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),x.each(["toggle","show","hide"],(function(e,t){var n=x.fn[t];x.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(bt(t,!0),e,i,r)}})),x.each({slideDown:bt("show"),slideUp:bt("hide"),slideToggle:bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){x.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),x.timers=[],x.fx.tick=function(){var e,t=0,n=x.timers;for(ht=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||x.fx.stop(),ht=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){dt||(dt=!0,yt())},x.fx.stop=function(){dt=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(e,t){return e=x.fx&&x.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}}))},pt=_.createElement("input"),ft=_.createElement("select").appendChild(_.createElement("option")),pt.type="checkbox",y.checkOn=""!==pt.value,y.optSelected=ft.selected,(pt=_.createElement("input")).value="t",pt.type="radio",y.radioValue="t"===pt.value;var kt,St=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return te(this,x.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each((function(){x.removeAttr(this,e)}))}}),x.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?x.prop(e,t,n):(1===o&&x.isXMLDoc(e)||(r=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?kt:void 0)),void 0!==n?null===n?void x.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=x.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&P(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(K);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),kt={set:function(e,t,n){return!1===t?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=St[t]||x.find.attr;St[t]=function(e,t,i){var r,o,s=t.toLowerCase();return i||(o=St[s],St[s]=r,r=null!=n(e,t,i)?s:null,St[s]=o),r}}));var Et=/^(?:input|select|textarea|button)$/i,Tt=/^(?:a|area)$/i;function xt(e){return(e.match(K)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function Pt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(K)||[]}x.fn.extend({prop:function(e,t){return te(this,x.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each((function(){delete this[x.propFix[e]||e]}))}}),x.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(e)||(t=x.propFix[t]||t,r=x.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||Tt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){x.propFix[this.toLowerCase()]=this})),x.fn.extend({addClass:function(e){var t,n,i,r,o,s;return v(e)?this.each((function(t){x(this).addClass(e.call(this,t,Ct(this)))})):(t=Pt(e)).length?this.each((function(){if(i=Ct(this),n=1===this.nodeType&&" "+xt(i)+" "){for(o=0;o<t.length;o++)r=t[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=xt(n),i!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,n,i,r,o,s;return v(e)?this.each((function(t){x(this).removeClass(e.call(this,t,Ct(this)))})):arguments.length?(t=Pt(e)).length?this.each((function(){if(i=Ct(this),n=1===this.nodeType&&" "+xt(i)+" "){for(o=0;o<t.length;o++)for(r=t[o];-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");s=xt(n),i!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,i,o,s,a=r(e),l="string"===a||Array.isArray(e);return v(e)?this.each((function(n){x(this).toggleClass(e.call(this,n,Ct(this),t),t)})):"boolean"==typeof t&&l?t?this.addClass(e):this.removeClass(e):(n=Pt(e),this.each((function(){if(l)for(s=x(this),o=0;o<n.length;o++)i=n[o],s.hasClass(i)?s.removeClass(i):s.addClass(i);else void 0!==e&&"boolean"!==a||((i=Ct(this))&&le.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":le.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+xt(Ct(n))+" ").indexOf(t))return!0;return!1}});var At=/\r/g;x.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=v(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,x(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=x.map(r,(function(e){return null==e?"":e+""}))),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=x.valHooks[r.type]||x.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(At,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:xt(x.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(t=x(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=x.makeArray(t),s=r.length;s--;)((i=r[s]).selected=-1<x.inArray(x.valHooks.option.get(i),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],(function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<x.inArray(x(e).val(),t)}},y.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Ot=n.location,It={guid:Date.now()},Lt=/\?/;x.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){}return i=t&&t.getElementsByTagName("parsererror")[0],t&&!i||x.error("Invalid XML: "+(i?x.map(i.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Dt=/^(?:focusinfocus|focusoutblur)$/,Rt=function(e){e.stopPropagation()};x.extend(x.event,{trigger:function(e,t,i,o){var s,a,l,c,u,h,d,p,m=[i||_],g=f.call(e,"type")?e.type:e,y=f.call(e,"namespace")?e.namespace.split("."):[];if(a=p=l=i=i||_,3!==i.nodeType&&8!==i.nodeType&&!Dt.test(g+x.event.triggered)&&(-1<g.indexOf(".")&&(g=(y=g.split(".")).shift(),y.sort()),u=g.indexOf(":")<0&&"on"+g,(e=e[x.expando]?e:new x.Event(g,"object"==r(e)&&e)).isTrigger=o?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:x.makeArray(t,[e]),d=x.event.special[g]||{},o||!d.trigger||!1!==d.trigger.apply(i,t))){if(!o&&!d.noBubble&&!b(i)){for(c=d.delegateType||g,Dt.test(c+g)||(a=a.parentNode);a;a=a.parentNode)m.push(a),l=a;l===(i.ownerDocument||_)&&m.push(l.defaultView||l.parentWindow||n)}for(s=0;(a=m[s++])&&!e.isPropagationStopped();)p=a,e.type=1<s?c:d.bindType||g,(h=(le.get(a,"events")||Object.create(null))[e.type]&&le.get(a,"handle"))&&h.apply(a,t),(h=u&&a[u])&&h.apply&&se(a)&&(e.result=h.apply(a,t),!1===e.result&&e.preventDefault());return e.type=g,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(m.pop(),t)||!se(i)||u&&v(i[g])&&!b(i)&&((l=i[u])&&(i[u]=null),x.event.triggered=g,e.isPropagationStopped()&&p.addEventListener(g,Rt),i[g](),e.isPropagationStopped()&&p.removeEventListener(g,Rt),x.event.triggered=void 0,l&&(i[u]=l)),e.result}},simulate:function(e,t,n){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0});x.event.trigger(i,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each((function(){x.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return x.event.trigger(e,t,n,!0)}});var Mt=/\[\]$/,Nt=/\r?\n/g,jt=/^(?:submit|button|image|reset|file)$/i,Ft=/^(?:input|select|textarea|keygen)/i;function Bt(e,t,n,i){var o;if(Array.isArray(t))x.each(t,(function(t,o){n||Mt.test(e)?i(e,o):Bt(e+"["+("object"==r(o)&&null!=o?t:"")+"]",o,n,i)}));else if(n||"object"!==S(t))i(e,t);else for(o in t)Bt(e+"["+o+"]",t[o],n,i)}x.param=function(e,t){var n,i=[],r=function(e,t){var n=v(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,(function(){r(this.name,this.value)}));else for(n in e)Bt(n,e[n],t,r);return i.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&Ft.test(this.nodeName)&&!jt.test(e)&&(this.checked||!Te.test(e))})).map((function(e,t){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,(function(e){return{name:t.name,value:e.replace(Nt,"\r\n")}})):{name:t.name,value:n.replace(Nt,"\r\n")}})).get()}});var Ut=/%20/g,qt=/#.*$/,Vt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,$t=/^(?:GET|HEAD)$/,zt=/^\/\//,Wt={},Gt={},Kt="*/".concat("*"),Yt=_.createElement("a");function Xt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(K)||[];if(v(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Jt(e,t,n,i){var r={},o=e===Gt;function s(a){var l;return r[a]=!0,x.each(e[a]||[],(function(e,a){var c=a(t,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function Qt(e,t){var n,i,r=x.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&x.extend(!0,e,i),e}Yt.href=Ot.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ot.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ot.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Qt(Qt(e,x.ajaxSettings),t):Qt(x.ajaxSettings,e)},ajaxPrefilter:Xt(Wt),ajaxTransport:Xt(Gt),ajax:function(e,t){"object"==r(e)&&(t=e,e=void 0),t=t||{};var i,o,s,a,l,c,u,h,d,p,f=x.ajaxSetup({},t),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?x(m):x.event,y=x.Deferred(),v=x.Callbacks("once memory"),b=f.statusCode||{},w={},k={},S="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Ht.exec(s);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(e,t){return null==u&&(e=k[e.toLowerCase()]=k[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)E.always(e[E.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||S;return i&&i.abort(t),T(0,t),this}};if(y.promise(E),f.url=((e||f.url||Ot.href)+"").replace(zt,Ot.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(K)||[""],null==f.crossDomain){c=_.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Yt.protocol+"//"+Yt.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=x.param(f.data,f.traditional)),Jt(Wt,f,t,E),u)return E;for(d in(h=x.event&&f.global)&&0==x.active++&&x.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!$t.test(f.type),o=f.url.replace(qt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ut,"+")):(p=f.url.slice(o.length),f.data&&(f.processData||"string"==typeof f.data)&&(o+=(Lt.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(Vt,"$1"),p=(Lt.test(o)?"&":"?")+"_="+It.guid+++p),f.url=o+p),f.ifModified&&(x.lastModified[o]&&E.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&E.setRequestHeader("If-None-Match",x.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&E.setRequestHeader("Content-Type",f.contentType),E.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Kt+"; q=0.01":""):f.accepts["*"]),f.headers)E.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(m,E,f)||u))return E.abort();if(S="abort",v.add(f.complete),E.done(f.success),E.fail(f.error),i=Jt(Gt,f,t,E)){if(E.readyState=1,h&&g.trigger("ajaxSend",[E,f]),u)return E;f.async&&0<f.timeout&&(l=n.setTimeout((function(){E.abort("timeout")}),f.timeout));try{u=!1,i.send(w,T)}catch(e){if(u)throw e;T(-1,e)}}else T(-1,"No Transport");function T(e,t,r,a){var c,d,p,_,w,k=t;u||(u=!0,l&&n.clearTimeout(l),i=void 0,s=a||"",E.readyState=0<e?4:0,c=200<=e&&e<300||304===e,r&&(_=function(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,E,r)),!c&&-1<x.inArray("script",f.dataTypes)&&x.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),_=function(e,t,n,i){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,_,E,c),c?(f.ifModified&&((w=E.getResponseHeader("Last-Modified"))&&(x.lastModified[o]=w),(w=E.getResponseHeader("etag"))&&(x.etag[o]=w)),204===e||"HEAD"===f.type?k="nocontent":304===e?k="notmodified":(k=_.state,d=_.data,c=!(p=_.error))):(p=k,!e&&k||(k="error",e<0&&(e=0))),E.status=e,E.statusText=(t||k)+"",c?y.resolveWith(m,[d,k,E]):y.rejectWith(m,[E,k,p]),E.statusCode(b),b=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[E,f,c?d:p]),v.fireWith(m,[E,k]),h&&(g.trigger("ajaxComplete",[E,f]),--x.active||x.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],(function(e,t){x[t]=function(e,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),x.ajax(x.extend({url:e,type:t,dataType:r,data:n,success:i},x.isPlainObject(e)&&e))}})),x.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),x._evalUrl=function(e,t,n){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){x.globalEval(e,t,n)}})},x.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){x(this).wrapInner(e.call(this,t))})):this.each((function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){x(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){x(this).replaceWith(this.childNodes)})),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Zt={0:200,1223:204},en=x.ajaxSettings.xhr();y.cors=!!en&&"withCredentials"in en,y.ajax=en=!!en,x.ajaxTransport((function(e){var t,i;if(y.cors||en&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Zt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),i=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){t&&i()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(r){if(t)throw r}},abort:function(){t&&t()}}})),x.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),x.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=x("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),_.head.appendChild(t[0])},abort:function(){n&&n()}}}));var tn,nn=[],rn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=nn.pop()||x.expando+"_"+It.guid++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",(function(e,t,i){var r,o,s,a=!1!==e.jsonp&&(rn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(rn,"$1"+r):!1!==e.jsonp&&(e.url+=(Lt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||x.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always((function(){void 0===o?x(n).removeProp(r):n[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,nn.push(r)),s&&v(o)&&o(s[0]),s=o=void 0})),"script"})),y.createHTMLDocument=((tn=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===tn.childNodes.length),x.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((i=(t=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,t.head.appendChild(i)):t=_),o=!n&&[],(r=q.exec(e))?[t.createElement(r[1])]:(r=Le([e],t,o),o&&o.length&&x(o).remove(),x.merge([],r.childNodes)));var i,r,o},x.fn.load=function(e,t,n){var i,o,s,a=this,l=e.indexOf(" ");return-1<l&&(i=xt(e.slice(l)),e=e.slice(0,l)),v(t)?(n=t,t=void 0):t&&"object"==r(t)&&(o="POST"),0<a.length&&x.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){s=arguments,a.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,s||[e.responseText,t,e])}))}),this},x.expr.pseudos.animated=function(e){return x.grep(x.timers,(function(t){return e===t.elem})).length},x.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c=x.css(e,"position"),u=x(e),h={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=x.css(e,"top"),l=x.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),v(t)&&(t=t.call(e,n,x.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):u.css(h)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){x.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===x.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),r.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-x.css(i,"marginTop",!0),left:t.left-r.left-x.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||ge}))}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;x.fn[e]=function(i){return te(this,(function(e,i,r){var o;if(b(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r}),e,i,arguments.length)}})),x.each(["top","left"],(function(e,t){x.cssHooks[t]=Ze(y.pixelPosition,(function(e,n){if(n)return n=Qe(e,t),Ge.test(n)?x(e).position()[t]+"px":n}))})),x.each({Height:"height",Width:"width"},(function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){x.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return te(this,(function(t,n,r){var o;return b(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?x.css(t,n,a):x.style(t,n,r,a)}),t,s?r:void 0,s)}}))})),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){x.fn[t]=function(e){return this.on(t,e)}})),x.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){x.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}));var on=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;x.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return i=l.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(l.call(arguments)))}).guid=e.guid=e.guid||x.guid++,r},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=P,x.isFunction=v,x.isWindow=b,x.camelCase=oe,x.type=S,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},x.trim=function(e){return null==e?"":(e+"").replace(on,"$1")},void 0===(i=function(){return x}.apply(t,[]))||(e.exports=i);var sn=n.jQuery,an=n.$;return x.noConflict=function(e){return n.$===x&&(n.$=an),e&&n.jQuery===x&&(n.jQuery=sn),x},void 0===o&&(n.jQuery=n.$=x),x}))},8105:function(e,t,n){var i,r,o;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}r=[n(6386)],i=function(e){e.extend(e.fn,{validate:function(t){if(this.length){var n=e.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",(function(t){n.submitButton=t.currentTarget,e(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(n.cancelSubmit=!0)})),this.on("submit.validate",(function(t){function i(){var i,r;return n.submitButton&&(n.settings.submitHandler||n.formSubmitted)&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),!(n.settings.submitHandler&&!n.settings.debug)||(r=n.settings.submitHandler.call(n,n.currentForm,t),i&&i.remove(),void 0!==r&&r)}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)}))),n)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,n,i;return e(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,n=e(this[0].form).validate(),this.each((function(){(t=n.element(this)&&t)||(i=i.concat(n.errorList))})),n.errorList=i),t},rules:function(t,n){var i,r,o,s,a,l,c=this[0],u=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=c&&(!c.form&&u&&(c.form=this.closest("form")[0],c.name=this.attr("name")),null!=c.form)){if(t)switch(r=(i=e.data(c.form,"validator").settings).rules,o=e.validator.staticRules(c),t){case"add":e.extend(o,e.validator.normalizeRule(n)),delete o.messages,r[c.name]=o,n.messages&&(i.messages[c.name]=e.extend(i.messages[c.name],n.messages));break;case"remove":return n?(l={},e.each(n.split(/\s/),(function(e,t){l[t]=o[t],delete o[t]})),l):(delete r[c.name],o)}return(s=e.validator.normalizeRules(e.extend({},e.validator.classRules(c),e.validator.attributeRules(c),e.validator.dataRules(c),e.validator.staticRules(c)),c)).required&&(a=s.required,delete s.required,s=e.extend({required:a},s)),s.remote&&(a=s.remote,delete s.remote,s=e.extend(s,{remote:a})),s}}});var t,n=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};e.extend(e.expr.pseudos||e.expr[":"],{blank:function(t){return!n(""+e(t).val())},filled:function(t){var i=e(t).val();return null!==i&&!!n(""+i)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(void 0===n||(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,(function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),(function(){return n}))}))),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,n){9===n.which&&""===this.elementValue(t)||-1!==e.inArray(n.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t,n=this.currentForm,i=this.groups={};function r(t){var i=void 0!==e(this).attr("contenteditable")&&"false"!==e(this).attr("contenteditable");if(!this.form&&i&&(this.form=e(this).closest("form")[0],this.name=e(this).attr("name")),n===this.form){var r=e.data(this.form,"validator"),o="on"+t.type.replace(/^validate/,""),s=r.settings;s[o]&&!e(this).is(s.ignore)&&s[o].call(r,this,t)}}e.each(this.settings.groups,(function(t,n){"string"==typeof n&&(n=n.split(/\s/)),e.each(n,(function(e,n){i[n]=t}))})),t=this.settings.rules,e.each(t,(function(n,i){t[n]=e.validator.normalizeRule(i)})),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",r).on("click.validate","select, option, [type='radio'], [type='checkbox']",r),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var n,i,r=this.clean(t),o=this.validationTargetFor(r),s=this,a=!0;return void 0===o?delete this.invalid[r.name]:(this.prepareElement(o),this.currentElements=e(o),(i=this.groups[o.name])&&e.each(this.groups,(function(e,t){t===i&&e!==o.name&&(r=s.validationTargetFor(s.clean(s.findByName(e))))&&r.name in s.invalid&&(s.currentElements.push(r),a=s.check(r)&&a)})),n=!1!==this.check(o),a=a&&n,this.invalid[o.name]=!n,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!n)),a},showErrors:function(t){if(t){var n=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,(function(e,t){return{message:e,element:n.findByName(t)[0]}})),this.successList=e.grep(this.successList,(function(e){return!(e.name in t)}))}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,(function(e){return e.element.name===t.name})).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter((function(){var i=this.name||e(this).attr("name"),r=void 0!==e(this).attr("contenteditable")&&"false"!==e(this).attr("contenteditable");return!i&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),r&&(this.form=e(this).closest("form")[0],this.name=i),!(this.form!==t.currentForm||i in n||!t.objectLength(e(this).rules())||(n[i]=!0,0))}))},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n,i,r=e(t),o=t.type,s=void 0!==r.attr("contenteditable")&&"false"!==r.attr("contenteditable");return"radio"===o||"checkbox"===o?this.findByName(t.name).filter(":checked").val():"number"===o&&void 0!==t.validity?t.validity.badInput?"NaN":r.val():(n=s?r.text():r.val(),"file"===o?"C:\\fakepath\\"===n.substr(0,12)?n.substr(12):(i=n.lastIndexOf("/"))>=0||(i=n.lastIndexOf("\\"))>=0?n.substr(i+1):n:"string"==typeof n?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i,r,o,s=e(t).rules(),a=e.map(s,(function(e,t){return t})).length,l=!1,c=this.elementValue(t);for(i in"function"==typeof s.normalizer?o=s.normalizer:"function"==typeof this.settings.normalizer&&(o=this.settings.normalizer),o&&(c=o.call(t,c),delete s.normalizer),s){r={method:i,parameters:s[i]};try{if("dependency-mismatch"===(n=e.validator.methods[i].call(this,c,t,r.parameters))&&1===a){l=!0;continue}if(l=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,r),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+r.method+"' method."),e}}if(!l)return this.objectLength(s)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,n){"string"==typeof n&&(n={method:n});var i=this.findDefined(this.customMessage(t.name,n.method),this.customDataMessage(t,n.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),r=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,n.parameters,t):r.test(i)&&(i=e.validator.format(i.replace(r,"{$1}"),n.parameters)),i},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t);this.errorList.push({message:n,element:e,method:t.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map((function(){return this.element}))},showLabel:function(t,n){var i,r,o,s,a=this.errorsFor(t),l=this.idOrName(t),c=e(t).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(n)):(i=a=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,e(t)):i.insertAfter(t),a.is("label")?a.attr("for",l):0===a.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(o=a.attr("id"),c?c.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(c+=" "+o):c=o,e(t).attr("aria-describedby",c),(r=this.groups[t.name])&&(s=this,e.each(s.groups,(function(t,n){n===r&&e("[name='"+s.escapeCssMeta(t)+"']",s.currentForm).attr("aria-describedby",a.attr("id"))}))))),!n&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,t)),this.toShow=this.toShow.add(a)},errorsFor:function(t){var n=this.escapeCssMeta(this.idOrName(t)),i=e(t).attr("aria-describedby"),r="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(r=r+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(r)},escapeCssMeta:function(e){return void 0===e?"":e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[s(e)]||this.dependTypes[s(e)](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,n){return!!e(t,n.form).length},function:function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),n&&0===this.pendingRequest&&this.formSubmitted&&this.form()&&0===this.pendingRequest?(e(this.currentForm).trigger("submit"),this.submitButton&&e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,n){return n="string"==typeof n&&n||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:n})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),(function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])})),n},normalizeAttributeRule:function(e,t,n,i){/min|max|step/.test(n)&&(null===t||/number|range|text/.test(t))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?e[n]=i:t===n&&"range"!==t&&(e["date"===t?"dateISO":n]=!0)},attributeRules:function(t){var n,i,r={},o=e(t),s=t.getAttribute("type");for(n in e.validator.methods)"required"===n?(""===(i=t.getAttribute(n))&&(i=!0),i=!!i):i=o.attr(n),this.normalizeAttributeRule(r,s,n,i);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(t){var n,i,r={},o=e(t),s=t.getAttribute("type");for(n in e.validator.methods)""===(i=o.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()))&&(i=!0),this.normalizeAttributeRule(r,s,n,i);return r},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,(function(i,r){if(!1!==r){if(r.param||r.depends){var o=!0;switch(s(r.depends)){case"string":o=!!e(r.depends,n.form).length;break;case"function":o=r.depends.call(n,n)}o?t[i]=void 0===r.param||r.param:(e.data(n.form,"validator").resetElements(e(n)),delete t[i])}}else delete t[i]})),e.each(t,(function(e,i){t[e]="function"==typeof i&&"normalizer"!==e?i(n):i})),e.each(["minlength","maxlength"],(function(){t[this]&&(t[this]=Number(t[this]))})),e.each(["rangelength","range"],(function(){var e;t[this]&&(Array.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(e=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(e[0]),Number(e[1])]))})),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),(function(){n[this]=!0})),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=e(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(t,n)>0:null!=t&&t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:(t=!1,function(e,n){return t||(t=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(n)||!/Invalid|NaN/.test(new Date(e).toString())}),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(e,t,n){var i=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i>=n},maxlength:function(e,t,n){var i=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i<=n},rangelength:function(e,t,n){var i=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i>=n[0]&&i<=n[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},step:function(t,n,i){var r,o=e(n).attr("type"),s="Step attribute on input type "+o+" is not supported.",a=new RegExp("\\b"+o+"\\b"),l=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},c=function(e){return Math.round(e*Math.pow(10,r))},u=!0;if(o&&!a.test(["text","number","range"].join()))throw new Error(s);return r=l(i),(l(t)>r||c(t)%c(i)!=0)&&(u=!1),this.optional(n)||u},equalTo:function(t,n,i){var r=e(i);return this.settings.onfocusout&&r.not(".validate-equalTo-blur").length&&r.addClass("validate-equalTo-blur").on("blur.validate-equalTo",(function(){e(n).valid()})),t===r.val()},remote:function(t,n,i,r){if(this.optional(n))return"dependency-mismatch";r="string"==typeof r&&r||"remote";var o,s,a,l=this.previousValue(n,r);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[n.name][r],this.settings.messages[n.name][r]=l.message,i="string"==typeof i&&{url:i}||i,a=e.param(e.extend({data:t},i.data)),l.old===a?l.valid:(l.old=a,o=this,this.startRequest(n),(s={})[n.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:s,context:o.currentForm,success:function(e){var i,s,a,c=!0===e||"true"===e;o.settings.messages[n.name][r]=l.originalMessage,c?(a=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(n),o.formSubmitted=a,o.successList.push(n),o.invalid[n.name]=!1,o.showErrors()):(i={},s=e||o.defaultMessage(n,{method:r,parameters:t}),i[n.name]=l.message=s,o.invalid[n.name]=!0,o.showErrors(i)),l.valid=c,o.stopRequest(n,c)}},i)),"pending")}}});var i,r={};return e.ajaxPrefilter?e.ajaxPrefilter((function(e,t,n){var i=e.port;"abort"===e.mode&&(r[i]&&r[i].abort(),r[i]=n)})):(i=e.ajax,e.ajax=function(t){var n=("mode"in t?t:e.ajaxSettings).mode,o=("port"in t?t:e.ajaxSettings).port;return"abort"===n?(r[o]&&r[o].abort(),r[o]=i.apply(this,arguments),r[o]):i.apply(this,arguments)}),e},void 0===(o=i.apply(t,r))||(e.exports=o)},2169:function(e,t,n){var i,r,o;r=[n(8105)],i=function(e){function t(e,t,n){e.rules[t]=n,e.message&&(e.messages[t]=e.message)}function n(e){return e.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function i(e){return e.substr(0,e.lastIndexOf(".")+1)}function r(e,t){return 0===e.indexOf("*.")&&(e=e.replace("*.",t)),e}function o(t,i){var r=e(this).find("[data-valmsg-for='"+n(i[0].name)+"']"),o=r.attr("data-valmsg-replace"),s=o?!1!==e.parseJSON(o):null;r.removeClass("field-validation-valid").addClass("field-validation-error"),t.data("unobtrusiveContainer",r),s?(r.empty(),t.removeClass("input-validation-error").appendTo(r)):t.hide()}function s(t,n){var i=e(this).find("[data-valmsg-summary=true]"),r=i.find("ul");r&&r.length&&n.errorList.length&&(r.empty(),i.addClass("validation-summary-errors").removeClass("validation-summary-valid"),e.each(n.errorList,(function(){e("<li />").html(this.message).appendTo(r)})))}function a(t){var n=t.data("unobtrusiveContainer");if(n){var i=n.attr("data-valmsg-replace"),r=i?e.parseJSON(i):null;n.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),r&&n.empty()}}function l(t){var n=e(this),i="__jquery_unobtrusive_validation_form_reset";if(!n.data(i)){n.data(i,!0);try{n.data("validator").resetForm()}finally{n.removeData(i)}n.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors"),n.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}}function c(t){var n=e(t),i=n.data(d),r=e.proxy(l,t),c=h.unobtrusive.options||{},u=function(n,i){var r=c[n];r&&e.isFunction(r)&&r.apply(t,i)};return i||(i={options:{errorClass:c.errorClass||"input-validation-error",errorElement:c.errorElement||"span",errorPlacement:function(){o.apply(t,arguments),u("errorPlacement",arguments)},invalidHandler:function(){s.apply(t,arguments),u("invalidHandler",arguments)},messages:{},rules:{},success:function(){a.apply(t,arguments),u("success",arguments)}},attachValidation:function(){n.off("reset."+d,r).on("reset."+d,r).validate(this.options)},validate:function(){return n.validate(),n.valid()}},n.data(d,i)),i}var u,h=e.validator,d="unobtrusiveValidation";return h.unobtrusive={adapters:[],parseElement:function(t,n){var i,r,o,s=e(t),a=s.parents("form")[0];a&&((i=c(a)).options.rules[t.name]=r={},i.options.messages[t.name]=o={},e.each(this.adapters,(function(){var n="data-val-"+this.name,i=s.attr(n),l={};void 0!==i&&(n+="-",e.each(this.params,(function(){l[this]=s.attr(n+this)})),this.adapt({element:t,form:a,message:i,params:l,rules:r,messages:o}))})),e.extend(r,{__dummy__:!0}),n||i.attachValidation())},parse:function(t){var n=e(t),i=n.parents().addBack().filter("form").add(n.find("form")).has("[data-val=true]");n.find("[data-val=true]").each((function(){h.unobtrusive.parseElement(this,!0)})),i.each((function(){var e=c(this);e&&e.attachValidation()}))}},(u=h.unobtrusive.adapters).add=function(e,t,n){return n||(n=t,t=[]),this.push({name:e,params:t,adapt:n}),this},u.addBool=function(e,n){return this.add(e,(function(i){t(i,n||e,!0)}))},u.addMinMax=function(e,n,i,r,o,s){return this.add(e,[o||"min",s||"max"],(function(e){var o=e.params.min,s=e.params.max;o&&s?t(e,r,[o,s]):o?t(e,n,o):s&&t(e,i,s)}))},u.addSingleVal=function(e,n,i){return this.add(e,[n||"val"],(function(r){t(r,i||e,r.params[n])}))},h.addMethod("__dummy__",(function(e,t,n){return!0})),h.addMethod("regex",(function(e,t,n){var i;return!!this.optional(t)||(i=new RegExp(n).exec(e))&&0===i.index&&i[0].length===e.length})),h.addMethod("nonalphamin",(function(e,t,n){var i;return n&&(i=(i=e.match(/\W/g))&&i.length>=n),i})),h.methods.extension?(u.addSingleVal("accept","mimtype"),u.addSingleVal("extension","extension")):u.addSingleVal("extension","extension","accept"),u.addSingleVal("regex","pattern"),u.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),u.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),u.addMinMax("minlength","minlength").addMinMax("maxlength","minlength","maxlength"),u.add("equalto",["other"],(function(o){var s=i(o.element.name),a=r(o.params.other,s);t(o,"equalTo",e(o.form).find(":input").filter("[name='"+n(a)+"']")[0])})),u.add("required",(function(e){"INPUT"===e.element.tagName.toUpperCase()&&"CHECKBOX"===e.element.type.toUpperCase()||t(e,"required",!0)})),u.add("remote",["url","type","additionalfields"],(function(o){var s={url:o.params.url,type:o.params.type||"GET",data:{}},a=i(o.element.name);e.each(function(e){return e.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}(o.params.additionalfields||o.element.name),(function(t,i){var l=r(i,a);s.data[l]=function(){var t=e(o.form).find(":input").filter("[name='"+n(l)+"']");return t.is(":checkbox")?t.filter(":checked").val()||t.filter(":hidden").val()||"":t.is(":radio")?t.filter(":checked").val()||"":t.val()}})),t(o,"remote",s)})),u.add("password",["min","nonalphamin","regex"],(function(e){e.params.min&&t(e,"minlength",e.params.min),e.params.nonalphamin&&t(e,"nonalphamin",e.params.nonalphamin),e.params.regex&&t(e,"regex",e.params.regex)})),e((function(){h.unobtrusive.parse(document)})),h.unobtrusive},void 0===(o=i.apply(t,r))||(e.exports=o)},5497:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{a:function(){return EmailShareModal}});var _util_helpers__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4828),_util_BodyScrollLock__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3843);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var EmailShareModal=function(){function EmailShareModal(e,t,n,i){_classCallCheck(this,EmailShareModal),this.module=e,this.selModule=".show-form-modal",this.selModal=".modal",this.link=t,this.url=i,this.config=this.module.dataset,this.parentElement=this.module.closest(".email-share-modal"),this.pageId=window.digitalData&&window.digitalData.data&&window.digitalData.data.pageID?window.digitalData.data.pageID:"",this.contentId=this.config.moduleid,this.bindEvents(),this.relocateToBody()}return _createClass(EmailShareModal,[{key:"open",value:function(){var e=this;this.getForm(this.url).then((function(t){var n=e.module.querySelector(".modal-body");n.innerHTML="",n.innerHTML=t,e.runScript(),e.module.classList.add("show"),e.disableBodyScroll(),e.overrideBodyBlur();var i=(0,_util_helpers__WEBPACK_IMPORTED_MODULE_0__.t3)("adobe.form.start",{context:e.url});window.dispatchEvent(i)}))}},{key:"close",value:function(){this.module.classList.remove("show"),this.enableBodyScroll(),this.removeOverrideBodyBlur(),this.module.querySelector(".modal-body").innerHTML=""}},{key:"getForm",value:function(e){return fetch(e).then((function(e){return e.text()})).then((function(e){return e})).catch((function(e){console.log("Failed to fetch page: ",e)}))}},{key:"runScript",value:function runScript(){for(var scriptTags=this.module.querySelectorAll(".modal-body script"),i=0;i<scriptTags.length;i++)eval(scriptTags[i].text)}},{key:"wireUpModules",value:function(){var e=(0,_util_helpers__WEBPACK_IMPORTED_MODULE_0__.t3)("loadJavascriptModules",{context:this.module.querySelector(".modal-body")});window.dispatchEvent(e)}},{key:"bindEvents",value:function(){var e=this;if(this.module.querySelector(".modal-close-button").addEventListener("click",(function(){e.close()})),this.module.querySelector(".modal-header").addEventListener("click",(function(){e.close()})),"true"!==this.config.preventclickclosing){var t=this.module.querySelector(".mask");t&&t.addEventListener("click",(function(t){e.close()}))}this.module.addEventListener("modal:success",(function(t){t.detail&&e.disableLink(t.detail)}))}},{key:"relocateToBody",value:function(){var e=this;"BODY"!==this.module.parentElement.nodeName&&(this.link&&this.link.classList.contains("js-modal-trigger")&&(this.link.addEventListener("click",(function(t){t.preventDefault(),e.open()})),this.link.dataset.bindId=this.contentId),document.querySelector("body").insertAdjacentElement("beforeend",this.module))}},{key:"disableLink",value:function(e){var t=document.querySelectorAll('a[data-bind-id="'.concat(e,'"]'));t&&t.forEach((function(e){e.disabled=!0,e.classList.add("disabled")}))}},{key:"overrideBodyBlur",value:function(){document.querySelector("body").classList.add("overrideBodyBlur")}},{key:"removeOverrideBodyBlur",value:function(){document.querySelector("body").classList.remove("overrideBodyBlur")}},{key:"disableBodyScroll",value:function(){(0,_util_BodyScrollLock__WEBPACK_IMPORTED_MODULE_1__.h)()}},{key:"enableBodyScroll",value:function(){(0,_util_BodyScrollLock__WEBPACK_IMPORTED_MODULE_1__.F)()}}])}()},736:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{p:function(){return ShowFormModals}});var _util_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4828),_util_BodyScrollLock__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3843);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var showFormModal=function showFormModal(url){var actionElement=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,previousFocusedElement=document.activeElement,modal=document.querySelector("[data-dynamic-form-modal]");modal&&(modal.classList.remove("show"),modal.remove());var getForm=function(e){return fetch(e).then((function(e){return e.text()})).then((function(e){return e})).catch((function(e){console.log("Failed to fetch page: ",e)}))},disableBodyScroll=function(){(0,_util_BodyScrollLock__WEBPACK_IMPORTED_MODULE_0__.h)()},enableBodyScroll=function(){(0,_util_BodyScrollLock__WEBPACK_IMPORTED_MODULE_0__.F)()};getForm(url).then((function(formMarkup){var modalMarkup='<div data-dynamic-form-modal class="show-form-modal">\n      <div class="mask"></div>\n        <div class="modal ">\n          <div class="modal-header"><button rel="modal:close" class="modal-close-button"><svg><use href="#x"></use></svg></button></div>\n          <div class="modal-body">\n            '.concat(formMarkup,"\n          </div>\n        </div>\n      </div>");document.querySelector("body").insertAdjacentHTML("beforeend",modalMarkup);var modalEl=document.querySelector("[data-dynamic-form-modal]");if(modalEl){if(null!==actionElement&&actionElement.classList.contains("aa-email-click")){var formTarget=modalEl.querySelector("form");formTarget.classList.add("aa-contact-us-from-person"),formTarget.setAttribute("data-aa-contact-us-from-person-name",actionElement.getAttribute("data-aa-email-name"))}var closeEl=modalEl.querySelector(".modal-close-button");closeEl.addEventListener("click",(function(e){e.preventDefault(),modalEl.classList.remove("show"),modalEl.remove(),previousFocusedElement&&previousFocusedElement.focus(),enableBodyScroll()}));var maskEl=modalEl.querySelector(".mask");maskEl.addEventListener("click",(function(e){e.preventDefault(),modalEl.classList.remove("show"),modalEl.remove(),previousFocusedElement&&previousFocusedElement.focus(),enableBodyScroll()}));for(var scriptTags=modalEl.querySelectorAll("form script"),i=0;i<scriptTags.length;i++)scriptTags[i]&&eval(scriptTags[i].text);modalEl.classList.add("show");var formInput=modalEl.querySelector("form input");formInput?formInput.focus():modalEl.focus(),disableBodyScroll();var event=(0,_util_helpers__WEBPACK_IMPORTED_MODULE_1__.t3)("adobe.form.start",{context:url});window.dispatchEvent(event)}}))},ShowFormModals=function(){return _createClass((function e(){var t=this;_classCallCheck(this,e),this.modals=[],document.querySelectorAll("[data-show-form-modal]").forEach((function(e){var t=e.getAttribute("data-share-url");t&&e.addEventListener("click",(function(n){n.preventDefault(),showFormModal(t,e)}))})),window.addEventListener("loadJavascriptModules",(function(e){t.handleJavaScriptLoadModuleEvents(e)})),window.bcgContactForm=function(e){showFormModal(e)}}),[{key:"handleJavaScriptLoadModuleEvents",value:function(e){if(e&&e.detail&&e.detail.context){var t=e.detail.context.querySelectorAll("[data-show-form-modal]");t.length>0&&t.forEach((function(e){var t=e.getAttribute("data-share-url");t&&e.addEventListener("click",(function(n){n.preventDefault(),showFormModal(t,e)}))}))}}}])}()},3843:function(e,t,n){"use strict";n.d(t,{F:function(){return o},h:function(){return r}});var i=n(9395);function r(e){var t;e=e||"all-screens",(t=function(){var e=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar";var t=document.createElement("div");t.style.height="1000px",e.appendChild(t),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),n}();document.documentElement.style.setProperty("--scrollbar-width","".concat(e,"px"))})(),window.addEventListener("resize",(0,i.P)(350,(function(){t()}))),document.documentElement.setAttribute("data-body-scroll-locked",e)}function o(){document.documentElement.removeAttribute("data-body-scroll-locked")}},4828:function(e,t,n){"use strict";function i(e){return new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null})}function r(e,t,n){var i;return function(){var r=this,o=arguments,s=n&&!i;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(r,o)}),t),s&&e.apply(r,o)}}function o(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent}function s(){return new Promise((function(e){var t=setInterval((function(){window._satellite&&window._satellite.getVisitorId()&&(e(window._satellite.getVisitorId().getMarketingCloudVisitorID()),clearInterval(t))}),300)}))}function a(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function l(e){var t=document.createElement("a");return t.href=e,{href:t.href,host:t.host,hostname:t.hostname,port:t.port,pathname:t.pathname,protocol:t.protocol,hash:t.hash,search:t.search}}function c(e){return new URLSearchParams(window.location.search).get(e)||""}function u(e,t){var n=new URL(window.location);n.searchParams.set(e,t),window.history.pushState({},"",n)}function h(e){return/^(?!\.)(?!.*\.\.)[A-Za-z0-9!#$%&'*+\/=?^_`.{|}~-]+(?<!\.)@([A-Za-z0-9\-]+\.)+[A-Za-z0-9\-]{2,20}$/.test(e)}function d(e){for(var t="",n=0;n<e;++n)t+="abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[Math.floor(61*Math.random())];return t}function p(e){if(e)return e.toLowerCase().startsWith("javascript:")&&(e=e.toLowerCase().replaceAll("javascript:","")),function(e){var t=window.location.host,n=["bcg",t.substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1).split(".")[0]];if(e.match(/^\/\w/)||e.match(/^~\/\w/)||e.match(/^\/\?\w/))return!0;try{for(var i=new URL(e).hostname,r=i.substring(i.lastIndexOf(".",i.lastIndexOf(".")-1)+1).split(".")[0],o=0;o<n.length;o++)if(r===n[o])return!0}catch(e){return!1}return!1}(e)||(e=window.location.origin),e}function f(e){return(new window.DOMParser).parseFromString(e,"text/html").documentElement.textContent}function m(){return window.digitalData&&window.digitalData.data&&window.digitalData.data.pageID?window.digitalData.data.pageID:""}n.d(t,{AC:function(){return l},Ds:function(){return r},Fg:function(){return o},N2:function(){return s},Nm:function(){return p},Qw:function(){return u},ak:function(){return a},ce:function(){return c},ew:function(){return m},gl:function(){return h},hJ:function(){return f},t3:function(){return i},uh:function(){return d}})},9395:function(e,t,n){"use strict";function i(e,t){if(e<=0)return t;var n,i,r=0;return function(){if(i=arguments,!n){var o=this,s=+Date.now(),a=e-s+r;a<=0?(r=s,t.apply(o,i)):n=setTimeout((function(){r=s,n=null,t.apply(o,i)}),a)}}}n.d(t,{P:function(){return i}})},3493:function(e,t,n){var i,r,o;r=[e,n(3817)],i=function(e,t){"use strict";var n,i=(n=t)&&n.__esModule?n:{default:n};var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=s},void 0===(o=i.apply(t,r))||(e.exports=o)},4987:function(e,t,n){var i,r,o;r=[e,n(3493),n(1125),n(7370)],i=function(e,t,n,i){"use strict";var r=a(t),o=a(n),s=a(i);function a(e){return e&&e.__esModule?e:{default:e}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.resolveOptions(n),i.listenClick(e),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===l(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,s.default)(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new r.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return h("action",e)}},{key:"defaultTarget",value:function(e){var t=h("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return h("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),t}(o.default);function h(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=u},void 0===(o=i.apply(t,r))||(e.exports=o)},1125:function(e){function t(){}t.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function r(){i.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var o=0,s=i.length;o<s;o++)i[o].fn!==t&&i[o].fn._!==t&&r.push(i[o]);return r.length?n[e]=r:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t},4098:function(e,t){var n="undefined"!=typeof self?self:this,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,i="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&r&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,i=p(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,n=f(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=u(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},i&&(d.prototype[Symbol.iterator]=d.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,i,r=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(i=(n=t.method||this.method||"GET").toUpperCase(),v.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];w.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(i,o){var s=new b(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function l(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;i(new w(r,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",l),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",l)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=d,e.Request=b,e.Response=w),t.Headers=d,t.Request=b,t.Response=w,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var r=i;(t=r.fetch).default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,e.exports=t},452:function(e,t,n){var i;e.exports=(i=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=i,t=e.lib.BlockCipher,n=e.algo,r=[],o=[],s=[],a=[],l=[],c=[],u=[],h=[],d=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,i=0;for(t=0;t<256;t++){var f=i^i<<1^i<<2^i<<3^i<<4;f=f>>>8^255&f^99,r[n]=f,o[f]=n;var m=e[n],g=e[m],y=e[g],v=257*e[f]^16843008*f;s[n]=v<<24|v>>>8,a[n]=v<<16|v>>>16,l[n]=v<<8|v>>>24,c[n]=v,v=16843009*y^65537*g^257*m^16843008*n,u[f]=v<<24|v>>>8,h[f]=v<<16|v>>>16,d[f]=v<<8|v>>>24,p[f]=v,n?(n=m^e[e[e[y^m]]],i^=e[e[i]]):n=i=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,i=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],s=0;s<i;s++)s<n?o[s]=t[s]:(c=o[s-1],s%n?n>6&&s%n==4&&(c=r[c>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c]):(c=r[(c=c<<8|c>>>24)>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c],c^=f[s/n|0]<<24),o[s]=o[s-n]^c);for(var a=this._invKeySchedule=[],l=0;l<i;l++){if(s=i-l,l%4)var c=o[s];else c=o[s-4];a[l]=l<4||s<=4?c:u[r[c>>>24]]^h[r[c>>>16&255]]^d[r[c>>>8&255]]^p[r[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,l,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,h,d,p,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,r,o,s,a){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],h=e[t+2]^n[2],d=e[t+3]^n[3],p=4,f=1;f<l;f++){var m=i[c>>>24]^r[u>>>16&255]^o[h>>>8&255]^s[255&d]^n[p++],g=i[u>>>24]^r[h>>>16&255]^o[d>>>8&255]^s[255&c]^n[p++],y=i[h>>>24]^r[d>>>16&255]^o[c>>>8&255]^s[255&u]^n[p++],v=i[d>>>24]^r[c>>>16&255]^o[u>>>8&255]^s[255&h]^n[p++];c=m,u=g,h=y,d=v}m=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^n[p++],g=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&c])^n[p++],y=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^n[p++],v=(a[d>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^n[p++],e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=v},keySize:8});e.AES=t._createHelper(m)}(),i.AES)},5109:function(e,t,n){var i,r,o,s,a,l,c,u,h,d,p,f,m,g,y,v,b,_,w;e.exports=(i=n(8249),n(888),void(i.lib.Cipher||(r=i,o=r.lib,s=o.Base,a=o.WordArray,l=o.BufferedBlockAlgorithm,c=r.enc,c.Utf8,u=c.Base64,h=r.algo.EvpKDF,d=o.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?w:b}return function(t){return{encrypt:function(n,i,r){return e(i).encrypt(t,n,i,r)},decrypt:function(n,i,r){return e(i).decrypt(t,n,i,r)}}}}()}),o.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),p=r.mode={},f=o.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),m=p.CBC=function(){var e=f.extend();function t(e,t,n){var i,r=this._iv;r?(i=r,this._iv=void 0):i=this._prevBlock;for(var o=0;o<n;o++)e[t+o]^=i[o]}return e.Encryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize;t.call(this,e,n,r),i.encryptBlock(e,n),this._prevBlock=e.slice(n,n+r)}}),e.Decryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize,o=e.slice(n,n+r);i.decryptBlock(e,n),t.call(this,e,n,r),this._prevBlock=o}}),e}(),g=(r.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,i=n-e.sigBytes%n,r=i<<24|i<<16|i<<8|i,o=[],s=0;s<i;s+=4)o.push(r);var l=a.create(o,i);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:m,padding:g}),reset:function(){var e;d.reset.call(this);var t=this.cfg,n=t.iv,i=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=i.createEncryptor:(e=i.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(i,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),y=o.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),v=(r.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?a.create([1398893684,1701076831]).concat(n).concat(t):t).toString(u)},parse:function(e){var t,n=u.parse(e),i=n.words;return 1398893684==i[0]&&1701076831==i[1]&&(t=a.create(i.slice(2,4)),i.splice(0,4),n.sigBytes-=16),y.create({ciphertext:n,salt:t})}},b=o.SerializableCipher=s.extend({cfg:s.extend({format:v}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i),o=r.finalize(t),s=r.cfg;return y.create({ciphertext:o,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(r.kdf={}).OpenSSL={execute:function(e,t,n,i){i||(i=a.random(8));var r=h.create({keySize:t+n}).compute(e,i),o=a.create(r.words.slice(t),4*n);return r.sigBytes=4*t,y.create({key:r,iv:o,salt:i})}},w=o.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:_}),encrypt:function(e,t,n,i){var r=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize);i.iv=r.iv;var o=b.encrypt.call(this,e,t,r.key,i);return o.mixIn(r),o},decrypt:function(e,t,n,i){i=this.cfg.extend(i),t=this._parse(t,i.format);var r=i.kdf.execute(n,e.keySize,e.ivSize,t.salt);return i.iv=r.iv,b.decrypt.call(this,e,t,r.key,i)}}))))},8249:function(e,t,n){var i;e.exports=(i=i||function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(t=globalThis.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==n.g&&n.g.crypto&&(t=n.g.crypto),!t)try{t=n(2480)}catch(e){}var i=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},s=o.lib={},a=s.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=s<<24-(i+o)%4*8}else for(var a=0;a<r;a+=4)t[i+a>>>2]=n[a>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new l.init(t,e)}}),c=o.enc={},u=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new l.init(n,t/2)}},h=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new l.init(n,t)}},d=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,i=this._data,r=i.words,o=i.sigBytes,s=this.blockSize,a=o/(4*s),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,u=e.min(4*c,o);if(c){for(var h=0;h<c;h+=s)this._doProcessBlock(r,h);n=r.splice(0,c),i.sigBytes-=u}return new l.init(n,u)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(s.Hasher=p.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),o.algo={});return o}(Math),i)},8269:function(e,t,n){var i,r,o;e.exports=(i=n(8249),o=(r=i).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var r=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)r.push(i.charAt(s>>>6*(3-a)&63));var l=i.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var r=0;r<n.length;r++)i[n.charCodeAt(r)]=r}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,n){for(var i=[],r=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;i[r>>>2]|=a<<24-r%4*8,r++}return o.create(i,r)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)},3786:function(e,t,n){var i,r,o;e.exports=(i=n(8249),o=(r=i).lib.WordArray,r.enc.Base64url={stringify:function(e,t=!0){var n=e.words,i=e.sigBytes,r=t?this._safe_map:this._map;e.clamp();for(var o=[],s=0;s<i;s+=3)for(var a=(n[s>>>2]>>>24-s%4*8&255)<<16|(n[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|n[s+2>>>2]>>>24-(s+2)%4*8&255,l=0;l<4&&s+.75*l<i;l++)o.push(r.charAt(a>>>6*(3-l)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e,t=!0){var n=e.length,i=t?this._safe_map:this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var s=0;s<i.length;s++)r[i.charCodeAt(s)]=s}var a=i.charAt(64);if(a){var l=e.indexOf(a);-1!==l&&(n=l)}return function(e,t,n){for(var i=[],r=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;i[r>>>2]|=a<<24-r%4*8,r++}return o.create(i,r)}(e,n,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},i.enc.Base64url)},298:function(e,t,n){var i;e.exports=(i=n(8249),function(){var e=i,t=e.lib.WordArray,n=e.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r+=2){var o=t[r>>>2]>>>16-r%4*8&65535;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var n=e.length,i=[],r=0;r<n;r++)i[r>>>1]|=e.charCodeAt(r)<<16-r%2*16;return t.create(i,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o+=2){var s=r(t[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(s))}return i.join("")},parse:function(e){for(var n=e.length,i=[],o=0;o<n;o++)i[o>>>1]|=r(e.charCodeAt(o)<<16-o%2*16);return t.create(i,2*n)}}}(),i.enc.Utf16)},888:function(e,t,n){var i,r,o,s,a,l,c,u;e.exports=(u=n(8249),n(2783),n(9824),o=(r=(i=u).lib).Base,s=r.WordArray,l=(a=i.algo).MD5,c=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:l,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,i=this.cfg,r=i.hasher.create(),o=s.create(),a=o.words,l=i.keySize,c=i.iterations;a.length<l;){n&&r.update(n),n=r.update(e).finalize(t),r.reset();for(var u=1;u<c;u++)n=r.finalize(n),r.reset();o.concat(n)}return o.sigBytes=4*l,o}}),i.EvpKDF=function(e,t,n){return c.create(n).compute(e,t)},u.EvpKDF)},2209:function(e,t,n){var i,r,o,s;e.exports=(s=n(8249),n(5109),r=(i=s).lib.CipherParams,o=i.enc.Hex,i.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return r.create({ciphertext:t})}},s.format.Hex)},9824:function(e,t,n){var i,r,o;e.exports=(r=(i=n(8249)).lib.Base,o=i.enc.Utf8,void(i.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),s=this._iKey=t.clone(),a=r.words,l=s.words,c=0;c<n;c++)a[c]^=1549556828,l[c]^=909522486;r.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},1354:function(e,t,n){var i;e.exports=(i=n(8249),n(4938),n(4433),n(298),n(8269),n(3786),n(8214),n(2783),n(2153),n(7792),n(34),n(7460),n(3327),n(706),n(9824),n(2112),n(888),n(5109),n(8568),n(4242),n(9968),n(7660),n(1148),n(3615),n(2807),n(1077),n(6475),n(6991),n(2209),n(452),n(4253),n(1857),n(4454),n(3974),i)},4433:function(e,t,n){var i;e.exports=(i=n(8249),function(){if("function"==typeof ArrayBuffer){var e=i.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,i=[],r=0;r<n;r++)i[r>>>2]|=e[r]<<24-r%4*8;t.call(this,i,n)}else t.apply(this,arguments)};n.prototype=e}}(),i.lib.WordArray)},8214:function(e,t,n){var i;e.exports=(i=n(8249),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,s=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=s.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,r=e[i];e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o=this._hash.words,s=e[t+0],l=e[t+1],p=e[t+2],f=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],v=e[t+7],b=e[t+8],_=e[t+9],w=e[t+10],k=e[t+11],S=e[t+12],E=e[t+13],T=e[t+14],x=e[t+15],C=o[0],P=o[1],A=o[2],O=o[3];C=c(C,P,A,O,s,7,a[0]),O=c(O,C,P,A,l,12,a[1]),A=c(A,O,C,P,p,17,a[2]),P=c(P,A,O,C,f,22,a[3]),C=c(C,P,A,O,m,7,a[4]),O=c(O,C,P,A,g,12,a[5]),A=c(A,O,C,P,y,17,a[6]),P=c(P,A,O,C,v,22,a[7]),C=c(C,P,A,O,b,7,a[8]),O=c(O,C,P,A,_,12,a[9]),A=c(A,O,C,P,w,17,a[10]),P=c(P,A,O,C,k,22,a[11]),C=c(C,P,A,O,S,7,a[12]),O=c(O,C,P,A,E,12,a[13]),A=c(A,O,C,P,T,17,a[14]),C=u(C,P=c(P,A,O,C,x,22,a[15]),A,O,l,5,a[16]),O=u(O,C,P,A,y,9,a[17]),A=u(A,O,C,P,k,14,a[18]),P=u(P,A,O,C,s,20,a[19]),C=u(C,P,A,O,g,5,a[20]),O=u(O,C,P,A,w,9,a[21]),A=u(A,O,C,P,x,14,a[22]),P=u(P,A,O,C,m,20,a[23]),C=u(C,P,A,O,_,5,a[24]),O=u(O,C,P,A,T,9,a[25]),A=u(A,O,C,P,f,14,a[26]),P=u(P,A,O,C,b,20,a[27]),C=u(C,P,A,O,E,5,a[28]),O=u(O,C,P,A,p,9,a[29]),A=u(A,O,C,P,v,14,a[30]),C=h(C,P=u(P,A,O,C,S,20,a[31]),A,O,g,4,a[32]),O=h(O,C,P,A,b,11,a[33]),A=h(A,O,C,P,k,16,a[34]),P=h(P,A,O,C,T,23,a[35]),C=h(C,P,A,O,l,4,a[36]),O=h(O,C,P,A,m,11,a[37]),A=h(A,O,C,P,v,16,a[38]),P=h(P,A,O,C,w,23,a[39]),C=h(C,P,A,O,E,4,a[40]),O=h(O,C,P,A,s,11,a[41]),A=h(A,O,C,P,f,16,a[42]),P=h(P,A,O,C,y,23,a[43]),C=h(C,P,A,O,_,4,a[44]),O=h(O,C,P,A,S,11,a[45]),A=h(A,O,C,P,x,16,a[46]),C=d(C,P=h(P,A,O,C,p,23,a[47]),A,O,s,6,a[48]),O=d(O,C,P,A,v,10,a[49]),A=d(A,O,C,P,T,15,a[50]),P=d(P,A,O,C,g,21,a[51]),C=d(C,P,A,O,S,6,a[52]),O=d(O,C,P,A,f,10,a[53]),A=d(A,O,C,P,w,15,a[54]),P=d(P,A,O,C,l,21,a[55]),C=d(C,P,A,O,b,6,a[56]),O=d(O,C,P,A,x,10,a[57]),A=d(A,O,C,P,y,15,a[58]),P=d(P,A,O,C,E,21,a[59]),C=d(C,P,A,O,m,6,a[60]),O=d(O,C,P,A,k,10,a[61]),A=d(A,O,C,P,p,15,a[62]),P=d(P,A,O,C,_,21,a[63]),o[0]=o[0]+C|0,o[1]=o[1]+P|0,o[2]=o[2]+A|0,o[3]=o[3]+O|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var o=e.floor(i/4294967296),s=i;n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,l=a.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,i,r,o,s){var a=e+(t&n|~t&i)+r+s;return(a<<o|a>>>32-o)+t}function u(e,t,n,i,r,o,s){var a=e+(t&i|n&~i)+r+s;return(a<<o|a>>>32-o)+t}function h(e,t,n,i,r,o,s){var a=e+(t^n^i)+r+s;return(a<<o|a>>>32-o)+t}function d(e,t,n,i,r,o,s){var a=e+(n^(t|~i))+r+s;return(a<<o|a>>>32-o)+t}t.MD5=o._createHelper(l),t.HmacMD5=o._createHmacHelper(l)}(Math),i.MD5)},8568:function(e,t,n){var i;e.exports=(i=n(8249),n(5109),i.mode.CFB=function(){var e=i.lib.BlockCipherMode.extend();function t(e,t,n,i){var r,o=this._iv;o?(r=o.slice(0),this._iv=void 0):r=this._prevBlock,i.encryptBlock(r,0);for(var s=0;s<n;s++)e[t+s]^=r[s]}return e.Encryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize;t.call(this,e,n,r,i),this._prevBlock=e.slice(n,n+r)}}),e.Decryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize,o=e.slice(n,n+r);t.call(this,e,n,r,i),this._prevBlock=o}}),e}(),i.mode.CFB)},9968:function(e,t,n){var i;e.exports=(i=n(8249),n(5109),i.mode.CTRGladman=function(){var e=i.lib.BlockCipherMode.extend();function t(e){if(255&~(e>>24))e+=1<<24;else{var t=e>>16&255,n=e>>8&255,i=255&e;255===t?(t=0,255===n?(n=0,255===i?i=0:++i):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=i}return e}var n=e.Encryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(s);var a=s.slice(0);i.encryptBlock(a,0);for(var l=0;l<r;l++)e[n+l]^=a[l]}});return e.Decryptor=n,e}(),i.mode.CTRGladman)},4242:function(e,t,n){var i,r,o;e.exports=(o=n(8249),n(5109),o.mode.CTR=(r=(i=o.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=this._iv,o=this._counter;r&&(o=this._counter=r.slice(0),this._iv=void 0);var s=o.slice(0);n.encryptBlock(s,0),o[i-1]=o[i-1]+1|0;for(var a=0;a<i;a++)e[t+a]^=s[a]}}),i.Decryptor=r,i),o.mode.CTR)},1148:function(e,t,n){var i,r;e.exports=(r=n(8249),n(5109),r.mode.ECB=((i=r.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),i.Decryptor=i.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),i),r.mode.ECB)},7660:function(e,t,n){var i,r,o;e.exports=(o=n(8249),n(5109),o.mode.OFB=(r=(i=o.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=this._iv,o=this._keystream;r&&(o=this._keystream=r.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var s=0;s<i;s++)e[t+s]^=o[s]}}),i.Decryptor=r,i),o.mode.OFB)},3615:function(e,t,n){var i;e.exports=(i=n(8249),n(5109),i.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,i=4*t,r=i-n%i,o=n+r-1;e.clamp(),e.words[o>>>2]|=r<<24-o%4*8,e.sigBytes+=r},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.pad.Ansix923)},2807:function(e,t,n){var i;e.exports=(i=n(8249),n(5109),i.pad.Iso10126={pad:function(e,t){var n=4*t,r=n-e.sigBytes%n;e.concat(i.lib.WordArray.random(r-1)).concat(i.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.pad.Iso10126)},1077:function(e,t,n){var i;e.exports=(i=n(8249),n(5109),i.pad.Iso97971={pad:function(e,t){e.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(e,t)},unpad:function(e){i.pad.ZeroPadding.unpad(e),e.sigBytes--}},i.pad.Iso97971)},6991:function(e,t,n){var i;e.exports=(i=n(8249),n(5109),i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding)},6475:function(e,t,n){var i;e.exports=(i=n(8249),n(5109),i.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},i.pad.ZeroPadding)},2112:function(e,t,n){var i,r,o,s,a,l,c,u,h;e.exports=(h=n(8249),n(2783),n(9824),o=(r=(i=h).lib).Base,s=r.WordArray,l=(a=i.algo).SHA1,c=a.HMAC,u=a.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:l,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=c.create(n.hasher,e),r=s.create(),o=s.create([1]),a=r.words,l=o.words,u=n.keySize,h=n.iterations;a.length<u;){var d=i.update(t).finalize(o);i.reset();for(var p=d.words,f=p.length,m=d,g=1;g<h;g++){m=i.finalize(m),i.reset();for(var y=m.words,v=0;v<f;v++)p[v]^=y[v]}r.concat(d),l[0]++}return r.sigBytes=4*u,r}}),i.PBKDF2=function(e,t,n){return u.create(n).compute(e,t)},h.PBKDF2)},3974:function(e,t,n){var i;e.exports=(i=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=i,t=e.lib.StreamCipher,n=e.algo,r=[],o=[],s=[],a=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var o=t.words,s=o[0],a=o[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;for(i[0]^=c,i[1]^=h,i[2]^=u,i[3]^=d,i[4]^=c,i[5]^=h,i[6]^=u,i[7]^=d,r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[t+i]^=r[i]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var i=e[n]+t[n],r=65535&i,a=i>>>16,l=((r*r>>>17)+r*a>>>15)+a*a,c=((4294901760&i)*i|0)+((65535&i)*i|0);s[n]=l^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.RabbitLegacy=t._createHelper(a)}(),i.RabbitLegacy)},4454:function(e,t,n){var i;e.exports=(i=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=i,t=e.lib.StreamCipher,n=e.algo,r=[],o=[],s=[],a=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)r[n]^=i[n+4&7];if(t){var o=t.words,s=o[0],a=o[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;for(r[0]^=c,r[1]^=h,r[2]^=u,r[3]^=d,r[4]^=c,r[5]^=h,r[6]^=u,r[7]^=d,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[t+i]^=r[i]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var i=e[n]+t[n],r=65535&i,a=i>>>16,l=((r*r>>>17)+r*a>>>15)+a*a,c=((4294901760&i)*i|0)+((65535&i)*i|0);s[n]=l^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.Rabbit=t._createHelper(a)}(),i.Rabbit)},1857:function(e,t,n){var i;e.exports=(i=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=i,t=e.lib.StreamCipher,n=e.algo,r=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,i=this._S=[],r=0;r<256;r++)i[r]=r;r=0;for(var o=0;r<256;r++){var s=r%n,a=t[s>>>2]>>>24-s%4*8&255;o=(o+i[r]+a)%256;var l=i[r];i[r]=i[o],i[o]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,i=0,r=0;r<4;r++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,i|=e[(e[t]+e[n])%256]<<24-8*r}return this._i=t,this._j=n,i}e.RC4=t._createHelper(r);var s=n.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});e.RC4Drop=t._createHelper(s)}(),i.RC4)},706:function(e,t,n){var i;e.exports=(i=n(8249),function(){var e=i,t=e.lib,n=t.WordArray,r=t.Hasher,o=e.algo,s=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=n.create([0,1518500249,1859775393,2400959708,2840853838]),h=n.create([1352829926,1548603684,1836072691,2053994217,0]),d=o.RIPEMD160=r.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,r=e[i];e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o,d,b,_,w,k,S,E,T,x,C,P=this._hash.words,A=u.words,O=h.words,I=s.words,L=a.words,D=l.words,R=c.words;for(k=o=P[0],S=d=P[1],E=b=P[2],T=_=P[3],x=w=P[4],n=0;n<80;n+=1)C=o+e[t+I[n]]|0,C+=n<16?p(d,b,_)+A[0]:n<32?f(d,b,_)+A[1]:n<48?m(d,b,_)+A[2]:n<64?g(d,b,_)+A[3]:y(d,b,_)+A[4],C=(C=v(C|=0,D[n]))+w|0,o=w,w=_,_=v(b,10),b=d,d=C,C=k+e[t+L[n]]|0,C+=n<16?y(S,E,T)+O[0]:n<32?g(S,E,T)+O[1]:n<48?m(S,E,T)+O[2]:n<64?f(S,E,T)+O[3]:p(S,E,T)+O[4],C=(C=v(C|=0,R[n]))+x|0,k=x,x=T,T=v(E,10),E=S,S=C;C=P[1]+b+T|0,P[1]=P[2]+_+x|0,P[2]=P[3]+w+k|0,P[3]=P[4]+o+S|0,P[4]=P[0]+d+E|0,P[0]=C},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,o=r.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return r},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function f(e,t,n){return e&t|~e&n}function m(e,t,n){return(e|~t)^n}function g(e,t,n){return e&n|t&~n}function y(e,t,n){return e^(t|~n)}function v(e,t){return e<<t|e>>>32-t}e.RIPEMD160=r._createHelper(d),e.HmacRIPEMD160=r._createHmacHelper(d)}(Math),i.RIPEMD160)},2783:function(e,t,n){var i,r,o,s,a,l,c,u;e.exports=(r=(i=u=n(8249)).lib,o=r.WordArray,s=r.Hasher,a=i.algo,l=[],c=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],c=0;c<80;c++){if(c<16)l[c]=0|e[t+c];else{var u=l[c-3]^l[c-8]^l[c-14]^l[c-16];l[c]=u<<1|u>>>31}var h=(i<<5|i>>>27)+a+l[c];h+=c<20?1518500249+(r&o|~r&s):c<40?1859775393+(r^o^s):c<60?(r&o|r&s|o&s)-1894007588:(r^o^s)-899497514,a=s,s=o,o=r<<30|r>>>2,r=i,i=h}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),i.SHA1=s._createHelper(c),i.HmacSHA1=s._createHmacHelper(c),u.SHA1)},7792:function(e,t,n){var i,r,o,s,a,l;e.exports=(l=n(8249),n(2153),r=(i=l).lib.WordArray,o=i.algo,s=o.SHA256,a=o.SHA224=s.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=4,e}}),i.SHA224=s._createHelper(a),i.HmacSHA224=s._createHmacHelper(a),l.SHA224)},2153:function(e,t,n){var i;e.exports=(i=n(8249),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,s=t.algo,a=[],l=[];!function(){function t(t){for(var n=e.sqrt(t),i=2;i<=n;i++)if(!(t%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,r=0;r<64;)t(i)&&(r<8&&(a[r]=n(e.pow(i,.5))),l[r]=n(e.pow(i,1/3)),r++),i++}();var c=[],u=s.SHA256=o.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],u=n[5],h=n[6],d=n[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var f=c[p-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,g=c[p-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[p]=m+c[p-7]+y+c[p-16]}var v=i&r^i&o^r&o,b=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),_=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&h)+l[p]+c[p];d=h,h=u,u=a,a=s+_|0,s=o,o=r,r=i,i=_+(b+v)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=e.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),i.SHA256)},3327:function(e,t,n){var i;e.exports=(i=n(8249),n(4938),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,s=t.x64.Word,a=t.algo,l=[],c=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var i=(2*e+3*t)%5;e=t%5,t=i}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var r=1,o=0;o<24;o++){for(var a=0,h=0,d=0;d<7;d++){if(1&r){var p=(1<<d)-1;p<32?h^=1<<p:a^=1<<p-32}128&r?r=r<<1^113:r<<=1}u[o]=s.create(a,h)}}();var h=[];!function(){for(var e=0;e<25;e++)h[e]=s.create()}();var d=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,i=this.blockSize/2,r=0;r<i;r++){var o=e[t+2*r],s=e[t+2*r+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(P=n[r]).high^=s,P.low^=o}for(var a=0;a<24;a++){for(var d=0;d<5;d++){for(var p=0,f=0,m=0;m<5;m++)p^=(P=n[d+5*m]).high,f^=P.low;var g=h[d];g.high=p,g.low=f}for(d=0;d<5;d++){var y=h[(d+4)%5],v=h[(d+1)%5],b=v.high,_=v.low;for(p=y.high^(b<<1|_>>>31),f=y.low^(_<<1|b>>>31),m=0;m<5;m++)(P=n[d+5*m]).high^=p,P.low^=f}for(var w=1;w<25;w++){var k=(P=n[w]).high,S=P.low,E=l[w];E<32?(p=k<<E|S>>>32-E,f=S<<E|k>>>32-E):(p=S<<E-32|k>>>64-E,f=k<<E-32|S>>>64-E);var T=h[c[w]];T.high=p,T.low=f}var x=h[0],C=n[0];for(x.high=C.high,x.low=C.low,d=0;d<5;d++)for(m=0;m<5;m++){var P=n[w=d+5*m],A=h[w],O=h[(d+1)%5+5*m],I=h[(d+2)%5+5*m];P.high=A.high^~O.high&I.high,P.low=A.low^~O.low&I.low}P=n[0];var L=u[a];P.high^=L.high,P.low^=L.low}},_doFinalize:function(){var t=this._data,n=t.words,i=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(e.ceil((i+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,l=a/8,c=[],u=0;u<l;u++){var h=s[u],d=h.high,p=h.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),c.push(p),c.push(d)}return new r.init(c,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=o._createHelper(d),t.HmacSHA3=o._createHmacHelper(d)}(Math),i.SHA3)},7460:function(e,t,n){var i,r,o,s,a,l,c,u;e.exports=(u=n(8249),n(4938),n(34),r=(i=u).x64,o=r.Word,s=r.WordArray,a=i.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var e=l._doFinalize.call(this);return e.sigBytes-=16,e}}),i.SHA384=l._createHelper(c),i.HmacSHA384=l._createHmacHelper(c),u.SHA384)},34:function(e,t,n){var i;e.exports=(i=n(8249),n(4938),function(){var e=i,t=e.lib.Hasher,n=e.x64,r=n.Word,o=n.WordArray,s=e.algo;function a(){return r.create.apply(r,arguments)}var l=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=a()}();var u=s.SHA512=t.extend({_doReset:function(){this._hash=new o.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],u=n[5],h=n[6],d=n[7],p=i.high,f=i.low,m=r.high,g=r.low,y=o.high,v=o.low,b=s.high,_=s.low,w=a.high,k=a.low,S=u.high,E=u.low,T=h.high,x=h.low,C=d.high,P=d.low,A=p,O=f,I=m,L=g,D=y,R=v,M=b,N=_,j=w,F=k,B=S,U=E,q=T,V=x,H=C,$=P,z=0;z<80;z++){var W,G,K=c[z];if(z<16)G=K.high=0|e[t+2*z],W=K.low=0|e[t+2*z+1];else{var Y=c[z-15],X=Y.high,J=Y.low,Q=(X>>>1|J<<31)^(X>>>8|J<<24)^X>>>7,Z=(J>>>1|X<<31)^(J>>>8|X<<24)^(J>>>7|X<<25),ee=c[z-2],te=ee.high,ne=ee.low,ie=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,re=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=c[z-7],se=oe.high,ae=oe.low,le=c[z-16],ce=le.high,ue=le.low;G=(G=(G=Q+se+((W=Z+ae)>>>0<Z>>>0?1:0))+ie+((W+=re)>>>0<re>>>0?1:0))+ce+((W+=ue)>>>0<ue>>>0?1:0),K.high=G,K.low=W}var he,de=j&B^~j&q,pe=F&U^~F&V,fe=A&I^A&D^I&D,me=O&L^O&R^L&R,ge=(A>>>28|O<<4)^(A<<30|O>>>2)^(A<<25|O>>>7),ye=(O>>>28|A<<4)^(O<<30|A>>>2)^(O<<25|A>>>7),ve=(j>>>14|F<<18)^(j>>>18|F<<14)^(j<<23|F>>>9),be=(F>>>14|j<<18)^(F>>>18|j<<14)^(F<<23|j>>>9),_e=l[z],we=_e.high,ke=_e.low,Se=H+ve+((he=$+be)>>>0<$>>>0?1:0),Ee=ye+me;H=q,$=V,q=B,V=U,B=j,U=F,j=M+(Se=(Se=(Se=Se+de+((he+=pe)>>>0<pe>>>0?1:0))+we+((he+=ke)>>>0<ke>>>0?1:0))+G+((he+=W)>>>0<W>>>0?1:0))+((F=N+he|0)>>>0<N>>>0?1:0)|0,M=D,N=R,D=I,R=L,I=A,L=O,A=Se+(ge+fe+(Ee>>>0<ye>>>0?1:0))+((O=he+Ee|0)>>>0<he>>>0?1:0)|0}f=i.low=f+O,i.high=p+A+(f>>>0<O>>>0?1:0),g=r.low=g+L,r.high=m+I+(g>>>0<L>>>0?1:0),v=o.low=v+R,o.high=y+D+(v>>>0<R>>>0?1:0),_=s.low=_+N,s.high=b+M+(_>>>0<N>>>0?1:0),k=a.low=k+F,a.high=w+j+(k>>>0<F>>>0?1:0),E=u.low=E+U,u.high=S+B+(E>>>0<U>>>0?1:0),x=h.low=x+V,h.high=T+q+(x>>>0<V>>>0?1:0),P=d.low=P+$,d.high=C+H+(P>>>0<$>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(i+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),i.SHA512)},4253:function(e,t,n){var i;e.exports=(i=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=i,t=e.lib,n=t.WordArray,r=t.BlockCipher,o=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var i=s[n]-1;t[n]=e[i>>>5]>>>31-i%32&1}for(var r=this._subKeys=[],o=0;o<16;o++){var c=r[o]=[],u=l[o];for(n=0;n<24;n++)c[n/6|0]|=t[(a[n]-1+u)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(a[n+24]-1+u)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var h=this._invSubKeys=[];for(n=0;n<16;n++)h[n]=r[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),d.call(this,1,1431655765);for(var i=0;i<16;i++){for(var r=n[i],o=this._lBlock,s=this._rBlock,a=0,l=0;l<8;l++)a|=c[l][((s^r[l])&u[l])>>>0];this._lBlock=s,this._rBlock=o^a}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,d.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function p(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=r._createHelper(h);var f=o.TripleDES=r.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),i=e.length<4?e.slice(0,2):e.slice(2,4),r=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=h.createEncryptor(n.create(t)),this._des2=h.createEncryptor(n.create(i)),this._des3=h.createEncryptor(n.create(r))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=r._createHelper(f)}(),i.TripleDES)},4938:function(e,t,n){var i,r,o,s,a,l;e.exports=(i=n(8249),o=(r=i).lib,s=o.Base,a=o.WordArray,(l=r.x64={}).Word=s.extend({init:function(e,t){this.high=e,this.low=t}}),l.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],i=0;i<t;i++){var r=e[i];n.push(r.high),n.push(r.low)}return a.create(n,this.sigBytes)},clone:function(){for(var e=s.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}}),i)},2828:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},9438:function(e,t,n){var i=n(2828);function r(e,t,n,i,r){var s=o.apply(this,arguments);return e.addEventListener(n,s,r),{destroy:function(){e.removeEventListener(n,s,r)}}}function o(e,t,n,r){return function(n){n.delegateTarget=i(n.target,t),n.delegateTarget&&r.call(e,n)}}e.exports=function(e,t,n,i,o){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return r(e,t,n,i,o)})))}},9741:function(e,t,n){var i,r;!function(o,s){"use strict";void 0===(r="function"==typeof(i=s)?i.call(t,n,t,e):i)||(e.exports=r)}(window,(function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(t,n){return t[e](n)}}))},7158:function(e,t,n){var i,r;"undefined"!=typeof window&&window,void 0===(r="function"==typeof(i=function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],r=0;r<n.length;r++){var o=n[r];i&&i[o]&&(this.off(e,o),delete i[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?i.call(t,n,t,e):i)||(e.exports=r)},9047:function(e){var t,n;t=this,n=function(e){let t={extend:function(e,t){return Object.assign(e,t)},modulo:function(e,t){return(e%t+t)%t},makeArray:function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?[...e]:[e]},removeFrom:function(e,t){let n=e.indexOf(t);-1!=n&&e.splice(n,1)},getParent:function(e,t){for(;e.parentNode&&e!=document.body;)if((e=e.parentNode).matches(t))return e},getQueryElement:function(e){return"string"==typeof e?document.querySelector(e):e},handleEvent:function(e){let t="on"+e.type;this[t]&&this[t](e)},filterFindElements:function(e,n){return(e=t.makeArray(e)).filter((e=>e instanceof HTMLElement)).reduce(((e,t)=>{if(!n)return e.push(t),e;t.matches(n)&&e.push(t);let i=t.querySelectorAll(n);return e.concat(...i)}),[])},debounceMethod:function(e,t,n){n=n||100;let i=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){clearTimeout(this[r]);let e=arguments;this[r]=setTimeout((()=>{i.apply(this,e),delete this[r]}),n)}},docReady:function(e){let t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},toDashed:function(e){return e.replace(/(.)([A-Z])/g,(function(e,t,n){return t+"-"+n})).toLowerCase()}},n=e.console;return t.htmlInit=function(i,r){t.docReady((function(){let o="data-"+t.toDashed(r),s=document.querySelectorAll(`[${o}]`),a=e.jQuery;[...s].forEach((e=>{let t,s=e.getAttribute(o);try{t=s&&JSON.parse(s)}catch(t){return void(n&&n.error(`Error parsing ${o} on ${e.className}: ${t}`))}let l=new i(e,t);a&&a.data(e,r,l)}))}))},t},e.exports?e.exports=n(t):t.fizzyUIUtils=n(t)},1105:function(e,t,n){var i,r;window,i=[n(4367),n(7564)],void 0===(r=function(e,t){return function(e,t,n){"use strict";t.createMethods.push("_createImagesLoaded");var i=t.prototype;return i._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},i.imagesLoaded=function(){if(this.options.imagesLoaded){var e=this;n(this.slider).on("progress",(function(t,n){var i=e.getParentCell(n.img);e.cellSizeChange(i&&i.element),e.options.freeScroll||e.positionSliderAtSelected()}))}},t}(0,e,t)}.apply(t,i))||(e.exports=r)},6603:function(e,t,n){var i,r;!function(o){i=[n(9741)],r=function(e){return function(e,t){"use strict";var n={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},i=Array.prototype.slice;n.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?i.call(e):[e]},n.removeFrom=function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},n.getParent=function(e,n){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,n))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,i){e=n.makeArray(e);var r=[];return e.forEach((function(e){if(e instanceof HTMLElement)if(i){t(e,i)&&r.push(e);for(var n=e.querySelectorAll(i),o=0;o<n.length;o++)r.push(n[o])}else r.push(e)})),r},n.debounceMethod=function(e,t,n){n=n||100;var i=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r];clearTimeout(e);var t=arguments,o=this;this[r]=setTimeout((function(){i.apply(o,t),delete o[r]}),n)}},n.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,(function(e,t,n){return t+"-"+n})).toLowerCase()};var r=e.console;return n.htmlInit=function(t,i){n.docReady((function(){var o=n.toDashed(i),s="data-"+o,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+o),c=n.makeArray(a).concat(n.makeArray(l)),u=s+"-options",h=e.jQuery;c.forEach((function(e){var n,o=e.getAttribute(s)||e.getAttribute(u);try{n=o&&JSON.parse(o)}catch(t){return void(r&&r.error("Error parsing "+s+" on "+e.className+": "+t))}var a=new t(e,n);h&&h.data(e,i,a)}))}))},n}(o,e)}.apply(t,i),void 0===r||(e.exports=r)}(window)},8517:function(e,t,n){var i,r;window,i=[n(8437),n(6603)],void 0===(r=function(e,t){return function(e,t,n){"use strict";var i=t.prototype;return i.insert=function(e,t){var n=this._makeCells(e);if(n&&n.length){var i=this.cells.length;t=void 0===t?i:t;var r=function(e){var t=document.createDocumentFragment();return e.forEach((function(e){t.appendChild(e.element)})),t}(n),o=t==i;if(o)this.slider.appendChild(r);else{var s=this.cells[t].element;this.slider.insertBefore(r,s)}if(0===t)this.cells=n.concat(this.cells);else if(o)this.cells=this.cells.concat(n);else{var a=this.cells.splice(t,i-t);this.cells=this.cells.concat(n).concat(a)}this._sizeCells(n),this.cellChange(t,!0)}},i.append=function(e){this.insert(e,this.cells.length)},i.prepend=function(e){this.insert(e,0)},i.remove=function(e){var t=this.getCells(e);if(t&&t.length){var i=this.cells.length-1;t.forEach((function(e){e.remove();var t=this.cells.indexOf(e);i=Math.min(t,i),n.removeFrom(this.cells,e)}),this),this.cellChange(i,!0)}},i.cellSizeChange=function(e){var t=this.getCell(e);if(t){t.getSize();var n=this.cells.indexOf(t);this.cellChange(n)}},i.cellChange=function(e,t){var n=this.selectedElement;this._positionCells(e),this._getWrapShiftCells(),this.setGallerySize();var i=this.getCell(n);i&&(this.selectedIndex=this.getCellSlideIndex(i)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[e]),this.select(this.selectedIndex),t&&this.positionSliderAtSelected()},t}(0,e,t)}.apply(t,i))||(e.exports=r)},8696:function(e,t,n){var i,r;window,i=[n(6603)],void 0===(r=function(e){return function(e,t){"use strict";return{startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var e=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(e),this.isAnimating){var t=this;requestAnimationFrame((function(){t.animate()}))}},positionSlider:function(){var e=this.x;this.options.wrapAround&&this.cells.length>1&&(e=t.modulo(e,this.slideableWidth),e-=this.slideableWidth,this.shiftWrapCells(e)),this.setTranslateX(e,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(e,t){e+=this.cursorPosition,e=this.options.rightToLeft?-e:e;var n=this.getPositionValue(e);this.slider.style.transform=t?"translate3d("+n+",0,0)":"translateX("+n+")"},dispatchScrollEvent:function(){var e=this.slides[0];if(e){var t=-this.x-e.target,n=t/this.slidesWidth;this.dispatchEvent("scroll",null,[n,t])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(e){return this.options.percentPosition?.01*Math.round(e/this.size.innerWidth*1e4)+"%":Math.round(e)+"px"},settle:function(e){!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*e)&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(e){var t=this.cursorPosition+e;this._shiftCells(this.beforeShiftCells,t,-1);var n=this.size.innerWidth-(e+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,n,1)},_shiftCells:function(e,t,n){for(var i=0;i<e.length;i++){var r=e[i],o=t>0?n:0;r.wrapShift(o),t-=r.size.outerWidth}},_unshiftCells:function(e){if(e&&e.length)for(var t=0;t<e.length;t++)e[t].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(e){this.velocity+=e},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var e=this.dragX-this.x-this.velocity;this.applyForce(e)}},applySelectedAttraction:function(){if((!this.isDraggable||!this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var e=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(e)}}}}(0,e)}.apply(t,i))||(e.exports=r)},2994:function(e,t,n){var i,r;window,i=[n(6414)],void 0===(r=function(e){return function(e,t){"use strict";function n(e,t){this.element=e,this.parent=t,this.create()}var i=n.prototype;return i.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0,this.element.style[this.parent.originSide]=0},i.destroy=function(){this.unselect(),this.element.style.position="";var e=this.parent.originSide;this.element.style[e]="",this.element.style.transform="",this.element.removeAttribute("aria-hidden")},i.getSize=function(){this.size=t(this.element)},i.setPosition=function(e){this.x=e,this.updateTarget(),this.renderPosition(e)},i.updateTarget=i.setDefaultTarget=function(){var e="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[e]+this.size.width*this.parent.cellAlign},i.renderPosition=function(e){var t="left"===this.parent.originSide?1:-1,n=this.parent.options.percentPosition?e*t*(this.parent.size.innerWidth/this.size.width):e*t;this.element.style.transform="translateX("+this.parent.getPositionValue(n)+")"},i.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},i.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},i.wrapShift=function(e){this.shift=e,this.renderPosition(this.x+this.parent.slideableWidth*e)},i.remove=function(){this.element.parentNode.removeChild(this.element)},n}(0,e)}.apply(t,i))||(e.exports=r)},486:function(e,t,n){var i,r;!function(o){i=[n(8437),n(4282),n(6603)],r=function(e,t,n){return function(e,t,n,i){"use strict";i.extend(t.defaults,{draggable:">1",dragThreshold:3}),t.createMethods.push("_createDrag");var r=t.prototype;i.extend(r,n.prototype),r._touchActionValue="pan-y",r._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable)},r.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},r.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},r.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},r.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},r.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},r._uiChangeDrag=function(){delete this.isFreeScrolling},r.pointerDown=function(t,n){this.isDraggable?this.okayPointerDown(t)&&(this._pointerDownPreventDefault(t),this.pointerDownFocus(t),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=s(),e.addEventListener("scroll",this),this._pointerDownDefault(t,n)):this._pointerDownDefault(t,n)},r._pointerDownDefault=function(e,t){this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},this._bindPostStartEvents(e),this.dispatchEvent("pointerDown",e,[t])};var o={INPUT:!0,TEXTAREA:!0,SELECT:!0};function s(){return{x:e.pageXOffset,y:e.pageYOffset}}return r.pointerDownFocus=function(e){o[e.target.nodeName]||this.focus()},r._pointerDownPreventDefault=function(e){var t="touchstart"==e.type,n="touch"==e.pointerType,i=o[e.target.nodeName];t||n||i||e.preventDefault()},r.hasDragStarted=function(e){return Math.abs(e.x)>this.options.dragThreshold},r.pointerUp=function(e,t){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",e,[t]),this._dragPointerUp(e,t)},r.pointerDone=function(){e.removeEventListener("scroll",this),delete this.pointerDownScroll},r.dragStart=function(t,n){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),e.removeEventListener("scroll",this),this.dispatchEvent("dragStart",t,[n]))},r.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,n]),this._dragMove(e,t,n)},r.dragMove=function(e,t,n){if(this.isDraggable){e.preventDefault(),this.previousDragX=this.dragX;var i=this.options.rightToLeft?-1:1;this.options.wrapAround&&(n.x%=this.slideableWidth);var r=this.dragStartPosition+n.x*i;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);r=r>o?.5*(r+o):r;var s=Math.min(-this.getLastSlide().target,this.dragStartPosition);r=r<s?.5*(r+s):r}this.dragX=r,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",e,[t,n])}},r.dragEnd=function(e,t){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var n=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var i=this.getRestingPosition();this.isFreeScrolling=-i>this.slides[0].target&&-i<this.getLastSlide().target}else this.options.freeScroll||n!=this.selectedIndex||(n+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(n),delete this.isDragSelect,this.dispatchEvent("dragEnd",e,[t])}},r.dragEndRestingSelect=function(){var e=this.getRestingPosition(),t=Math.abs(this.getSlideDistance(-e,this.selectedIndex)),n=this._getClosestResting(e,t,1),i=this._getClosestResting(e,t,-1);return n.distance<i.distance?n.index:i.index},r._getClosestResting=function(e,t,n){for(var i=this.selectedIndex,r=1/0,o=this.options.contain&&!this.options.wrapAround?function(e,t){return e<=t}:function(e,t){return e<t};o(t,r)&&(i+=n,r=t,null!==(t=this.getSlideDistance(-e,i)));)t=Math.abs(t);return{distance:r,index:i-n}},r.getSlideDistance=function(e,t){var n=this.slides.length,r=this.options.wrapAround&&n>1,o=r?i.modulo(t,n):t,s=this.slides[o];if(!s)return null;var a=r?this.slideableWidth*Math.floor(t/n):0;return e-(s.target+a)},r.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var e=this.getSlideDistance(-this.dragX,this.selectedIndex),t=this.previousDragX-this.dragX;return e>0&&t>0?1:e<0&&t<0?-1:0},r.staticClick=function(e,t){var n=this.getParentCell(e.target),i=n&&n.element,r=n&&this.cells.indexOf(n);this.dispatchEvent("staticClick",e,[t,i,r])},r.onscroll=function(){var e=s(),t=this.pointerDownScroll.x-e.x,n=this.pointerDownScroll.y-e.y;(Math.abs(t)>3||Math.abs(n)>3)&&this._pointerDone()},t}(o,e,t,n)}.apply(t,i),void 0===r||(e.exports=r)}(window)},8437:function(e,t,n){var i,r;!function(o){i=[n(7158),n(6414),n(6603),n(2994),n(8318),n(8696)],r=function(e,t,n,i,r,s){return function(e,t,n,i,r,o,s){"use strict";var a=e.jQuery,l=e.getComputedStyle,c=e.console;function u(e,t){for(e=i.makeArray(e);e.length;)t.appendChild(e.shift())}var h=0,d={};function p(e,t){var n=i.getQueryElement(e);if(n){if(this.element=n,this.element.flickityGUID){var r=d[this.element.flickityGUID];return r&&r.option(t),r}a&&(this.$element=a(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(t),this._create()}else c&&c.error("Bad element for Flickity: "+(n||e))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var f=p.prototype;i.extend(f,t.prototype),f._create=function(){var t=this.guid=++h;for(var n in this.element.flickityGUID=t,d[t]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&e.addEventListener("resize",this),this.options.on){var i=this.options.on[n];this.on(n,i)}p.createMethods.forEach((function(e){this[e]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},f.option=function(e){i.extend(this.options,e)},f.activate=function(){this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),u(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},f._createSlider=function(){var e=document.createElement("div");e.className="flickity-slider",e.style[this.originSide]=0,this.slider=e},f._filterFindCellElements=function(e){return i.filterFindElements(e,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f._makeCells=function(e){return this._filterFindCellElements(e).map((function(e){return new r(e,this)}),this)},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(e){e=e||0,this.maxCellHeight=e&&this.maxCellHeight||0;var t=0;if(e>0){var n=this.cells[e-1];t=n.x+n.size.outerWidth}for(var i=this.cells.length,r=e;r<i;r++){var o=this.cells[r];o.setPosition(t),t+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=t,this.updateSlides(),this._containSlides(),this.slidesWidth=i?this.getLastSlide().target-this.slides[0].target:0},f._sizeCells=function(e){e.forEach((function(e){e.getSize()}))},f.updateSlides=function(){if(this.slides=[],this.cells.length){var e=new o(this);this.slides.push(e);var t="left"==this.originSide?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach((function(i,r){if(e.cells.length){var s=e.outerWidth-e.firstMargin+(i.size.outerWidth-i.size[t]);n.call(this,r,s)||(e.updateTarget(),e=new o(this),this.slides.push(e)),e.addCell(i)}else e.addCell(i)}),this),e.updateTarget(),this.updateSelectedSlide()}},f._getCanCellFit=function(){var e=this.options.groupCells;if(!e)return function(){return!1};if("number"==typeof e){var t=parseInt(e,10);return function(e){return e%t!=0}}var n="string"==typeof e&&e.match(/^(\d+)%$/),i=n?parseInt(n[1],10)/100:1;return function(e,t){return t<=(this.size.innerWidth+1)*i}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=n(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return f.setCellAlign=function(){var e=m[this.options.cellAlign];this.cellAlign=e?e[this.originSide]:this.options.cellAlign},f.setGallerySize=function(){if(this.options.setGallerySize){var e=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=e+"px"}},f._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var e=this.cursorPosition,t=this.cells.length-1;this.beforeShiftCells=this._getGapCells(e,t,-1),e=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(e,0,1)}},f._getGapCells=function(e,t,n){for(var i=[];e>0;){var r=this.cells[t];if(!r)break;i.push(r),t+=n,e-=r.size.outerWidth}return i},f._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var e=this.options.rightToLeft,t=e?"marginRight":"marginLeft",n=e?"marginLeft":"marginRight",i=this.slideableWidth-this.getLastCell().size[n],r=i<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[t],s=i-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(e){r?e.target=i*this.cellAlign:(e.target=Math.max(e.target,o),e.target=Math.min(e.target,s))}),this)}},f.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;if(this.emitEvent(e,i),a&&this.$element){var r=e+=this.options.namespaceJQueryEvents?".flickity":"";if(t){var o=new a.Event(t);o.type=e,r=o}this.$element.trigger(r,n)}},f.select=function(e,t,n){if(this.isActive&&(e=parseInt(e,10),this._wrapSelect(e),(this.options.wrapAround||t)&&(e=i.modulo(e,this.slides.length)),this.slides[e])){var r=this.selectedIndex;this.selectedIndex=e,this.updateSelectedSlide(),n?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[e]),e!=r&&this.dispatchEvent("change",null,[e]),this.dispatchEvent("cellSelect")}},f._wrapSelect=function(e){var t=this.slides.length;if(!(this.options.wrapAround&&t>1))return e;var n=i.modulo(e,t),r=Math.abs(n-this.selectedIndex),o=Math.abs(n+t-this.selectedIndex),s=Math.abs(n-t-this.selectedIndex);!this.isDragSelect&&o<r?e+=t:!this.isDragSelect&&s<r&&(e-=t),e<0?this.x-=this.slideableWidth:e>=t&&(this.x+=this.slideableWidth)},f.previous=function(e,t){this.select(this.selectedIndex-1,e,t)},f.next=function(e,t){this.select(this.selectedIndex+1,e,t)},f.updateSelectedSlide=function(){var e=this.slides[this.selectedIndex];e&&(this.unselectSelectedSlide(),this.selectedSlide=e,e.select(),this.selectedCells=e.cells,this.selectedElements=e.getCellElements(),this.selectedCell=e.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectInitialIndex=function(){var e=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(e&&"string"==typeof e&&this.queryCell(e))return void this.selectCell(e,!1,!0);var t=0;e&&this.slides[e]&&(t=e),this.select(t,!1,!0)}},f.selectCell=function(e,t,n){var i=this.queryCell(e);if(i){var r=this.getCellSlideIndex(i);this.select(r,t,n)}},f.getCellSlideIndex=function(e){for(var t=0;t<this.slides.length;t++)if(-1!=this.slides[t].cells.indexOf(e))return t},f.getCell=function(e){for(var t=0;t<this.cells.length;t++){var n=this.cells[t];if(n.element==e)return n}},f.getCells=function(e){e=i.makeArray(e);var t=[];return e.forEach((function(e){var n=this.getCell(e);n&&t.push(n)}),this),t},f.getCellElements=function(){return this.cells.map((function(e){return e.element}))},f.getParentCell=function(e){return this.getCell(e)||(e=i.getParent(e,".flickity-slider > *"),this.getCell(e))},f.getAdjacentCellElements=function(e,t){if(!e)return this.selectedSlide.getCellElements();t=void 0===t?this.selectedIndex:t;var n=this.slides.length;if(1+2*e>=n)return this.getCellElements();for(var r=[],o=t-e;o<=t+e;o++){var s=this.options.wrapAround?i.modulo(o,n):o,a=this.slides[s];a&&(r=r.concat(a.getCellElements()))}return r},f.queryCell=function(e){if("number"==typeof e)return this.cells[e];if("string"==typeof e){if(e.match(/^[#.]?[\d/]/))return;e=this.element.querySelector(e)}return this.getCell(e)},f.uiChange=function(){this.emitEvent("uiChange")},f.childUIPointerDown=function(e){"touchstart"!=e.type&&e.preventDefault(),this.focus()},f.onresize=function(){this.watchCSS(),this.resize()},i.debounceMethod(p,"onresize",150),f.resize=function(){if(this.isActive&&!this.isAnimating&&!this.isDragging){this.getSize(),this.options.wrapAround&&(this.x=i.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var e=this.selectedElements&&this.selectedElements[0];this.selectCell(e,!1,!0)}},f.watchCSS=function(){this.options.watchCSS&&(-1!=l(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},f.onkeydown=function(e){var t=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!t){var n=p.keyboardHandlers[e.keyCode];n&&n.call(this)}},p.keyboardHandlers={37:function(){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()},39:function(){var e=this.options.rightToLeft?"previous":"next";this.uiChange(),this[e]()}},f.focus=function(){var t=e.pageYOffset;this.element.focus({preventScroll:!0}),e.pageYOffset!=t&&e.scrollTo(e.pageXOffset,t)},f.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(e){e.destroy()})),this.element.removeChild(this.viewport),u(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),e.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),a&&this.$element&&a.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete d[this.guid]},i.extend(f,s),p.data=function(e){var t=(e=i.getQueryElement(e))&&e.flickityGUID;return t&&d[t]},i.htmlInit(p,"flickity"),a&&a.bridget&&a.bridget("flickity",p),p.setJQuery=function(e){a=e},p.Cell=r,p.Slide=o,p}(o,e,t,n,i,r,s)}.apply(t,i),void 0===r||(e.exports=r)}(window)},4367:function(e,t,n){var i,r,o;window,r=[n(8437),n(486),n(9354),n(3181),n(8675),n(8517),n(6074)],void 0===(o="function"==typeof(i=function(e){return e})?i.apply(t,r):i)||(e.exports=o)},6074:function(e,t,n){var i,r;window,i=[n(8437),n(6603)],void 0===(r=function(e,t){return function(e,t,n){"use strict";t.createMethods.push("_createLazyload");var i=t.prototype;function r(e,t){this.img=e,this.flickity=t,this.load()}return i._createLazyload=function(){this.on("select",this.lazyLoad)},i.lazyLoad=function(){var e=this.options.lazyLoad;if(e){var t="number"==typeof e?e:0,i=this.getAdjacentCellElements(t),o=[];i.forEach((function(e){var t=function(e){if("IMG"==e.nodeName){var t=e.getAttribute("data-flickity-lazyload"),i=e.getAttribute("data-flickity-lazyload-src"),r=e.getAttribute("data-flickity-lazyload-srcset");if(t||i||r)return[e]}var o=e.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return n.makeArray(o)}(e);o=o.concat(t)})),o.forEach((function(e){new r(e,this)}),this)}},r.prototype.handleEvent=n.handleEvent,r.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var e=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),t=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=e,t&&this.img.setAttribute("srcset",t),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},r.prototype.onload=function(e){this.complete(e,"flickity-lazyloaded")},r.prototype.onerror=function(e){this.complete(e,"flickity-lazyerror")},r.prototype.complete=function(e,t){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var n=this.flickity.getParentCell(this.img),i=n&&n.element;this.flickity.cellSizeChange(i),this.img.classList.add(t),this.flickity.dispatchEvent("lazyLoad",e,i)},t.LazyLoader=r,t}(0,e,t)}.apply(t,i))||(e.exports=r)},3181:function(e,t,n){var i,r;window,i=[n(8437),n(4704),n(6603)],void 0===(r=function(e,t,n){return function(e,t,n,i){"use strict";function r(e){this.parent=e,this._create()}r.prototype=Object.create(n.prototype),r.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},r.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},r.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},r.prototype.setDots=function(){var e=this.parent.slides.length-this.dots.length;e>0?this.addDots(e):e<0&&this.removeDots(-e)},r.prototype.addDots=function(e){for(var t=document.createDocumentFragment(),n=[],i=this.dots.length,r=i+e,o=i;o<r;o++){var s=document.createElement("li");s.className="dot",s.setAttribute("aria-label","Page dot "+(o+1)),t.appendChild(s),n.push(s)}this.holder.appendChild(t),this.dots=this.dots.concat(n)},r.prototype.removeDots=function(e){this.dots.splice(this.dots.length-e,e).forEach((function(e){this.holder.removeChild(e)}),this)},r.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},r.prototype.onTap=r.prototype.onClick=function(e){var t=e.target;if("LI"==t.nodeName){this.parent.uiChange();var n=this.dots.indexOf(t);this.parent.select(n)}},r.prototype.destroy=function(){this.deactivate(),this.allOff()},t.PageDots=r,i.extend(t.defaults,{pageDots:!0}),t.createMethods.push("_createPageDots");var o=t.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new r(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},t.PageDots=r,t}(0,e,t,n)}.apply(t,i))||(e.exports=r)},8675:function(e,t,n){var i,r;window,i=[n(7158),n(6603),n(8437)],void 0===(r=function(e,t,n){return function(e,t,n){"use strict";function i(e){this.parent=e,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}i.prototype=Object.create(e.prototype),i.prototype.play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},i.prototype.tick=function(){if("playing"==this.state){var e=this.parent.options.autoPlay;e="number"==typeof e?e:3e3;var t=this;this.clear(),this.timeout=setTimeout((function(){t.parent.next(!0),t.tick()}),e)}},i.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},i.prototype.clear=function(){clearTimeout(this.timeout)},i.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},i.prototype.unpause=function(){"paused"==this.state&&this.play()},i.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},i.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},t.extend(n.defaults,{pauseAutoPlayOnHover:!0}),n.createMethods.push("_createPlayer");var r=n.prototype;return r._createPlayer=function(){this.player=new i(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},r.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},r.playPlayer=function(){this.player.play()},r.stopPlayer=function(){this.player.stop()},r.pausePlayer=function(){this.player.pause()},r.unpausePlayer=function(){this.player.unpause()},r.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},r.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},r.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},n.Player=i,n}(e,t,n)}.apply(t,i))||(e.exports=r)},9354:function(e,t,n){var i,r;window,i=[n(8437),n(4704),n(6603)],void 0===(r=function(e,t,n){return function(e,t,n,i){"use strict";var r="http://www.w3.org/2000/svg";function o(e,t){this.direction=e,this.parent=t,this._create()}o.prototype=Object.create(n.prototype),o.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var e=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==e;var t=this.element=document.createElement("button");t.className="flickity-button flickity-prev-next-button",t.className+=this.isPrevious?" previous":" next",t.setAttribute("type","button"),this.disable(),t.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var n=this.createSVG();t.appendChild(n),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var e=document.createElementNS(r,"svg");e.setAttribute("class","flickity-button-icon"),e.setAttribute("viewBox","0 0 100 100");var t,n=document.createElementNS(r,"path"),i="string"==typeof(t=this.parent.options.arrowShape)?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z";return n.setAttribute("d",i),n.setAttribute("class","arrow"),this.isLeft||n.setAttribute("transform","translate(100, 100) rotate(180) "),e.appendChild(n),e},o.prototype.handleEvent=i.handleEvent,o.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var e=this.isPrevious?"previous":"next";this.parent[e]()}},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var e=this.parent.slides;if(this.parent.options.wrapAround&&e.length>1)this.enable();else{var t=e.length?e.length-1:0,n=this.isPrevious?0:t;this[this.parent.selectedIndex==n?"disable":"enable"]()}},o.prototype.destroy=function(){this.deactivate(),this.allOff()},i.extend(t.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),t.createMethods.push("_createPrevNextButtons");var s=t.prototype;return s._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},s.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},s.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},t.PrevNextButton=o,t}(0,e,t,n)}.apply(t,i))||(e.exports=r)},8318:function(e,t,n){var i,r;window,void 0===(r="function"==typeof(i=function(){"use strict";function e(e){this.parent=e,this.isOriginLeft="left"==e.originSide,this.cells=[],this.outerWidth=0,this.height=0}var t=e.prototype;return t.addCell=function(e){if(this.cells.push(e),this.outerWidth+=e.size.outerWidth,this.height=Math.max(e.size.outerHeight,this.height),1==this.cells.length){this.x=e.x;var t=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=e.size[t]}},t.updateTarget=function(){var e=this.isOriginLeft?"marginRight":"marginLeft",t=this.getLastCell(),n=t?t.size[e]:0,i=this.outerWidth-(this.firstMargin+n);this.target=this.x+this.firstMargin+i*this.parent.cellAlign},t.getLastCell=function(){return this.cells[this.cells.length-1]},t.select=function(){this.cells.forEach((function(e){e.select()}))},t.unselect=function(){this.cells.forEach((function(e){e.unselect()}))},t.getCellElements=function(){return this.cells.map((function(e){return e.element}))},e})?i.call(t,n,t,e):i)||(e.exports=r)},6414:function(e,t,n){var i,r;window,void 0===(r="function"==typeof(i=function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],i=n.length;function r(e){var n=getComputedStyle(e);return n||t("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var o,s=!1;function a(t){if(function(){if(!s){s=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(t);var i=r(t);o=200==Math.round(e(i.width)),a.isBoxSizeOuter=o,n.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var l=r(t);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<i;t++)e[n[t]]=0;return e}();var c={};c.width=t.offsetWidth,c.height=t.offsetHeight;for(var u=c.isBorderBox="border-box"==l.boxSizing,h=0;h<i;h++){var d=n[h],p=l[d],f=parseFloat(p);c[d]=isNaN(f)?0:f}var m=c.paddingLeft+c.paddingRight,g=c.paddingTop+c.paddingBottom,y=c.marginLeft+c.marginRight,v=c.marginTop+c.marginBottom,b=c.borderLeftWidth+c.borderRightWidth,_=c.borderTopWidth+c.borderBottomWidth,w=u&&o,k=e(l.width);!1!==k&&(c.width=k+(w?0:m+b));var S=e(l.height);return!1!==S&&(c.height=S+(w?0:g+_)),c.innerWidth=c.width-(m+b),c.innerHeight=c.height-(g+_),c.outerWidth=c.width+y,c.outerHeight=c.height+v,c}}return a})?i.call(t,n,t,e):i)||(e.exports=r)},4282:function(e,t,n){var i,r;!function(o){i=[n(4704)],r=function(e){return function(e,t){"use strict";function n(){}var i=n.prototype=Object.create(t.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)},i._bindHandles=function(t){for(var n=(t=void 0===t||t)?"addEventListener":"removeEventListener",i=t?this._touchActionValue:"",r=0;r<this.handles.length;r++){var o=this.handles[r];this._bindStartEvent(o,t),o[n]("click",this),e.PointerEvent&&(o.style.touchAction=i)}},i._touchActionValue="none",i.pointerDown=function(e,t){this.okayPointerDown(e)&&(this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},e.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t]))};var r={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return i.okayPointerDown=function(e){var t=r[e.target.nodeName],n=o[e.target.type],i=!t||n;return i||this._pointerReset(),i},i.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},i.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},i._dragPointerMove=function(e,t){var n={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this._dragStart(e,t),n},i.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},i.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},i._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},i._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},i.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},i._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},i.dragMove=function(e,t,n){e.preventDefault(),this.emitEvent("dragMove",[e,t,n])},i._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},i.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},i.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},i._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},i.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},n.getPointerPoint=t.getPointerPoint,n}(o,e)}.apply(t,i),void 0===r||(e.exports=r)}(window)},3597:function(e,t,n){!function(t,i){e.exports?e.exports=i(n(6680),n(9047)):i(t.Flickity,t.fizzyUIUtils)}("undefined"!=typeof window?window:this,(function(e,t){let n=e.prototype;return n.insert=function(e,t){let n=this._makeCells(e);if(!n||!n.length)return;let i=this.cells.length;t=void 0===t?i:t;let r=function(e){let t=document.createDocumentFragment();return e.forEach((e=>t.appendChild(e.element))),t}(n),o=t===i;if(o)this.slider.appendChild(r);else{let e=this.cells[t].element;this.slider.insertBefore(r,e)}if(0===t)this.cells=n.concat(this.cells);else if(o)this.cells=this.cells.concat(n);else{let e=this.cells.splice(t,i-t);this.cells=this.cells.concat(n).concat(e)}this._sizeCells(n),this.cellChange(t),this.positionSliderAtSelected()},n.append=function(e){this.insert(e,this.cells.length)},n.prepend=function(e){this.insert(e,0)},n.remove=function(e){let n=this.getCells(e);if(!n||!n.length)return;let i=this.cells.length-1;n.forEach((e=>{e.remove();let n=this.cells.indexOf(e);i=Math.min(n,i),t.removeFrom(this.cells,e)})),this.cellChange(i),this.positionSliderAtSelected()},n.cellSizeChange=function(e){let t=this.getCell(e);if(!t)return;t.getSize();let n=this.cells.indexOf(t);this.cellChange(n)},n.cellChange=function(e){let t=this.selectedElement;this._positionCells(e),this._updateWrapShiftCells(),this.setGallerySize();let n=this.getCell(t);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[e]),this.select(this.selectedIndex)},e}))},7880:function(e,t,n){!function(t,i){e.exports?e.exports=i(n(9047)):(t.Flickity=t.Flickity||{},t.Flickity.animatePrototype=i(t.fizzyUIUtils))}("undefined"!=typeof window?window:this,(function(e){return{startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();let e=this.x;this.integratePhysics(),this.positionSlider(),this.settle(e),this.isAnimating&&requestAnimationFrame((()=>this.animate()))},positionSlider:function(){let t=this.x;this.isWrapping&&(t=e.modulo(t,this.slideableWidth)-this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(e,t){e+=this.cursorPosition,this.options.rightToLeft&&(e=-e);let n=this.getPositionValue(e);this.slider.style.transform=t?`translate3d(${n},0,0)`:`translateX(${n})`},dispatchScrollEvent:function(){let e=this.slides[0];if(!e)return;let t=-this.x-e.target,n=t/this.slidesWidth;this.dispatchEvent("scroll",null,[n,t])},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(e){return this.options.percentPosition?.01*Math.round(e/this.size.innerWidth*1e4)+"%":Math.round(e)+"px"},settle:function(e){!this.isPointerDown&&Math.round(100*this.x)===Math.round(100*e)&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(e){let t=this.cursorPosition+e;this._shiftCells(this.beforeShiftCells,t,-1);let n=this.size.innerWidth-(e+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,n,1)},_shiftCells:function(e,t,n){e.forEach((e=>{let i=t>0?n:0;this._wrapShiftCell(e,i),t-=e.size.outerWidth}))},_unshiftCells:function(e){e&&e.length&&e.forEach((e=>this._wrapShiftCell(e,0)))},_wrapShiftCell:function(e,t){this._renderCellPosition(e,e.x+this.slideableWidth*t)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(e){this.velocity+=e},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(!this.isDraggable||!this.isPointerDown)return;let e=this.dragX-this.x-this.velocity;this.applyForce(e)},applySelectedAttraction:function(){if(this.isDraggable&&this.isPointerDown||this.isFreeScrolling||!this.slides.length)return;let e=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(e)}}}))},7229:function(e,t,n){!function(t,i){e.exports?e.exports=i(n(6131)):(t.Flickity=t.Flickity||{},t.Flickity.Cell=i(t.getSize))}("undefined"!=typeof window?window:this,(function(e){const t="flickity-cell";function n(e){this.element=e,this.element.classList.add(t),this.x=0,this.unselect()}let i=n.prototype;return i.destroy=function(){this.unselect(),this.element.classList.remove(t),this.element.style.transform="",this.element.removeAttribute("aria-hidden")},i.getSize=function(){this.size=e(this.element)},i.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},i.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},i.remove=function(){this.element.remove()},n}))},6680:function(e,t,n){!function(t,i){if(e.exports)e.exports=i(t,n(7424),n(6131),n(9047),n(7229),n(9714),n(7880));else{let e=t.Flickity;t.Flickity=i(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,e.Cell,e.Slide,e.animatePrototype)}}("undefined"!=typeof window?window:this,(function(e,t,n,i,r,o,s){const{getComputedStyle:a,console:l}=e;let{jQuery:c}=e,u=0,h={};function d(e,t){let n=i.getQueryElement(e);if(n){if(this.element=n,this.element.flickityGUID){let e=h[this.element.flickityGUID];return e&&e.option(t),e}c&&(this.$element=c(this.element)),this.options={...this.constructor.defaults},this.option(t),this._create()}else l&&l.error(`Bad element for Flickity: ${n||e}`)}d.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},d.create={};let p=d.prototype;Object.assign(p,t.prototype),p._create=function(){let{resize:t,watchCSS:n,rightToLeft:i}=this.options,r=this.guid=++u;this.element.flickityGUID=r,h[r]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.beginMargin=i?"marginRight":"marginLeft",this.endMargin=i?"marginLeft":"marginRight",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),this.focusableElems=[this.element],(t||n)&&e.addEventListener("resize",this);for(let e in this.options.on){let t=this.options.on[e];this.on(e,t)}for(let e in d.create)d.create[e].call(this);n?this.watchCSS():this.activate()},p.option=function(e){Object.assign(this.options,e)},p.activate=function(){if(this.isActive)return;this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();let e=this._filterFindCellElements(this.element.children);this.slider.append(...e),this.viewport.append(this.slider),this.element.append(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready")},p._createSlider=function(){let e=document.createElement("div");e.className="flickity-slider",this.slider=e},p._filterFindCellElements=function(e){return i.filterFindElements(e,this.options.cellSelector)},p.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._updateWrapShiftCells(),this.setGallerySize()},p._makeCells=function(e){return this._filterFindCellElements(e).map((e=>new r(e)))},p.getLastCell=function(){return this.cells[this.cells.length-1]},p.getLastSlide=function(){return this.slides[this.slides.length-1]},p.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},p._positionCells=function(e){e=e||0,this.maxCellHeight=e&&this.maxCellHeight||0;let t=0;if(e>0){let n=this.cells[e-1];t=n.x+n.size.outerWidth}this.cells.slice(e).forEach((e=>{e.x=t,this._renderCellPosition(e,t),t+=e.size.outerWidth,this.maxCellHeight=Math.max(e.size.outerHeight,this.maxCellHeight)})),this.slideableWidth=t,this.updateSlides(),this._containSlides(),this.slidesWidth=this.cells.length?this.getLastSlide().target-this.slides[0].target:0},p._renderCellPosition=function(e,t){let n=t*(this.options.rightToLeft?-1:1);this.options.percentPosition&&(n*=this.size.innerWidth/e.size.width);let i=this.getPositionValue(n);e.element.style.transform=`translateX( ${i} )`},p._sizeCells=function(e){e.forEach((e=>e.getSize()))},p.updateSlides=function(){if(this.slides=[],!this.cells.length)return;let{beginMargin:e,endMargin:t}=this,n=new o(e,t,this.cellAlign);this.slides.push(n);let i=this._getCanCellFit();this.cells.forEach(((r,s)=>{if(!n.cells.length)return void n.addCell(r);let a=n.outerWidth-n.firstMargin+(r.size.outerWidth-r.size[t]);i(s,a)||(n.updateTarget(),n=new o(e,t,this.cellAlign),this.slides.push(n)),n.addCell(r)})),n.updateTarget(),this.updateSelectedSlide()},p._getCanCellFit=function(){let{groupCells:e}=this.options;if(!e)return()=>!1;if("number"==typeof e){let t=parseInt(e,10);return e=>e%t!=0}let t=1,n="string"==typeof e&&e.match(/^(\d+)%$/);n&&(t=parseInt(n[1],10)/100);let i=(this.size.innerWidth+1)*t;return(e,t)=>t<=i},p._init=p.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},p.getSize=function(){this.size=n(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};let f={left:0,center:.5,right:1};p.setCellAlign=function(){let{cellAlign:e,rightToLeft:t}=this.options,n=f[e];this.cellAlign=void 0!==n?n:e,t&&(this.cellAlign=1-this.cellAlign)},p.setGallerySize=function(){if(!this.options.setGallerySize)return;let e=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=`${e}px`},p._updateWrapShiftCells=function(){if(this.isWrapping=this.getIsWrapping(),!this.isWrapping)return;this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);let e=this.cursorPosition,t=this.cells.length-1;this.beforeShiftCells=this._getGapCells(e,t,-1);let n=this.size.innerWidth-this.cursorPosition;this.afterShiftCells=this._getGapCells(n,0,1)},p.getIsWrapping=function(){let{wrapAround:e}=this.options;if(!e||this.slides.length<2)return!1;if("fill"!==e)return!0;let t=this.slideableWidth-this.size.innerWidth;if(t>this.size.innerWidth)return!0;for(let e of this.cells)if(e.size.outerWidth>t)return!1;return!0},p._getGapCells=function(e,t,n){let i=[];for(;e>0;){let r=this.cells[t];if(!r)break;i.push(r),t+=n,e-=r.size.outerWidth}return i},p._containSlides=function(){if(!this.options.contain||this.isWrapping||!this.cells.length)return;let e=this.slideableWidth-this.getLastCell().size[this.endMargin];if(e<this.size.innerWidth)this.slides.forEach((t=>{t.target=e*this.cellAlign}));else{let t=this.cursorPosition+this.cells[0].size[this.beginMargin],n=e-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((e=>{e.target=Math.max(e.target,t),e.target=Math.min(e.target,n)}))}},p.dispatchEvent=function(e,t,n){let i=t?[t].concat(n):n;if(this.emitEvent(e,i),c&&this.$element){let i=e+=this.options.namespaceJQueryEvents?".flickity":"";if(t){let n=new c.Event(t);n.type=e,i=n}this.$element.trigger(i,n)}};const m=["dragStart","dragMove","dragEnd","pointerDown","pointerMove","pointerEnd","staticClick"];let g=p.emitEvent;p.emitEvent=function(e,t){if("staticClick"===e){let e=this.getParentCell(t[0].target),n=e&&e.element,i=e&&this.cells.indexOf(e);t=t.concat(n,i)}if(g.call(this,e,t),!m.includes(e)||!c||!this.$element)return;e+=this.options.namespaceJQueryEvents?".flickity":"";let n=t.shift(0),i=new c.Event(n);i.type=e,this.$element.trigger(i,t)},p.select=function(e,t,n){if(!this.isActive)return;if(e=parseInt(e,10),this._wrapSelect(e),(this.isWrapping||t)&&(e=i.modulo(e,this.slides.length)),!this.slides[e])return;let r=this.selectedIndex;this.selectedIndex=e,this.updateSelectedSlide(),n?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[e]),e!==r&&this.dispatchEvent("change",null,[e])},p._wrapSelect=function(e){if(!this.isWrapping)return;const{selectedIndex:t,slideableWidth:n,slides:{length:r}}=this;if(!this.isDragSelect){let n=i.modulo(e,r),o=Math.abs(n-t),s=Math.abs(n+r-t),a=Math.abs(n-r-t);s<o?e+=r:a<o&&(e-=r)}e<0?this.x-=n:e>=r&&(this.x+=n)},p.previous=function(e,t){this.select(this.selectedIndex-1,e,t)},p.next=function(e,t){this.select(this.selectedIndex+1,e,t)},p.updateSelectedSlide=function(){let e=this.slides[this.selectedIndex];e&&(this.unselectSelectedSlide(),this.selectedSlide=e,e.select(),this.selectedCells=e.cells,this.selectedElements=e.getCellElements(),this.selectedCell=e.cells[0],this.selectedElement=this.selectedElements[0])},p.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},p.selectInitialIndex=function(){let e=this.options.initialIndex;if(this.isInitActivated)return void this.select(this.selectedIndex,!1,!0);if(e&&"string"==typeof e&&this.queryCell(e))return void this.selectCell(e,!1,!0);let t=0;e&&this.slides[e]&&(t=e),this.select(t,!1,!0)},p.selectCell=function(e,t,n){let i=this.queryCell(e);if(!i)return;let r=this.getCellSlideIndex(i);this.select(r,t,n)},p.getCellSlideIndex=function(e){let t=this.slides.find((t=>t.cells.includes(e)));return this.slides.indexOf(t)},p.getCell=function(e){for(let t of this.cells)if(t.element===e)return t},p.getCells=function(e){return(e=i.makeArray(e)).map((e=>this.getCell(e))).filter(Boolean)},p.getCellElements=function(){return this.cells.map((e=>e.element))},p.getParentCell=function(e){let t=this.getCell(e);if(t)return t;let n=e.closest(".flickity-slider > *");return this.getCell(n)},p.getAdjacentCellElements=function(e,t){if(!e)return this.selectedSlide.getCellElements();t=void 0===t?this.selectedIndex:t;let n=this.slides.length;if(1+2*e>=n)return this.getCellElements();let r=[];for(let o=t-e;o<=t+e;o++){let e=this.isWrapping?i.modulo(o,n):o,t=this.slides[e];t&&(r=r.concat(t.getCellElements()))}return r},p.queryCell=function(e){return"number"==typeof e?this.cells[e]:("string"==typeof e&&!e.match(/^[#.]?[\d/]/)&&(e=this.element.querySelector(e)),this.getCell(e))},p.uiChange=function(){this.emitEvent("uiChange")},p.onresize=function(){this.watchCSS(),this.resize()},i.debounceMethod(d,"onresize",150),p.resize=function(){if(!this.isActive||this.isAnimating||this.isDragging)return;this.getSize(),this.isWrapping&&(this.x=i.modulo(this.x,this.slideableWidth)),this.positionCells(),this._updateWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");let e=this.selectedElements&&this.selectedElements[0];this.selectCell(e,!1,!0)},p.watchCSS=function(){this.options.watchCSS&&(a(this.element,":after").content.includes("flickity")?this.activate():this.deactivate())},p.onkeydown=function(e){let{activeElement:t}=document,n=d.keyboardHandlers[e.key];this.options.accessibility&&t&&n&&this.focusableElems.some((e=>t===e))&&n.call(this)},d.keyboardHandlers={ArrowLeft:function(){this.uiChange(),this[this.options.rightToLeft?"next":"previous"]()},ArrowRight:function(){this.uiChange(),this[this.options.rightToLeft?"previous":"next"]()}},p.focus=function(){this.element.focus({preventScroll:!0})},p.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((e=>e.destroy())),this.viewport.remove(),this.element.append(...this.slider.children),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},p.destroy=function(){this.deactivate(),e.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),c&&this.$element&&c.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete h[this.guid]},Object.assign(p,s),d.data=function(e){if(e=i.getQueryElement(e))return h[e.flickityGUID]},i.htmlInit(d,"flickity");let{jQueryBridget:y}=e;return c&&y&&y("flickity",d,c),d.setJQuery=function(e){c=e},d.Cell=r,d.Slide=o,d}))},9690:function(e,t,n){!function(t,i){e.exports?e.exports=i(t,n(6680),n(4842),n(9047)):t.Flickity=i(t,t.Flickity,t.Unidragger,t.fizzyUIUtils)}("undefined"!=typeof window?window:this,(function(e,t,n,i){Object.assign(t.defaults,{draggable:">1",dragThreshold:3});let r=t.prototype;function o(){return{x:e.pageXOffset,y:e.pageYOffset}}return Object.assign(r,n.prototype),r.touchActionValue="",t.create.drag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),this.on("pointerDown",this.handlePointerDown),this.on("pointerUp",this.handlePointerUp),this.on("pointerDown",this.handlePointerDone),this.on("dragStart",this.handleDragStart),this.on("dragMove",this.handleDragMove),this.on("dragEnd",this.handleDragEnd),this.on("staticClick",this.handleStaticClick)},r.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},r.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},r.updateDraggable=function(){">1"===this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.element.classList.toggle("is-draggable",this.isDraggable)},r._uiChangeDrag=function(){delete this.isFreeScrolling},r.handlePointerDown=function(t){if(!this.isDraggable)return void this.bindActivePointerEvents(t);let n="touchstart"===t.type,i="touch"===t.pointerType,r=t.target.matches("input, textarea, select");n||i||r||t.preventDefault(),r||this.focus(),document.activeElement!==this.element&&document.activeElement.blur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=o(),e.addEventListener("scroll",this),this.bindActivePointerEvents(t)},r.hasDragStarted=function(e){return Math.abs(e.x)>this.options.dragThreshold},r.handlePointerUp=function(){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down")},r.handlePointerDone=function(){e.removeEventListener("scroll",this),delete this.pointerDownScroll},r.handleDragStart=function(){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),e.removeEventListener("scroll",this))},r.handleDragMove=function(e,t,n){if(!this.isDraggable)return;e.preventDefault(),this.previousDragX=this.dragX;let i=this.options.rightToLeft?-1:1;this.isWrapping&&(n.x%=this.slideableWidth);let r=this.dragStartPosition+n.x*i;if(!this.isWrapping){let e=Math.max(-this.slides[0].target,this.dragStartPosition);r=r>e?.5*(r+e):r;let t=Math.min(-this.getLastSlide().target,this.dragStartPosition);r=r<t?.5*(r+t):r}this.dragX=r,this.dragMoveTime=new Date},r.handleDragEnd=function(){if(!this.isDraggable)return;let{freeScroll:e}=this.options;e&&(this.isFreeScrolling=!0);let t=this.dragEndRestingSelect();if(e&&!this.isWrapping){let e=this.getRestingPosition();this.isFreeScrolling=-e>this.slides[0].target&&-e<this.getLastSlide().target}else e||t!==this.selectedIndex||(t+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.isWrapping,this.select(t),delete this.isDragSelect},r.dragEndRestingSelect=function(){let e=this.getRestingPosition(),t=Math.abs(this.getSlideDistance(-e,this.selectedIndex)),n=this._getClosestResting(e,t,1),i=this._getClosestResting(e,t,-1);return n.distance<i.distance?n.index:i.index},r._getClosestResting=function(e,t,n){let i=this.selectedIndex,r=1/0,o=this.options.contain&&!this.isWrapping?(e,t)=>e<=t:(e,t)=>e<t;for(;o(t,r)&&(i+=n,r=t,null!==(t=this.getSlideDistance(-e,i)));)t=Math.abs(t);return{distance:r,index:i-n}},r.getSlideDistance=function(e,t){let n=this.slides.length,r=this.options.wrapAround&&n>1,o=r?i.modulo(t,n):t,s=this.slides[o];if(!s)return null;let a=r?this.slideableWidth*Math.floor(t/n):0;return e-(s.target+a)},r.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;let e=this.getSlideDistance(-this.dragX,this.selectedIndex),t=this.previousDragX-this.dragX;return e>0&&t>0?1:e<0&&t<0?-1:0},r.onscroll=function(){let e=o(),t=this.pointerDownScroll.x-e.x,n=this.pointerDownScroll.y-e.y;(Math.abs(t)>3||Math.abs(n)>3)&&this.pointerDone()},t}))},2835:function(e,t,n){!function(t,i){e.exports?e.exports=i(n(6680),n(8175)):i(t.Flickity,t.imagesLoaded)}("undefined"!=typeof window?window:this,(function(e,t){return e.create.imagesLoaded=function(){this.on("activate",this.imagesLoaded)},e.prototype.imagesLoaded=function(){this.options.imagesLoaded&&t(this.slider).on("progress",((e,t)=>{let n=this.getParentCell(t.img);this.cellSizeChange(n&&n.element),this.options.freeScroll||this.positionSliderAtSelected()}))},e}))},2442:function(e,t,n){if(e.exports){const t=n(6680);n(9690),n(2410),n(7573),n(8516),n(3597),n(7227),n(2835),e.exports=t}},7227:function(e,t,n){!function(t,i){e.exports?e.exports=i(n(6680),n(9047)):i(t.Flickity,t.fizzyUIUtils)}("undefined"!=typeof window?window:this,(function(e,t){const n="data-flickity-lazyload",i=`${n}-src`,r=`${n}-srcset`,o=`img[${n}], img[${i}], img[${r}], source[${r}]`;e.create.lazyLoad=function(){this.on("select",this.lazyLoad),this.handleLazyLoadComplete=this.onLazyLoadComplete.bind(this)};let s=e.prototype;function a(e){if(e.matches("img")){let t=e.getAttribute(n),o=e.getAttribute(i),s=e.getAttribute(r);if(t||o||s)return e}return[...e.querySelectorAll(o)]}function l(e,t){this.img=e,this.onComplete=t,this.load()}return s.lazyLoad=function(){let{lazyLoad:e}=this.options;if(!e)return;let t="number"==typeof e?e:0;this.getAdjacentCellElements(t).map(a).flat().forEach((e=>new l(e,this.handleLazyLoadComplete)))},s.onLazyLoadComplete=function(e,t){let n=this.getParentCell(e),i=n&&n.element;this.cellSizeChange(i),this.dispatchEvent("lazyLoad",t,i)},l.prototype.handleEvent=t.handleEvent,l.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);let e=this.img.getAttribute(n)||this.img.getAttribute(i),t=this.img.getAttribute(r);this.img.src=e,t&&this.img.setAttribute("srcset",t),this.img.removeAttribute(n),this.img.removeAttribute(i),this.img.removeAttribute(r)},l.prototype.onload=function(e){this.complete(e,"flickity-lazyloaded")},l.prototype.onerror=function(e){this.complete(e,"flickity-lazyerror")},l.prototype.complete=function(e,t){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this),(this.img.parentNode.matches("picture")?this.img.parentNode:this.img).classList.add(t),this.onComplete(this.img,e)},e.LazyLoader=l,e}))},7573:function(e,t,n){!function(t,i){e.exports?e.exports=i(n(6680),n(9047)):i(t.Flickity,t.fizzyUIUtils)}("undefined"!=typeof window?window:this,(function(e,t){function n(){this.holder=document.createElement("div"),this.holder.className="flickity-page-dots",this.dots=[]}n.prototype.setDots=function(e){let t=e-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},n.prototype.addDots=function(e){let t=new Array(e).fill().map(((e,t)=>{let n=document.createElement("button");n.setAttribute("type","button");let i=t+1+this.dots.length;return n.className="flickity-page-dot",n.textContent=`View slide ${i}`,n}));this.holder.append(...t),this.dots=this.dots.concat(t)},n.prototype.removeDots=function(e){this.dots.splice(this.dots.length-e,e).forEach((e=>e.remove()))},n.prototype.updateSelected=function(e){this.selectedDot&&(this.selectedDot.classList.remove("is-selected"),this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[e],this.selectedDot.classList.add("is-selected"),this.selectedDot.setAttribute("aria-current","step"))},e.PageDots=n,Object.assign(e.defaults,{pageDots:!0}),e.create.pageDots=function(){this.options.pageDots&&(this.pageDots=new n,this.handlePageDotsClick=this.onPageDotsClick.bind(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))};let i=e.prototype;return i.activatePageDots=function(){this.pageDots.setDots(this.slides.length),this.focusableElems.push(...this.pageDots.dots),this.pageDots.holder.addEventListener("click",this.handlePageDotsClick),this.element.append(this.pageDots.holder)},i.onPageDotsClick=function(e){let t=this.pageDots.dots.indexOf(e.target);-1!==t&&(this.uiChange(),this.select(t))},i.updateSelectedPageDots=function(){this.pageDots.updateSelected(this.selectedIndex)},i.updatePageDots=function(){this.pageDots.dots.forEach((e=>{t.removeFrom(this.focusableElems,e)})),this.pageDots.setDots(this.slides.length),this.focusableElems.push(...this.pageDots.dots)},i.deactivatePageDots=function(){this.pageDots.holder.remove(),this.pageDots.holder.removeEventListener("click",this.handlePageDotsClick)},e.PageDots=n,e}))},8516:function(e,t,n){!function(t,i){e.exports?e.exports=i(n(6680)):i(t.Flickity)}("undefined"!=typeof window?window:this,(function(e){function t(e,t){this.autoPlay=e,this.onTick=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}t.prototype.play=function(){"playing"!==this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},t.prototype.tick=function(){if("playing"!==this.state)return;let e="number"==typeof this.autoPlay?this.autoPlay:3e3;this.clear(),this.timeout=setTimeout((()=>{this.onTick(),this.tick()}),e)},t.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},t.prototype.clear=function(){clearTimeout(this.timeout)},t.prototype.pause=function(){"playing"===this.state&&(this.state="paused",this.clear())},t.prototype.unpause=function(){"paused"===this.state&&this.play()},t.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},t.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},Object.assign(e.defaults,{pauseAutoPlayOnHover:!0}),e.create.player=function(){this.player=new t(this.options.autoPlay,(()=>{this.next(!0)})),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)};let n=e.prototype;return n.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},n.playPlayer=function(){this.player.play()},n.stopPlayer=function(){this.player.stop()},n.pausePlayer=function(){this.player.pause()},n.unpausePlayer=function(){this.player.unpause()},n.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},n.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},n.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},e.Player=t,e}))},2410:function(e,t,n){!function(t,i){e.exports?e.exports=i(n(6680)):i(t.Flickity)}("undefined"!=typeof window?window:this,(function(e){const t="http://www.w3.org/2000/svg";function n(e,t,n){this.increment=e,this.direction=t,this.isPrevious="previous"===e,this.isLeft="left"===t,this._create(n)}n.prototype._create=function(e){let t=this.element=document.createElement("button");t.className=`flickity-button flickity-prev-next-button ${this.increment}`;let n=this.isPrevious?"Previous":"Next";t.setAttribute("type","button"),t.setAttribute("aria-label",n),this.disable();let i=this.createSVG(n,e);t.append(i)},n.prototype.createSVG=function(e,n){let i=document.createElementNS(t,"svg");i.setAttribute("class","flickity-button-icon"),i.setAttribute("viewBox","0 0 100 100");let r=document.createElementNS(t,"title");r.append(e);let o=document.createElementNS(t,"path"),s=function(e){if("string"==typeof e)return e;let{x0:t,x1:n,x2:i,x3:r,y1:o,y2:s}=e;return`M ${t}, 50\n    L ${n}, ${o+50}\n    L ${i}, ${s+50}\n    L ${r}, 50\n    L ${i}, ${50-s}\n    L ${n}, ${50-o}\n    Z`}(n);return o.setAttribute("d",s),o.setAttribute("class","arrow"),this.isLeft||o.setAttribute("transform","translate(100, 100) rotate(180)"),i.append(r,o),i},n.prototype.enable=function(){this.element.removeAttribute("disabled")},n.prototype.disable=function(){this.element.setAttribute("disabled",!0)},Object.assign(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.create.prevNextButtons=function(){if(!this.options.prevNextButtons)return;let{rightToLeft:e,arrowShape:t}=this.options,i=e?"right":"left",r=e?"left":"right";this.prevButton=new n("previous",i,t),this.nextButton=new n("next",r,t),this.focusableElems.push(this.prevButton.element),this.focusableElems.push(this.nextButton.element),this.handlePrevButtonClick=()=>{this.uiChange(),this.previous()},this.handleNextButtonClick=()=>{this.uiChange(),this.next()},this.on("activate",this.activatePrevNextButtons),this.on("select",this.updatePrevNextButtons)};let i=e.prototype;return i.updatePrevNextButtons=function(){let e=this.slides.length?this.slides.length-1:0;this.updatePrevNextButton(this.prevButton,0),this.updatePrevNextButton(this.nextButton,e)},i.updatePrevNextButton=function(e,t){if(this.isWrapping&&this.slides.length>1)return void e.enable();let n=this.selectedIndex!==t;e[n?"enable":"disable"](),!n&&document.activeElement===e.element&&this.focus()},i.activatePrevNextButtons=function(){this.prevButton.element.addEventListener("click",this.handlePrevButtonClick),this.nextButton.element.addEventListener("click",this.handleNextButtonClick),this.element.append(this.prevButton.element,this.nextButton.element),this.on("deactivate",this.deactivatePrevNextButtons)},i.deactivatePrevNextButtons=function(){this.prevButton.element.remove(),this.nextButton.element.remove(),this.prevButton.element.removeEventListener("click",this.handlePrevButtonClick),this.nextButton.element.removeEventListener("click",this.handleNextButtonClick),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=n,e}))},9714:function(e){!function(t,n){e.exports?e.exports=n():(t.Flickity=t.Flickity||{},t.Flickity.Slide=n())}("undefined"!=typeof window?window:this,(function(){function e(e,t,n){this.beginMargin=e,this.endMargin=t,this.cellAlign=n,this.cells=[],this.outerWidth=0,this.height=0}let t=e.prototype;return t.addCell=function(e){this.cells.push(e),this.outerWidth+=e.size.outerWidth,this.height=Math.max(e.size.outerHeight,this.height),1===this.cells.length&&(this.x=e.x,this.firstMargin=e.size[this.beginMargin])},t.updateTarget=function(){let e=this.getLastCell(),t=e?e.size[this.endMargin]:0,n=this.outerWidth-(this.firstMargin+t);this.target=this.x+this.firstMargin+n*this.cellAlign},t.getLastCell=function(){return this.cells[this.cells.length-1]},t.select=function(){this.cells.forEach((e=>e.select()))},t.unselect=function(){this.cells.forEach((e=>e.unselect()))},t.getCellElements=function(){return this.cells.map((e=>e.element))},e}))},7424:function(e){var t,n;t="undefined"!=typeof window?window:this,n=function(){function e(){}let t=e.prototype;return t.on=function(e,t){if(!e||!t)return this;let n=this._events=this._events||{},i=n[e]=n[e]||[];return i.includes(t)||i.push(t),this},t.once=function(e,t){if(!e||!t)return this;this.on(e,t);let n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this},t.off=function(e,t){let n=this._events&&this._events[e];if(!n||!n.length)return this;let i=n.indexOf(t);return-1!=i&&n.splice(i,1),this},t.emitEvent=function(e,t){let n=this._events&&this._events[e];if(!n||!n.length)return this;n=n.slice(0),t=t||[];let i=this._onceEvents&&this._onceEvents[e];for(let r of n)i&&i[r]&&(this.off(e,r),delete i[r]),r.apply(this,t);return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e},e.exports?e.exports=n():t.EvEmitter=n()},8175:function(e,t,n){!function(t,i){e.exports?e.exports=i(t,n(7424)):t.imagesLoaded=i(t,t.EvEmitter)}("undefined"!=typeof window?window:this,(function(e,t){let n=e.jQuery,i=e.console;function r(e,t,o){if(!(this instanceof r))return new r(e,t,o);let s=e;var a;"string"==typeof e&&(s=document.querySelectorAll(e)),s?(this.elements=(a=s,Array.isArray(a)?a:"object"==typeof a&&"number"==typeof a.length?[...a]:[a]),this.options={},"function"==typeof t?o=t:Object.assign(this.options,t),o&&this.on("always",o),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):i.error(`Bad element for imagesLoaded ${s||e}`)}r.prototype=Object.create(t.prototype),r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const o=[1,9,11];r.prototype.addElementImages=function(e){"IMG"===e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);let{nodeType:t}=e;if(!t||!o.includes(t))return;let n=e.querySelectorAll("img");for(let e of n)this.addImage(e);if("string"==typeof this.options.background){let t=e.querySelectorAll(this.options.background);for(let e of t)this.addElementBackgroundImages(e)}};const s=/url\((['"])?(.*?)\1\)/gi;function a(e){this.img=e}function l(e,t){this.url=e,this.element=t,this.img=new Image}return r.prototype.addElementBackgroundImages=function(e){let t=getComputedStyle(e);if(!t)return;let n=s.exec(t.backgroundImage);for(;null!==n;){let i=n&&n[2];i&&this.addBackground(i,e),n=s.exec(t.backgroundImage)}},r.prototype.addImage=function(e){let t=new a(e);this.images.push(t)},r.prototype.addBackground=function(e,t){let n=new l(e,t);this.images.push(n)},r.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();let e=(e,t,n)=>{setTimeout((()=>{this.progress(e,t,n)}))};this.images.forEach((function(t){t.once("progress",e),t.check()}))},r.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&i&&i.log(`progress: ${n}`,e,t)},r.prototype.complete=function(){let e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){let e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},a.prototype=Object.create(t.prototype),a.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src)},a.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},a.prototype.confirm=function(e,t){this.isLoaded=e;let{parentNode:n}=this.img,i="PICTURE"===n.nodeName?n:this.img;this.emitEvent("progress",[this,i,t])},a.prototype.handleEvent=function(e){let t="on"+e.type;this[t]&&this[t](e)},a.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},a.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},a.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype=Object.create(a.prototype),l.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},r.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&(n=t,n.fn.imagesLoaded=function(e,t){return new r(this,e,t).jqDeferred.promise(n(this))})},r.makeJQueryPlugin(),r}))},6131:function(e){!function(t,n){e.exports?e.exports=n():t.getSize=n()}(window,(function(){function e(e){let t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}let t=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];return t.length,function(n){if("string"==typeof n&&(n=document.querySelector(n)),!n||"object"!=typeof n||!n.nodeType)return;let i=getComputedStyle(n);if("none"==i.display)return function(){let e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};return t.forEach((t=>{e[t]=0})),e}();let r={};r.width=n.offsetWidth,r.height=n.offsetHeight;let o=r.isBorderBox="border-box"==i.boxSizing;t.forEach((e=>{let t=i[e],n=parseFloat(t);r[e]=isNaN(n)?0:n}));let s=r.paddingLeft+r.paddingRight,a=r.paddingTop+r.paddingBottom,l=r.marginLeft+r.marginRight,c=r.marginTop+r.marginBottom,u=r.borderLeftWidth+r.borderRightWidth,h=r.borderTopWidth+r.borderBottomWidth,d=e(i.width);!1!==d&&(r.width=d+(o?0:s+u));let p=e(i.height);return!1!==p&&(r.height=p+(o?0:a+h)),r.innerWidth=r.width-(s+u),r.innerHeight=r.height-(a+h),r.outerWidth=r.width+l,r.outerHeight=r.height+c,r}}))},9144:function(e,t,n){var i,r=void 0!==n.g?n.g:"undefined"!=typeof window?window:{},o=n(5893);"undefined"!=typeof document?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"])||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=i},8908:function(e,t,n){var i;i="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},e.exports=i},4879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},7370:function(e,t,n){var i=n(4879),r=n(9438);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!i.string(t))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(i.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(i.string(e))return function(e,t,n){return r(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},7564:function(e,t,n){var i,r;!function(o){"use strict";i=[n(7158)],r=function(e){return function(e,t){var n=e.jQuery,i=e.console;function r(e,t){for(var n in t)e[n]=t[n];return e}var o=Array.prototype.slice;function s(e,t,a){if(!(this instanceof s))return new s(e,t,a);var l,c=e;"string"==typeof e&&(c=document.querySelectorAll(e)),c?(this.elements=(l=c,Array.isArray(l)?l:"object"==typeof l&&"number"==typeof l.length?o.call(l):[l]),this.options=r({},this.options),"function"==typeof t?a=t:r(this.options,t),a&&this.on("always",a),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):i.error("Bad element for imagesLoaded "+(c||e))}s.prototype=Object.create(t.prototype),s.prototype.options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&a[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var r=n[i];this.addImage(r)}if("string"==typeof this.options.background){var o=e.querySelectorAll(this.options.background);for(i=0;i<o.length;i++){var s=o[i];this.addElementBackgroundImages(s)}}}};var a={1:!0,9:!0,11:!0};function l(e){this.img=e}function c(e,t){this.url=e,this.element=t,this.img=new Image}return s.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var r=i&&i[2];r&&this.addBackground(r,e),i=n.exec(t.backgroundImage)}},s.prototype.addImage=function(e){var t=new l(e);this.images.push(t)},s.prototype.addBackground=function(e,t){var n=new c(e,t);this.images.push(n)},s.prototype.check=function(){var e=this;function t(t,n,i){setTimeout((function(){e.progress(t,n,i)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(e){e.once("progress",t),e.check()})):this.complete()},s.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+n,e,t)},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},l.prototype=Object.create(t.prototype),l.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},l.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},l.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},l.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype=Object.create(l.prototype),c.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},c.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},s.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(e,t){return new s(this,e,t).jqDeferred.promise(n(this))})},s.makeJQueryPlugin(),s}(o,e)}.apply(t,i),void 0===r||(e.exports=r)}("undefined"!=typeof window?window:this)},7376:function(e){e.exports=function(e){if(!e)return!1;var n=t.call(e);return"[object Function]"===n||"function"==typeof e&&"[object RegExp]"!==n||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},4221:function(e,t,n){var i=n(6894).getUint64;e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},r=12;0===n.version?(n.earliestPresentationTime=t.getUint32(r),n.firstOffset=t.getUint32(r+4),r+=8):(n.earliestPresentationTime=i(e.subarray(r)),n.firstOffset=i(e.subarray(r+8)),r+=16),r+=2;var o=t.getUint16(r);for(r+=2;o>0;r+=12,o--)n.references.push({referenceType:(128&e[r])>>>7,referencedSize:2147483647&t.getUint32(r),subsegmentDuration:t.getUint32(r+4),startsWithSap:!!(128&e[r+8]),sapType:(112&e[r+8])>>>4,sapDeltaTime:268435455&t.getUint32(r+8)});return n}},1489:function(e){var t,n,i,r,o,s,a,l=9e4;t=function(e){return e*l},n=function(e,t){return e*t},i=function(e){return e/l},r=function(e,t){return e/t},o=function(e,n){return t(r(e,n))},s=function(e,t){return n(i(e),t)},a=function(e,t,n){return i(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:l,secondsToVideoTs:t,secondsToAudioTs:n,videoTsToSeconds:i,audioTsToSeconds:r,audioTsToVideoTs:o,videoTsToAudioTs:s,metadataTsToSeconds:a}},6894:function(e){var t=Math.pow(2,32);e.exports={getUint64:function(e){var n,i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.getBigUint64?(n=i.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(n):n:i.getUint32(0)*t+i.getUint32(4)},MAX_UINT32:t}},341:function(e){"use strict";class t extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}class n{static fn(e){return(...t)=>new n(((n,i,r)=>{t.push(r),e(...t).then(n,i)}))}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise(((t,n)=>{this._reject=n;const i=e=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(e)};return Object.defineProperties(i,{shouldReject:{get:()=>this._rejectOnCancel,set:e=>{this._rejectOnCancel=e}}}),e((e=>{this._isCanceled&&i.shouldReject||(this._isPending=!1,t(e))}),(e=>{this._isPending=!1,n(e)}),i)}))}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(const e of this._cancelHandlers)e()}catch(e){return void this._reject(e)}this._rejectOnCancel&&this._reject(new t(e))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(n.prototype,Promise.prototype),e.exports=n,e.exports.CancelError=t},1455:function(e){"use strict";e.exports=e=>{if("number"!=typeof e)throw new TypeError("Expected a number");const t=e>0?Math.floor:Math.ceil;return{days:t(e/864e5),hours:t(e/36e5)%24,minutes:t(e/6e4)%60,seconds:t(e/1e3)%60,milliseconds:t(e)%1e3,microseconds:t(1e3*e)%1e3,nanoseconds:t(1e6*e)%1e3}}},5974:function(e){e.exports=function(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(e){i=e}return[i,n]}},3817:function(e){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(e),i.removeAllRanges(),i.addRange(r),t=i.toString()}return t}},4279:function(e){function t(){}t.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function r(){i.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var o=0,s=i.length;o<s;o++)i[o].fn!==t&&i[o].fn._!==t&&r.push(i[o]);return r.length?n[e]=r:delete n[e],this}},e.exports=t},3959:function(){"use strict";!function(){var e="chrome"in window&&window.navigator.userAgent.indexOf("Edge")<0;if(!("u2f"in window)&&e){var t,n=window.u2f={};n.EXTENSION_ID="kmendfapggjehodndflmmgagdbamhnfd",n.MessageTypes={U2F_REGISTER_REQUEST:"u2f_register_request",U2F_REGISTER_RESPONSE:"u2f_register_response",U2F_SIGN_REQUEST:"u2f_sign_request",U2F_SIGN_RESPONSE:"u2f_sign_response",U2F_GET_API_VERSION_REQUEST:"u2f_get_api_version_request",U2F_GET_API_VERSION_RESPONSE:"u2f_get_api_version_response"},n.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},n.U2fRequest,n.U2fResponse,n.Error,n.Transport,n.Transports,n.SignRequest,n.SignResponse,n.RegisterRequest,n.RegisterResponse,n.RegisteredKey,n.GetJsApiVersionResponse,n.getMessagePort=function(e){if("undefined"!=typeof chrome&&chrome.runtime){var t={type:n.MessageTypes.U2F_SIGN_REQUEST,signRequests:[]};chrome.runtime.sendMessage(n.EXTENSION_ID,t,(function(){chrome.runtime.lastError?n.getIframePort_(e):n.getChromeRuntimePort_(e)}))}else n.isAndroidChrome_()?n.getAuthenticatorPort_(e):n.isIosChrome_()?n.getIosPort_(e):n.getIframePort_(e)},n.isAndroidChrome_=function(){var e=navigator.userAgent;return-1!=e.indexOf("Chrome")&&-1!=e.indexOf("Android")},n.isIosChrome_=function(){return["iPhone","iPad","iPod"].indexOf(navigator.platform)>-1},n.getChromeRuntimePort_=function(e){var t=chrome.runtime.connect(n.EXTENSION_ID,{includeTlsChannelId:!0});setTimeout((function(){e(new n.WrappedChromeRuntimePort_(t))}),0)},n.getAuthenticatorPort_=function(e){setTimeout((function(){e(new n.WrappedAuthenticatorPort_)}),0)},n.getIosPort_=function(e){setTimeout((function(){e(new n.WrappedIosPort_)}),0)},n.WrappedChromeRuntimePort_=function(e){this.port_=e},n.formatSignRequest_=function(e,i,r,o,s){if(void 0===t||t<1.1){for(var a=[],l=0;l<r.length;l++)a[l]={version:r[l].version,challenge:i,keyHandle:r[l].keyHandle,appId:e};return{type:n.MessageTypes.U2F_SIGN_REQUEST,signRequests:a,timeoutSeconds:o,requestId:s}}return{type:n.MessageTypes.U2F_SIGN_REQUEST,appId:e,challenge:i,registeredKeys:r,timeoutSeconds:o,requestId:s}},n.formatRegisterRequest_=function(e,i,r,o,s){if(void 0===t||t<1.1){for(var a=0;a<r.length;a++)r[a].appId=e;var l=[];for(a=0;a<i.length;a++)l[a]={version:i[a].version,challenge:r[0],keyHandle:i[a].keyHandle,appId:e};return{type:n.MessageTypes.U2F_REGISTER_REQUEST,signRequests:l,registerRequests:r,timeoutSeconds:o,requestId:s}}return{type:n.MessageTypes.U2F_REGISTER_REQUEST,appId:e,registerRequests:r,registeredKeys:i,timeoutSeconds:o,requestId:s}},n.WrappedChromeRuntimePort_.prototype.postMessage=function(e){this.port_.postMessage(e)},n.WrappedChromeRuntimePort_.prototype.addEventListener=function(e,t){var n=e.toLowerCase();"message"==n||"onmessage"==n?this.port_.onMessage.addListener((function(e){t({data:e})})):console.error("WrappedChromeRuntimePort only supports onMessage")},n.WrappedAuthenticatorPort_=function(){this.requestId_=-1,this.requestObject_=null},n.WrappedAuthenticatorPort_.prototype.postMessage=function(e){var t=n.WrappedAuthenticatorPort_.INTENT_URL_BASE_+";S.request="+encodeURIComponent(JSON.stringify(e))+";end";document.location=t},n.WrappedAuthenticatorPort_.prototype.getPortType=function(){return"WrappedAuthenticatorPort_"},n.WrappedAuthenticatorPort_.prototype.addEventListener=function(e,t){"message"==e.toLowerCase()?window.addEventListener("message",this.onRequestUpdate_.bind(this,t),!1):console.error("WrappedAuthenticatorPort only supports message")},n.WrappedAuthenticatorPort_.prototype.onRequestUpdate_=function(e,t){var n=JSON.parse(t.data),i=(n.intentURL,n.errorCode,null);n.hasOwnProperty("data")&&(i=JSON.parse(n.data)),e({data:i})},n.WrappedAuthenticatorPort_.INTENT_URL_BASE_="intent:#Intent;action=com.google.android.apps.authenticator.AUTHENTICATE",n.WrappedIosPort_=function(){},n.WrappedIosPort_.prototype.postMessage=function(e){var t=JSON.stringify(e),n="u2f://auth?"+encodeURI(t);location.replace(n)},n.WrappedIosPort_.prototype.getPortType=function(){return"WrappedIosPort_"},n.WrappedIosPort_.prototype.addEventListener=function(e,t){"message"!==e.toLowerCase()&&console.error("WrappedIosPort only supports message")},n.getIframePort_=function(e){var t="chrome-extension://"+n.EXTENSION_ID,i=document.createElement("iframe");i.src=t+"/u2f-comms.html",i.setAttribute("style","display:none"),document.body.appendChild(i);var r=new MessageChannel,o=function(t){"ready"==t.data?(r.port1.removeEventListener("message",o),e(r.port1)):console.error('First event on iframe port was not "ready"')};r.port1.addEventListener("message",o),r.port1.start(),i.addEventListener("load",(function(){i.contentWindow.postMessage("init",t,[r.port2])}))},n.EXTENSION_TIMEOUT_SEC=30,n.port_=null,n.waitingForPort_=[],n.reqCounter_=0,n.callbackMap_={},n.getPortSingleton_=function(e){n.port_?e(n.port_):(0==n.waitingForPort_.length&&n.getMessagePort((function(e){for(n.port_=e,n.port_.addEventListener("message",n.responseHandler_);n.waitingForPort_.length;)n.waitingForPort_.shift()(n.port_)})),n.waitingForPort_.push(e))},n.responseHandler_=function(e){var t=e.data,i=t.requestId;if(i&&n.callbackMap_[i]){var r=n.callbackMap_[i];delete n.callbackMap_[i],r(t.responseData)}else console.error("Unknown or missing requestId in response.")},n.sign=function(e,i,r,o,s){void 0===t?n.getApiVersion((function(a){t=void 0===a.js_api_version?0:a.js_api_version,console.log("Extension JS API Version: ",t),n.sendSignRequest(e,i,r,o,s)})):n.sendSignRequest(e,i,r,o,s)},n.sendSignRequest=function(e,t,i,r,o){n.getPortSingleton_((function(s){var a=++n.reqCounter_;n.callbackMap_[a]=r;var l=void 0!==o?o:n.EXTENSION_TIMEOUT_SEC,c=n.formatSignRequest_(e,t,i,l,a);s.postMessage(c)}))},n.register=function(e,i,r,o,s){void 0===t?n.getApiVersion((function(a){t=void 0===a.js_api_version?0:a.js_api_version,console.log("Extension JS API Version: ",t),n.sendRegisterRequest(e,i,r,o,s)})):n.sendRegisterRequest(e,i,r,o,s)},n.sendRegisterRequest=function(e,t,i,r,o){n.getPortSingleton_((function(s){var a=++n.reqCounter_;n.callbackMap_[a]=r;var l=void 0!==o?o:n.EXTENSION_TIMEOUT_SEC,c=n.formatRegisterRequest_(e,i,t,l,a);s.postMessage(c)}))},n.getApiVersion=function(e,t){n.getPortSingleton_((function(i){if(i.getPortType){var r;switch(i.getPortType()){case"WrappedIosPort_":case"WrappedAuthenticatorPort_":r=1.1;break;default:r=0}e({js_api_version:r})}else{var o=++n.reqCounter_;n.callbackMap_[o]=e;var s={type:n.MessageTypes.U2F_GET_API_VERSION_REQUEST,timeoutSeconds:void 0!==t?t:n.EXTENSION_TIMEOUT_SEC,requestId:o};i.postMessage(s)}}))}}}()},5574:function(e){var t,n;t="undefined"!=typeof window?window:this,n=function(){function e(){}let t=e.prototype;return t.on=function(e,t){if(!e||!t)return this;let n=this._events=this._events||{},i=n[e]=n[e]||[];return i.includes(t)||i.push(t),this},t.once=function(e,t){if(!e||!t)return this;this.on(e,t);let n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this},t.off=function(e,t){let n=this._events&&this._events[e];if(!n||!n.length)return this;let i=n.indexOf(t);return-1!=i&&n.splice(i,1),this},t.emitEvent=function(e,t){let n=this._events&&this._events[e];if(!n||!n.length)return this;n=n.slice(0),t=t||[];let i=this._onceEvents&&this._onceEvents[e];for(let r of n)i&&i[r]&&(this.off(e,r),delete i[r]),r.apply(this,t);return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e},e.exports?e.exports=n():t.EvEmitter=n()},4842:function(e,t,n){!function(t,i){e.exports?e.exports=i(t,n(5574)):t.Unidragger=i(t,t.EvEmitter)}("undefined"!=typeof window?window:this,(function(e,t){function n(){}let i,r,o=n.prototype=Object.create(t.prototype);o.handleEvent=function(e){let t="on"+e.type;this[t]&&this[t](e)},"ontouchstart"in e?(i="touchstart",r=["touchmove","touchend","touchcancel"]):e.PointerEvent?(i="pointerdown",r=["pointermove","pointerup","pointercancel"]):(i="mousedown",r=["mousemove","mouseup"]),o.touchActionValue="none",o.bindHandles=function(){this._bindHandles("addEventListener",this.touchActionValue)},o.unbindHandles=function(){this._bindHandles("removeEventListener","")},o._bindHandles=function(t,n){this.handles.forEach((r=>{r[t](i,this),r[t]("click",this),e.PointerEvent&&(r.style.touchAction=n)}))},o.bindActivePointerEvents=function(){r.forEach((t=>{e.addEventListener(t,this)}))},o.unbindActivePointerEvents=function(){r.forEach((t=>{e.removeEventListener(t,this)}))},o.withPointer=function(e,t){t.pointerId===this.pointerIdentifier&&this[e](t,t)},o.withTouch=function(e,t){let n;for(let e of t.changedTouches)e.identifier===this.pointerIdentifier&&(n=e);n&&this[e](t,n)},o.onmousedown=function(e){this.pointerDown(e,e)},o.ontouchstart=function(e){this.pointerDown(e,e.changedTouches[0])},o.onpointerdown=function(e){this.pointerDown(e,e)};const s=["TEXTAREA","INPUT","SELECT","OPTION"],a=["radio","checkbox","button","submit","image","file"];return o.pointerDown=function(e,t){let n=s.includes(e.target.nodeName),i=a.includes(e.target.type),r=!n||i;!this.isPointerDown&&!e.button&&r&&(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},this.bindActivePointerEvents(),this.emitEvent("pointerDown",[e,t]))},o.onmousemove=function(e){this.pointerMove(e,e)},o.onpointermove=function(e){this.withPointer("pointerMove",e)},o.ontouchmove=function(e){this.withTouch("pointerMove",e)},o.pointerMove=function(e,t){let n={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};this.emitEvent("pointerMove",[e,t,n]),!this.isDragging&&this.hasDragStarted(n)&&this.dragStart(e,t),this.isDragging&&this.dragMove(e,t,n)},o.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},o.dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.emitEvent("dragStart",[e,t])},o.dragMove=function(e,t,n){this.emitEvent("dragMove",[e,t,n])},o.onmouseup=function(e){this.pointerUp(e,e)},o.onpointerup=function(e){this.withPointer("pointerUp",e)},o.ontouchend=function(e){this.withTouch("pointerUp",e)},o.pointerUp=function(e,t){this.pointerDone(),this.emitEvent("pointerUp",[e,t]),this.isDragging?this.dragEnd(e,t):this.staticClick(e,t)},o.dragEnd=function(e,t){this.isDragging=!1,setTimeout((()=>delete this.isPreventingClicks)),this.emitEvent("dragEnd",[e,t])},o.pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this.unbindActivePointerEvents(),this.emitEvent("pointerDone")},o.onpointercancel=function(e){this.withPointer("pointerCancel",e)},o.ontouchcancel=function(e){this.withTouch("pointerCancel",e)},o.pointerCancel=function(e,t){this.pointerDone(),this.emitEvent("pointerCancel",[e,t])},o.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},o.staticClick=function(e,t){let n="mouseup"===e.type;n&&this.isIgnoringMouseUp||(this.emitEvent("staticClick",[e,t]),n&&(this.isIgnoringMouseUp=!0,setTimeout((()=>{delete this.isIgnoringMouseUp}),400)))},n}))},4704:function(e,t,n){var i,r;!function(o){i=[n(7158)],r=function(e){return function(e,t){"use strict";function n(){}var i=n.prototype=Object.create(t.prototype);i.bindStartEvent=function(e){this._bindStartEvent(e,!0)},i.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},i._bindStartEvent=function(t,n){var i=(n=void 0===n||n)?"addEventListener":"removeEventListener",r="mousedown";"ontouchstart"in e?r="touchstart":e.PointerEvent&&(r="pointerdown"),t[i](r,this)},i.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.getTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.identifier==this.pointerIdentifier)return n}},i.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},i.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},i.onpointerdown=function(e){this._pointerDown(e,e)},i._pointerDown=function(e,t){e.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},i.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var r={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return i._bindPostStartEvents=function(t){if(t){var n=r[t.type];n.forEach((function(t){e.addEventListener(t,this)}),this),this._boundPointerEvents=n}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(t){e.removeEventListener(t,this)}),this),delete this._boundPointerEvents)},i.onmousemove=function(e){this._pointerMove(e,e)},i.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},i.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},i._pointerMove=function(e,t){this.pointerMove(e,t)},i.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},i.onmouseup=function(e){this._pointerUp(e,e)},i.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},i.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},i._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},i.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},i._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},i._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},i.pointerDone=function(){},i.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},i.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},i._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},i.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},n.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},n}(o,e)}.apply(t,i),void 0===r||(e.exports=r)}(window)},9945:function(e){var t,n,i,r,o;t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var r=o.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return i.alwaysNormalize?(s.path=o.normalizePath(s.path),o.buildURLFromParts(s)):t;var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=n.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var c={scheme:a.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(c.netLoc=a.netLoc,"/"!==s.path[0]))if(s.path){var u=a.path,h=u.substring(0,u.lastIndexOf("/")+1)+s.path;c.path=o.normalizePath(h)}else c.path=a.path,s.params||(c.params=a.params,s.query||(c.query=a.query));return null===c.path&&(c.path=i.alwaysNormalize?o.normalizePath(s.path):s.path),o.buildURLFromParts(c)},parseURL:function(e){var n=t.exec(e);return n?{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=o},8764:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ps}});var i=n(8908),r=n.n(i),o=n(9144),s=n.n(o),a=n(5974),l=n.n(a),c=n(9603),u=n.n(c),h=n(3407),d=n.n(h);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p.apply(null,arguments)}var f=n(9945),m=n.n(f),g=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=r().location&&r().location.href||"");var n="function"==typeof r().URL,i=/^\/\//.test(e),o=!r().location&&!/\/\//i.test(e);if(n?e=new(r().URL)(e,r().location||"http://example.com"):/\/\//i.test(e)||(e=m().buildAbsoluteURL(r().location&&r().location.href||"",e)),n){var s=new URL(t,e);return o?s.href.slice(18):i?s.href.slice(s.protocol.length):s.href}return m().buildAbsoluteURL(e,t)},y=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=t.length,s=0;s<o;++s)t[s].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},v.apply(null,arguments)}function b(e){for(var t,n=(t=e,r().atob?r().atob(t):Buffer.from(t,"base64").toString("binary")),i=new Uint8Array(n.length),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}class _ extends y{constructor(){super(),this.buffer=""}push(e){let t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}const w=String.fromCharCode(9),k=function(e){const t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),n},S=function(e){const t={};if(!e)return t;const n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))'));let i,r=n.length;for(;r--;)""!==n[r]&&(i=/([^=]*)=(.*)/.exec(n[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),t[i[0]]=i[1]);return t};class E extends y{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let t,n;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce(((t,n)=>{const i=n(e);return i===e?t:t.concat([i])}),[e]).forEach((e=>{for(let t=0;t<this.customParsers.length;t++)if(this.customParsers[t].call(this,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e),t)this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(e),t)return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:([0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(e),t)return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:(.*)?$/.exec(e),t)return n=v(k(t[1]),{type:"tag",tagType:"byterange"}),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(e),t)return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-MAP:(.*)$/.exec(e),t){if(n={type:"tag",tagType:"map"},t[1]){const e=S(t[1]);e.URI&&(n.uri=e.URI),e.BYTERANGE&&(n.byterange=k(e.BYTERANGE))}this.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:(.*)$/.exec(e),t){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=S(t[1]),n.attributes.RESOLUTION){const e=n.attributes.RESOLUTION.split("x"),t={};e[0]&&(t.width=parseInt(e[0],10)),e[1]&&(t.height=parseInt(e[1],10)),n.attributes.RESOLUTION=t}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:(.*)$/.exec(e),t)return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=S(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e),t)this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e),t)this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(e),t)return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-KEY:(.*)$/.exec(e),t)return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=S(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(t=/^#EXT-X-START:(.*)$/.exec(e),t)return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=S(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-IN:(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-SKIP:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"skip"},n.attributes=S(t[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(w)),void this.trigger("data",n);if(t=/^#EXT-X-PART:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"part"},n.attributes=S(t[1]),["DURATION"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=k(n.attributes.BYTERANGE)),void this.trigger("data",n);if(t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"server-control"},n.attributes=S(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),void this.trigger("data",n);if(t=/^#EXT-X-PART-INF:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"part-inf"},n.attributes=S(t[1]),["PART-TARGET"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),void this.trigger("data",n);if(t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"preload-hint"},n.attributes=S(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(e){if(n.attributes.hasOwnProperty(e)){n.attributes[e]=parseInt(n.attributes[e],10);const t="BYTERANGE-LENGTH"===e?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[t]=n.attributes[e],delete n.attributes[e]}})),void this.trigger("data",n);if(t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"rendition-report"},n.attributes=S(t[1]),["LAST-MSN","LAST-PART"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseInt(n.attributes[e],10))})),void this.trigger("data",n);if(t=/^#EXT-X-DATERANGE:(.*)$/.exec(e),t&&t[1]){n={type:"tag",tagType:"daterange"},n.attributes=S(t[1]),["ID","CLASS"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=String(n.attributes[e]))})),["START-DATE","END-DATE"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=new Date(n.attributes[e]))})),["DURATION","PLANNED-DURATION"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["END-ON-NEXT"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/i.test(n.attributes[e]))})),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=n.attributes[e].toString(16))}));const e=/^X-([A-Z]+-)+[A-Z]+$/;for(const t in n.attributes){if(!e.test(t))continue;const i=/[0-9A-Fa-f]{6}/g.test(n.attributes[t]),r=/^\d+(\.\d+)?$/.test(n.attributes[t]);n.attributes[t]=i?n.attributes[t].toString(16):r?parseFloat(n.attributes[t]):String(n.attributes[t])}this.trigger("data",n)}else if(t=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(e),t)this.trigger("data",{type:"tag",tagType:"independent-segments"});else{if(t=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(e),t)return n={type:"tag",tagType:"content-steering"},n.attributes=S(t[1]),void this.trigger("data",n);this.trigger("data",{type:"tag",data:e.slice(4)})}}}}else this.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))}addParser({expression:e,customType:t,dataParser:n,segment:i}){"function"!=typeof n&&(n=e=>e),this.customParsers.push((r=>{if(e.exec(r))return this.trigger("data",{type:"custom",data:n(r),customType:t,segment:i}),!0}))}addTagMapper({expression:e,map:t}){this.tagMappers.push((n=>e.test(n)?t(n):n))}}const T=function(e){const t={};return Object.keys(e).forEach((function(n){var i;t[(i=n,i.toLowerCase().replace(/-(\w)/g,(e=>e[1].toUpperCase())))]=e[n]})),t},x=function(e){const{serverControl:t,targetDuration:n,partTargetDuration:i}=e;if(!t)return;const r="#EXT-X-SERVER-CONTROL",o="holdBack",s="partHoldBack",a=n&&3*n,l=i&&2*i;n&&!t.hasOwnProperty(o)&&(t[o]=a,this.trigger("info",{message:`${r} defaulting HOLD-BACK to targetDuration * 3 (${a}).`})),a&&t[o]<a&&(this.trigger("warn",{message:`${r} clamping HOLD-BACK (${t[o]}) to targetDuration * 3 (${a})`}),t[o]=a),i&&!t.hasOwnProperty(s)&&(t[s]=3*i,this.trigger("info",{message:`${r} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${t[s]}).`})),i&&t[s]<l&&(this.trigger("warn",{message:`${r} clamping PART-HOLD-BACK (${t[s]}) to partTargetDuration * 2 (${l}).`}),t[s]=l)};class C extends y{constructor(){super(),this.lineStream=new _,this.parseStream=new E,this.lineStream.pipe(this.parseStream),this.lastProgramDateTime=null;const e=this,t=[];let n,i,r={},o=!1;const s=function(){},a={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};let l=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],segments:[]};let c=0,u=0;const h={};this.on("end",(()=>{r.uri||!r.parts&&!r.preloadHints||(!r.map&&n&&(r.map=n),!r.key&&i&&(r.key=i),r.timeline||"number"!=typeof l||(r.timeline=l),this.manifest.preloadSegment=r)})),this.parseStream.on("data",(function(d){let p,f;({tag(){({version(){d.version&&(this.manifest.version=d.version)},"allow-cache"(){this.manifest.allowCache=d.allowed,"allowed"in d||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const e={};"length"in d&&(r.byterange=e,e.length=d.length,"offset"in d||(d.offset=c)),"offset"in d&&(r.byterange=e,e.offset=d.offset),c=e.offset+e.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),d.title&&(r.title=d.title),d.duration>0&&(r.duration=d.duration),0===d.duration&&(r.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=t},key(){if(d.attributes)if("NONE"!==d.attributes.METHOD)if(d.attributes.URI){if("com.apple.streamingkeydelivery"===d.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:d.attributes});if("com.microsoft.playready"===d.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:d.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===d.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(d.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===d.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==d.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):d.attributes.KEYID&&"0x"===d.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:d.attributes.KEYFORMAT,keyId:d.attributes.KEYID.substring(2)},pssh:b(d.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));d.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:d.attributes.METHOD||"AES-128",uri:d.attributes.URI},void 0!==d.attributes.IV&&(i.iv=d.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else i=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence"(){isFinite(d.number)?this.manifest.mediaSequence=d.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+d.number})},"discontinuity-sequence"(){isFinite(d.number)?(this.manifest.discontinuitySequence=d.number,l=d.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+d.number})},"playlist-type"(){/VOD|EVENT/.test(d.playlistType)?this.manifest.playlistType=d.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+d.playlist})},map(){n={},d.uri&&(n.uri=d.uri),d.byterange&&(n.byterange=d.byterange),i&&(n.key=i)},"stream-inf"(){this.manifest.playlists=t,this.manifest.mediaGroups=this.manifest.mediaGroups||a,d.attributes?(r.attributes||(r.attributes={}),v(r.attributes,d.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||a,!(d.attributes&&d.attributes.TYPE&&d.attributes["GROUP-ID"]&&d.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});const e=this.manifest.mediaGroups[d.attributes.TYPE];e[d.attributes["GROUP-ID"]]=e[d.attributes["GROUP-ID"]]||{},p=e[d.attributes["GROUP-ID"]],f={default:/yes/i.test(d.attributes.DEFAULT)},f.default?f.autoselect=!0:f.autoselect=/yes/i.test(d.attributes.AUTOSELECT),d.attributes.LANGUAGE&&(f.language=d.attributes.LANGUAGE),d.attributes.URI&&(f.uri=d.attributes.URI),d.attributes["INSTREAM-ID"]&&(f.instreamId=d.attributes["INSTREAM-ID"]),d.attributes.CHARACTERISTICS&&(f.characteristics=d.attributes.CHARACTERISTICS),d.attributes.FORCED&&(f.forced=/yes/i.test(d.attributes.FORCED)),p[d.attributes.NAME]=f},discontinuity(){l+=1,r.discontinuity=!0,this.manifest.discontinuityStarts.push(t.length)},"program-date-time"(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=d.dateTimeString,this.manifest.dateTimeObject=d.dateTimeObject),r.dateTimeString=d.dateTimeString,r.dateTimeObject=d.dateTimeObject;const{lastProgramDateTime:e}=this;this.lastProgramDateTime=new Date(d.dateTimeString).getTime(),null===e&&this.manifest.segments.reduceRight(((e,t)=>(t.programDateTime=e-1e3*t.duration,t.programDateTime)),this.lastProgramDateTime)},targetduration(){!isFinite(d.duration)||d.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+d.duration}):(this.manifest.targetDuration=d.duration,x.call(this,this.manifest))},start(){d.attributes&&!isNaN(d.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:d.attributes["TIME-OFFSET"],precise:d.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out"(){r.cueOut=d.data},"cue-out-cont"(){r.cueOutCont=d.data},"cue-in"(){r.cueIn=d.data},skip(){this.manifest.skip=T(d.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",d.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const e=this.manifest.segments.length,t=T(d.attributes);r.parts=r.parts||[],r.parts.push(t),t.byterange&&(t.byterange.hasOwnProperty("offset")||(t.byterange.offset=u),u=t.byterange.offset+t.byterange.length);const n=r.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${n} for segment #${e}`,d.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(((e,t)=>{e.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${t} lacks required attribute(s): LAST-PART`})}))},"server-control"(){const e=this.manifest.serverControl=T(d.attributes);e.hasOwnProperty("canBlockReload")||(e.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),x.call(this,this.manifest),e.canSkipDateranges&&!e.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const e=this.manifest.segments.length,t=T(d.attributes),n=t.type&&"PART"===t.type;r.preloadHints=r.preloadHints||[],r.preloadHints.push(t),t.byterange&&(t.byterange.hasOwnProperty("offset")||(t.byterange.offset=n?u:0,n&&(u=t.byterange.offset+t.byterange.length)));const i=r.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${i} for segment #${e}`,d.attributes,["TYPE","URI"]),t.type)for(let n=0;n<r.preloadHints.length-1;n++){const o=r.preloadHints[n];o.type&&o.type===t.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${i} for segment #${e} has the same TYPE ${t.type} as preload hint #${n}`})}},"rendition-report"(){const e=T(d.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(e);const t=this.manifest.renditionReports.length-1,n=["LAST-MSN","URI"];o&&n.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${t}`,d.attributes,n)},"part-inf"(){this.manifest.partInf=T(d.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",d.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),x.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(T(d.attributes));const e=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${e}`,d.attributes,["ID","START-DATE"]);const t=this.manifest.dateRanges[e];t.endDate&&t.startDate&&new Date(t.endDate)<new Date(t.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),t.duration&&t.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),t.plannedDuration&&t.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const n=!!t.endOnNext;if(n&&!t.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),n&&(t.duration||t.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),t.duration&&t.endDate){const n=t.startDate.getTime()+1e3*t.duration;this.manifest.dateRanges[e].endDate=new Date(n)}if(h[t.id]){for(const e in h[t.id])if(t[e]&&JSON.stringify(h[t.id][e])!==JSON.stringify(t[e])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const e=this.manifest.dateRanges.findIndex((e=>e.id===t.id));this.manifest.dateRanges[e]=v(this.manifest.dateRanges[e],t),h[t.id]=v(h[t.id],t),this.manifest.dateRanges.pop()}else h[t.id]=t},"independent-segments"(){this.manifest.independentSegments=!0},"content-steering"(){this.manifest.contentSteering=T(d.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",d.attributes,["SERVER-URI"])}}[d.tagType]||s).call(e)},uri(){r.uri=d.uri,t.push(r),this.manifest.targetDuration&&!("duration"in r)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),r.duration=this.manifest.targetDuration),i&&(r.key=i),r.timeline=l,n&&(r.map=n),u=0,null!==this.lastProgramDateTime&&(r.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=1e3*r.duration),r={}},comment(){},custom(){d.segment?(r.custom=r.custom||{},r.custom[d.customType]=d.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[d.customType]=d.data)}})[d.type].call(e)}))}warnOnMissingAttributes_(e,t,n){const i=[];n.forEach((function(e){t.hasOwnProperty(e)||i.push(e)})),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push("\n"),this.manifest.dateRanges.length&&null===this.lastProgramDateTime&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var P,A,O={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},I=["video","audio","text"],L=["Video","Audio","Text"],D=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):e},R=function(e){void 0===e&&(e="");var t=e.split(","),n=[];return t.forEach((function(e){var t;e=e.trim(),I.forEach((function(i){var r=O[i].exec(e.toLowerCase());if(r&&!(r.length<=1)){t=i;var o=e.substring(0,r[1].length),s=e.replace(o,"");n.push({type:o,details:s,mediaType:i})}})),t||n.push({type:e,details:"",mediaType:"unknown"})})),n},M=function(e){return void 0===e&&(e=""),O.audio.test(e.trim().toLowerCase())},N=function(e){if(e&&"string"==typeof e){var t,n=e.toLowerCase().split(",").map((function(e){return D(e.trim())})),i="video";1===n.length&&M(n[0])?i="audio":1===n.length&&(void 0===(t=n[0])&&(t=""),O.text.test(t.trim().toLowerCase()))&&(i="application");var r="mp4";return n.every((function(e){return O.mp4.test(e)}))?r="mp4":n.every((function(e){return O.webm.test(e)}))?r="webm":n.every((function(e){return O.ogg.test(e)}))&&(r="ogg"),i+"/"+r+';codecs="'+e+'"'}},j=function(e){return void 0===e&&(e=""),r().MediaSource&&r().MediaSource.isTypeSupported&&r().MediaSource.isTypeSupported(N(e))||!1},F=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<L.length;t++)if(O["muxer"+L[t]].test(e))return!0;return!1}))},B="mp4a.40.2",U=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,q=/^application\/dash\+xml/i,V=function(e){return U.test(e)?"hls":q.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},H=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},$=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||H(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},z=r().BigInt||Number,W=[z("0x1"),z("0x100"),z("0x10000"),z("0x1000000"),z("0x100000000"),z("0x10000000000"),z("0x1000000000000"),z("0x100000000000000"),z("0x10000000000000000")],G=(P=new Uint16Array([65484]),255===(A=new Uint8Array(P.buffer,P.byteOffset,P.byteLength))[0]||A[0],function(e,t){var n=void 0===t?{}:t,i=n.signed,r=void 0!==i&&i,o=n.le,s=void 0!==o&&o;e=$(e);var a=s?"reduce":"reduceRight",l=(e[a]?e[a]:Array.prototype[a]).call(e,(function(t,n,i){var r=s?i:Math.abs(i+1-e.length);return t+z(n)*W[r]}),z(0));if(r){var c=W[e.length]/z(2)-z(1);(l=z(l))>c&&(l-=c,l-=c,l-=z(2))}return Number(l)}),K=function(e,t){if("string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},Y=function(e,t,n){var i=void 0===n?{}:n,r=i.offset,o=void 0===r?0:r,s=i.mask,a=void 0===s?[]:s;e=$(e);var l=(t=$(t)).every?t.every:Array.prototype.every;return t.length&&e.length-o>=t.length&&l.call(t,(function(t,n){return t===(a[n]?a[n]&e[o+n]:e[o+n])}))};var X=n(3969);const J=e=>!!e&&"object"==typeof e,Q=(...e)=>e.reduce(((e,t)=>("object"!=typeof t||Object.keys(t).forEach((n=>{Array.isArray(e[n])&&Array.isArray(t[n])?e[n]=e[n].concat(t[n]):J(e[n])&&J(t[n])?e[n]=Q(e[n],t[n]):e[n]=t[n]})),e)),{}),Z=e=>Object.keys(e).map((t=>e[t])),ee=e=>e.reduce(((e,t)=>e.concat(t)),[]),te=e=>{if(!e.length)return[];const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t};const ne=({baseUrl:e="",source:t="",range:n="",indexRange:i=""})=>{const o={uri:t,resolvedUri:g(e||"",t)};if(n||i){const e=(n||i).split("-");let t,s=r().BigInt?r().BigInt(e[0]):parseInt(e[0],10),a=r().BigInt?r().BigInt(e[1]):parseInt(e[1],10);s<Number.MAX_SAFE_INTEGER&&"bigint"==typeof s&&(s=Number(s)),a<Number.MAX_SAFE_INTEGER&&"bigint"==typeof a&&(a=Number(a)),t="bigint"==typeof a||"bigint"==typeof s?r().BigInt(a)-r().BigInt(s)+r().BigInt(1):a-s+1,"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),o.byterange={length:t,offset:s}}return o},ie=e=>(e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e),re={static(e){const{duration:t,timescale:n=1,sourceDuration:i,periodDuration:r}=e,o=ie(e.endNumber),s=t/n;return"number"==typeof o?{start:0,end:o}:"number"==typeof r?{start:0,end:r/s}:{start:0,end:i/s}},dynamic(e){const{NOW:t,clientOffset:n,availabilityStartTime:i,timescale:r=1,duration:o,periodStart:s=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=e,c=ie(e.endNumber),u=(t+n)/1e3,h=i+s,d=u+a-h,p=Math.ceil(d*r/o),f=Math.floor((u-h-l)*r/o),m=Math.floor((u-h)*r/o);return{start:Math.max(0,f),end:"number"==typeof c?c:Math.min(p,m)}}},oe=e=>{const{type:t,duration:n,timescale:i=1,periodDuration:r,sourceDuration:o}=e,{start:s,end:a}=re[t](e),l=((e,t)=>{const n=[];for(let i=e;i<t;i++)n.push(i);return n})(s,a).map((e=>t=>{const{duration:n,timescale:i=1,periodStart:r,startNumber:o=1}=e;return{number:o+t,duration:n/i,timeline:r,time:t*n}})(e));if("static"===t){const e=l.length-1,t="number"==typeof r?r:o;l[e].duration=t-n/i*e}return l},se=e=>{const{baseUrl:t,initialization:n={},sourceDuration:i,indexRange:r="",periodStart:o,presentationTime:s,number:a=0,duration:l}=e;if(!t)throw new Error("NO_BASE_URL");const c=ne({baseUrl:t,source:n.sourceURL,range:n.range}),u=ne({baseUrl:t,source:t,indexRange:r});if(u.map=c,l){const t=oe(e);t.length&&(u.duration=t[0].duration,u.timeline=t[0].timeline)}else i&&(u.duration=i,u.timeline=o);return u.presentationTime=s||o,u.number=a,[u]},ae=(e,t,n)=>{const i=e.sidx.map?e.sidx.map:null,o=e.sidx.duration,s=e.timeline||0,a=e.sidx.byterange,l=a.offset+a.length,c=t.timescale,u=t.references.filter((e=>1!==e.referenceType)),h=[],d=e.endList?"static":"dynamic",p=e.sidx.timeline;let f,m=p,g=e.mediaSequence||0;f="bigint"==typeof t.firstOffset?r().BigInt(l)+t.firstOffset:l+t.firstOffset;for(let e=0;e<u.length;e++){const a=t.references[e],l=a.referencedSize,u=a.subsegmentDuration;let y;y="bigint"==typeof f?f+r().BigInt(l)-r().BigInt(1):f+l-1;const v=se({baseUrl:n,timescale:c,timeline:s,periodStart:p,presentationTime:m,number:g,duration:u,sourceDuration:o,indexRange:`${f}-${y}`,type:d})[0];i&&(v.map=i),h.push(v),f+="bigint"==typeof f?r().BigInt(l):l,m+=u/c,g++}return e.segments=h,e},le=["AUDIO","SUBTITLES"],ce=1/60,ue=e=>{return(t=e,n=({timeline:e})=>e,Z(t.reduce(((e,t)=>(t.forEach((t=>{e[n(t)]=t})),e)),{}))).sort(((e,t)=>e.timeline>t.timeline?1:-1));var t,n},he=e=>{let t=[];var n,i;return n=e,i=(e,n,i,r)=>{t=t.concat(e.playlists||[])},le.forEach((function(e){for(var t in n.mediaGroups[e])for(var r in n.mediaGroups[e][t]){var o=n.mediaGroups[e][t][r];i(o)}})),t},de=({playlist:e,mediaSequence:t})=>{e.mediaSequence=t,e.segments.forEach(((t,n)=>{t.number=e.mediaSequence+n}))},pe=e=>e&&e.uri+"-"+(e=>{let t;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?r().BigInt(e.offset)+r().BigInt(e.length)-r().BigInt(1):e.offset+e.length-1,`${e.offset}-${t}`})(e.byterange),fe=e=>{const t=e.reduce((function(e,t){return e[t.attributes.baseUrl]||(e[t.attributes.baseUrl]=[]),e[t.attributes.baseUrl].push(t),e}),{});let n=[];return Object.values(t).forEach((e=>{const t=Z(e.reduce(((e,t)=>{const n=t.attributes.id+(t.attributes.lang||"");return e[n]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),e[n].segments.push(...t.segments)),t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)):(e[n]=t,e[n].attributes.timelineStarts=[]),e[n].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e}),{}));n=n.concat(t)})),n.map((e=>{var t;return e.discontinuityStarts=(t=e.segments||[],t.reduce(((e,t,n)=>(t.discontinuity&&e.push(n),e)),[])),e}))},me=(e,t)=>{const n=pe(e.sidx),i=n&&t[n]&&t[n].sidx;return i&&ae(e,i,e.sidx.resolvedUri),e},ge=(e,t={})=>{if(!Object.keys(t).length)return e;for(const n in e)e[n]=me(e[n],t);return e},ye=({attributes:e,segments:t,sidx:n,discontinuityStarts:i})=>{const r={attributes:{NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuityStarts:i,timelineStarts:e.timelineStarts,segments:t};return e.frameRate&&(r.attributes["FRAME-RATE"]=e.frameRate),e.contentProtection&&(r.contentProtection=e.contentProtection),e.serviceLocation&&(r.attributes.serviceLocation=e.serviceLocation),n&&(r.sidx=n),r},ve=({attributes:e})=>"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType,be=({attributes:e})=>"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType,_e=({attributes:e})=>"text/vtt"===e.mimeType||"text"===e.contentType,we=e=>e?Object.keys(e).reduce(((t,n)=>{const i=e[n];return t.concat(i.playlists)}),[]):[],ke=({dashPlaylists:e,locations:t,contentSteering:n,sidxMapping:i={},previousManifest:r,eventStream:o})=>{if(!e.length)return{};const{sourceDuration:s,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:c}=e[0].attributes,u=fe(e.filter(ve)).map(ye),h=fe(e.filter(be)),d=fe(e.filter(_e)),p=e.map((e=>e.attributes.captionServices)).filter(Boolean),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:s,playlists:ge(u,i)};c>=0&&(f.minimumUpdatePeriod=1e3*c),t&&(f.locations=t),n&&(f.contentSteering=n),"dynamic"===a&&(f.suggestedPresentationDelay=l),o&&o.length>0&&(f.eventStream=o);const m=0===f.playlists.length,g=h.length?((e,t={},n=!1)=>{let i;const r=e.reduce(((e,r)=>{const o=r.attributes.role&&r.attributes.role.value||"",s=r.attributes.lang||"";let a=r.attributes.label||"main";if(s&&!r.attributes.label){const e=o?` (${o})`:"";a=`${r.attributes.lang}${e}`}e[a]||(e[a]={language:s,autoselect:!0,default:"main"===o,playlists:[],uri:""});const l=me((({attributes:e,segments:t,sidx:n,mediaSequence:i,discontinuitySequence:r,discontinuityStarts:o},s)=>{const a={attributes:{NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuitySequence:r,discontinuityStarts:o,timelineStarts:e.timelineStarts,mediaSequence:i,segments:t};return e.contentProtection&&(a.contentProtection=e.contentProtection),e.serviceLocation&&(a.attributes.serviceLocation=e.serviceLocation),n&&(a.sidx=n),s&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a})(r,n),t);return e[a].playlists.push(l),void 0===i&&"main"===o&&(i=r,i.default=!0),e}),{});return i||(r[Object.keys(r)[0]].default=!0),r})(h,i,m):null,y=d.length?((e,t={})=>e.reduce(((e,n)=>{const i=n.attributes.label||n.attributes.lang||"text";return e[i]||(e[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),e[i].playlists.push(me((({attributes:e,segments:t,mediaSequence:n,discontinuityStarts:i,discontinuitySequence:r})=>{void 0===t&&(t=[{uri:e.baseUrl,timeline:e.periodStart,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration);const o={NAME:e.id,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1};e.codecs&&(o.CODECS=e.codecs);const s={attributes:o,uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,timelineStarts:e.timelineStarts,discontinuityStarts:i,discontinuitySequence:r,mediaSequence:n,segments:t};return e.serviceLocation&&(s.attributes.serviceLocation=e.serviceLocation),s})(n),t)),e}),{}))(d,i):null,v=u.concat(we(g),we(y)),b=v.map((({timelineStarts:e})=>e));var _,w;return f.timelineStarts=ue(b),_=v,w=f.timelineStarts,_.forEach((e=>{e.mediaSequence=0,e.discontinuitySequence=w.findIndex((function({timeline:t}){return t===e.timeline})),e.segments&&e.segments.forEach(((e,t)=>{e.number=t}))})),g&&(f.mediaGroups.AUDIO.audio=g),y&&(f.mediaGroups.SUBTITLES.subs=y),p.length&&(f.mediaGroups["CLOSED-CAPTIONS"].cc=p.reduce(((e,t)=>t?(t.forEach((t=>{const{channel:n,language:i}=t;e[i]={autoselect:!1,default:!1,instreamId:n,language:i},t.hasOwnProperty("aspectRatio")&&(e[i].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[i].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[i]["3D"]=t["3D"])})),e):e),{})),r?(({oldManifest:e,newManifest:t})=>{const n=e.playlists.concat(he(e)),i=t.playlists.concat(he(t));return t.timelineStarts=ue([e.timelineStarts,t.timelineStarts]),(({oldPlaylists:e,newPlaylists:t,timelineStarts:n})=>{t.forEach((t=>{t.discontinuitySequence=n.findIndex((function({timeline:e}){return e===t.timeline}));const i=((e,t)=>{for(let n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null})(e,t.attributes.NAME);if(!i)return;if(t.sidx)return;const r=t.segments[0],o=i.segments.findIndex((function(e){return Math.abs(e.presentationTime-r.presentationTime)<ce}));if(-1===o)return de({playlist:t,mediaSequence:i.mediaSequence+i.segments.length}),t.segments[0].discontinuity=!0,t.discontinuityStarts.unshift(0),void((!i.segments.length&&t.timeline>i.timeline||i.segments.length&&t.timeline>i.segments[i.segments.length-1].timeline)&&t.discontinuitySequence--);i.segments[o].discontinuity&&!r.discontinuity&&(r.discontinuity=!0,t.discontinuityStarts.unshift(0),t.discontinuitySequence--),de({playlist:t,mediaSequence:i.segments[o].number})}))})({oldPlaylists:n,newPlaylists:i,timelineStarts:t.timelineStarts}),t})({oldManifest:r,newManifest:f}):f},Se=(e,t,n)=>{const{NOW:i,clientOffset:r,availabilityStartTime:o,timescale:s=1,periodStart:a=0,minimumUpdatePeriod:l=0}=e,c=(i+r)/1e3+l-(o+a);return Math.ceil((c*s-t)/n)},Ee=(e,t)=>{const{type:n,minimumUpdatePeriod:i=0,media:r="",sourceDuration:o,timescale:s=1,startNumber:a=1,periodStart:l}=e,c=[];let u=-1;for(let h=0;h<t.length;h++){const d=t[h],p=d.d,f=d.r||0,m=d.t||0;let g;if(u<0&&(u=m),m&&m>u&&(u=m),f<0){const a=h+1;g=a===t.length?"dynamic"===n&&i>0&&r.indexOf("$Number$")>0?Se(e,u,p):(o*s-u)/p:(t[a].t-u)/p}else g=f+1;const y=a+c.length+g;let v=a+c.length;for(;v<y;)c.push({number:v,duration:p/s,time:u,timeline:l}),u+=p,v++}return c},Te=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,xe=(e,t)=>e.replace(Te,(e=>(t,n,i,r)=>{if("$$"===t)return"$";if(void 0===e[n])return t;const o=""+e[n];return"RepresentationID"===n?o:(r=i?parseInt(r,10):1,o.length>=r?o:`${new Array(r-o.length+1).join("0")}${o}`)})(t)),Ce=(e,t)=>{const n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},{initialization:i={sourceURL:"",range:""}}=e,r=ne({baseUrl:e.baseUrl,source:xe(i.sourceURL,n),range:i.range}),o=((e,t)=>e.duration||t?e.duration?oe(e):Ee(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}])(e,t);return o.map((t=>{n.Number=t.number,n.Time=t.time;const i=xe(e.media||"",n),o=e.timescale||1,s=e.presentationTimeOffset||0,a=e.periodStart+(t.time-s)/o;return{uri:i,timeline:t.timeline,duration:t.duration,resolvedUri:g(e.baseUrl||"",i),map:r,number:t.number,presentationTime:a}}))},Pe=(e,t)=>{const{duration:n,segmentUrls:i=[],periodStart:r}=e;if(!n&&!t||n&&t)throw new Error("SEGMENT_TIME_UNSPECIFIED");const o=i.map((t=>((e,t)=>{const{baseUrl:n,initialization:i={}}=e,r=ne({baseUrl:n,source:i.sourceURL,range:i.range}),o=ne({baseUrl:n,source:t.media,range:t.mediaRange});return o.map=r,o})(e,t)));let s;return n&&(s=oe(e)),t&&(s=Ee(e,t)),s.map(((t,n)=>{if(o[n]){const i=o[n],s=e.timescale||1,a=e.presentationTimeOffset||0;return i.timeline=t.timeline,i.duration=t.duration,i.number=t.number,i.presentationTime=r+(t.time-a)/s,i}})).filter((e=>e))},Ae=({attributes:e,segmentInfo:t})=>{let n,i;t.template?(i=Ce,n=Q(e,t.template)):t.base?(i=se,n=Q(e,t.base)):t.list&&(i=Pe,n=Q(e,t.list));const r={attributes:e};if(!i)return r;const o=i(n,t.segmentTimeline);if(n.duration){const{duration:e,timescale:t=1}=n;n.duration=e/t}else o.length?n.duration=o.reduce(((e,t)=>Math.max(e,Math.ceil(t.duration))),0):n.duration=0;return r.attributes=n,r.segments=o,t.base&&n.indexRange&&(r.sidx=o[0],r.segments=[]),r},Oe=(e,t)=>te(e.childNodes).filter((({tagName:e})=>e===t)),Ie=e=>e.textContent.trim(),Le=e=>{const t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;const[n,i,r,o,s,a]=t.slice(1);return 31536e3*parseFloat(n||0)+2592e3*parseFloat(i||0)+86400*parseFloat(r||0)+3600*parseFloat(o||0)+60*parseFloat(s||0)+parseFloat(a||0)},De={mediaPresentationDuration(e){return Le(e)},availabilityStartTime(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod(e){return Le(e)},suggestedPresentationDelay(e){return Le(e)},type(e){return e},timeShiftBufferDepth(e){return Le(e)},start(e){return Le(e)},width(e){return parseInt(e,10)},height(e){return parseInt(e,10)},bandwidth(e){return parseInt(e,10)},frameRate(e){return(e=>parseFloat(e.split("/").reduce(((e,t)=>e/t))))(e)},startNumber(e){return parseInt(e,10)},timescale(e){return parseInt(e,10)},presentationTimeOffset(e){return parseInt(e,10)},duration(e){const t=parseInt(e,10);return isNaN(t)?Le(e):t},d(e){return parseInt(e,10)},t(e){return parseInt(e,10)},r(e){return parseInt(e,10)},presentationTime(e){return parseInt(e,10)},DEFAULT(e){return e}},Re=e=>e&&e.attributes?te(e.attributes).reduce(((e,t)=>{const n=De[t.name]||De.DEFAULT;return e[t.name]=n(t.value),e}),{}):{},Me={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},Ne=(e,t)=>t.length?ee(e.map((function(e){return t.map((function(t){const n=Ie(t),i=g(e.baseUrl,n),r=Q(Re(t),{baseUrl:i});return i!==n&&!r.serviceLocation&&e.serviceLocation&&(r.serviceLocation=e.serviceLocation),r}))}))):e,je=e=>{const t=Oe(e,"SegmentTemplate")[0],n=Oe(e,"SegmentList")[0],i=n&&Oe(n,"SegmentURL").map((e=>Q({tag:"SegmentURL"},Re(e)))),r=Oe(e,"SegmentBase")[0],o=n||t,s=o&&Oe(o,"SegmentTimeline")[0],a=n||r||t,l=a&&Oe(a,"Initialization")[0],c=t&&Re(t);c&&l?c.initialization=l&&Re(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});const u={template:c,segmentTimeline:s&&Oe(s,"S").map((e=>Re(e))),list:n&&Q(Re(n),{segmentUrls:i,initialization:Re(l)}),base:r&&Q(Re(r),{initialization:Re(l)})};return Object.keys(u).forEach((e=>{u[e]||delete u[e]})),u},Fe=e=>ee(Oe(e.node,"EventStream").map((t=>{const n=Re(t),i=n.schemeIdUri;return Oe(t,"Event").map((t=>{const r=Re(t),o=r.presentationTime||0,s=n.timescale||1,a=r.duration||0,l=o/s+e.attributes.start;return{schemeIdUri:i,value:n.value,id:r.id,start:l,end:l+a/s,messageData:Ie(t)||r.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}}))}))),Be=(e,t,n)=>i=>{const o=Re(i),s=Ne(t,Oe(i,"BaseURL")),a=Oe(i,"Role")[0],l={role:Re(a)};let c=Q(e,o,l);const u=Oe(i,"Accessibility")[0],h="urn:scte:dash:cc:cea-608:2015"===(d=Re(u)).schemeIdUri?("string"!=typeof d.value?[]:d.value.split(";")).map((e=>{let t,n;return n=e,/^CC\d=/.test(e)?[t,n]=e.split("="):/^CC\d$/.test(e)&&(t=e),{channel:t,language:n}})):"urn:scte:dash:cc:cea-708:2015"===d.schemeIdUri?("string"!=typeof d.value?[]:d.value.split(";")).map((e=>{const t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){const[n,i=""]=e.split("=");t.channel=n,t.language=e,i.split(",").forEach((e=>{const[n,i]=e.split(":");"lang"===n?t.language=i:"er"===n?t.easyReader=Number(i):"war"===n?t.aspectRatio=Number(i):"3D"===n&&(t["3D"]=Number(i))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t})):void 0;var d;h&&(c=Q(c,{captionServices:h}));const p=Oe(i,"Label")[0];if(p&&p.childNodes.length){const e=p.childNodes[0].nodeValue.trim();c=Q(c,{label:e})}const f=Oe(i,"ContentProtection").reduce(((e,t)=>{const n=Re(t);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const i=Me[n.schemeIdUri];if(i){e[i]={attributes:n};const o=Oe(t,"cenc:pssh")[0];if(o){const t=Ie(o);e[i].pssh=t&&function(e){for(var t,n=(t=e,r().atob?r().atob(t):Buffer.from(t,"base64").toString("binary")),i=new Uint8Array(n.length),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(t)}}return e}),{});Object.keys(f).length&&(c=Q(c,{contentProtection:f}));const m=je(i),g=Oe(i,"Representation"),y=Q(n,m);return ee(g.map(((e,t,n)=>i=>{const r=Oe(i,"BaseURL"),o=Ne(t,r),s=Q(e,Re(i)),a=je(i);return o.map((e=>({segmentInfo:Q(n,a),attributes:Q(s,e)})))})(c,s,y)))},Ue=(e,t)=>(n,i)=>{const r=Ne(t,Oe(n.node,"BaseURL")),o=Q(e,{periodStart:n.attributes.start});"number"==typeof n.attributes.duration&&(o.periodDuration=n.attributes.duration);const s=Oe(n.node,"AdaptationSet"),a=je(n.node);return ee(s.map(Be(o,r,a)))},qe=(e,t)=>{if(e.length>1&&t({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!e.length)return null;const n=Q({serverURL:Ie(e[0])},Re(e[0]));return n.queryBeforeStart="true"===n.queryBeforeStart,n},Ve=e=>{if(""===e)throw new Error("DASH_EMPTY_MANIFEST");const t=new X.DOMParser;let n,i;try{n=t.parseFromString(e,"application/xml"),i=n&&"MPD"===n.documentElement.tagName?n.documentElement:null}catch(e){}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return i};var He,$e=n(4221),ze=n.n($e),We=$([73,68,51]),Ge=function e(t,n){return void 0===n&&(n=0),(t=$(t)).length-n<10||!Y(t,We,{offset:n})?n:(n+=function(e,t){void 0===t&&(t=0);var n=(e=$(e))[t+5],i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&n)>>4?i+20:i+10}(t,n),e(t,n))},Ke=(new Uint8Array([79,112,117,115,72,101,97,100]),function(e){return"string"==typeof e?K(e):e}),Ye=function(e){e=$(e);for(var t=[],n=0;e.length>n;){var i=e[n],r=0,o=0,s=e[++o];for(o++;128&s;)r=(127&s)<<7,s=e[o],o++;r+=127&s;for(var a=0;a<He.length;a++){var l=He[a],c=l.id,u=l.parser;if(i===c){t.push(u(e.subarray(o,o+r)));break}}n+=r+o}return t};He=[{id:3,parser:function(e){var t={tag:3,id:e[0]<<8|e[1],flags:e[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&t.flags&&(t.dependsOnEsId=e[t.size]<<8|e[t.size+1],t.size+=2),64&t.flags){var n=e[t.size];t.url=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,$(e));try{return decodeURIComponent(escape(t))}catch(e){}return t}(e.subarray(t.size+1,t.size+1+n)),t.size+=n}return 32&t.flags&&(t.ocrEsId=e[t.size]<<8|e[t.size+1],t.size+=2),t.descriptors=Ye(e.subarray(t.size))||[],t}},{id:4,parser:function(e){return{tag:4,oti:e[0],streamType:e[1],bufferSize:e[2]<<16|e[3]<<8|e[4],maxBitrate:e[5]<<24|e[6]<<16|e[7]<<8|e[8],avgBitrate:e[9]<<24|e[10]<<16|e[11]<<8|e[12],descriptors:Ye(e.subarray(13))}}},{id:5,parser:function(e){return{tag:5,bytes:e}}},{id:6,parser:function(e){return{tag:6,bytes:e}}}];var Xe=function e(t,n,i){void 0===i&&(i=!1),n=function(e){return Array.isArray(e)?e.map((function(e){return Ke(e)})):[Ke(e)]}(n),t=$(t);var r=[];if(!n.length)return r;for(var o=0;o<t.length;){var s=(t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3])>>>0,a=t.subarray(o+4,o+8);if(0===s)break;var l=o+s;if(l>t.length){if(i)break;l=t.length}var c=t.subarray(o+8,l);Y(a,n[0])&&(1===n.length?r.push(c):r.push.apply(r,e(c,n.slice(1),i))),o=l}return r},Je={EBML:$([26,69,223,163]),DocType:$([66,130]),Segment:$([24,83,128,103]),SegmentInfo:$([21,73,169,102]),Tracks:$([22,84,174,107]),Track:$([174]),TrackNumber:$([215]),DefaultDuration:$([35,227,131]),TrackEntry:$([174]),TrackType:$([131]),FlagDefault:$([136]),CodecID:$([134]),CodecPrivate:$([99,162]),VideoTrack:$([224]),AudioTrack:$([225]),Cluster:$([31,67,182,117]),Timestamp:$([231]),TimestampScale:$([42,215,177]),BlockGroup:$([160]),BlockDuration:$([155]),Block:$([161]),SimpleBlock:$([163])},Qe=[128,64,32,16,8,4,2,1],Ze=function(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1);var r=function(e){for(var t=1,n=0;n<Qe.length&&!(e&Qe[n]);n++)t++;return t}(e[t]),o=e.subarray(t,t+r);return n&&((o=Array.prototype.slice.call(e,t,t+r))[0]^=Qe[r-1]),{length:r,value:G(o,{signed:i}),bytes:o}},et=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map((function(t){return e(t)})):"number"==typeof t?function(e,t){var n=(void 0===t?{}:t).le,i=void 0!==n&&n;("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e)&&(e=0);for(var r,o=(r=e=z(e),Math.ceil(function(e){return e.toString(2).length}(r)/8)),s=new Uint8Array(new ArrayBuffer(o)),a=0;a<o;a++){var l=i?a:Math.abs(a+1-s.length);s[l]=Number(e/W[a]&z(255)),e<0&&(s[l]=Math.abs(~s[l]),s[l]-=0===a?1:2)}return s}(t):t},tt=function e(t,n,i){if(i>=n.length)return n.length;var r=Ze(n,i,!1);if(Y(t.bytes,r.bytes))return i;var o=Ze(n,i+r.length);return e(t,n,i+o.length+o.value+r.length)},nt=function e(t,n){n=function(e){return Array.isArray(e)?e.map((function(e){return et(e)})):[et(e)]}(n),t=$(t);var i=[];if(!n.length)return i;for(var r=0;r<t.length;){var o=Ze(t,r,!1),s=Ze(t,r+o.length),a=r+o.length+s.length;127===s.value&&(s.value=tt(o,t,a),s.value!==t.length&&(s.value-=a));var l=a+s.value>t.length?t.length:a+s.value,c=t.subarray(a,l);Y(n[0],o.bytes)&&(1===n.length?i.push(c):i=i.concat(e(c,n.slice(1)))),r+=o.length+s.length+c.length}return i},it=$([0,0,0,1]),rt=$([0,0,1]),ot=$([0,0,3]),st=function(e){for(var t=[],n=1;n<e.length-2;)Y(e.subarray(n,n+3),ot)&&(t.push(n+2),n++),n++;if(0===t.length)return e;var i=e.length-t.length,r=new Uint8Array(i),o=0;for(n=0;n<i;o++,n++)o===t[0]&&(o++,t.shift()),r[n]=e[o];return r},at=function(e,t,n,i){void 0===i&&(i=1/0),e=$(e),n=[].concat(n);for(var r,o=0,s=0;o<e.length&&(s<i||r);){var a=void 0;if(Y(e.subarray(o),it)?a=4:Y(e.subarray(o),rt)&&(a=3),a){if(s++,r)return st(e.subarray(r,o));var l=void 0;"h264"===t?l=31&e[o+a]:"h265"===t&&(l=e[o+a]>>1&63),-1!==n.indexOf(l)&&(r=o+a),o+=a+("h264"===t?1:2)}else o++}return e.subarray(0,0)},lt={webm:$([119,101,98,109]),matroska:$([109,97,116,114,111,115,107,97]),flac:$([102,76,97,67]),ogg:$([79,103,103,83]),ac3:$([11,119]),riff:$([82,73,70,70]),avi:$([65,86,73]),wav:$([87,65,86,69]),"3gp":$([102,116,121,112,51,103]),mp4:$([102,116,121,112]),fmp4:$([115,116,121,112]),mov:$([102,116,121,112,113,116]),moov:$([109,111,111,118]),moof:$([109,111,111,102])},ct={aac:function(e){var t=Ge(e);return Y(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=Ge(e);return Y(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=nt(e,[Je.EBML,Je.DocType])[0];return Y(t,lt.webm)},mkv:function(e){var t=nt(e,[Je.EBML,Je.DocType])[0];return Y(t,lt.matroska)},mp4:function(e){return!ct["3gp"](e)&&!ct.mov(e)&&(!(!Y(e,lt.mp4,{offset:4})&&!Y(e,lt.fmp4,{offset:4}))||!(!Y(e,lt.moof,{offset:4})&&!Y(e,lt.moov,{offset:4}))||void 0)},mov:function(e){return Y(e,lt.mov,{offset:4})},"3gp":function(e){return Y(e,lt["3gp"],{offset:4})},ac3:function(e){var t=Ge(e);return Y(e,lt.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=Ge(e);return Y(e,lt.flac,{offset:t})},ogg:function(e){return Y(e,lt.ogg)},avi:function(e){return Y(e,lt.riff)&&Y(e,lt.avi,{offset:8})},wav:function(e){return Y(e,lt.riff)&&Y(e,lt.wav,{offset:8})},h264:function(e){return function(e){return at(e,"h264",7,3)}(e).length},h265:function(e){return function(e){return at(e,"h265",[32,33],3)}(e).length}},ut=Object.keys(ct).filter((function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e})).concat(["ts","h264","h265"]);ut.forEach((function(e){var t=ct[e];ct[e]=function(e){return t($(e))}}));var ht=ct,dt=function(e){e=$(e);for(var t=0;t<ut.length;t++){var n=ut[t];if(ht[n](e))return n}return""},pt=n(1489),ft="8.17.1";const mt={},gt=function(e,t){return mt[e]=mt[e]||[],t&&(mt[e]=mt[e].concat(t)),mt[e]},yt=function(e,t){const n=gt(e).indexOf(t);return!(n<=-1||(mt[e]=mt[e].slice(),mt[e].splice(n,1),0))},vt={prefixed:!0},bt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],_t=bt[0];let wt;for(let e=0;e<bt.length;e++)if(bt[e][1]in s()){wt=bt[e];break}if(wt){for(let e=0;e<wt.length;e++)vt[_t[e]]=wt[e];vt.prefixed=wt[0]!==_t[0]}let kt=[];const St=function e(t,n=":",i=""){let o,s="info";function a(...e){o("log",s,e)}return o=((e,t,n)=>(i,o,s)=>{const a=t.levels[o],l=new RegExp(`^(${a})$`);let c=e;if("log"!==i&&s.unshift(i.toUpperCase()+":"),n&&(c=`%c${e}`,s.unshift(n)),s.unshift(c+":"),kt){kt.push([].concat(s));const e=kt.length-1e3;kt.splice(0,e>0?e:0)}if(!r().console)return;let u=r().console[i];u||"debug"!==i||(u=r().console.info||r().console.log),u&&a&&l.test(i)&&u[Array.isArray(s)?"apply":"call"](r().console,s)})(t,a,i),a.createLogger=(r,o,s)=>{const a=void 0!==o?o:n;return e(`${t} ${a} ${r}`,a,void 0!==s?s:i)},a.createNewLogger=(t,n,i)=>e(t,n,i),a.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:s},a.level=e=>{if("string"==typeof e){if(!a.levels.hasOwnProperty(e))throw new Error(`"${e}" in not a valid log level`);s=e}return s},a.history=()=>kt?[].concat(kt):[],a.history.filter=e=>(kt||[]).filter((t=>new RegExp(`.*${e}.*`).test(t[0]))),a.history.clear=()=>{kt&&(kt.length=0)},a.history.disable=()=>{null!==kt&&(kt.length=0,kt=null)},a.history.enable=()=>{null===kt&&(kt=[])},a.error=(...e)=>o("error",s,e),a.warn=(...e)=>o("warn",s,e),a.debug=(...e)=>o("debug",s,e),a}("VIDEOJS"),Et=St.createLogger,Tt=Object.prototype.toString,xt=function(e){return At(e)?Object.keys(e):[]};function Ct(e,t){xt(e).forEach((n=>t(e[n],n)))}function Pt(e,t,n=0){return xt(e).reduce(((n,i)=>t(n,e[i],i)),n)}function At(e){return!!e&&"object"==typeof e}function Ot(e){return At(e)&&"[object Object]"===Tt.call(e)&&e.constructor===Object}function It(...e){const t={};return e.forEach((e=>{e&&Ct(e,((e,n)=>{Ot(e)?(Ot(t[n])||(t[n]={}),t[n]=It(t[n],e)):t[n]=e}))})),t}function Lt(e={}){const t=[];for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];t.push(i)}return t}function Dt(e,t,n,i=!0){const r=n=>Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0}),o={configurable:!0,enumerable:!0,get(){const e=n();return r(e),e}};return i&&(o.set=r),Object.defineProperty(e,t,o)}var Rt=Object.freeze({__proto__:null,each:Ct,reduce:Pt,isObject:At,isPlain:Ot,merge:It,values:Lt,defineLazyProperty:Dt});let Mt,Nt=!1,jt=null,Ft=!1,Bt=!1,Ut=!1,qt=!1,Vt=!1,Ht=null,$t=null;const zt=Boolean(r().cast&&r().cast.framework&&r().cast.framework.CastReceiverContext);let Wt=null,Gt=!1,Kt=!1,Yt=!1,Xt=!1,Jt=!1,Qt=!1,Zt=!1;const en=Boolean(an()&&("ontouchstart"in r()||r().navigator.maxTouchPoints||r().DocumentTouch&&r().document instanceof r().DocumentTouch)),tn=r().navigator&&r().navigator.userAgentData;if(tn&&tn.platform&&tn.brands&&(Ft="Android"===tn.platform,Ut=Boolean(tn.brands.find((e=>"Microsoft Edge"===e.brand))),qt=Boolean(tn.brands.find((e=>"Chromium"===e.brand))),Vt=!Ut&&qt,Ht=$t=(tn.brands.find((e=>"Chromium"===e.brand))||{}).version||null,Kt="Windows"===tn.platform),!qt){const e=r().navigator&&r().navigator.userAgent||"";Nt=/iPod/i.test(e),jt=function(){const t=e.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Ft=/Android/i.test(e),Mt=function(){const t=e.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;const n=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return n&&i?parseFloat(t[1]+"."+t[2]):n||null}(),Bt=/Firefox/i.test(e),Ut=/Edg/i.test(e),qt=/Chrome/i.test(e)||/CriOS/i.test(e),Vt=!Ut&&qt,Ht=$t=function(){const t=e.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),Wt=function(){const t=/MSIE\s(\d+)\.\d/.exec(e);let n=t&&parseFloat(t[1]);return!n&&/Trident\/7.0/i.test(e)&&/rv:11.0/.test(e)&&(n=11),n}(),Jt=/Tizen/i.test(e),Qt=/Web0S/i.test(e),Zt=Jt||Qt,Gt=/Safari/i.test(e)&&!Vt&&!Ft&&!Ut&&!Zt,Kt=/Windows/i.test(e),Yt=/iPad/i.test(e)||Gt&&en&&!/iPhone/i.test(e),Xt=/iPhone/i.test(e)&&!Yt}const nn=Xt||Yt||Nt,rn=(Gt||nn)&&!Vt;var on=Object.freeze({__proto__:null,get IS_IPOD(){return Nt},get IOS_VERSION(){return jt},get IS_ANDROID(){return Ft},get ANDROID_VERSION(){return Mt},get IS_FIREFOX(){return Bt},get IS_EDGE(){return Ut},get IS_CHROMIUM(){return qt},get IS_CHROME(){return Vt},get CHROMIUM_VERSION(){return Ht},get CHROME_VERSION(){return $t},IS_CHROMECAST_RECEIVER:zt,get IE_VERSION(){return Wt},get IS_SAFARI(){return Gt},get IS_WINDOWS(){return Kt},get IS_IPAD(){return Yt},get IS_IPHONE(){return Xt},get IS_TIZEN(){return Jt},get IS_WEBOS(){return Qt},get IS_SMART_TV(){return Zt},TOUCH_ENABLED:en,IS_IOS:nn,IS_ANY_SAFARI:rn});function sn(e){return"string"==typeof e&&Boolean(e.trim())}function an(){return s()===r().document}function ln(e){return At(e)&&1===e.nodeType}function cn(){try{return r().parent!==r().self}catch(e){return!0}}function un(e){return function(t,n){if(!sn(t))return s()[e](null);sn(n)&&(n=s().querySelector(n));const i=ln(n)?n:s();return i[e]&&i[e](t)}}function hn(e="div",t={},n={},i){const r=s().createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){const n=t[e];"textContent"===e?dn(r,n):r[e]===n&&"tabIndex"!==e||(r[e]=n)})),Object.getOwnPropertyNames(n).forEach((function(e){r.setAttribute(e,n[e])})),i&&In(r,i),r}function dn(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function pn(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function fn(e,t){return function(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}(t),e.classList.contains(t)}function mn(e,...t){return e.classList.add(...t.reduce(((e,t)=>e.concat(t.split(/\s+/))),[])),e}function gn(e,...t){return e?(e.classList.remove(...t.reduce(((e,t)=>e.concat(t.split(/\s+/))),[])),e):(St.warn("removeClass was called with an element that doesn't exist"),null)}function yn(e,t,n){return"function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=void 0),t.split(/\s+/).forEach((t=>e.classList.toggle(t,n))),e}function vn(e,t){Object.getOwnPropertyNames(t).forEach((function(n){const i=t[n];null==i||!1===i?e.removeAttribute(n):e.setAttribute(n,!0===i?"":i)}))}function bn(e){const t={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(e&&e.attributes&&e.attributes.length>0){const i=e.attributes;for(let e=i.length-1;e>=0;e--){const r=i[e].name;let o=i[e].value;n.includes(r)&&(o=null!==o),t[r]=o}}return t}function _n(e,t){return e.getAttribute(t)}function wn(e,t,n){e.setAttribute(t,n)}function kn(e,t){e.removeAttribute(t)}function Sn(){s().body.focus(),s().onselectstart=function(){return!1}}function En(){s().onselectstart=function(){return!0}}function Tn(e){if(e&&e.getBoundingClientRect&&e.parentNode){const t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((e=>{void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(Nn(e,"height"))),n.width||(n.width=parseFloat(Nn(e,"width"))),n}}function xn(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};const t=e.offsetWidth,n=e.offsetHeight;let i=0,r=0;for(;e.offsetParent&&e!==s()[vt.fullscreenElement];)i+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{left:i,top:r,width:t,height:n}}function Cn(e,t){const n={x:0,y:0};if(nn){let t=e;for(;t&&"html"!==t.nodeName.toLowerCase();){const e=Nn(t,"transform");if(/^matrix/.test(e)){const t=e.slice(7,-1).split(/,\s/).map(Number);n.x+=t[4],n.y+=t[5]}else if(/^matrix3d/.test(e)){const t=e.slice(9,-1).split(/,\s/).map(Number);n.x+=t[12],n.y+=t[13]}if(t.assignedSlot&&t.assignedSlot.parentElement&&r().WebKitCSSMatrix){const e=r().getComputedStyle(t.assignedSlot.parentElement).transform,i=new(r().WebKitCSSMatrix)(e);n.x+=i.m41,n.y+=i.m42}t=t.parentNode||t.host}}const i={},o=xn(t.target),s=xn(e),a=s.width,l=s.height;let c=t.offsetY-(s.top-o.top),u=t.offsetX-(s.left-o.left);return t.changedTouches&&(u=t.changedTouches[0].pageX-s.left,c=t.changedTouches[0].pageY+s.top,nn&&(u-=n.x,c-=n.y)),i.y=1-Math.max(0,Math.min(1,c/l)),i.x=Math.max(0,Math.min(1,u/a)),i}function Pn(e){return At(e)&&3===e.nodeType}function An(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function On(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((e=>("function"==typeof e&&(e=e()),ln(e)||Pn(e)?e:"string"==typeof e&&/\S/.test(e)?s().createTextNode(e):void 0))).filter((e=>e))}function In(e,t){return On(t).forEach((t=>e.appendChild(t))),e}function Ln(e,t){return In(An(e),t)}function Dn(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||"mouseup"===e.type&&0===e.button&&0===e.buttons||"mousedown"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}const Rn=un("querySelector"),Mn=un("querySelectorAll");function Nn(e,t){if(!e||!t)return"";if("function"==typeof r().getComputedStyle){let n;try{n=r().getComputedStyle(e)}catch(e){return""}return n?n.getPropertyValue(t)||n[t]:""}return""}function jn(e){[...s().styleSheets].forEach((t=>{try{const n=[...t.cssRules].map((e=>e.cssText)).join(""),i=s().createElement("style");i.textContent=n,e.document.head.appendChild(i)}catch(n){const i=s().createElement("link");i.rel="stylesheet",i.type=t.type,i.media=t.media.mediaText,i.href=t.href,e.document.head.appendChild(i)}}))}var Fn=Object.freeze({__proto__:null,isReal:an,isEl:ln,isInFrame:cn,createEl:hn,textContent:dn,prependTo:pn,hasClass:fn,addClass:mn,removeClass:gn,toggleClass:yn,setAttributes:vn,getAttributes:bn,getAttribute:_n,setAttribute:wn,removeAttribute:kn,blockTextSelection:Sn,unblockTextSelection:En,getBoundingClientRect:Tn,findPosition:xn,getPointerPosition:Cn,isTextNode:Pn,emptyEl:An,normalizeContent:On,appendContent:In,insertContent:Ln,isSingleLeftClick:Dn,$:Rn,$$:Mn,computedStyle:Nn,copyStyleSheetsToWindow:jn});let Bn,Un=!1;const qn=function(){if(!1===Bn.options.autoSetup)return;const e=Array.prototype.slice.call(s().getElementsByTagName("video")),t=Array.prototype.slice.call(s().getElementsByTagName("audio")),n=Array.prototype.slice.call(s().getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&i.length>0)for(let e=0,t=i.length;e<t;e++){const t=i[e];if(!t||!t.getAttribute){Vn(1);break}void 0===t.player&&null!==t.getAttribute("data-setup")&&Bn(t)}else Un||Vn(1)};function Vn(e,t){an()&&(t&&(Bn=t),r().setTimeout(qn,e))}function Hn(){Un=!0,r().removeEventListener("load",Hn)}an()&&("complete"===s().readyState?Hn():r().addEventListener("load",Hn));const $n=function(e){const t=s().createElement("style");return t.className=e,t},zn=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};var Wn=new WeakMap;let Gn,Kn=3;function Yn(){return Kn++}function Xn(e,t){if(!Wn.has(e))return;const n=Wn.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Wn.delete(e)}function Jn(e,t,n,i){n.forEach((function(n){e(t,n,i)}))}function Qn(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){const i=e||r().event;e={};const o=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const t in i)o.includes(t)||"returnValue"===t&&i.preventDefault||(e[t]=i[t]);if(e.target||(e.target=e.srcElement||s()),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){const t=s().documentElement,n=s().body;e.pageX=e.clientX+(t&&t.scrollLeft||n&&n.scrollLeft||0)-(t&&t.clientLeft||n&&n.clientLeft||0),e.pageY=e.clientY+(t&&t.scrollTop||n&&n.scrollTop||0)-(t&&t.clientTop||n&&n.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}const Zn=function(){if("boolean"!=typeof Gn){Gn=!1;try{const e=Object.defineProperty({},"passive",{get(){Gn=!0}});r().addEventListener("test",null,e),r().removeEventListener("test",null,e)}catch(e){}}return Gn},ei=["touchstart","touchmove"];function ti(e,t,n){if(Array.isArray(t))return Jn(ti,e,t,n);Wn.has(e)||Wn.set(e,{});const i=Wn.get(e);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=Yn()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(i.disabled)return;t=Qn(t);const r=i.handlers[t.type];if(r){const i=r.slice(0);for(let r=0,o=i.length;r<o&&!t.isImmediatePropagationStopped();r++)try{i[r].call(e,t,n)}catch(e){St.error(e)}}}),1===i.handlers[t].length)if(e.addEventListener){let n=!1;Zn()&&ei.indexOf(t)>-1&&(n={passive:!0}),e.addEventListener(t,i.dispatcher,n)}else e.attachEvent&&e.attachEvent("on"+t,i.dispatcher)}function ni(e,t,n){if(!Wn.has(e))return;const i=Wn.get(e);if(!i.handlers)return;if(Array.isArray(t))return Jn(ni,e,t,n);const r=function(e,t){i.handlers[t]=[],Xn(e,t)};if(void 0===t){for(const t in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},t)&&r(e,t);return}const o=i.handlers[t];if(o)if(n){if(n.guid)for(let e=0;e<o.length;e++)o[e].guid===n.guid&&o.splice(e--,1);Xn(e,t)}else r(e,t)}function ii(e,t,n){const i=Wn.has(e)?Wn.get(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=Qn(t),i.dispatcher&&i.dispatcher.call(e,t,n),r&&!t.isPropagationStopped()&&!0===t.bubbles)ii.call(null,r,t,n);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){Wn.has(t.target)||Wn.set(t.target,{});const e=Wn.get(t.target);t.target[t.type]&&(e.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),e.disabled=!1)}return!t.defaultPrevented}function ri(e,t,n){if(Array.isArray(t))return Jn(ri,e,t,n);const i=function(){ni(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Yn(),ti(e,t,i)}function oi(e,t,n){const i=function(){ni(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Yn(),ti(e,t,i)}var si=Object.freeze({__proto__:null,fixEvent:Qn,on:ti,off:ni,trigger:ii,one:ri,any:oi});const ai=30,li=function(e,t,n){t.guid||(t.guid=Yn());const i=t.bind(e);return i.guid=n?n+"_"+t.guid:t.guid,i},ci=function(e,t){let n=r().performance.now();return function(...i){const o=r().performance.now();o-n>=t&&(e(...i),n=o)}},ui=function(e,t,n,i=r()){let o;const s=function(){const r=this,s=arguments;let a=function(){o=null,a=null,n||e.apply(r,s)};!o&&n&&e.apply(r,s),i.clearTimeout(o),o=i.setTimeout(a,t)};return s.cancel=()=>{i.clearTimeout(o),o=null},s};var hi=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:ai,bind_:li,throttle:ci,debounce:ui});let di;class pi{on(e,t){const n=this.addEventListener;this.addEventListener=()=>{},ti(this,e,t),this.addEventListener=n}off(e,t){ni(this,e,t)}one(e,t){const n=this.addEventListener;this.addEventListener=()=>{},ri(this,e,t),this.addEventListener=n}any(e,t){const n=this.addEventListener;this.addEventListener=()=>{},oi(this,e,t),this.addEventListener=n}trigger(e){const t=e.type||e;"string"==typeof e&&(e={type:t}),e=Qn(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),ii(this,e)}queueTrigger(e){di||(di=new Map);const t=e.type||e;let n=di.get(this);n||(n=new Map,di.set(this,n));const i=n.get(t);n.delete(t),r().clearTimeout(i);const o=r().setTimeout((()=>{n.delete(t),0===n.size&&(n=null,di.delete(this)),this.trigger(e)}),0);n.set(t,o)}}pi.prototype.allowedEvents_={},pi.prototype.addEventListener=pi.prototype.on,pi.prototype.removeEventListener=pi.prototype.off,pi.prototype.dispatchEvent=pi.prototype.trigger;const fi=e=>"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e,mi=e=>e instanceof pi||!!e.eventBusEl_&&["on","one","off","trigger"].every((t=>"function"==typeof e[t])),gi=e=>"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length,yi=(e,t,n)=>{if(!e||!e.nodeName&&!mi(e))throw new Error(`Invalid target for ${fi(t)}#${n}; must be a DOM node or evented object.`)},vi=(e,t,n)=>{if(!gi(e))throw new Error(`Invalid event type for ${fi(t)}#${n}; must be a non-empty string or array.`)},bi=(e,t,n)=>{if("function"!=typeof e)throw new Error(`Invalid listener for ${fi(t)}#${n}; must be a function.`)},_i=(e,t,n)=>{const i=t.length<3||t[0]===e||t[0]===e.eventBusEl_;let r,o,s;return i?(r=e.eventBusEl_,t.length>=3&&t.shift(),[o,s]=t):[r,o,s]=t,yi(r,e,n),vi(o,e,n),bi(s,e,n),s=li(e,s),{isTargetingSelf:i,target:r,type:o,listener:s}},wi=(e,t,n,i)=>{yi(e,e,t),e.nodeName?si[t](e,n,i):e[t](n,i)},ki={on(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=_i(this,e,"on");if(wi(n,"on",i,r),!t){const e=()=>this.off(n,i,r);e.guid=r.guid;const t=()=>this.off("dispose",e);t.guid=r.guid,wi(this,"on","dispose",e),wi(n,"on","dispose",t)}},one(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=_i(this,e,"one");if(t)wi(n,"one",i,r);else{const e=(...t)=>{this.off(n,i,e),r.apply(null,t)};e.guid=r.guid,wi(n,"one",i,e)}},any(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=_i(this,e,"any");if(t)wi(n,"any",i,r);else{const e=(...t)=>{this.off(n,i,e),r.apply(null,t)};e.guid=r.guid,wi(n,"any",i,e)}},off(e,t,n){if(!e||gi(e))ni(this.eventBusEl_,e,t);else{const i=e,r=t;yi(i,this,"off"),vi(r,this,"off"),bi(n,this,"off"),n=li(this,n),this.off("dispose",n),i.nodeName?(ni(i,r,n),ni(i,"dispose",n)):mi(i)&&(i.off(r,n),i.off("dispose",n))}},trigger(e,t){yi(this.eventBusEl_,this,"trigger");const n=e&&"string"!=typeof e?e.type:e;if(!gi(n))throw new Error(`Invalid event type for ${fi(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return ii(this.eventBusEl_,e,t)}};function Si(e,t={}){const{eventBusKey:n}=t;if(n){if(!e[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);e.eventBusEl_=e[n]}else e.eventBusEl_=hn("span",{className:"vjs-event-bus"});return Object.assign(e,ki),e.eventedCallbacks&&e.eventedCallbacks.forEach((e=>{e()})),e.on("dispose",(()=>{e.off(),[e,e.el_,e.eventBusEl_].forEach((function(e){e&&Wn.has(e)&&Wn.delete(e)})),r().setTimeout((()=>{e.eventBusEl_=null}),0)})),e}const Ei={state:{},setState(e){let t;return"function"==typeof e&&(e=e()),Ct(e,((e,n)=>{this.state[n]!==e&&(t=t||{},t[n]={from:this.state[n],to:e}),this.state[n]=e})),t&&mi(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function Ti(e,t){return Object.assign(e,Ei),e.state=Object.assign({},e.state,t),"function"==typeof e.handleStateChanged&&mi(e)&&e.on("statechanged",e.handleStateChanged),e}const xi=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toLowerCase()))},Ci=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toUpperCase()))},Pi=function(e,t){return Ci(e)===Ci(t)};var Ai=Object.freeze({__proto__:null,toLowerCase:xi,toTitleCase:Ci,titleCaseEquals:Pi});class Oi{constructor(e,t,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=It({},this.options_),t=this.options_=It(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){const t=e&&e.id&&e.id()||"no_player";this.id_=`${t}_component_${Yn()}`}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach((e=>this.addClass(e))),["on","off","one","any","trigger"].forEach((e=>{this[e]=void 0})),!1!==t.evented&&(Si(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Ti(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}on(e,t){}off(e,t){}one(e,t){}any(e,t){}trigger(e,t){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return Boolean(this.isDisposed_)}player(){return this.player_}options(e){return e?(this.options_=It(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,t,n){return hn(e,t,n)}localize(e,t,n=e){const i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),o=r&&r[i],s=i&&i.split("-")[0],a=r&&r[s];let l=n;return o&&o[e]?l=o[e]:a&&a[e]&&(l=a[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,n){const i=t[n-1];let r=i;return void 0===i&&(r=e),r}))),l}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce(((e,t)=>e.concat(t)),[]);let t=this;for(let n=0;n<e.length;n++)if(t=t.getChild(e[n]),!t||!t.getChild)return;return t}setIcon(e,t=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",i=hn("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),r=s().createElementNS(n,"svg");r.setAttributeNS(null,"viewBox","0 0 512 512");const o=s().createElementNS(n,"use");return r.appendChild(o),o.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(r),this.iconIsSet_?t.replaceChild(i,t.querySelector(".vjs-icon-placeholder")):t.appendChild(i),this.iconIsSet_=!0,i}addChild(e,t={},n=this.children_.length){let i,r;if("string"==typeof e){r=Ci(e);const n=t.componentClass||r;t.name=r;const o=Oi.getComponent(n);if(!o)throw new Error(`Component ${n} does not exist`);if("function"!=typeof o)return null;i=new o(this.player_||this,t)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(n,0,i),i.parentComponent_=this,"function"==typeof i.id&&(this.childIndex_[i.id()]=i),r=r||i.name&&Ci(i.name()),r&&(this.childNameIndex_[r]=i,this.childNameIndex_[xi(r)]=i),"function"==typeof i.el&&i.el()){let e=null;this.children_[n+1]&&(this.children_[n+1].el_?e=this.children_[n+1].el_:ln(this.children_[n+1])&&(e=this.children_[n+1])),this.contentEl().insertBefore(i.el(),e)}return i}removeChild(e){if("string"==typeof e&&(e=this.getChild(e)),!e||!this.children_)return;let t=!1;for(let n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(!t)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Ci(e.name())]=null,this.childNameIndex_[xi(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const t=this.options_,n=e=>{const n=e.name;let i=e.opts;if(void 0!==t[n]&&(i=t[n]),!1===i)return;!0===i&&(i={}),i.playerOptions=this.options_.playerOptions;const r=this.addChild(n,i);r&&(this[n]=r)};let i;const r=Oi.getComponent("Tech");i=Array.isArray(e)?e:Object.keys(e),i.concat(Object.keys(this.options_).filter((function(e){return!i.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((t=>{let n,i;return"string"==typeof t?(n=t,i=e[n]||this.options_[n]||{}):(n=t.name,i=t),{name:n,opts:i}})).filter((e=>{const t=Oi.getComponent(e.opts.componentClass||Ci(e.name));return t&&!r.isTech(t)})).forEach(n)}}buildCSSClass(){return""}ready(e,t=!1){if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))}triggerReady(){this.isReady_=!0,this.setTimeout((function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)}$(e,t){return Rn(e,t||this.contentEl())}$$(e,t){return Mn(e,t||this.contentEl())}hasClass(e){return fn(this.el_,e)}addClass(...e){mn(this.el_,...e)}removeClass(...e){gn(this.el_,...e)}toggleClass(e,t){yn(this.el_,e,t)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return _n(this.el_,e)}setAttribute(e,t){wn(this.el_,e,t)}removeAttribute(e){kn(this.el_,e)}width(e,t){return this.dimension("width",e,t)}height(e,t){return this.dimension("height",e,t)}dimensions(e,t){this.width(e,!0),this.height(t)}dimension(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;const i=this.el_.style[e],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+Ci(e)],10)}currentDimension(e){let t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=Nn(this.el_,e),t=parseFloat(t),0===t||isNaN(t)){const n=`offset${Ci(e)}`;t=this.el_[n]}return t}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect();return{boundingClientRect:{x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},center:{x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2}}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&("Tab"===e.key||this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e,t=0,n=null;this.on("touchstart",(function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=r().performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(n){const i=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY;Math.sqrt(i*i+r*r)>10&&(e=!1)}}));const i=function(){e=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",(function(i){n=null,!0===e&&r().performance.now()-t<200&&(i.preventDefault(),this.trigger("tap"))}))}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=li(this.player(),this.player().reportUserActivity);let t;this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));const n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,t){var n;return e=li(this,e),this.clearTimersOnDispose_(),n=r().setTimeout((()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),r().clearTimeout(e)),e}setInterval(e,t){e=li(this,e),this.clearTimersOnDispose_();const n=r().setInterval(e,t);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),r().clearInterval(e)),e}requestAnimationFrame(e){var t;return this.clearTimersOnDispose_(),e=li(this,e),t=r().requestAnimationFrame((()=>{this.rafIds_.has(t)&&this.rafIds_.delete(t),e()})),this.rafIds_.add(t),t}requestNamedAnimationFrame(e,t){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),t=li(this,t);const n=this.requestAnimationFrame((()=>{t(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)}));return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),r().cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((([e,t])=>{this[e].forEach(((e,n)=>this[t](n)))})),this.clearingTimersOnDispose_=!1})))}getIsDisabled(){return Boolean(this.el_.disabled)}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function t(e){const t=r().getComputedStyle(e,null),n=t.getPropertyValue("visibility");return"none"!==t.getPropertyValue("display")&&!["hidden","collapse"].includes(n)}return e||(e=this.el()),!!(function(e){if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;const t={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};if(t.x<0)return!1;if(t.x>(s().documentElement.clientWidth||r().innerWidth))return!1;if(t.y<0)return!1;if(t.y>(s().documentElement.clientHeight||r().innerHeight))return!1;let n=s().elementFromPoint(t.x,t.y);for(;n;){if(n===e)return!0;if(!n.parentNode)return!1;n=n.parentNode}}(e)&&(n=e,t(n.parentElement)&&t(n)&&"0"!==n.style.opacity&&"0px"!==r().getComputedStyle(n).height&&"0px"!==r().getComputedStyle(n).width)&&(!e.parentElement||e.tabIndex>=0));var n}static registerComponent(e,t){if("string"!=typeof e||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const n=Oi.getComponent("Tech"),i=n&&n.isTech(t),r=Oi===t||Oi.prototype.isPrototypeOf(t.prototype);if(i||!r){let t;throw t=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error(`Illegal component, "${e}"; ${t}.`)}e=Ci(e),Oi.components_||(Oi.components_={});const o=Oi.getComponent("Player");if("Player"===e&&o&&o.players){const e=o.players,t=Object.keys(e);if(e&&t.length>0&&t.map((t=>e[t])).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Oi.components_[e]=t,Oi.components_[xi(e)]=t,t}static getComponent(e){if(e&&Oi.components_)return Oi.components_[e]}}function Ii(e,t,n,i){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error(`Failed to execute '${e}' on 'TimeRanges': The index provided (${t}) is non-numeric or out of bounds (0-${n}).`)}(e,i,n.length-1),n[i][t]}function Li(e){let t;return t=void 0===e||0===e.length?{length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Ii.bind(null,"start",0,e),end:Ii.bind(null,"end",1,e)},r().Symbol&&r().Symbol.iterator&&(t[r().Symbol.iterator]=()=>(e||[]).values()),t}function Di(e,t){return Array.isArray(e)?Li(e):void 0===e||void 0===t?Li():Li([[e,t]])}Oi.registerComponent("Component",Oi);const Ri=function(e,t){e=e<0?0:e;let n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600);const o=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=i=n="-"),r=r>0||s>0?r+":":"",i=((r||o>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,r+i+n};let Mi=Ri;function Ni(e){Mi=e}function ji(){Mi=Ri}function Fi(e,t=e){return Mi(e,t)}var Bi=Object.freeze({__proto__:null,createTimeRanges:Di,createTimeRange:Di,setFormatTime:Ni,resetFormatTime:ji,formatTime:Fi});function Ui(e,t){let n,i,r=0;if(!t)return 0;e&&e.length||(e=Di(0,0));for(let o=0;o<e.length;o++)n=e.start(o),i=e.end(o),i>t&&(i=t),r+=i-n;return r/t}function qi(e){if(e instanceof qi)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:At(e)&&("number"==typeof e.code&&(this.code=e.code),Object.assign(this,e)),this.message||(this.message=qi.defaultMessages[this.code]||"")}function Vi(e){return null!=e&&"function"==typeof e.then}function Hi(e){Vi(e)&&e.then(null,(e=>{}))}qi.prototype.code=0,qi.prototype.message="",qi.prototype.status=null,qi.prototype.metadata=null,qi.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],qi.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},qi.MEDIA_ERR_CUSTOM=0,qi.prototype.MEDIA_ERR_CUSTOM=0,qi.MEDIA_ERR_ABORTED=1,qi.prototype.MEDIA_ERR_ABORTED=1,qi.MEDIA_ERR_NETWORK=2,qi.prototype.MEDIA_ERR_NETWORK=2,qi.MEDIA_ERR_DECODE=3,qi.prototype.MEDIA_ERR_DECODE=3,qi.MEDIA_ERR_SRC_NOT_SUPPORTED=4,qi.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4,qi.MEDIA_ERR_ENCRYPTED=5,qi.prototype.MEDIA_ERR_ENCRYPTED=5;const $i=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(((t,n,i)=>(e[n]&&(t[n]=e[n]),t)),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})};const zi="vjs-modal-dialog";class Wi extends Oi{constructor(e,t){super(e,t),this.handleKeyDown_=e=>this.handleKeyDown(e),this.close_=e=>this.close(e),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=hn("div",{className:`${zi}-content`},{role:"document"}),this.descEl_=hn("p",{className:`${zi}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),dn(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${zi} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_)return void(this.options_.fillAlways&&this.fill());const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if("boolean"==typeof e){const t=this.closeable_=!!e;let n=this.getChild("closeButton");if(t&&!n){const e=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=e,this.on(n,"close",this.close_)}!t&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),Ln(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);const r=this.getChild("closeButton");r&&n.appendChild(r.el_)}empty(){this.trigger("beforemodalempty"),An(this.contentEl()),this.trigger("modalempty")}content(e){return void 0!==e&&(this.content_=e),this.content_}conditionalFocus_(){const e=s().activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),"Escape"===e.key&&this.closeable())return e.preventDefault(),void this.close();if("Tab"!==e.key)return;const t=this.focusableEls_(),n=this.el_.querySelector(":focus");let i;for(let e=0;e<t.length;e++)if(n===t[e]){i=e;break}s().activeElement===this.el_&&(i=0),e.shiftKey&&0===i?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||i!==t.length-1||(t[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(e=>(e instanceof r().HTMLAnchorElement||e instanceof r().HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof r().HTMLInputElement||e instanceof r().HTMLSelectElement||e instanceof r().HTMLTextAreaElement||e instanceof r().HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof r().HTMLIFrameElement||e instanceof r().HTMLObjectElement||e instanceof r().HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")))}}Wi.prototype.options_={pauseOnOpen:!0,temporary:!0},Oi.registerComponent("ModalDialog",Wi);class Gi extends pi{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let t=0;t<e.length;t++)this.addTrack(e[t])}addTrack(e){const t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},mi(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let t;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})}getTrackById(e){let t=null;for(let n=0,i=this.length;n<i;n++){const i=this[n];if(i.id===e){t=i;break}}return t}}Gi.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const e in Gi.prototype.allowedEvents_)Gi.prototype["on"+e]=null;const Ki=function(e,t){for(let n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},Yi=function(e,t){for(let n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)};class Xi extends Gi{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class Ji{constructor(e){Ji.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const t=this.length||0;let n=0;const i=e.length;this.cues_=e,this.length_=e.length;const r=function(e){""+e in this||Object.defineProperty(this,""+e,{get(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)r.call(this,n)}getCueById(e){let t=null;for(let n=0,i=this.length;n<i;n++){const i=this[n];if(i.id===e){t=i;break}}return t}}const Qi={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Zi={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},er={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},tr={disabled:"disabled",hidden:"hidden",showing:"showing"};class nr extends pi{constructor(e={}){super();const t={id:e.id||"vjs_track_"+Yn(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const e in t)Object.defineProperty(this,e,{get(){return t[e]},set(){}});Object.defineProperty(this,"label",{get(){return n},set(e){e!==n&&(n=e,this.trigger("labelchange"))}})}}const ir=function(e){return new URL(e,s().baseURI)},rr=function(e){return new URL(e,s().baseURI).href},or=function(e){if("string"==typeof e){const t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},sr=function(e,t=r().location){return ir(e).origin!==t.origin};var ar=Object.freeze({__proto__:null,parseUrl:ir,getAbsoluteURL:rr,getFileExtension:or,isCrossOrigin:sr});const lr=function(e,t){const n=new(r().WebVTT.Parser)(r(),r().vttjs,r().WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),i.length>0&&(r().console&&r().console.groupCollapsed&&r().console.groupCollapsed(`Text Track parsing errors for ${t.src}`),i.forEach((e=>St.error(e))),r().console&&r().console.groupEnd&&r().console.groupEnd()),n.flush()},cr=function(e,t){const n={uri:e},i=sr(e);i&&(n.cors=i);const o="use-credentials"===t.tech_.crossOrigin();o&&(n.withCredentials=o),u()(n,li(this,(function(e,n,i){if(e)return St.error(e,n);t.loaded_=!0,"function"!=typeof r().WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(e=>{if("vttjserror"!==e.type)return lr(i,t);St.error(`vttjs failed to load, stopping trying to process ${t.src}`)})):lr(i,t)})))};class ur extends nr{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const t=It(e,{kind:er[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=tr[t.mode]||"disabled";const i=t.default;"metadata"!==t.kind&&"chapters"!==t.kind||(n="hidden"),super(t),this.tech_=t.tech,this.cues_=[],this.activeCues_=[],this.preload_=!1!==this.tech_.preloadTextTracks;const r=new Ji(this.cues_),o=new Ji(this.activeCues_);let s=!1;this.timeupdateHandler=li(this,(function(e={}){this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,s&&(this.trigger("cuechange"),s=!1),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))):"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))})),this.tech_.one("dispose",(()=>{this.stopTracking()})),"disabled"!==n&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return n},set(e){tr[e]&&n!==e&&(n=e,this.preload_||"disabled"===n||0!==this.cues.length||cr(this.src,this),this.stopTracking(),"disabled"!==n&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?r:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(0===this.cues.length)return o;const e=this.tech_.currentTime(),t=[];for(let n=0,i=this.cues.length;n<i;n++){const i=this.cues[n];i.startTime<=e&&i.endTime>=e&&t.push(i)}if(s=!1,t.length!==this.activeCues_.length)s=!0;else for(let e=0;e<t.length;e++)-1===this.activeCues_.indexOf(t[e])&&(s=!0);return this.activeCues_=t,o.setCues_(this.activeCues_),o},set(){}}}),t.src?(this.src=t.src,this.preload_||(this.loaded_=!0),(this.preload_||"subtitles"!==t.kind&&"captions"!==t.kind)&&cr(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let t=e;if(!("getCueAsHTML"in t)){t=new(r().vttjs.VTTCue)(e.startTime,e.endTime,e.text);for(const n in e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}const n=this.tech_.textTracks();for(let e=0;e<n.length;e++)n[e]!==this&&n[e].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)}removeCue(e){let t=this.cues_.length;for(;t--;){const n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}}}ur.prototype.allowedEvents_={cuechange:"cuechange"};class hr extends nr{constructor(e={}){const t=It(e,{kind:Zi[e.kind]||""});super(t);let n=!1;Object.defineProperty(this,"enabled",{get(){return n},set(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("enabledchange"))}}),t.enabled&&(this.enabled=t.enabled),this.loaded_=!0}}class dr extends nr{constructor(e={}){const t=It(e,{kind:Qi[e.kind]||""});super(t);let n=!1;Object.defineProperty(this,"selected",{get(){return n},set(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("selectedchange"))}}),t.selected&&(this.selected=t.selected)}}class pr extends pi{constructor(e={}){let t;super();const n=new ur(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get(){return t}},track:{get(){return n}}}),t=pr.NONE,n.addEventListener("loadeddata",(()=>{t=pr.LOADED,this.trigger({type:"load",target:this})}))}}pr.prototype.allowedEvents_={load:"load"},pr.NONE=0,pr.LOADING=1,pr.LOADED=2,pr.ERROR=3;const fr={audio:{ListClass:class extends Gi{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].enabled){Ki(e,e[t]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&Ki(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,Ki(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}},TrackClass:hr,capitalName:"Audio"},video:{ListClass:class extends Gi{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].selected){Yi(e,e[t]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set(){}})}addTrack(e){e.selected&&Yi(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,Yi(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}},TrackClass:dr,capitalName:"Video"},text:{ListClass:Xi,TrackClass:ur,capitalName:"Text"}};Object.keys(fr).forEach((function(e){fr[e].getterName=`${e}Tracks`,fr[e].privateName=`${e}Tracks_`}));const mr={remoteText:{ListClass:Xi,TrackClass:ur,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:class{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}addTrackElement_(e){const t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let t;for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t}removeTrackElement_(e){for(let t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}}},TrackClass:pr,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},gr=Object.assign({},fr,mr);mr.names=Object.keys(mr),fr.names=Object.keys(fr),gr.names=[].concat(mr.names).concat(fr.names);class yr extends Oi{constructor(e={},t=function(){}){e.reportTouchActivity=!1,super(null,e,t),this.onDurationChange_=e=>this.onDurationChange(e),this.trackProgress_=e=>this.trackProgress(e),this.trackCurrentTime_=e=>this.trackCurrentTime(e),this.stopTrackingCurrentTime_=e=>this.stopTrackingCurrentTime(e),this.disposeSourceHandler_=e=>this.disposeSourceHandler(e),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",(function(){this.hasStarted_=!0})),this.on("loadstart",(function(){this.hasStarted_=!1})),gr.names.forEach((t=>{const n=gr[t];e&&e[n.getterName]&&(this[n.privateName]=e[n.getterName])})),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((t=>{!1===e[`native${t}Tracks`]&&(this[`featuresNative${t}Tracks`]=!1)})),!1===e.nativeCaptions||!1===e.nativeTextTracks?this.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=!1!==e.preloadTextTracks,this.autoRemoteTextTracks_=new gr.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",(()=>this.setTimeout((()=>this.triggerSourceset(e)),1))),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(li(this,(function(){const e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Di(0,0)}bufferedPercent(){return Ui(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(fr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){(e=[].concat(e)).forEach((e=>{const t=this[`${e}Tracks`]()||[];let n=t.length;for(;n--;){const i=t[n];"text"===e&&this.removeRemoteTextTrack(i),t.removeTrack(i)}}))}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let t=e.length;for(;t--;){const n=e[t];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return void 0!==e&&(this.error_=new qi(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Di(0,0):Di()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){fr.names.forEach((e=>{const t=fr[e],n=()=>{this.trigger(`${e}trackchange`)},i=this[t.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),this.on("dispose",(()=>{i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)}))}))}addWebVttScript_(){if(!r().WebVTT)if(s().body.contains(this.el())){if(!this.options_["vtt.js"]&&Ot(d())&&Object.keys(d()).length>0)return void this.trigger("vttjsloaded");const e=s().createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",(()=>{e.onload=null,e.onerror=null})),r().WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),t=this.remoteTextTracks(),n=t=>e.addTrack(t.track),i=t=>e.removeTrack(t.track);t.on("addtrack",n),t.on("removetrack",i),this.addWebVttScript_();const r=()=>this.trigger("texttrackchange"),o=()=>{r();for(let t=0;t<e.length;t++){const n=e[t];n.removeEventListener("cuechange",r),"showing"===n.mode&&n.addEventListener("cuechange",r)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",(function(){t.off("addtrack",n),t.off("removetrack",i),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(let t=0;t<e.length;t++)e[t].removeEventListener("cuechange",r)}))}addTextTrack(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i,r={}){const o=e.textTracks();r.kind=t,n&&(r.label=n),i&&(r.language=i),r.tech=e;const s=new gr.text.TrackClass(r);return o.addTrack(s),s}(this,e,t,n)}createRemoteTextTrack(e){const t=It(e,{tech:this});return new mr.remoteTextEl.TrackClass(t)}addRemoteTextTrack(e={},t){const n=this.createRemoteTextTrack(e);return"boolean"!=typeof t&&(t=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!1===t&&this.ready((()=>this.autoRemoteTextTracks_.addTrack(n.track))),n}removeRemoteTextTrack(e){const t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const t=Yn();return!this.isReady_||this.paused()?(this.queuedHanders_.add(t),this.one("playing",(()=>{this.queuedHanders_.has(t)&&(this.queuedHanders_.delete(t),e())}))):this.requestNamedAnimationFrame(t,e),t}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,t){return yr.canPlayType(e.type)}static isTech(e){return e.prototype instanceof yr||e instanceof yr||e===yr}static registerTech(e,t){if(yr.techs_||(yr.techs_={}),!yr.isTech(t))throw new Error(`Tech ${e} must be a Tech`);if(!yr.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!yr.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Ci(e),yr.techs_[e]=t,yr.techs_[xi(e)]=t,"Tech"!==e&&yr.defaultTechOrder_.push(e),t}static getTech(e){if(e)return yr.techs_&&yr.techs_[e]?yr.techs_[e]:(e=Ci(e),r()&&r().videojs&&r().videojs[e]?(St.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),r().videojs[e]):void 0)}}gr.names.forEach((function(e){const t=gr[e];yr.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),yr.prototype.featuresVolumeControl=!0,yr.prototype.featuresMuteControl=!0,yr.prototype.featuresFullscreenResize=!1,yr.prototype.featuresPlaybackRate=!1,yr.prototype.featuresProgressEvents=!1,yr.prototype.featuresSourceset=!1,yr.prototype.featuresTimeupdateEvents=!1,yr.prototype.featuresNativeTextTracks=!1,yr.prototype.featuresVideoFrameCallback=!1,yr.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){let i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,t)},e.canPlayType=function(t){const n=e.sourceHandlers||[];let i;for(let e=0;e<n.length;e++)if(i=n[e].canPlayType(t),i)return i;return""},e.selectSourceHandler=function(t,n){const i=e.sourceHandlers||[];let r;for(let e=0;e<i.length;e++)if(r=i[e].canHandleSource(t,n),r)return i[e];return null},e.canPlaySource=function(t,n){const i=e.selectSourceHandler(t,n);return i?i.canHandleSource(t,n):""},["seekable","seeking","duration"].forEach((function(e){const t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){let n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:St.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Oi.registerComponent("Tech",yr),yr.registerTech("Tech",yr),yr.defaultTechOrder_=[];const vr={},br={},_r={};function wr(e,t,n){e.setTimeout((()=>Cr(t,vr[t.type],n,e)),1)}function kr(e,t,n,i=null){const r="call"+Ci(n),o=e.reduce(xr(r),i),s=o===_r,a=s?null:t[n](o);return function(e,t,n,i){for(let r=e.length-1;r>=0;r--){const o=e[r];o[t]&&o[t](i,n)}}(e,n,a,s),a}const Sr={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Er={setCurrentTime:1,setMuted:1,setVolume:1},Tr={play:1,pause:1};function xr(e){return(t,n)=>t===_r?_r:n[e]?n[e](t):t}function Cr(e={},t=[],n,i,r=[],o=!1){const[s,...a]=t;if("string"==typeof s)Cr(e,vr[s],n,i,r,o);else if(s){const t=function(e,t){const n=br[e.id()];let i=null;if(null==n)return i=t(e),br[e.id()]=[[t,i]],i;for(let e=0;e<n.length;e++){const[r,o]=n[e];r===t&&(i=o)}return null===i&&(i=t(e),n.push([t,i])),i}(i,s);if(!t.setSource)return r.push(t),Cr(e,a,n,i,r,o);t.setSource(Object.assign({},e),(function(s,l){if(s)return Cr(e,a,n,i,r,o);r.push(t),Cr(l,e.type===l.type?a:vr[l.type],n,i,r,o)}))}else a.length?Cr(e,a,n,i,r,o):o?n(e,r):Cr(e,vr["*"],n,i,r,!0)}const Pr={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Ar=function(e=""){const t=or(e);return Pr[t.toLowerCase()]||""},Or=function(e){if(Array.isArray(e)){let t=[];e.forEach((function(e){e=Or(e),Array.isArray(e)?t=t.concat(e):At(e)&&t.push(e)})),e=t}else e="string"==typeof e&&e.trim()?[Ir({src:e})]:At(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[Ir(e)]:[];return e};function Ir(e){if(!e.type){const t=Ar(e.src);t&&(e.type=t)}return e}const Lr=Jt?10009:Qt?461:8,Dr={codes:{play:415,pause:19,ff:417,rw:412,back:Lr},names:{415:"play",19:"pause",417:"ff",412:"rw",[Lr]:"back"},isEventKey(e,t){return t=t.toLowerCase(),!(!this.names[e.keyCode]||this.names[e.keyCode]!==t)},getEventName(e){if(this.names[e.keyCode])return this.names[e.keyCode];if(this.codes[e.code]){const t=this.codes[e.code];return this.names[t]}return null}};class Rr extends pi{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",(()=>{this.focus(this.updateFocusableComponents()[0])})),this.player_.on("modalclose",(()=>{this.refocusComponent()})),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0)}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const t=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(t.key)){if(this.isPaused_)return;t.preventDefault();const e=t.key.substring(5).toLowerCase();this.move(e)}else if(Dr.isEventKey(t,"play")||Dr.isEventKey(t,"pause")||Dr.isEventKey(t,"ff")||Dr.isEventKey(t,"rw")){t.preventDefault();const e=Dr.getEventName(t);this.performMediaAction_(e)}else Dr.isEventKey(t,"Back")&&e.target&&e.target.closeable()&&(t.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+5);break;case"rw":this.userSeek_(this.player_.currentTime()-5)}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const t=e.relatedTarget;let n=null;const i=this.getCurrentComponent(e.target);t&&(n=Boolean(t.closest(".video-js")),t.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(e.currentTarget.contains(e.relatedTarget)||n)&&t||("CloseButton"===i.name()?this.refocusComponent():(this.pause(),i&&i.el()&&(this.lastFocusedComponent_=i)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,t=[];function n(e){for(const i of e)i.hasOwnProperty("el_")&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())&&t.push(i),i.hasOwnProperty("children_")&&i.children_.length>0&&n(i.children_)}return e.children_.forEach((e=>{if(e.hasOwnProperty("el_")){if(e.getIsFocusable&&e.getIsAvailableToBeFocused&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el()))return void t.push(e);e.hasOwnProperty("children_")&&e.children_.length>0?n(e.children_):e.hasOwnProperty("items")&&e.items.length>0?n(e.items):this.findSuitableDOMChild(e)&&t.push(e)}})),this.focusableComponents=t,this.focusableComponents}findSuitableDOMChild(e){return function t(n){if(e.getIsFocusable(n)&&e.getIsAvailableToBeFocused(n))return n;for(let e=0;e<n.children.length;e++){const i=t(n.children[e]);if(i)return i}return null}(e.el())}getCurrentComponent(e){this.updateFocusableComponents();const t=e||document.activeElement;if(this.focusableComponents.length)for(const e of this.focusableComponents)if(e.el()===t)return e}add(e){const t=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&t.push(e),this.focusableComponents=t,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let t=0;t<this.focusableComponents.length;t++)if(this.focusableComponents[t].name()===e.name())return this.focusableComponents.splice(t,1),void this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const t=this.getCurrentComponent();if(!t)return;const n=t.getPositions(),i=this.focusableComponents.filter((i=>i!==t&&this.isInDirection_(n.boundingClientRect,i.getPositions().boundingClientRect,e))),r=this.findBestCandidate_(n.center,i,e);r?this.focus(r):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:t})}findBestCandidate_(e,t,n){let i=1/0,r=null;for(const o of t){const t=o.getPositions().center,s=this.calculateDistance_(e,t,n);s<i&&(i=s,r=o)}return r}isInDirection_(e,t,n){switch(n){case"right":return t.left>=e.right;case"left":return t.right<=e.left;case"down":return t.top>=e.bottom;case"up":return t.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name())return void this.focus(this.focusableComponents[e])}else this.focus(this.updateFocusableComponents()[0])}focus(e){e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus()}calculateDistance_(e,t,n){const i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);let o;switch(n){case"right":case"left":o=i+100*r;break;case"up":o=2*r+.5*i;break;case"down":o=5*r+i;break;default:o=i+r}return o}searchForTrackSelect_(){const e=this;for(const t of e.updateFocusableComponents())if("TextTrackSelect"===t.constructor.name){e.focus(t);break}}}Oi.registerComponent("MediaLoader",class extends Oi{constructor(e,t,n){if(super(e,It({createEl:!1},t),n),t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(let n=0,i=t.playerOptions.techOrder;n<i.length;n++){const t=Ci(i[n]);let r=yr.getTech(t);if(t||(r=Oi.getComponent(t)),r&&r.isSupported()){e.loadTech_(t);break}}}});class Mr extends Oi{constructor(e,t){super(e,t),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=e=>this.handleMouseOver(e),this.handleMouseOut_=e=>this.handleMouseOut(e),this.handleClick_=e=>this.handleClick(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.emitTapEvents(),this.enable()}createEl(e="div",t={},n={}){t=Object.assign({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&St.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),n=Object.assign({role:"button"},n),this.tabIndex_=t.tabIndex;const i=hn(e,t,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(hn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=hn("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,t=this.el()){if(void 0===e)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,dn(this.controlTextEl_,n),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",n)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){" "===e.key||"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Oi.registerComponent("ClickableComponent",Mr);class Nr extends Mr{constructor(e,t){super(e,t),this.update(),this.update_=e=>this.update(e),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return hn("div",{className:"vjs-poster"})}crossOrigin(e){if(void 0===e)return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;null===e||"anonymous"===e||"use-credentials"===e?this.$("img")&&(this.$("img").crossOrigin=e):this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`)}update(e){const t=this.player().poster();this.setSrc(t),t?this.show():this.hide()}setSrc(e){e?(this.$("img")||this.el_.appendChild(hn("picture",{className:"vjs-poster",tabIndex:-1},{},hn("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e):this.el_.textContent=""}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Hi(this.player_.play()):this.player_.pause())}}Nr.prototype.crossorigin=Nr.prototype.crossOrigin,Oi.registerComponent("PosterImage",Nr);const jr="#222",Fr="#ccc",Br={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Ur(e,t){let n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function qr(e,t,n){try{e.style[t]=n}catch(e){return}}function Vr(e){return e?`${e}px`:""}Oi.registerComponent("TextTrackDisplay",class extends Oi{constructor(e,t,n){super(e,t,n);const i=e=>{this.updateDisplayOverlay(),this.updateDisplay(e)};e.on("loadstart",(e=>this.toggleDisplay(e))),e.on("texttrackchange",(e=>this.updateDisplay(e))),e.on("loadedmetadata",(e=>{this.updateDisplayOverlay(),this.preselectTrack(e)})),e.ready(li(this,(function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)return void this.hide();e.on("fullscreenchange",i),e.on("playerresize",i);const t=r().screen.orientation||r(),n=r().screen.orientation?"change":"orientationchange";t.addEventListener(n,i),e.on("dispose",(()=>t.removeEventListener(n,i)));const o=this.options_.playerOptions.tracks||[];for(let e=0;e<o.length;e++)this.player_.addRemoteTextTrack(o[e],!0);this.preselectTrack()})))}preselectTrack(){const e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let i,r,o;for(let s=0;s<t.length;s++){const a=t[s];n&&n.enabled&&n.language&&n.language===a.language&&a.kind in e?a.kind===n.kind?o=a:o||(o=a):n&&!n.enabled?(o=null,i=null,r=null):a.default&&("descriptions"!==a.kind||i?a.kind in e&&!r&&(r=a):i=a)}o?o.mode="showing":r?r.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){"function"==typeof r().WebVTT&&r().WebVTT.processCues(r(),[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){const t=[];for(let n=0;n<e.length;++n){const i=e[n];"showing"===i.mode&&t.push(i)}return void this.updateForTrack(t)}let n=null,i=null,r=e.length;for(;r--;){const t=e[r];"showing"===t.mode&&("descriptions"===t.kind?n=t:i=t)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!r().CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),t=this.player_.currentHeight(),n=e/t,i=this.player_.videoWidth()/this.player_.videoHeight();let o=0,s=0;Math.abs(n-i)>.1&&(n>i?o=Math.round((e-t*i)/2):s=Math.round((t-e/i)/2)),qr(this.el_,"insetInline",Vr(o)),qr(this.el_,"insetBlock",Vr(s))}updateDisplayState(e){const t=this.player_.textTrackSettings.getValues(),n=e.activeCues;let i=n.length;for(;i--;){const e=n[i];if(!e)continue;const o=e.displayState;if(t.color&&(o.firstChild.style.color=t.color),t.textOpacity&&qr(o.firstChild,"color",Ur(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(o.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&qr(o.firstChild,"backgroundColor",Ur(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?qr(o,"backgroundColor",Ur(t.windowColor,t.windowOpacity)):o.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?o.firstChild.style.textShadow=`2px 2px 3px ${jr}, 2px 2px 4px ${jr}, 2px 2px 5px ${jr}`:"raised"===t.edgeStyle?o.firstChild.style.textShadow=`1px 1px ${jr}, 2px 2px ${jr}, 3px 3px ${jr}`:"depressed"===t.edgeStyle?o.firstChild.style.textShadow=`1px 1px ${Fr}, 0 1px ${Fr}, -1px -1px ${jr}, 0 -1px ${jr}`:"uniform"===t.edgeStyle&&(o.firstChild.style.textShadow=`0 0 4px ${jr}, 0 0 4px ${jr}, 0 0 4px ${jr}, 0 0 4px ${jr}`)),t.fontPercent&&1!==t.fontPercent){const e=r().parseFloat(o.style.fontSize);o.style.fontSize=e*t.fontPercent+"px",o.style.height="auto",o.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=Br[t.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),"function"!=typeof r().WebVTT||e.every((e=>!e.activeCues)))return;const t=[];for(let n=0;n<e.length;++n){const i=e[n];for(let e=0;e<i.activeCues.length;++e)t.push(i.activeCues[e])}r().WebVTT.processCues(r(),t,this.el_);for(let t=0;t<e.length;++t){const n=e[t];for(let e=0;e<n.activeCues.length;++e){const i=n.activeCues[e].displayState;mn(i,"vjs-text-track-cue","vjs-text-track-cue-"+(n.language?n.language:t)),n.language&&wn(i,"lang",n.language)}this.player_.textTrackSettings&&this.updateDisplayState(n)}}}),Oi.registerComponent("LoadingSpinner",class extends Oi{createEl(){const e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),n=hn("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}});class Hr extends Mr{createEl(e,t={},n={}){const i=hn("button",t=Object.assign({className:this.buildCSSClass()},t),n=Object.assign({type:"button"},n));return this.player_.options_.experimentalSvgIcons||i.appendChild(hn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,t={}){const n=this.constructor.name;return St.warn(`Adding an actionable (user controllable) child to a Button (${n}) is not supported; use a ClickableComponent instead.`),Oi.prototype.addChild.call(this,e,t)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){" "!==e.key&&"Enter"!==e.key?super.handleKeyDown(e):e.stopPropagation()}}Oi.registerComponent("Button",Hr);class $r extends Hr{constructor(e,t){super(e,t),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",(e=>this.handleMouseDown(e)))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const t=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e)return Hi(t),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());const n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i)return void this.player_.tech(!0).focus();const r=()=>i.focus();Vi(t)?t.then(r,(()=>{})):this.setTimeout(r,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}$r.prototype.controlText_="Play Video",Oi.registerComponent("BigPlayButton",$r),Oi.registerComponent("CloseButton",class extends Hr{constructor(e,t){super(e,t),this.setIcon("cancel"),this.controlText(t&&t.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}});class zr extends Hr{constructor(e,t={}){super(e,t),t.replay=void 0===t.replay||t.replay,this.setIcon("play"),this.on(e,"play",(e=>this.handlePlay(e))),this.on(e,"pause",(e=>this.handlePause(e))),t.replay&&this.on(e,"ended",(e=>this.handleEnded(e)))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Hi(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",(e=>this.handleSeeked(e)))}}zr.prototype.controlText_="Play",Oi.registerComponent("PlayToggle",zr);class Wr extends Oi{constructor(e,t){super(e,t),this.on(e,["timeupdate","ended","seeking"],(e=>this.update(e))),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),t=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),n=hn("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}Â `},{role:"presentation"});return t.appendChild(n),this.contentEl_=hn("span",{className:`${e}-display`},{role:"presentation"}),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){(this.player_.options_.enableSmoothSeeking||"seeking"!==e.type)&&this.updateContent(e)}updateTextNode_(e=0){e=Fi(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(()=>{if(!this.contentEl_)return;let e=this.textNode_;e&&this.contentEl_.firstChild!==e&&(e=null,St.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=s().createTextNode(this.formattedTime_),this.textNode_&&(e?this.contentEl_.replaceChild(this.textNode_,e):this.contentEl_.appendChild(this.textNode_))})))}updateContent(e){}}Wr.prototype.labelText_="Time",Wr.prototype.controlText_="Time",Oi.registerComponent("TimeDisplay",Wr);class Gr extends Wr{buildCSSClass(){return"vjs-current-time"}updateContent(e){let t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)}}Gr.prototype.labelText_="Current Time",Gr.prototype.controlText_="Current Time",Oi.registerComponent("CurrentTimeDisplay",Gr);class Kr extends Wr{constructor(e,t){super(e,t);const n=e=>this.updateContent(e);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const t=this.player_.duration();this.updateTextNode_(t)}}Kr.prototype.labelText_="Duration",Kr.prototype.controlText_="Duration",Oi.registerComponent("DurationDisplay",Kr),Oi.registerComponent("TimeDivider",class extends Oi{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return t.appendChild(n),e.appendChild(t),e}});class Yr extends Wr{constructor(e,t){super(e,t),this.on(e,"durationchange",(e=>this.updateContent(e)))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return!1!==this.options_.displayNegative&&e.insertBefore(hn("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if("number"!=typeof this.player_.duration())return;let t;t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t)}}Yr.prototype.labelText_="Remaining Time",Yr.prototype.controlText_="Remaining Time",Oi.registerComponent("RemainingTimeDisplay",Yr),Oi.registerComponent("LiveDisplay",class extends Oi{constructor(e,t){super(e,t),this.updateShowing(),this.on(this.player(),"durationchange",(e=>this.updateShowing(e)))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=hn("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(hn("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}Â `})),this.contentEl_.appendChild(s().createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}});class Xr extends Hr{constructor(e,t){super(e,t),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=e=>this.updateLiveEdgeStatus(e),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=hn("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}function Jr(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))}Xr.prototype.controlText_="Seek to live, currently playing live",Oi.registerComponent("SeekToLive",Xr);var Qr=Object.freeze({__proto__:null,clamp:Jr});class Zr extends Oi{constructor(e,t){super(e,t),this.handleMouseDown_=e=>this.handleMouseDown(e),this.handleMouseUp_=e=>this.handleMouseUp(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.handleClick_=e=>this.handleClick(e),this.handleMouseMove_=e=>this.handleMouseMove(e),this.update_=e=>this.update(e),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,t={},n={}){return t.className=t.className+" vjs-slider",t=Object.assign({tabIndex:0},t),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,t,n)}handleMouseDown(e){const t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||Vt||e.preventDefault(),Sn(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const t=this.bar.el_.ownerDocument;En(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",(()=>{const t=this.vertical()?"height":"width";this.bar.el().style[t]=(100*e).toFixed(2)+"%"}))),e}getProgress(){return Number(Jr(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const t=Cn(this.el_,e);return this.vertical()?t.y:t.x}handleKeyDown(e){const t=this.options_.playerOptions.spatialNavigation,n=t&&t.enabled,i=t&&t.horizontalSeek;n?i&&"ArrowLeft"===e.key||!i&&"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepBack()):i&&"ArrowRight"===e.key||!i&&"ArrowUp"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):"ArrowLeft"===e.key||"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepBack()):"ArrowUp"===e.key||"ArrowRight"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Oi.registerComponent("Slider",Zr);const eo=(e,t)=>Jr(e/t*100,0,100).toFixed(2)+"%";Oi.registerComponent("LoadProgressBar",class extends Oi{constructor(e,t){super(e,t),this.partEls_=[],this.on(e,"progress",(e=>this.update(e)))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),t=hn("span",{className:"vjs-control-text"}),n=hn("span",{textContent:this.localize("Loaded")}),i=s().createTextNode(": ");return this.percentageEl_=hn("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(n),t.appendChild(i),t.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",(()=>{const e=this.player_.liveTracker,t=this.player_.buffered(),n=e&&e.isLive()?e.seekableEnd():this.player_.duration(),i=this.player_.bufferedEnd(),r=this.partEls_,o=eo(i,n);this.percent_!==o&&(this.el_.style.width=o,dn(this.percentageEl_,o),this.percent_=o);for(let e=0;e<t.length;e++){const n=t.start(e),o=t.end(e);let s=r[e];s||(s=this.el_.appendChild(hn()),r[e]=s),s.dataset.start===n&&s.dataset.end===o||(s.dataset.start=n,s.dataset.end=o,s.style.left=eo(n,i),s.style.width=eo(o-n,i))}for(let e=r.length;e>t.length;e--)this.el_.removeChild(r[e-1]);r.length=t.length}))}}),Oi.registerComponent("TimeTooltip",class extends Oi{constructor(e,t){super(e,t),this.update=ci(li(this,this.update),ai)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,t,n){const i=xn(this.el_),r=Tn(this.player_.el()),o=e.width*t;if(!r||!i)return;let s=e.left-r.left+o,a=e.width-o+(r.right-e.right);a||(a=e.width-o,s=o);let l=i.width/2;s<l?l+=l-s:a<l&&(l=a),l<0?l=0:l>i.width&&(l=i.width),l=Math.round(l),this.el_.style.right=`-${l}px`,this.write(n)}write(e){dn(this.el_,e)}updateTime(e,t,n,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",(()=>{let r;const o=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const e=this.player_.liveTracker.liveWindow(),n=e-t*e;r=(n<1?"":"-")+Fi(n,e)}else r=Fi(n,o);this.update(e,t,r),i&&i()}))}});class to extends Oi{constructor(e,t){super(e,t),this.setIcon("circle"),this.update=ci(li(this,this.update),ai)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,t){const n=this.getChild("timeTooltip");if(!n)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,i)}}to.prototype.options_={children:[]},nn||Ft||to.prototype.options_.children.push("timeTooltip"),Oi.registerComponent("PlayProgressBar",to);class no extends Oi{constructor(e,t){super(e,t),this.update=ci(li(this,this.update),ai)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t){const n=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,n,(()=>{this.el_.style.left=e.width*t+"px"}))}}no.prototype.options_={children:["timeTooltip"]},Oi.registerComponent("MouseTimeDisplay",no);class io extends Zr{constructor(e,t){super(e,t),this.setEventHandlers_()}setEventHandlers_(){this.update_=li(this,this.update),this.update=ci(this.update_,ai),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in s()&&"visibilityState"in s()&&this.on(s(),"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){"hidden"===s().visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,ai))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if("hidden"===s().visibilityState)return;const t=super.update();return this.requestNamedAnimationFrame("SeekBar#update",(()=>{const e=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),n=this.player_.liveTracker;let i=this.player_.duration();n&&n.isLive()&&(i=this.player_.liveTracker.liveCurrentTime()),this.percent_!==t&&(this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.percent_=t),this.currentTime_===e&&this.duration_===i||(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Fi(e,i),Fi(i,i)],"{1} of {2}")),this.currentTime_=e,this.duration_=i),this.bar&&this.bar.update(Tn(this.el()),this.getProgress())})),t}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let t;const n=this.player_.liveTracker;return n&&n.isLive()?(t=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t}handleMouseDown(e){Dn(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,t=!1){if(!Dn(e)||isNaN(this.player_.duration()))return;let n;t||this.player_.scrubbing()||this.player_.scrubbing(!0);const i=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){if(i>=.99)return void r.seekToLiveEdge();const e=r.seekableStart(),t=r.liveCurrentTime();if(n=e+i*r.liveWindow(),n>=t&&(n=t),n<=e&&(n=e+.1),n===1/0)return}else n=i*this.player_.duration(),n===this.player_.duration()&&(n-=.1);this.userSeek_(n),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Hi(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+5)}stepBack(){this.userSeek_(this.player_.currentTime()-5)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const t=this.player_.liveTracker;if(" "===e.key||"Enter"===e.key)e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if("Home"===e.key)e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if("End"===e.key)e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const n=.1*parseInt(e.key,10);t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else"PageDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):"PageUp"===e.key?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in s()&&"visibilityState"in s()&&this.off(s(),"visibilitychange",this.toggleVisibility_),super.dispose()}}io.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},nn||Ft||io.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Oi.registerComponent("SeekBar",io);class ro extends Oi{constructor(e,t){super(e,t),this.handleMouseMove=ci(li(this,this.handleMouseMove),ai),this.throttledHandleMouseSeek=ci(li(this,this.handleMouseSeek),ai),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.handleMouseDownHandler_=e=>this.handleMouseDown(e),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const t=this.getChild("seekBar");if(!t)return;const n=t.getChild("playProgressBar"),i=t.getChild("mouseTimeDisplay");if(!n&&!i)return;const r=t.el(),o=xn(r);let s=Cn(r,e).x;s=Jr(s,0,1),i&&i.update(o,s),n&&n.update(o,t.getProgress())}handleMouseSeek(e){const t=this.getChild("seekBar");t&&t.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach((e=>e.disable&&e.disable())),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Hi(this.player_.play())}}enable(){this.children().forEach((e=>e.enable&&e.enable())),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}ro.prototype.options_={children:["seekBar"]},Oi.registerComponent("ProgressControl",ro);class oo extends Hr{constructor(e,t){super(e,t),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],(e=>this.handlePictureInPictureChange(e))),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],(e=>this.handlePictureInPictureEnabledChange(e))),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(()=>this.handlePictureInPictureAudioModeChange())),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){"audio"===this.player_.currentType().substring(0,5)||this.player_.audioPosterMode()||this.player_.audioOnlyMode()?(this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()):this.show()}handlePictureInPictureEnabledChange(){s().pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in r()?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){"function"==typeof s().exitPictureInPicture&&super.show()}}oo.prototype.controlText_="Picture-in-Picture",Oi.registerComponent("PictureInPictureToggle",oo);class so extends Hr{constructor(e,t){super(e,t),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",(e=>this.handleFullscreenChange(e))),!1===s()[e.fsApi_.fullscreenEnabled]&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}so.prototype.controlText_="Fullscreen",Oi.registerComponent("FullscreenToggle",so),Oi.registerComponent("VolumeLevel",class extends Oi{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}),Oi.registerComponent("VolumeLevelTooltip",class extends Oi{constructor(e,t){super(e,t),this.update=ci(li(this,this.update),ai)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,t,n,i){if(!n){const n=Tn(this.el_),i=Tn(this.player_.el()),r=e.width*t;if(!i||!n)return;const o=e.left-i.left+r,s=e.width-r+(i.right-e.right);let a=n.width/2;o<a?a+=a-o:s<a&&(a=s),a<0?a=0:a>n.width&&(a=n.width),this.el_.style.right=`-${a}px`}this.write(`${i}%`)}write(e){dn(this.el_,e)}updateVolume(e,t,n,i,r){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(()=>{this.update(e,t,n,i.toFixed(0)),r&&r()}))}});class ao extends Oi{constructor(e,t){super(e,t),this.update=ci(li(this,this.update),ai)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t,n){const i=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,n,i,(()=>{n?this.el_.style.bottom=e.height*t+"px":this.el_.style.left=e.width*t+"px"}))}}ao.prototype.options_={children:["volumeLevelTooltip"]},Oi.registerComponent("MouseVolumeLevelDisplay",ao);class lo extends Zr{constructor(e,t){super(e,t),this.on("slideractive",(e=>this.updateLastVolume_(e))),this.on(e,"volumechange",(e=>this.updateARIAAttributes(e))),e.ready((()=>this.updateARIAAttributes()))}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Dn(e)&&super.handleMouseDown(e)}handleMouseMove(e){const t=this.getChild("mouseVolumeLevelDisplay");if(t){const n=this.el(),i=Tn(n),r=this.vertical();let o=Cn(n,e);o=r?o.y:o.x,o=Jr(o,0,1),t.update(i,o,r)}Dn(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")}volumeAsPercentage_(){return Math.round(100*this.player_.volume())}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",(()=>{0===this.player_.volume()&&this.player_.lastVolume_(e)}))}}lo.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},nn||Ft||lo.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),lo.prototype.playerEvent="volumechange",Oi.registerComponent("VolumeBar",lo);class co extends Oi{constructor(e,t={}){t.vertical=t.vertical||!1,(void 0===t.volumeBar||Ot(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),super(e,t),function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(this,e),this.throttledHandleMouseMove=ci(li(this,this.handleMouseMove),ai),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.on("mousedown",(e=>this.handleMouseDown(e))),this.on("touchstart",(e=>this.handleMouseDown(e))),this.on("mousemove",(e=>this.handleMouseMove(e))),this.on(this.volumeBar,["focus","slideractive"],(()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")})),this.on(this.volumeBar,["blur","sliderinactive"],(()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")}))}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}co.prototype.options_={children:["volumeBar"]},Oi.registerComponent("VolumeControl",co);class uo extends Hr{constructor(e,t){super(e,t),function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(this,e),this.on(e,["loadstart","volumechange"],(e=>this.update(e)))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){const e=n<.1?.1:n;this.player_.volume(e),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let t=3;this.setIcon("volume-high"),nn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?(this.setIcon("volume-mute"),t=0):e<.33?(this.setIcon("volume-low"),t=1):e<.67&&(this.setIcon("volume-medium"),t=2),gn(this.el_,[0,1,2,3].reduce(((e,t)=>e+`${t?" ":""}vjs-vol-${t}`),"")),mn(this.el_,`vjs-vol-${t}`)}updateControlText_(){const e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)}}uo.prototype.controlText_="Mute",Oi.registerComponent("MuteToggle",uo);class ho extends Oi{constructor(e,t={}){void 0!==t.inline?t.inline=t.inline:t.inline=!0,(void 0===t.volumeControl||Ot(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),super(e,t),this.handleKeyPressHandler_=e=>this.handleKeyPress(e),this.on(e,["loadstart"],(e=>this.volumePanelState_(e))),this.on(this.muteToggle,"keyup",(e=>this.handleKeyPress(e))),this.on(this.volumeControl,"keyup",(e=>this.handleVolumeControlKeyUp(e))),this.on("keydown",(e=>this.handleKeyPress(e))),this.on("mouseover",(e=>this.handleMouseOver(e))),this.on("mouseout",(e=>this.handleMouseOut(e))),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){"Escape"===e.key&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),ti(s(),"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),ni(s(),"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){"Escape"===e.key&&this.handleMouseOut()}}ho.prototype.options_={children:["muteToggle","volumeControl"]},Oi.registerComponent("VolumePanel",ho);class po extends Hr{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const t=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()?n.seekableEnd():this.player_.duration();let r;r=t+this.skipTime<=i?t+this.skipTime:i,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}po.prototype.controlText_="Skip Forward",Oi.registerComponent("SkipForward",po);class fo extends Hr{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()&&n.seekableStart();let r;r=i&&t-this.skipTime<=i?i:t>=this.skipTime?t-this.skipTime:0,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}fo.prototype.controlText_="Skip Backward",Oi.registerComponent("SkipBackward",fo);class mo extends Oi{constructor(e,t){super(e,t),t&&(this.menuButton_=t.menuButton),this.focusedChild_=-1,this.on("keydown",(e=>this.handleKeyDown(e))),this.boundHandleBlur_=e=>this.handleBlur(e),this.boundHandleTapClick_=e=>this.handleTapClick(e)}addEventListenerForItem(e){e instanceof Oi&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Oi&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const t=this.addChild(e);t&&this.addEventListenerForItem(t)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=hn(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const t=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),ti(t,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),t}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const t=e.relatedTarget||s().activeElement;if(!this.children().some((e=>e.el()===t))){const e=this.menuButton_;e&&e.buttonPressed_&&t!==e.el().firstChild&&e.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const t=this.children();if(!Array.isArray(t))return;const n=t.filter((t=>t.el()===e.target))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}}handleKeyDown(e){"ArrowLeft"===e.key||"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):"ArrowRight"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())}}Oi.registerComponent("Menu",mo);class go extends Oi{constructor(e,t={}){super(e,t),this.menuButton_=new Hr(e,t),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=Hr.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=e=>this.handleClick(e);this.handleMenuKeyUp_=e=>this.handleMenuKeyUp(e),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",(e=>this.handleKeyDown(e))),this.on(this.menuButton_,"mouseenter",(()=>{this.addClass("vjs-hover"),this.menu.show(),ti(s(),"keyup",this.handleMenuKeyUp_)})),this.on("mouseleave",(e=>this.handleMouseLeave(e))),this.on("keydown",(e=>this.handleSubmenuKeyDown(e)))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new mo(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const t=hn("li",{className:"vjs-menu-title",textContent:Ci(this.options_.title),tabIndex:-1}),n=new Oi(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${Hr.prototype.buildCSSClass()} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,t=this.menuButton_.el()){return this.menuButton_.controlText(e,t)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),ni(s(),"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){"Esc"===e.key||"Tab"===e.key?(this.buttonPressed_&&this.unpressButton(),"Tab"===!e.key&&(e.preventDefault(),this.menuButton_.focus())):"Up"!==e.key&&("Down"!==e.key||this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)||this.buttonPressed_||(e.preventDefault(),this.pressButton())}handleMenuKeyUp(e){"Esc"!==e.key&&"Tab"!==e.key||this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){"Esc"!==e.key&&"Tab"!==e.key||(this.buttonPressed_&&this.unpressButton(),"Tab"===!e.key&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),nn&&cn())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Oi.registerComponent("MenuButton",go);class yo extends go{constructor(e,t){const n=t.tracks;if(super(e,t),this.items.length<=1&&this.hide(),!n)return;const i=li(this,this.update);n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),n.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",(function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i),n.removeEventListener("labelchange",i)}))}}Oi.registerComponent("TrackButton",yo);class vo extends Mr{constructor(e,t){super(e,t),this.selectable=t.selectable,this.isSelected_=t.selected||!1,this.multiSelectable=t.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,t,n){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},t),n),r=hn("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(r):i.replaceChild(r,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Oi.registerComponent("MenuItem",vo);class bo extends vo{constructor(e,t){const n=t.track,i=e.textTracks();t.label=n.label||n.language||"Unknown",t.selected="showing"===n.mode,super(e,t),this.track=n,this.kinds=(t.kinds||[t.kind||this.track.kind]).filter(Boolean);const o=(...e)=>{this.handleTracksChange.apply(this,e)},a=(...e)=>{this.handleSelectedLanguageChange.apply(this,e)};if(e.on(["loadstart","texttrackchange"],o),i.addEventListener("change",o),i.addEventListener("selectedlanguagechange",a),this.on("dispose",(function(){e.off(["loadstart","texttrackchange"],o),i.removeEventListener("change",o),i.removeEventListener("selectedlanguagechange",a)})),void 0===i.onchange){let e;this.on(["tap","click"],(function(){if("object"!=typeof r().Event)try{e=new(r().Event)("change")}catch(e){}e||(e=s().createEvent("Event"),e.initEvent("change",!0,!0)),i.dispatchEvent(e)}))}this.handleTracksChange()}handleClick(e){const t=this.track,n=this.player_.textTracks();if(super.handleClick(e),n)for(let e=0;e<n.length;e++){const i=n[e];-1!==this.kinds.indexOf(i.kind)&&(i===t?"showing"!==i.mode&&(i.mode="showing"):"disabled"!==i.mode&&(i.mode="disabled"))}}handleTracksChange(e){const t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)}handleSelectedLanguageChange(e){if("showing"===this.track.mode){const e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Oi.registerComponent("TextTrackMenuItem",bo);class _o extends bo{constructor(e,t){t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,super(e,t)}handleTracksChange(e){const t=this.player().textTracks();let n=!0;for(let e=0,i=t.length;e<i;e++){const i=t[e];if(this.options_.kinds.indexOf(i.kind)>-1&&"showing"===i.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const t=this.player().textTracks();let n=!0;for(let e=0,i=t.length;e<i;e++){const i=t[e];if(["captions","descriptions","subtitles"].indexOf(i.kind)>-1&&"showing"===i.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Oi.registerComponent("OffTextTrackMenuItem",_o);class wo extends yo{constructor(e,t={}){t.tracks=e.textTracks(),super(e,t)}createItems(e=[],t=bo){let n;this.label_&&(n=`${this.label_} off`),e.push(new _o(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let n=0;n<i.length;n++){const r=i[n];if(this.kinds_.indexOf(r.kind)>-1){const n=new t(this.player_,{track:r,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});n.addClass(`vjs-${r.kind}-menu-item`),e.push(n)}}return e}}Oi.registerComponent("TextTrackButton",wo);class ko extends vo{constructor(e,t){const n=t.track,i=t.cue,r=e.currentTime();t.selectable=!0,t.multiSelectable=!1,t.label=i.text,t.selected=i.startTime<=r&&r<i.endTime,super(e,t),this.track=n,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Oi.registerComponent("ChaptersTrackMenuItem",ko);class So extends wo{constructor(e,t,n){super(e,t,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach((e=>{e.selected(this.track_.activeCues[0]===e.cue)}))}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&"chapters"!==e.track.kind)return;const t=this.findChaptersTrack();t!==this.track_?(this.setTrack(t),super.update()):(!this.items||t&&t.cues&&t.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let t=e.length-1;t>=0;t--){const n=e[t];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ci(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const t=this.track_.cues;if(!t)return e;for(let n=0,i=t.length;n<i;n++){const i=t[n],r=new ko(this.player_,{track:this.track_,cue:i});e.push(r)}return e}}So.prototype.kind_="chapters",So.prototype.controlText_="Chapters",Oi.registerComponent("ChaptersButton",So);class Eo extends wo{constructor(e,t,n){super(e,t,n),this.setIcon("audio-description");const i=e.textTracks(),r=li(this,this.handleTracksChange);i.addEventListener("change",r),this.on("dispose",(function(){i.removeEventListener("change",r)}))}handleTracksChange(e){const t=this.player().textTracks();let n=!1;for(let e=0,i=t.length;e<i;e++){const i=t[e];if(i.kind!==this.kind_&&"showing"===i.mode){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}Eo.prototype.kind_="descriptions",Eo.prototype.controlText_="Descriptions",Oi.registerComponent("DescriptionsButton",Eo);class To extends wo{constructor(e,t,n){super(e,t,n),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}To.prototype.kind_="subtitles",To.prototype.controlText_="Subtitles",Oi.registerComponent("SubtitlesButton",To);class xo extends bo{constructor(e,t){t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",super(e,t),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+t.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Oi.registerComponent("CaptionSettingsMenuItem",xo);class Co extends wo{constructor(e,t,n){super(e,t,n),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new xo(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}Co.prototype.kind_="captions",Co.prototype.controlText_="Captions",Oi.registerComponent("CaptionsButton",Co);class Po extends bo{createEl(e,t,n){const i=super.createEl(e,t,n),r=i.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):r.appendChild(hn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(hn("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}Oi.registerComponent("SubsCapsMenuItem",Po);class Ao extends wo{constructor(e,t={}){super(e,t),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(Ci(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new xo(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,Po),e}}Ao.prototype.kinds_=["captions","subtitles"],Ao.prototype.controlText_="Subtitles",Oi.registerComponent("SubsCapsButton",Ao);class Oo extends vo{constructor(e,t){const n=t.track,i=e.audioTracks();t.label=n.label||n.language||"Unknown",t.selected=n.enabled,super(e,t),this.track=n,this.addClass(`vjs-${n.kind}-menu-item`);const r=(...e)=>{this.handleTracksChange.apply(this,e)};i.addEventListener("change",r),this.on("dispose",(()=>{i.removeEventListener("change",r)}))}createEl(e,t,n){const i=super.createEl(e,t,n),r=i.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(r.appendChild(hn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(hn("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const e=this.player_.audioTracks();for(let t=0;t<e.length;t++){const n=e[t];n!==this.track&&(n.enabled=n===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Oi.registerComponent("AudioTrackMenuItem",Oo);class Io extends yo{constructor(e,t={}){t.tracks=e.audioTracks(),super(e,t),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const t=this.player_.audioTracks();for(let n=0;n<t.length;n++){const i=t[n];e.push(new Oo(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}Io.prototype.controlText_="Audio Track",Oi.registerComponent("AudioTrackButton",Io);class Lo extends vo{constructor(e,t){const n=t.rate,i=parseFloat(n,10);t.label=n,t.selected=i===e.playbackRate(),t.selectable=!0,t.multiSelectable=!1,super(e,t),this.label=n,this.rate=i,this.on(e,"ratechange",(e=>this.update(e)))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}Lo.prototype.contentElType="button",Oi.registerComponent("PlaybackRateMenuItem",Lo);class Do extends go{constructor(e,t){super(e,t),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",(e=>this.updateVisibility(e))),this.on(e,"ratechange",(e=>this.updateLabel(e))),this.on(e,"playbackrateschange",(e=>this.handlePlaybackRateschange(e)))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=hn("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),t=[];for(let n=e.length-1;n>=0;n--)t.push(new Lo(this.player(),{rate:e[n]+"x"}));return t}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}Do.prototype.controlText_="Playback Rate",Oi.registerComponent("PlaybackRateMenuButton",Do);class Ro extends Oi{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",t={},n={}){return t.className||(t.className=this.buildCSSClass()),super.createEl(e,t,n)}}Oi.registerComponent("Spacer",Ro),Oi.registerComponent("CustomControlSpacer",class extends Ro{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:"Â "})}});class Mo extends Oi{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}Mo.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]},Oi.registerComponent("ControlBar",Mo);class No extends Wi{constructor(e,t){super(e,t),this.on(e,"error",(e=>{this.open(e)}))}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}No.prototype.options_=Object.assign({},Wi.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Oi.registerComponent("ErrorDisplay",No);class jo extends Oi{constructor(e,t={}){super(e,t),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),hn("select",{id:this.options_.id},{},this.options_.SelectOptions.map((e=>{const t=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${Yn()}`)+"-"+e[1].replace(/\W+/g,""),n=hn("option",{id:t,value:this.localize(e[0]),textContent:e[1]});return n.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${t}`),n})))}}Oi.registerComponent("TextTrackSelect",jo);class Fo extends Oi{constructor(e,t={}){super(e,t);const n=hn("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(n);const i=this.options_.selects;for(const t of i){const n=this.options_.selectConfigs[t],i=n.className,r=n.id.replace("%s",this.options_.id_);let o=null;const s=`vjs_select_${Yn()}`;if("colors"===this.options_.type){o=hn("span",{className:i});const e=hn("label",{id:r,className:"vjs-label",textContent:n.label});e.setAttribute("for",s),o.appendChild(e)}const a=new jo(e,{SelectOptions:n.options,legendId:this.options_.legendId,id:s,labelId:r});this.addChild(a),"colors"===this.options_.type&&(o.appendChild(a.el()),this.el().appendChild(o))}}createEl(){return hn("fieldset",{className:this.options_.className})}}Oi.registerComponent("TextTrackFieldset",Fo);class Bo extends Oi{constructor(e,t={}){super(e,t);const n=this.options_.textTrackComponentid,i=new Fo(e,{id_:n,legendId:`captions-text-legend-${n}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const r=new Fo(e,{id_:n,legendId:`captions-background-${n}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(r);const o=new Fo(e,{id_:n,legendId:`captions-window-${n}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(o)}createEl(){return hn("div",{className:"vjs-track-settings-colors"})}}Oi.registerComponent("TextTrackSettingsColors",Bo);class Uo extends Oi{constructor(e,t={}){super(e,t);const n=this.options_.textTrackComponentid,i=new Fo(e,{id_:n,legendId:`captions-font-size-${n}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const r=new Fo(e,{id_:n,legendId:`captions-edge-style-${n}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(r);const o=new Fo(e,{id_:n,legendId:`captions-font-family-${n}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(o)}createEl(){return hn("div",{className:"vjs-track-settings-font"})}}Oi.registerComponent("TextTrackSettingsFont",Uo);class qo extends Oi{constructor(e,t={}){super(e,t);const n=this.localize("restore all settings to the default values"),i=new Hr(e,{controlText:n,className:"vjs-default-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=this.localize("Reset"),this.addChild(i);const r=new Hr(e,{controlText:n,className:"vjs-done-button"});r.el().classList.remove("vjs-control","vjs-button"),r.el().textContent=this.localize("Done"),this.addChild(r)}createEl(){return hn("div",{className:"vjs-track-settings-controls"})}}Oi.registerComponent("TrackSettingsControls",qo);const Vo="vjs-text-track-settings",Ho=["#000","Black"],$o=["#00F","Blue"],zo=["#0FF","Cyan"],Wo=["#0F0","Green"],Go=["#F0F","Magenta"],Ko=["#F00","Red"],Yo=["#FFF","White"],Xo=["#FF0","Yellow"],Jo=["1","Opaque"],Qo=["0.5","Semi-Transparent"],Zo=["0","Transparent"],es={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ho,Yo,Ko,Wo,$o,Xo,Go,zo],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Jo,Qo,Zo],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Yo,Ho,Ko,Wo,$o,Xo,Go,zo],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:e=>"1.00"===e?null:Number(e)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Jo,Qo],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[Zo,Qo,Jo],className:"vjs-window-opacity vjs-opacity"}};function ts(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}es.windowColor.options=es.backgroundColor.options,Oi.registerComponent("TextTrackSettings",class extends Wi{constructor(e,t){t.temporary=!1,super(e,t),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=hn("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),void 0===t.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const t=new Bo(e,{textTrackComponentid:this.id_,selectConfigs:es,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(t);const n=new Uo(e,{textTrackComponentid:this.id_,selectConfigs:es,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(n);const i=new qo(e);this.addChild(i)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),"click",(()=>{this.saveSettings(),this.close()})),this.on(this.$(".vjs-default-button"),"click",(()=>{this.setDefaults(),this.updateDisplay()})),Ct(es,(e=>{this.on(this.$(e.selector),"change",this.updateDisplay)}))}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return Pt(es,((e,t,n)=>{const i=(r=this.$(t.selector),o=t.parser,ts(r.options[r.options.selectedIndex].value,o));var r,o;return void 0!==i&&(e[n]=i),e}),{})}setValues(e){Ct(es,((t,n)=>{!function(e,t,n){if(t)for(let i=0;i<e.options.length;i++)if(ts(e.options[i].value,n)===t){e.selectedIndex=i;break}}(this.$(t.selector),e[n],t.parser)}))}setDefaults(){Ct(es,(e=>{const t=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=t}))}restoreSettings(){let e;try{e=JSON.parse(r().localStorage.getItem(Vo))}catch(e){St.warn(e)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?r().localStorage.setItem(Vo,JSON.stringify(e)):r().localStorage.removeItem(Vo)}catch(e){St.warn(e)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}),Oi.registerComponent("ResizeManager",class extends Oi{constructor(e,t){let n=t.ResizeObserver||r().ResizeObserver;null===t.ResizeObserver&&(n=!1),super(e,It({createEl:!n,reportTouchActivity:!1},t)),this.ResizeObserver=t.ResizeObserver||r().ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=ui((()=>{this.resizeHandler()}),100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const e=this.debouncedHandler_;let t=this.unloadListener_=function(){ni(this,"resize",e),ni(this,"unload",t),t=null};ti(this.el_.contentWindow,"unload",t),ti(this.el_.contentWindow,"resize",e)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}});const ns={trackingThreshold:20,liveTolerance:15};Oi.registerComponent("LiveTracker",class extends Oi{constructor(e,t){super(e,It(ns,t,{createEl:!1})),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=e=>this.handlePlay(e),this.handleFirstTimeupdate_=e=>this.handleFirstTimeupdate(e),this.handleSeeked_=e=>this.handleSeeked(e),this.seekToLiveEdge_=e=>this.seekToLiveEdge(e),this.reset_(),this.on(this.player_,"durationchange",(e=>this.handleDurationchange(e))),this.on(this.player_,"canplay",(()=>this.toggleTracking()))}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const t=Number(r().performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;const i=this.liveCurrentTime(),o=this.player_.currentTime();let s=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-o)>this.options_.liveTolerance;this.timeupdateSeen_&&i!==1/0||(s=!1),s!==this.behindLiveEdge_&&(this.behindLiveEdge_=s,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,ai),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),t=[];let n=e?e.length:0;for(;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),t=[];let n=e?e.length:0;for(;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return"number"==typeof this.trackingInterval_}seekToLiveEdge(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}),Oi.registerComponent("TitleBar",class extends Oi{constructor(e,t){super(e,t),this.on("statechanged",(e=>this.updateDom_())),this.updateDom_()}createEl(){return this.els={title:hn("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Yn()}`}),description:hn("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Yn()}`})},hn("div",{className:"vjs-title-bar"},{},Lt(this.els))}updateDom_(){const e=this.player_.tech_,t=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach((e=>{const i=this.state[e],r=this.els[e],o=n[e];An(r),i&&dn(r,i),t&&(t.removeAttribute(o),i&&t.setAttribute(o,r.id))})),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,t=e&&e.el_;t&&(t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-describedby")),super.dispose(),this.els=null}});const is={initialDisplay:4e3,position:[],takeFocus:!1};Oi.registerComponent("TransientButton",class extends Hr{constructor(e,t){super(e,t=It(is,t)),this.controlText(t.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],(e=>{this.removeClass("force-display")}))}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map((e=>`vjs-${e}`)).join(" ")}`}createEl(){const e=hn("button",{},{type:"button",class:this.buildCSSClass()},hn("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout((()=>{this.removeClass("force-display")}),this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}});const rs=e=>{const t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;const n=e.$$("source"),i=[];let r="";if(!n.length)return!1;for(let e=0;e<n.length;e++){const t=n[e].src;t&&-1===i.indexOf(t)&&i.push(t)}return!!i.length&&(1===i.length&&(r=i[0]),e.triggerSourceset(r),!0)},os=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(e){const t=s().createElement(this.nodeName.toLowerCase());t.innerHTML=e;const n=s().createDocumentFragment();for(;t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",r().Element.prototype.appendChild.call(this,n),this.innerHTML}}),ss=(e,t)=>{let n={};for(let i=0;i<e.length&&(n=Object.getOwnPropertyDescriptor(e[i],t),!(n&&n.set&&n.get));i++);return n.enumerable=!0,n.configurable=!0,n},as=function(e){const t=e.el();if(t.resetSourceWatch_)return;const n={},i=(e=>ss([e.el(),r().HTMLMediaElement.prototype,r().Element.prototype,os],"innerHTML"))(e),o=n=>(...i)=>{const r=n.apply(t,i);return rs(e),r};["append","appendChild","insertAdjacentHTML"].forEach((e=>{t[e]&&(n[e]=t[e],t[e]=o(n[e]))})),Object.defineProperty(t,"innerHTML",It(i,{set:o(i.set)})),t.resetSourceWatch_=()=>{t.resetSourceWatch_=null,Object.keys(n).forEach((e=>{t[e]=n[e]})),Object.defineProperty(t,"innerHTML",i)},e.one("sourceset",t.resetSourceWatch_)},ls=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?rr(r().Element.prototype.getAttribute.call(this,"src")):""},set(e){return r().Element.prototype.setAttribute.call(this,"src",e),e}});class cs extends yr{constructor(e,t){super(e,t);const n=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&"VIDEO"===this.el_.tagName,n&&(this.el_.currentSrc!==n.src||e.tag&&3===e.tag.initNetworkState_)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const e=this.el_.childNodes;let t=e.length;const n=[];for(;t--;){const r=e[t];"track"===r.nodeName.toLowerCase()&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),this.textTracks().addTrack(r.track),i||this.el_.hasAttribute("crossorigin")||!sr(r.src)||(i=!0)):n.push(r))}for(let e=0;e<n.length;e++)this.el_.removeChild(n[e])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&St.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),this.restoreMetadataTracksInIOSNativePlayer_(),(en||Xt)&&!0===e.nativeControlsForTouch&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),cs.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){!function(e){if(!e.featuresSourceset)return;const t=e.el();if(t.resetSourceset_)return;const n=(e=>ss([e.el(),r().HTMLMediaElement.prototype,ls],"src"))(e),i=t.setAttribute,o=t.load;Object.defineProperty(t,"src",It(n,{set:i=>{const r=n.set.call(t,i);return e.triggerSourceset(t.src),r}})),t.setAttribute=(n,r)=>{const o=i.call(t,n,r);return/src/i.test(n)&&e.triggerSourceset(t.src),o},t.load=()=>{const n=o.call(t);return rs(e)||(e.triggerSourceset(""),as(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):rs(e)||as(e),t.resetSourceset_=()=>{t.resetSourceset_=null,t.load=o,t.setAttribute=i,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let t;const n=()=>{t=[];for(let n=0;n<e.length;n++){const i=e[n];"metadata"===i.kind&&t.push({track:i,storedMode:i.mode})}};n(),e.addEventListener("change",n),this.on("dispose",(()=>e.removeEventListener("change",n)));const i=()=>{for(let e=0;e<t.length;e++){const n=t[e];"disabled"===n.track.mode&&n.track.mode!==n.storedMode&&(n.track.mode=n.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",(()=>{e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)})),this.on("webkitendfullscreen",(()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)}))}overrideNative_(e,t){if(t!==this[`featuresNative${e}Tracks`])return;const n=e.toLowerCase();this[`${n}TracksListeners_`]&&Object.keys(this[`${n}TracksListeners_`]).forEach((e=>{this.el()[`${n}Tracks`].removeEventListener(e,this[`${n}TracksListeners_`][e])})),this[`featuresNative${e}Tracks`]=!t,this[`${n}TracksListeners_`]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const t=fr[e],n=this.el()[t.getterName],i=this[t.getterName]();if(!this[`featuresNative${t.capitalName}Tracks`]||!n||!n.addEventListener)return;const r={change:t=>{const n={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(n),"text"===e&&this[mr.remoteText.getterName]().trigger(n)},addtrack(e){i.addTrack(e.track)},removetrack(e){i.removeTrack(e.track)}},o=function(){const e=[];for(let t=0;t<i.length;t++){let r=!1;for(let e=0;e<n.length;e++)if(n[e]===i[t]){r=!0;break}r||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[t.getterName+"Listeners_"]=r,Object.keys(r).forEach((e=>{const t=r[e];n.addEventListener(e,t),this.on("dispose",(i=>n.removeEventListener(e,t)))})),this.on("loadstart",o),this.on("dispose",(e=>this.off("loadstart",o)))}proxyNativeTracks_(){fr.names.forEach((e=>{this.proxyNativeTracksForType_(e)}))}createEl(){let e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){const t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),cs.disposeMediaElement(e),e=t}else{e=s().createElement("video");const t=It({},this.options_.tag&&bn(this.options_.tag));en&&!0===this.options_.nativeControlsForTouch||delete t.controls,vn(e,Object.assign(t,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&wn(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const t=["loop","muted","playsinline","autoplay"];for(let n=0;n<t.length;n++){const i=t[n],r=this.options_[i];void 0!==r&&(r?wn(e,i,i):kn(e,i),e[i]=r)}return e}handleLateInit_(e){if(0===e.networkState||3===e.networkState)return;if(0===e.readyState){let e=!1;const t=function(){e=!0};this.on("loadstart",t);const n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready((function(){this.off("loadstart",t),this.off("loadedmetadata",n),e||this.trigger("loadstart")}))}const t=["loadstart"];t.push("loadedmetadata"),e.readyState>=2&&t.push("loadeddata"),e.readyState>=3&&t.push("canplay"),e.readyState>=4&&t.push("canplaythrough"),this.ready((function(){t.forEach((function(e){this.trigger(e)}),this)}))}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&rn?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){St(e,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Ft&&Vt&&0===this.el_.currentTime){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},t=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",t),this.on("dispose",(()=>{this.off("webkitbeginfullscreen",t),this.off("webkitendfullscreen",e)}))}supportsFullScreen(){return"function"==typeof this.el_.webkitEnterFullScreen}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Hi(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}),0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}exitFullScreen(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(void 0===e)return this.el_.src;this.setSrc(e)}reset(){cs.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,t,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,n):super.addTextTrack(e,t,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const t=s().createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t}addRemoteTextTrack(e,t){const n=super.addRemoteTextTrack(e,t);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const t=this.$$("track");let n=t.length;for(;n--;)e!==t[n]&&e!==t[n].track||this.el().removeChild(t[n])}}getVideoPlaybackQuality(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();const e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),r().performance&&(e.creationTime=r().performance.now()),e}}Dt(cs,"TEST_VID",(function(){if(!an())return;const e=s().createElement("video"),t=s().createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e})),cs.isSupported=function(){try{cs.TEST_VID.volume=.5}catch(e){return!1}return!(!cs.TEST_VID||!cs.TEST_VID.canPlayType)},cs.canPlayType=function(e){return cs.TEST_VID.canPlayType(e)},cs.canPlaySource=function(e,t){return cs.canPlayType(e.type)},cs.canControlVolume=function(){try{const e=cs.TEST_VID.volume;cs.TEST_VID.volume=e/2+.1;const t=e!==cs.TEST_VID.volume;return t&&nn?(r().setTimeout((()=>{cs&&cs.prototype&&(cs.prototype.featuresVolumeControl=e!==cs.TEST_VID.volume)})),!1):t}catch(e){return!1}},cs.canMuteVolume=function(){try{const e=cs.TEST_VID.muted;return cs.TEST_VID.muted=!e,cs.TEST_VID.muted?wn(cs.TEST_VID,"muted","muted"):kn(cs.TEST_VID,"muted"),e!==cs.TEST_VID.muted}catch(e){return!1}},cs.canControlPlaybackRate=function(){if(Ft&&Vt&&$t<58)return!1;try{const e=cs.TEST_VID.playbackRate;return cs.TEST_VID.playbackRate=e/2+.1,e!==cs.TEST_VID.playbackRate}catch(e){return!1}},cs.canOverrideAttributes=function(){try{const e=()=>{};Object.defineProperty(s().createElement("video"),"src",{get:e,set:e}),Object.defineProperty(s().createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(s().createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(s().createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},cs.supportsNativeTextTracks=function(){return rn||nn&&Vt},cs.supportsNativeVideoTracks=function(){return!(!cs.TEST_VID||!cs.TEST_VID.videoTracks)},cs.supportsNativeAudioTracks=function(){return!(!cs.TEST_VID||!cs.TEST_VID.audioTracks)},cs.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function([e,t]){Dt(cs.prototype,e,(()=>cs[t]()),!0)})),cs.prototype.featuresVolumeControl=cs.canControlVolume(),cs.prototype.movingMediaElementInDOM=!nn,cs.prototype.featuresFullscreenResize=!0,cs.prototype.featuresProgressEvents=!0,cs.prototype.featuresTimeupdateEvents=!0,cs.prototype.featuresVideoFrameCallback=!(!cs.TEST_VID||!cs.TEST_VID.requestVideoFrameCallback),cs.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},cs.resetMediaElement=function(e){if(!e)return;const t=e.querySelectorAll("source");let n=t.length;for(;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){cs.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){cs.prototype["set"+Ci(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){cs.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){cs.prototype["set"+Ci(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){cs.prototype[e]=function(){return this.el_[e]()}})),yr.withSourceHandlers(cs),cs.nativeSourceHandler={},cs.nativeSourceHandler.canPlayType=function(e){try{return cs.TEST_VID.canPlayType(e)}catch(e){return""}},cs.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return cs.nativeSourceHandler.canPlayType(e.type);if(e.src){const t=or(e.src);return cs.nativeSourceHandler.canPlayType(`video/${t}`)}return""},cs.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},cs.nativeSourceHandler.dispose=function(){},cs.registerSourceHandler(cs.nativeSourceHandler),yr.registerTech("Html5",cs);const us=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],hs={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},ds=["tiny","xsmall","small","medium","large","xlarge","huge"],ps={};ds.forEach((e=>{const t="x"===e.charAt(0)?`x-${e.substring(1)}`:e;ps[e]=`vjs-layout-${t}`}));const fs={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class ms extends Oi{constructor(e,t,n){if(e.id=e.id||t.id||`vjs_video_${Yn()}`,(t=Object.assign(ms.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language){const n=e.closest("[lang]");n&&(t.language=n.getAttribute("lang"))}if(super(null,t,n),this.boundDocumentFullscreenChange_=e=>this.documentFullscreenChange_(e),this.boundFullWindowOnEscKey_=e=>this.fullWindowOnEscKey(e),this.boundUpdateStyleEl_=e=>this.updateStyleEl_(e),this.boundApplyInitTime_=e=>this.applyInitTime_(e),this.boundUpdateCurrentBreakpoint_=e=>this.updateCurrentBreakpoint_(e),this.boundHandleTechClick_=e=>this.handleTechClick_(e),this.boundHandleTechDoubleClick_=e=>this.handleTechDoubleClick_(e),this.boundHandleTechTouchStart_=e=>this.handleTechTouchStart_(e),this.boundHandleTechTouchMove_=e=>this.handleTechTouchMove_(e),this.boundHandleTechTouchEnd_=e=>this.handleTechTouchEnd_(e),this.boundHandleTechTap_=e=>this.handleTechTap_(e),this.boundUpdatePlayerHeightOnAudioOnlyMode_=e=>this.updatePlayerHeightOnAudioOnlyMode_(e),this.isFullscreen_=!1,this.log=Et(this.id_),this.fsApi_=vt,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&bn(e),this.language(this.options_.language),t.languages){const e={};Object.getOwnPropertyNames(t.languages).forEach((function(n){e[n.toLowerCase()]=t.languages[n]})),this.languages_=e}else this.languages_=ms.prototype.options_.languages;this.resetCache_(),this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach((e=>{if("function"!=typeof this[e])throw new Error(`plugin "${e}" does not exist`)})),this.scrubbing_=!1,this.el_=this.createEl(),Si(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(ti(s(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=It(this.options_);if(t.plugins&&Object.keys(t.plugins).forEach((e=>{this[e](t.plugins[e])})),t.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(t.playbackRates),t.experimentalSvgIcons){const e=(new(r().DOMParser)).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play">\n      <path d="M16 10v28l22-14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">\n      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">\n      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">\n      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">\n      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">\n      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">\n      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">\n      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">\n      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">\n      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">\n      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">\n      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">\n      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">\n      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">\n      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">\n      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">\n      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">\n      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">\n      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-share">\n      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">\n      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-square">\n      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">\n      <circle cx="24" cy="24" r="20"></circle>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">\n      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">\n      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">\n      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">\n      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">\n      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">\n      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">\n      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">\n      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">\n      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">\n      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">\n      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">\n      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">\n      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">\n      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">\n      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">\n      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>\n      <path fill="none" d="M-1-3h24v24H-1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">\n      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">\n      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">\n      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">\n      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">\n      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>\n    </symbol>\n  </defs>\n</svg>',"image/svg+xml");if(e.querySelector("parsererror"))St.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const t=e.documentElement;t.style.display="none",this.el_.appendChild(t),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio("audio"===e.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),t.spatialNavigation&&t.spatialNavigation.enabled&&(this.spatialNavigation=new Rr(this),this.addClass("vjs-spatial-navigation-enabled")),en&&this.addClass("vjs-touch-enabled"),nn||this.addClass("vjs-workinghover"),ms.players[this.id_]=this;const o=ft.split(".")[0];this.addClass(`vjs-v${o}`),this.userActive(!0),this.reportUserActivity(),this.one("play",(e=>this.listenForUserActivity_(e))),this.on("keydown",(e=>this.handleKeyDown(e))),this.on("languagechange",(e=>this.handleLanguagechange(e))),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",(()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)}))}dispose(){this.trigger("dispose"),this.off("dispose"),ni(s(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ni(s(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),ms.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),br.hasOwnProperty(this.id())&&delete br[this.id()],gr.names.forEach((e=>{const t=this[gr[e].getterName]();t&&t.off&&t.off()})),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e,t=this.tag,n=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");const i="video-js"===this.tag.tagName.toLowerCase();n?e=this.el_=t.parentNode:i||(e=this.el_=super.createEl("div"));const o=bn(t);if(i){for(e=this.el_=t,t=this.tag=s().createElement("video");e.children.length;)t.appendChild(e.firstChild);fn(e,"video-js")||mn(e,"video-js"),e.appendChild(t),n=this.playerElIngest_=e,Object.keys(e).forEach((n=>{try{t[n]=e[n]}catch(e){}}))}t.setAttribute("tabindex","-1"),o.tabindex="-1",Vt&&Kt&&(t.setAttribute("role","application"),o.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach((function(n){i&&"class"===n||e.setAttribute(n,o[n]),i&&t.setAttribute(n,o[n])})),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=e.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter((e=>on[e])).map((e=>"vjs-device-"+e.substring(3).toLowerCase().replace(/\_/g,"-")));if(this.addClass(...a),!0!==r().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=$n("vjs-styles-dimensions");const e=Rn(".vjs-styles-defaults"),t=Rn("head");t.insertBefore(this.styleEl_,e?e.nextSibling:t.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const l=t.getElementsByTagName("a");for(let e=0;e<l.length;e++){const t=l.item(e);mn(t,"vjs-hidden"),t.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!n&&t.parentNode.insertBefore(e,t),pn(t,e),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=e,e}crossOrigin(e){if(void 0===e)return this.techGet_("crossOrigin");null===e||"anonymous"===e||"use-credentials"===e?(this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)):St.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,t){const n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();const i=parseFloat(t);isNaN(i)?St.error(`Improper value "${t}" supplied for for ${e}`):(this[n]=i,this.updateStyleEl_())}fluid(e){if(void 0===e)return!!this.fluid_;var t,n;this.fluid_=!!e,mi(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),n=()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)},mi(t=this)?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(!0===r().VIDEOJS_NO_DYNAMIC_STYLE){const e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}let e,t,n,i;n=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";const o=n.split(":"),s=o[1]/o[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/s:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*s,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),zn(this.styleEl_,`\n      .${i} {\n        width: ${e}px;\n        height: ${t}px;\n      }\n\n      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ${100*s}%;\n      }\n    `)}loadTech_(e,t){this.tech_&&this.unloadTech_();const n=Ci(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(yr.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let r=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(r=!1);const o={source:t,autoplay:r,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};gr.names.forEach((e=>{const t=gr[e];o[t.getterName]=this[t.privateName]})),Object.assign(o,this.options_[n]),Object.assign(o,this.options_[i]),Object.assign(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);const s=yr.getTech(e);if(!s)throw new Error(`No Tech named '${n}' exists! '${n}' should be registered using videojs.registerTech()'`);var a,l;this.tech_=new s(o),this.tech_.ready(li(this,this.handleTechReady_),!0),a=this.textTracksJson_||[],l=this.tech_,a.forEach((function(e){const t=l.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((e=>t.addCue(e)))})),l.textTracks(),us.forEach((e=>{this.on(this.tech_,e,(t=>this[`handleTech${Ci(e)}_`](t)))})),Object.keys(hs).forEach((e=>{this.on(this.tech_,e,(t=>{0===this.tech_.playbackRate()&&this.tech_.seeking()?this.queuedCallbacks_.push({callback:this[`handleTech${hs[e]}_`].bind(this),event:t}):this[`handleTech${hs[e]}_`](t)}))})),this.on(this.tech_,"loadstart",(e=>this.handleTechLoadStart_(e))),this.on(this.tech_,"sourceset",(e=>this.handleTechSourceset_(e))),this.on(this.tech_,"waiting",(e=>this.handleTechWaiting_(e))),this.on(this.tech_,"ended",(e=>this.handleTechEnded_(e))),this.on(this.tech_,"seeking",(e=>this.handleTechSeeking_(e))),this.on(this.tech_,"play",(e=>this.handleTechPlay_(e))),this.on(this.tech_,"pause",(e=>this.handleTechPause_(e))),this.on(this.tech_,"durationchange",(e=>this.handleTechDurationChange_(e))),this.on(this.tech_,"fullscreenchange",((e,t)=>this.handleTechFullscreenChange_(e,t))),this.on(this.tech_,"fullscreenerror",((e,t)=>this.handleTechFullscreenError_(e,t))),this.on(this.tech_,"enterpictureinpicture",(e=>this.handleTechEnterPictureInPicture_(e))),this.on(this.tech_,"leavepictureinpicture",(e=>this.handleTechLeavePictureInPicture_(e))),this.on(this.tech_,"error",(e=>this.handleTechError_(e))),this.on(this.tech_,"posterchange",(e=>this.handleTechPosterChange_(e))),this.on(this.tech_,"textdata",(e=>this.handleTechTextData_(e))),this.on(this.tech_,"ratechange",(e=>this.handleTechRateChange_(e))),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||pn(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){gr.names.forEach((e=>{const t=gr[e];this[t.privateName]=this[t.getterName]()})),this.textTracksJson_=function(e){const t=e.$$("track"),n=Array.prototype.map.call(t,(e=>e.track));return Array.prototype.map.call(t,(function(e){const t=$i(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map($i))}(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return void 0===e&&St.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_}version(){return{"video.js":ft}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||"string"!=typeof e)return;const t=()=>{const e=this.muted();this.muted(!0);const t=()=>{this.muted(e)};this.playTerminatedQueue_.push(t);const n=this.play();if(Vi(n))return n.catch((e=>{throw t(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${e||""}`)}))};let n;return"any"!==e||this.muted()?n="muted"!==e||this.muted()?this.play():t():(n=this.play(),Vi(n)&&(n=n.catch(t))),Vi(n)?n.then((()=>{this.trigger({type:"autoplay-success",autoplay:e})})).catch((()=>{this.trigger({type:"autoplay-failure",autoplay:e})})):void 0}updateSourceCaches_(e=""){let t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=((e,t)=>{if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;const n=e.cache_.sources.filter((e=>e.src===t));if(n.length)return n[0].type;const i=e.$$("source");for(let e=0;e<i.length;e++){const n=i[e];if(n.type&&n.src&&n.src===t)return n.type}return Ar(t)})(this,t)),this.cache_.source=It({},e,{src:t,type:n});const i=this.cache_.sources.filter((e=>e.src&&e.src===t)),r=[],o=this.$$("source"),s=[];for(let e=0;e<o.length;e++){const n=bn(o[e]);r.push(n),n.src&&n.src===t&&s.push(n.src)}s.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}handleTechSourceset_(e){if(!this.changingSrc_){let t=e=>this.updateSourceCaches_(e);const n=this.currentSource().src,i=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(t=()=>{}),t(i),e.src||this.tech_.any(["sourceset","loadstart"],(e=>{if("sourceset"===e.type)return;const t=this.techGet_("currentSrc");this.lastSource_.tech=t,this.updateSourceCaches_(t)}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((e=>e.callback(e.event))),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),t=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",t))};this.on("timeupdate",t)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?Hi(this.play()):this.pause()))}handleTechDoubleClick_(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(t=>t.contains(e.target)))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const t=e.target.player;if(t&&t!==this)return;const n=this.el();let i=s()[this.fsApi_.fullscreenElement]===n;!i&&n.matches&&(i=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,t){t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",(()=>{this.removeClass("vjs-ios-native-fs")}))),this.isFullscreen(t.isFullscreen))}handleTechFullscreenError_(e,t){this.trigger("fullscreenerror",t)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,t){this.ready((function(){if(e in Er)return function(e,t,n,i){return t[n](e.reduce(xr(n),i))}(this.middleware_,this.tech_,e,t);if(e in Tr)return kr(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw St(e),e}}),!0)}techGet_(e){if(this.tech_&&this.tech_.isReady_){if(e in Sr)return function(e,t,n){return e.reduceRight(xr(n),t[n]())}(this.middleware_,this.tech_,e);if(e in Tr)return kr(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw St(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,t),t;if("TypeError"===t.name)throw St(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,t),this.tech_.isReady_=!1,t;throw St(t),t}}}play(){return new Promise((e=>{this.play_(e)}))}play_(e=Hi){this.playCallbacks_.push(e);const t=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),n=Boolean(rn||nn);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!t)return this.waitToPlay_=e=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!t&&n&&this.load());const i=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))}runPlayCallbacks_(e){const t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))}pause(){this.techCall_("pause")}paused(){return!1!==this.techGet_("paused")}played(){return this.techGet_("played")||Di(0,0)}scrubbing(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){return void 0===e?(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime):(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),this.cache_.initTime=0,void(isFinite(e)&&(this.cache_.currentTime=Number(e)))):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_)))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return e&&e.length||(e=Di(0,0)),e}seekable(){let e=this.techGet_("seekable");return e&&e.length||(e=Di(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return Ui(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),t=this.duration();let n=e.end(e.length-1);return n>t&&(n=t),n}volume(e){let t;return void 0!==e?(t=Math.max(0,Math.min(1,e)),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)}muted(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)}defaultMuted(e){return void 0!==e&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(void 0!==e){const t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const t=this;return new Promise(((n,i)=>{function r(){t.off("fullscreenerror",s),t.off("fullscreenchange",o)}function o(){r(),n()}function s(e,t){r(),i(t)}t.one("fullscreenchange",o),t.one("fullscreenerror",s);const a=t.requestFullscreenHelper_(e);a&&(a.then(r,r),a.then(n,i))}))}requestFullscreenHelper_(e){let t;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){const e=this.el_[this.fsApi_.requestFullscreen](t);return e&&e.then((()=>this.isFullscreen(!0)),(()=>this.isFullscreen(!1))),e}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise(((t,n)=>{function i(){e.off("fullscreenerror",o),e.off("fullscreenchange",r)}function r(){i(),t()}function o(e,t){i(),n(t)}e.one("fullscreenchange",r),e.one("fullscreenerror",o);const s=e.exitFullscreenHelper_();s&&(s.then(i,i),s.then(t,n))}))}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=s()[this.fsApi_.exitFullscreen]();return e&&Hi(e.then((()=>this.isFullscreen(!1)))),e}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=s().documentElement.style.overflow,ti(s(),"keydown",this.boundFullWindowOnEscKey_),s().documentElement.style.overflow="hidden",mn(s().body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){"Escape"===e.key&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,ni(s(),"keydown",this.boundFullWindowOnEscKey_),s().documentElement.style.overflow=this.docOrigOverflow,gn(s().body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&r().documentPictureInPicture){const e=s().createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(hn("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),r().documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then((t=>(jn(t),this.el_.parentNode.insertBefore(e,this.el_),t.document.body.appendChild(this.el_),t.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:t}),t.addEventListener("pagehide",(t=>{const n=t.target.querySelector(".video-js");e.parentNode.replaceChild(n,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")})),t)))}return"pictureInPictureEnabled"in s()&&!1===this.disablePictureInPicture()?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){return r().documentPictureInPicture&&r().documentPictureInPicture.window?(r().documentPictureInPicture.window.close(),Promise.resolve()):"pictureInPictureEnabled"in s()?s().exitPictureInPicture():void 0}handleKeyDown(e){const{userActions:t}=this.options_;t&&t.hotkeys&&((e=>{const t=e.tagName.toLowerCase();return!!e.isContentEditable||("input"===t?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type):-1!==["textarea"].indexOf(t))})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e)))}handleHotkeys(e){const t=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=t=>"f"===e.key.toLowerCase(),muteKey:i=t=>"m"===e.key.toLowerCase(),playPauseKey:r=t=>"k"===e.key.toLowerCase()||" "===e.key.toLowerCase()}=t;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const t=Oi.getComponent("FullscreenToggle");!1!==s()[this.fsApi_.fullscreenEnabled]&&t.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),Oi.getComponent("MuteToggle").prototype.handleClick.call(this,e)):r.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Oi.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let t;for(let n=0,i=this.options_.techOrder;n<i.length;n++){const r=i[n];let o=yr.getTech(r);if(o||(o=Oi.getComponent(r)),o){if(o.isSupported()&&(t=o.canPlayType(e),t))return t}else St.error(`The "${r}" tech is undefined. Skipped browser support check for that tech.`)}return""}selectSource(e){const t=this.options_.techOrder.map((e=>[e,yr.getTech(e)])).filter((([e,t])=>t?t.isSupported():(St.error(`The "${e}" tech is undefined. Skipped browser support check for that tech.`),!1))),n=function(e,t,n){let i;return e.some((e=>t.some((t=>{if(i=n(e,t),i)return!0})))),i};let i;const r=([e,t],n)=>{if(t.canPlaySource(n,this.options_[e.toLowerCase()]))return{source:n,tech:e}};var o;return i=this.options_.sourceOrder?n(e,t,(o=r,(e,t)=>o(t,e))):n(t,e,r),i||!1}handleSrc_(e,t){if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=Or(e);if(n.length){if(this.changingSrc_=!0,t||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),wr(this,n[0],((e,i)=>{if(this.middleware_=i,t||(this.cache_.sources=n),this.updateSourceCaches_(e),this.src_(e))return n.length>1?this.handleSrc_(n.slice(1)):(this.changingSrc_=!1,this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void this.triggerReady());var r,o;r=i,o=this.tech_,r.forEach((e=>e.setTech&&e.setTech(o)))})),n.length>1){const e=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},t=()=>{this.off("error",e)};this.one("error",e),this.one("playing",t),this.resetRetryOnError_=()=>{this.off("error",e),this.off("playing",t)}}}else this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0)}src(e){return this.handleSrc_(e,!1)}src_(e){const t=this.selectSource([e]);return!t||(Pi(t.tech,this.techName_)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),this.tech_.ready((()=>{this.changingSrc_=!1})),!1))}load(){this.tech_&&this.tech_.vhs?this.src(this.currentSource()):this.techCall_("load")}reset(){this.paused()?this.doReset_():Hi(this.play().then((()=>this.doReset_())))}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),mi(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:t,progressControl:n,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:r}=n||{};e&&e.updateContent(),t&&t.updateContent(),i&&i.updateContent(),r&&(r.update(),r.loadProgressBar&&r.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")}autoplay(e){if(void 0===e)return this.options_.autoplay||!1;let t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)}playsinline(e){return void 0!==e&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")}poster(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(void 0===e)return this.error_||null;if(gt("beforeerror").forEach((t=>{const n=t(this,e);At(n)&&!Array.isArray(n)||"string"==typeof n||"number"==typeof n||null===n?e=n:this.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&e&&4===e.code){const t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",(function(){this.off(["click","touchstart"],t)}))}if(null===e)return this.error_=null,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new qi(e),this.addClass("vjs-error"),St.error(`(CODE:${this.error_.code} ${qi.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),gt("error").forEach((e=>e(this,this.error_)))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,t,n;const i=li(this,this.reportUserActivity),r=function(t){i(),this.clearInterval(e)};this.on("mousedown",(function(){i(),this.clearInterval(e),e=this.setInterval(i,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,i())})),this.on("mouseup",r),this.on("mouseleave",r);const o=this.getChild("controlBar");let s;!o||nn||Ft||(o.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),o.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",i),this.on("keyup",i),this.setInterval((function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);const e=this.options_.inactivityTimeout;e<=0||(s=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}),250)}playbackRate(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)}defaultPlaybackRate(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");e&&this.audioOnlyCache_.controlBarHeight!==e.currentHeight()&&(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),t=this.getChild("ControlBar"),n=t&&t.currentHeight();e.forEach((e=>{e!==t&&e.el_&&!e.hasClass("vjs-hidden")&&(e.hide(),this.audioOnlyCache_.hiddenChildren.push(e))})),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=n,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach((e=>e.show())),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const e=[];return this.isInPictureInPicture()&&e.push(this.exitPictureInPicture()),this.isFullscreen()&&e.push(this.exitFullscreen()),this.audioPosterMode()&&e.push(this.audioPosterMode(!1)),Promise.all(e).then((()=>this.enableAudioOnlyUI_()))}return Promise.resolve().then((()=>this.disableAudioOnlyUI_()))}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return"boolean"!=typeof e||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then((()=>{this.enablePosterModeUI_()})):Promise.resolve().then((()=>{this.enablePosterModeUI_()})):Promise.resolve().then((()=>{this.disablePosterModeUI_()})))}addTextTrack(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)}addRemoteTextTrack(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)}removeRemoteTextTrack(e={}){let{track:t}=e;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),mi(this)&&this.trigger("languagechange"))}languages(){return It(ms.prototype.options_.languages,this.languages_)}toJSON(){const e=It(this.options_),t=e.tracks;e.tracks=[];for(let n=0;n<t.length;n++){let i=t[n];i=It(i),i.player=void 0,e.tracks[n]=i}return e}createModal(e,t){(t=t||{}).content=e||"";const n=new Wi(this,t);return this.addChild(n),n.on("dispose",(()=>{this.removeChild(n)})),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),t=this.currentWidth();for(let n=0;n<ds.length;n++){const i=ds[n];if(t<=this.breakpoints_[i]){if(e===i)return;e&&this.removeClass(ps[e]),this.addClass(ps[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=Object.assign({},fs,e),this.updateCurrentBreakpoint_()),Object.assign(this.breakpoints_)}responsive(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return ps[this.breakpoint_]||""}loadMedia(e,t){if(!e||"object"!=typeof e)return;const n=this.crossOrigin();this.reset(),this.cache_.media=It(e);const{artist:i,artwork:r,description:o,poster:s,src:a,textTracks:l,title:c}=this.cache_.media;!r&&s&&(this.cache_.media.artwork=[{src:s,type:Ar(s)}]),n&&this.crossOrigin(n),a&&this.src(a),s&&this.poster(s),Array.isArray(l)&&l.forEach((e=>this.addRemoteTextTrack(e,!1))),this.titleBar&&this.titleBar.update({title:c,description:o||i||""}),this.ready(t)}getMedia(){if(!this.cache_.media){const e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(e=>({kind:e.kind,label:e.label,language:e.language,src:e.src})))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:Ar(t.poster)}]),t}return It(this.cache_.media)}static getTagSettings(e){const t={sources:[],tracks:[]},n=bn(e),i=n["data-setup"];if(fn(e,"vjs-fill")&&(n.fill=!0),fn(e,"vjs-fluid")&&(n.fluid=!0),null!==i){const[e,t]=l()(i||"{}");e&&St.error(e),Object.assign(n,t)}if(Object.assign(t,n),e.hasChildNodes()){const n=e.childNodes;for(let e=0,i=n.length;e<i;e++){const i=n[e],r=i.nodeName.toLowerCase();"source"===r?t.sources.push(bn(i)):"track"===r&&t.tracks.push(bn(i))}}return t}debug(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((e=>"number"==typeof e))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}gr.names.forEach((function(e){const t=gr[e];ms.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),ms.prototype.crossorigin=ms.prototype.crossOrigin,ms.players={};const gs=r().navigator;ms.prototype.options_={techOrder:yr.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:gs&&(gs.languages&&gs.languages[0]||gs.userLanguage||gs.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1},us.forEach((function(e){ms.prototype[`handleTech${Ci(e)}_`]=function(){return this.trigger(e)}})),Oi.registerComponent("Player",ms);const ys="plugin",vs="activePlugins_",bs={},_s=e=>bs.hasOwnProperty(e),ws=e=>_s(e)?bs[e]:void 0,ks=(e,t)=>{e[vs]=e[vs]||{},e[vs][t]=!0},Ss=(e,t,n)=>{const i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},Es=(e,t)=>(t.prototype.name=e,function(...n){Ss(this,{name:e,plugin:t,instance:null},!0);const i=new t(...[this,...n]);return this[e]=()=>i,Ss(this,i.getEventHash()),i});class Ts{constructor(e){if(this.constructor===Ts)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),Si(this),delete this.trigger,Ti(this,this.constructor.defaultState),ks(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,t={}){return ii(this.eventBusEl_,e,this.getEventHash(t))}handleStateChanged(e){}dispose(){const{name:e,player:t}=this;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[vs][e]=!1,this.player=this.state=null,t[e]=Es(e,bs[e])}static isBasic(e){const t="string"==typeof e?ws(e):e;return"function"==typeof t&&!Ts.prototype.isPrototypeOf(t.prototype)}static registerPlugin(e,t){if("string"!=typeof e)throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(_s(e))St.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(ms.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if("function"!=typeof t)throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof t}.`);return bs[e]=t,e!==ys&&(Ts.isBasic(t)?ms.prototype[e]=function(e,t){const n=function(){Ss(this,{name:e,plugin:t,instance:null},!0);const n=t.apply(this,arguments);return ks(this,e),Ss(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(e,t):ms.prototype[e]=Es(e,t)),t}static deregisterPlugin(e){if(e===ys)throw new Error("Cannot de-register base plugin.");_s(e)&&(delete bs[e],delete ms.prototype[e])}static getPlugins(e=Object.keys(bs)){let t;return e.forEach((e=>{const n=ws(e);n&&(t=t||{},t[e]=n)})),t}static getPluginVersion(e){const t=ws(e);return t&&t.VERSION||""}}function xs(e,t,n,i){return function(e,t){let n=!1;return function(...i){return n||St.warn(e),n=!0,t.apply(this,i)}}(`${t} is deprecated and will be removed in ${e}.0; please use ${n} instead.`,i)}Ts.getPlugin=ws,Ts.BASE_PLUGIN_NAME=ys,Ts.registerPlugin(ys,Ts),ms.prototype.usingPlugin=function(e){return!!this[vs]&&!0===this[vs][e]},ms.prototype.hasPlugin=function(e){return!!_s(e)};const Cs=e=>0===e.indexOf("#")?e.slice(1):e;function Ps(e,t,n){let i=Ps.getPlayer(e);if(i)return t&&St.warn(`Player "${e}" is already initialised. Options will not be applied.`),n&&i.ready(n),i;const o="string"==typeof e?Rn("#"+Cs(e)):e;if(!ln(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");const s="getRootNode"in o&&o.getRootNode()instanceof r().ShadowRoot?o.getRootNode():o.ownerDocument.body;o.ownerDocument.defaultView&&s.contains(o)||St.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(o.parentNode&&o.parentNode.hasAttribute&&o.parentNode.hasAttribute("data-vjs-player")?o.parentNode:o).cloneNode(!0)),gt("beforesetup").forEach((e=>{const n=e(o,It(t));At(n)&&!Array.isArray(n)?t=It(t,n):St.error("please return an object in beforesetup hooks")}));const a=Oi.getComponent("Player");return i=new a(o,t,n),gt("setup").forEach((e=>e(i))),i}if(Ps.hooks_=mt,Ps.hooks=gt,Ps.hook=function(e,t){gt(e,t)},Ps.hookOnce=function(e,t){gt(e,[].concat(t).map((t=>{const n=(...i)=>(yt(e,n),t(...i));return n})))},Ps.removeHook=yt,!0!==r().VIDEOJS_NO_DYNAMIC_STYLE&&an()){let e=Rn(".vjs-styles-defaults");if(!e){e=$n("vjs-styles-defaults");const t=Rn("head");t&&t.insertBefore(e,t.firstChild),zn(e,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}Vn(1,Ps),Ps.VERSION=ft,Ps.options=ms.prototype.options_,Ps.getPlayers=()=>ms.players,Ps.getPlayer=e=>{const t=ms.players;let n;if("string"==typeof e){const i=Cs(e),r=t[i];if(r)return r;n=Rn("#"+i)}else n=e;if(ln(n)){const{player:e,playerId:i}=n;if(e||t[i])return e||t[i]}},Ps.getAllPlayers=()=>Object.keys(ms.players).map((e=>ms.players[e])).filter(Boolean),Ps.players=ms.players,Ps.getComponent=Oi.getComponent,Ps.registerComponent=(e,t)=>(yr.isTech(t)&&St.warn(`The ${e} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Oi.registerComponent.call(Oi,e,t)),Ps.getTech=yr.getTech,Ps.registerTech=yr.registerTech,Ps.use=function(e,t){vr[e]=vr[e]||[],vr[e].push(t)},Object.defineProperty(Ps,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Ps.middleware,"TERMINATOR",{value:_r,writeable:!1,enumerable:!0}),Ps.browser=on,Ps.obj=Rt,Ps.mergeOptions=xs(9,"videojs.mergeOptions","videojs.obj.merge",It),Ps.defineLazyProperty=xs(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Dt),Ps.bind=xs(9,"videojs.bind","native Function.prototype.bind",li),Ps.registerPlugin=Ts.registerPlugin,Ps.deregisterPlugin=Ts.deregisterPlugin,Ps.plugin=(e,t)=>(St.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ts.registerPlugin(e,t)),Ps.getPlugins=Ts.getPlugins,Ps.getPlugin=Ts.getPlugin,Ps.getPluginVersion=Ts.getPluginVersion,Ps.addLanguage=function(e,t){return e=(""+e).toLowerCase(),Ps.options.languages=It(Ps.options.languages,{[e]:t}),Ps.options.languages[e]},Ps.log=St,Ps.createLogger=Et,Ps.time=Bi,Ps.createTimeRange=xs(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Di),Ps.createTimeRanges=xs(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Di),Ps.formatTime=xs(9,"videojs.formatTime","videojs.time.formatTime",Fi),Ps.setFormatTime=xs(9,"videojs.setFormatTime","videojs.time.setFormatTime",Ni),Ps.resetFormatTime=xs(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",ji),Ps.parseUrl=xs(9,"videojs.parseUrl","videojs.url.parseUrl",ir),Ps.isCrossOrigin=xs(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",sr),Ps.EventTarget=pi,Ps.any=oi,Ps.on=ti,Ps.one=ri,Ps.off=ni,Ps.trigger=ii,Ps.xhr=u(),Ps.TextTrack=ur,Ps.AudioTrack=hr,Ps.VideoTrack=dr,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((e=>{Ps[e]=function(){return St.warn(`videojs.${e}() is deprecated; use videojs.dom.${e}() instead`),Fn[e].apply(null,arguments)}})),Ps.computedStyle=xs(9,"videojs.computedStyle","videojs.dom.computedStyle",Nn),Ps.dom=Fn,Ps.fn=hi,Ps.num=Qr,Ps.str=Ai,Ps.url=ar,Ps.Error={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};class As{constructor(e){let t=this;return t.id=e.id,t.label=t.id,t.width=e.width,t.height=e.height,t.bitrate=e.bandwidth,t.frameRate=e.frameRate,t.enabled_=e.enabled,Object.defineProperty(t,"enabled",{get(){return t.enabled_()},set(e){t.enabled_(e)}}),t}}class Os extends Ps.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let t=this.getQualityLevelById(e.id);if(t)return t;const n=this.levels_.length;return t=new As(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t}removeQualityLevel(e){let t=null;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){t=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t}getQualityLevelById(e){for(let t=0,n=this.length;t<n;t++){const n=this[t];if(n.id===e)return n}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}Os.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const e in Os.prototype.allowedEvents_)Os.prototype["on"+e]=null;var Is="4.1.0";const Ls=function(e){return function(e){const t=e.qualityLevels,n=new Os,i=function(){n.dispose(),e.qualityLevels=t,e.off("dispose",i)};return e.on("dispose",i),e.qualityLevels=()=>n,e.qualityLevels.VERSION=Is,n}(this,Ps.obj.merge({},e))};Ps.registerPlugin("qualityLevels",Ls),Ls.VERSION=Is;const Ds=g,Rs=(e,t)=>t&&t.responseURL&&e!==t.responseURL?t.responseURL:e,Ms=e=>Ps.log.debug?Ps.log.debug.bind(Ps,"VHS:",`${e} >`):function(){};function Ns(...e){const t=Ps.obj||Ps;return(t.merge||t.mergeOptions).apply(t,e)}function js(...e){const t=Ps.time||Ps;return(t.createTimeRanges||t.createTimeRanges).apply(t,e)}const Fs=1/30,Bs=.1,Us=function(e,t){const n=[];let i;if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return js(n)},qs=function(e,t){return Us(e,(function(e,n){return e-Bs<=t&&n+Bs>=t}))},Vs=function(e,t){return Us(e,(function(e){return e-Fs>=t}))},Hs=e=>{const t=[];if(!e||!e.length)return"";for(let n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},$s=e=>{const t=[];for(let n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},zs=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},Ws=function(e,t){let n=0;if(!e||!e.length)return n;for(let i=0;i<e.length;i++){const r=e.start(i),o=e.end(i);t>o||(n+=t>r&&t<=o?o-t:o-r)}return n},Gs=(e,t)=>{if(!t.preload)return t.duration;let n=0;return(t.parts||[]).forEach((function(e){n+=e.duration})),(t.preloadHints||[]).forEach((function(t){"PART"===t.type&&(n+=e.partTargetDuration)})),n},Ks=e=>(e.segments||[]).reduce(((e,t,n)=>(t.parts?t.parts.forEach((function(i,r){e.push({duration:i.duration,segmentIndex:n,partIndex:r,part:i,segment:t})})):e.push({duration:t.duration,segmentIndex:n,partIndex:null,segment:t,part:null}),e)),[]),Ys=e=>{const t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},Xs=({preloadSegment:e})=>{if(!e)return;const{parts:t,preloadHints:n}=e;let i=(n||[]).reduce(((e,t)=>e+("PART"===t.type?1:0)),0);return i+=t&&t.length?t.length:0,i},Js=(e,t)=>{if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;const n=Ys(t).length>0;return n&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:n&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},Qs=function(e,t,n){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;const i=function(e,t){let n=0,i=t-e.mediaSequence,r=e.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(r=e.segments[i],void 0!==r.end)return{result:n+r.end,precise:!0};if(n+=Gs(e,r),void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(e,t);if(i.precise)return i.result;const r=function(e,t){let n,i=0,r=t-e.mediaSequence;for(;r<e.segments.length;r++){if(n=e.segments[r],void 0!==n.start)return{result:n.start-i,precise:!0};if(i+=Gs(e,n),void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(e,t);return r.precise?r.result:i.result+n},Zs=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return r()[1/0]}return Qs(e,t,n)},ea=function({defaultDuration:e,durationList:t,startIndex:n,endIndex:i}){let r=0;if(n>i&&([n,i]=[i,n]),n<0){for(let t=n;t<Math.min(0,i);t++)r+=e;n=0}for(let e=n;e<i;e++)r+=t[e].duration;return r},ta=function(e,t,n,i){if(!e||!e.segments)return null;if(e.endList)return Zs(e);if(null===t)return null;t=t||0;let r=Qs(e,e.mediaSequence+e.segments.length,t);return n&&(r-=i="number"==typeof i?i:Js(null,e)),Math.max(0,r)},na=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},ia=function(e){return e.excludeUntil&&e.excludeUntil===1/0},ra=function(e){const t=na(e);return!e.disabled&&!t},oa=function(e,t){return t.attributes&&t.attributes[e]},sa=(e,t)=>{if(1===e.playlists.length)return!0;const n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((e=>!!ra(e)&&(e.attributes.BANDWIDTH||0)<n)).length},aa=(e,t)=>!(!e&&!t||!e&&t||e&&!t||e!==t&&(!e.id||!t.id||e.id!==t.id)&&(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)&&(!e.uri||!t.uri||e.uri!==t.uri)),la=function(e,t){const n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{};let i=!1;for(const e in n){for(const r in n[e])if(i=t(n[e][r]),i)break;if(i)break}return!!i},ca=e=>{if(!e||!e.playlists||!e.playlists.length)return la(e,(e=>e.playlists&&e.playlists.length||e.uri));for(let t=0;t<e.playlists.length;t++){const n=e.playlists[t],i=n.attributes&&n.attributes.CODECS;if((!i||!i.split(",").every((e=>M(e))))&&!la(e,(e=>aa(n,e))))return!1}return!0};var ua={liveEdgeDelay:Js,duration:Zs,seekable:function(e,t,n){const i=t||0;let r=ta(e,t,!0,n);return null===r?js():(r<i&&(r=i),js(i,r))},getMediaInfoForTime:function({playlist:e,currentTime:t,startingSegmentIndex:n,startingPartIndex:i,startTime:r,exactManifestTimings:o}){let s=t-r;const a=Ks(e);let l=0;for(let e=0;e<a.length;e++){const t=a[e];if(n===t.segmentIndex&&("number"!=typeof i||"number"!=typeof t.partIndex||i===t.partIndex)){l=e;break}}if(s<0){if(l>0)for(let t=l-1;t>=0;t--){const n=a[t];if(s+=n.duration,o){if(s<0)continue}else if(s+Fs<=0)continue;return{partIndex:n.partIndex,segmentIndex:n.segmentIndex,startTime:r-ea({defaultDuration:e.targetDuration,durationList:a,startIndex:l,endIndex:t})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:t}}if(l<0){for(let n=l;n<0;n++)if(s-=e.targetDuration,s<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:t};l=0}for(let t=l;t<a.length;t++){const n=a[t];s-=n.duration;const i=n.duration>Fs;if(0!==s&&!(i&&s+Fs>=0)||t===a.length-1){if(o){if(s>0)continue}else if(s-Fs>=0)continue;return{partIndex:n.partIndex,segmentIndex:n.segmentIndex,startTime:r+ea({defaultDuration:e.targetDuration,durationList:a,startIndex:l,endIndex:t})}}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:t}},isEnabled:ra,isDisabled:function(e){return e.disabled},isExcluded:na,isIncompatible:ia,playlistEnd:ta,isAes:function(e){for(let t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:oa,estimateSegmentRequestTime:function(e,t,n,i=0){return oa("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*i)/t:NaN},isLowestEnabledRendition:sa,isAudioOnly:ca,playlistMatch:aa,segmentDurationWithParts:Gs};const{log:ha}=Ps,da=(e,t)=>`${e}-${t}`,pa=(e,t,n)=>`placeholder-uri-${e}-${t}-${n}`,fa=(e,t)=>{e.mediaGroups&&["AUDIO","SUBTITLES"].forEach((n=>{if(e.mediaGroups[n])for(const i in e.mediaGroups[n])for(const r in e.mediaGroups[n][i]){const o=e.mediaGroups[n][i][r];t(o,n,i,r)}}))},ma=({playlist:e,uri:t,id:n})=>{e.id=n,e.playlistErrors_=0,t&&(e.uri=t),e.attributes=e.attributes||{}},ga=(e,t,n=pa)=>{e.uri=t;for(let t=0;t<e.playlists.length;t++)if(!e.playlists[t].uri){const n=`placeholder-uri-${t}`;e.playlists[t].uri=n}const i=ca(e);fa(e,((t,r,o,s)=>{if(!t.playlists||!t.playlists.length){if(i&&"AUDIO"===r&&!t.uri)for(let t=0;t<e.playlists.length;t++){const n=e.playlists[t];if(n.attributes&&n.attributes.AUDIO&&n.attributes.AUDIO===o)return}t.playlists=[p({},t)]}t.playlists.forEach((function(t,i){const a=n(r,o,s,t),l=da(i,a);t.uri?t.resolvedUri=t.resolvedUri||Ds(e.uri,t.uri):(t.uri=0===i?a:l,t.resolvedUri=t.uri),t.id=t.id||l,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t}))})),(e=>{let t=e.playlists.length;for(;t--;){const n=e.playlists[t];ma({playlist:n,id:da(t,n.uri)}),n.resolvedUri=Ds(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||ha.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}})(e),(e=>{fa(e,(t=>{t.uri&&(t.resolvedUri=Ds(e.uri,t.uri))}))})(e)};class ya{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(null!==this.offset_)return;if(!e.length)return;const[t]=e;void 0!==t.programDateTime&&(this.offset_=t.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[t]=e,n=t.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce(((e,t)=>(e.set(t.id,t),e)),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(null===this.offset_)return[];const e={},t=[];this.pendingDateRanges_.forEach(((n,i)=>{if(!this.processedDateRanges_.has(i)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),t.push(n),n.class))if(e[n.class]){const t=e[n.class].push(n);n.classListIndex=t-1}else e[n.class]=[n],n.classListIndex=0}));for(const n of t){const t=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&t[n.classListIndex+1]?n.endTime=t[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return t}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach(((t,n)=>{t.startDate.getTime()<e&&this.processedDateRanges_.delete(n)}))}}const va=({requestType:e,request:t,error:n,parseFailure:i})=>{const r=t.status<200||t.status>299,o=t.status>=400&&t.status<=499,s={uri:t.uri,requestType:e},a=r&&!o||i;if(n&&o)s.error=p({},n),s.errorType=Ps.Error.NetworkRequestFailed;else if(t.aborted)s.errorType=Ps.Error.NetworkRequestAborted;else if(t.timedout)s.erroType=Ps.Error.NetworkRequestTimeout;else if(a){const e=i?Ps.Error.NetworkBodyParserFailed:Ps.Error.NetworkBadStatus;s.errorType=e,s.status=t.status,s.headers=t.headers}return s},{EventTarget:ba}=Ps,_a=(e,t)=>{if(!e)return t;const n=Ns(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(let i=0;i<t.parts.length;i++)e.parts&&e.parts[i]&&(n.parts[i]=Ns(e.parts[i],t.parts[i]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},wa=(e,t)=>{!e.resolvedUri&&e.uri&&(e.resolvedUri=Ds(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Ds(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Ds(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Ds(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach((e=>{e.resolvedUri||(e.resolvedUri=Ds(t,e.uri))})),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach((e=>{e.resolvedUri||(e.resolvedUri=Ds(t,e.uri))}))},ka=function(e){const t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints)for(let e=0;e<n.preloadHints.length;e++)if("MAP"===n.preloadHints[e].type)return t;n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t},Sa=(e,t)=>e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment,Ea=(e,t,n=Sa)=>{const i=Ns(e,{}),r=i.playlists[t.id];if(!r)return null;if(n(r,t))return null;t.segments=ka(t);const o=Ns(r,t);if(o.preloadSegment&&!t.preloadSegment&&delete o.preloadSegment,r.segments){if(t.skip){t.segments=t.segments||[];for(let e=0;e<t.skip.skippedSegments;e++)t.segments.unshift({skipped:!0})}o.segments=((e,t,n)=>{const i=e.slice(),r=t.slice();n=n||0;const o=[];let s;for(let e=0;e<r.length;e++){const t=i[e+n],a=r[e];t?(s=t.map||s,o.push(_a(t,a))):(s&&!a.map&&(a.map=s),o.push(a))}return o})(r.segments,t.segments,t.mediaSequence-r.mediaSequence)}o.segments.forEach((e=>{wa(e,o.resolvedUri)}));for(let e=0;e<i.playlists.length;e++)i.playlists[e].id===t.id&&(i.playlists[e]=o);return i.playlists[t.id]=o,i.playlists[t.uri]=o,fa(e,((e,n,i,r)=>{if(e.playlists)for(let n=0;n<e.playlists.length;n++)t.id===e.playlists[n].id&&(e.playlists[n]=o)})),i},Ta=(e,t)=>{const n=e.segments||[],i=n[n.length-1],r=i&&i.parts&&i.parts[i.parts.length-1],o=r&&r.duration||i&&i.duration;return t&&o?1e3*o:500*(e.partTargetDuration||e.targetDuration||10)},xa=(e,t,n)=>{if(!e)return;const i=[];return e.forEach((e=>{if(!e.attributes)return;const{BANDWIDTH:t,RESOLUTION:n,CODECS:r}=e.attributes;i.push({id:e.id,bandwidth:t,resolution:n,codecs:r})})),{type:t,isLive:n,renditions:i}};class Ca extends ba{constructor(e,t,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Ms("PlaylistLoader");const{withCredentials:i=!1}=n;this.src=e,this.vhs_=t,this.withCredentials=i,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const r=t.options_;this.customTagParsers=r&&r.customTagParsers||[],this.customTagMappers=r&&r.customTagMappers||[],this.llhls=r&&r.llhls,this.dateRangesStorage_=new ya,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const t=this.dateRangesStorage_.getDateRangesToProcess();t.length&&this.addDateRangesToTextTrack_&&this.addDateRangesToTextTrack_(t)}handleMediaupdatetimeout_(){if("HAVE_METADATA"!==this.state)return;const e=this.media();let t=Ds(this.main.uri,e.uri);this.llhls&&(t=((e,t)=>{if(t.endList||!t.serverControl)return e;const n={};if(t.serverControl.canBlockReload){const{preloadSegment:e}=t;let i=t.mediaSequence+t.segments.length;if(e){const r=e.parts||[],o=Xs(t)-1;o>-1&&o!==r.length-1&&(n._HLS_part=o),(o>-1||r.length)&&i--}n._HLS_msn=i}if(t.serverControl&&t.serverControl.canSkipUntil&&(n._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const t=new(r().URL)(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach((function(e){n.hasOwnProperty(e)&&t.searchParams.set(e,n[e])})),e=t.toString()}return e})(t,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:t,withCredentials:this.withCredentials,requestType:"hls-playlist"},((e,t)=>{if(this.request)return e?this.playlistRequestError(this.request,this.media(),"HAVE_METADATA"):void this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}))}playlistRequestError(e,t,n){const{uri:i,id:r}=t;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[r],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:va({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:t}){try{return(({onwarn:e,oninfo:t,manifestString:n,customTagParsers:i=[],customTagMappers:r=[],llhls:o})=>{const s=new C;e&&s.on("warn",e),t&&s.on("info",t),i.forEach((e=>s.addParser(e))),r.forEach((e=>s.addTagMapper(e))),s.push(n),s.end();const a=s.manifest;if(o||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(e){a.hasOwnProperty(e)&&delete a[e]})),a.segments&&a.segments.forEach((function(e){["parts","preloadHints"].forEach((function(t){e.hasOwnProperty(t)&&delete e[t]}))}))),!a.targetDuration){let t=10;a.segments&&a.segments.length&&(t=a.segments.reduce(((e,t)=>Math.max(e,t.duration)),0)),e&&e({message:`manifest has no targetDuration defaulting to ${t}`}),a.targetDuration=t}const l=Ys(a);if(l.length&&!a.partTargetDuration){const t=l.reduce(((e,t)=>Math.max(e,t.duration)),0);e&&(e({message:`manifest has no partTargetDuration defaulting to ${t}`}),ha.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=t}return a})({onwarn:({message:t})=>this.logger_(`m3u8-parser warn for ${e}: ${t}`),oninfo:({message:t})=>this.logger_(`m3u8-parser info for ${e}: ${t}`),manifestString:t,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(e){this.error=e,this.error.metadata={errorType:Ps.Error.StreamingHlsPlaylistParserError,error:e}}}haveMetadata({playlistString:e,playlistObject:t,url:n,id:i}){this.request=null,this.state="HAVE_METADATA";const r={playlistInfo:{type:"media",uri:n}};this.trigger({type:"playlistparsestart",metadata:r});const o=t||this.parseManifest_({url:n,manifestString:e});o.lastRequest=Date.now(),ma({playlist:o,uri:n,id:i});const s=Ea(this.main,o);this.targetDuration=o.partTargetDuration||o.targetDuration,this.pendingMedia_=null,s?(this.main=s,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Ta(this.media(),!!s)),r.parsedPlaylist=xa(this.main.playlists,r.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:r}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),r().clearTimeout(this.mediaUpdateTimeout),r().clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new ya,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,t){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(r().clearTimeout(this.finalRenditionTimeout),t){const t=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;return void(this.finalRenditionTimeout=r().setTimeout(this.media.bind(this,e,!1),t))}const n=this.state,i=!this.media_||e.id!==this.media_.id,o=this.main.playlists[e.id];if(o&&o.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(i&&(this.trigger("mediachanging"),"HAVE_MAIN_MANIFEST"===n?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(Ta(e,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const s={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:s}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},((t,i)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=Rs(e.resolvedUri,i),t)return this.playlistRequestError(this.request,e,n);this.trigger({type:"playlistrequestcomplete",metadata:s}),this.haveMetadata({playlistString:i.responseText,url:e.uri,id:e.id}),"HAVE_MAIN_MANIFEST"===n?this.trigger("loadedmetadata"):this.trigger("mediachange")}}))}pause(){this.mediaUpdateTimeout&&(r().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(r().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const t=this.media();if(e){const e=t?(t.partTargetDuration||t.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=r().setTimeout((()=>{this.mediaUpdateTimeout=null,this.load()}),e)}else this.started?t&&!t.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(r().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=r().setTimeout((()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)}),e))}start(){if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=r().location.href),this.src.resolvedUri=this.src.uri,void setTimeout((()=>{this.setupInitialPlaylist(this.src)}),0);const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},((t,n)=>{if(!this.request)return;if(this.request=null,t)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2,metadata:va({requestType:n.requestType,request:n,error:t})},"HAVE_NOTHING"===this.state&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=Rs(this.src,n),this.trigger({type:"playlistparsestart",metadata:e});const i=this.parseManifest_({manifestString:n.responseText,url:this.src});e.parsedPlaylist=xa(i.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(i)}))}srcUri(){return"string"==typeof this.src?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists)return this.main=e,ga(this.main,this.srcUri()),e.playlists.forEach((e=>{e.segments=ka(e),e.segments.forEach((t=>{wa(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.main.playlists[0]));const t=this.srcUri()||r().location.href;this.main=((e,t)=>{const n=da(0,t),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:r().location.href,resolvedUri:r().location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[t]=i.playlists[0],i})(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,t){const n=this.main,i=e.ID;let r=n.playlists.length;for(;r--;){const o=n.playlists[r];if(o.attributes["PATHWAY-ID"]===i){const s=o.resolvedUri,a=o.id;if(t){const t=this.createCloneURI_(o.resolvedUri,e),s=da(i,t),a=this.createCloneAttributes_(i,o.attributes),l=this.createClonePlaylist_(o,s,e,a);n.playlists[r]=l,n.playlists[s]=l,n.playlists[t]=l}else n.playlists.splice(r,1);delete n.playlists[a],delete n.playlists[s]}}this.updateOrDeleteCloneMedia(e,t)}updateOrDeleteCloneMedia(e,t){const n=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((e=>{if(n.mediaGroups[e]&&n.mediaGroups[e][i])for(const t in n.mediaGroups[e])if(t===i){for(const i in n.mediaGroups[e][t])n.mediaGroups[e][t][i].playlists.forEach(((e,t)=>{const i=n.playlists[e.id],r=i.id,o=i.resolvedUri;delete n.playlists[r],delete n.playlists[o]}));delete n.mediaGroups[e][t]}})),t&&this.createClonedMediaGroups_(e)}addClonePathway(e,t={}){const n=this.main,i=n.playlists.length,r=this.createCloneURI_(t.resolvedUri,e),o=da(e.ID,r),s=this.createCloneAttributes_(e.ID,t.attributes),a=this.createClonePlaylist_(t,o,e,s);n.playlists[i]=a,n.playlists[o]=a,n.playlists[r]=a,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const t=e.ID,n=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((r=>{if(i.mediaGroups[r]&&!i.mediaGroups[r][t])for(const o in i.mediaGroups[r])if(o===n){i.mediaGroups[r][t]={};for(const n in i.mediaGroups[r][o]){const s=i.mediaGroups[r][o][n];i.mediaGroups[r][t][n]=p({},s);const a=i.mediaGroups[r][t][n],l=this.createCloneURI_(s.resolvedUri,e);a.resolvedUri=l,a.uri=l,a.playlists=[],s.playlists.forEach(((o,s)=>{const l=i.playlists[o.id],c=pa(r,t,n),u=da(t,c);if(l&&!i.playlists[u]){const t=this.createClonePlaylist_(l,u,e),n=t.resolvedUri;i.playlists[u]=t,i.playlists[n]=t}a.playlists[s]=this.createClonePlaylist_(o,u,e)}))}}}))}createClonePlaylist_(e,t,n,i){const r=this.createCloneURI_(e.resolvedUri,n),o={resolvedUri:r,uri:r,id:t};return e.segments&&(o.segments=[]),i&&(o.attributes=i),Ns(e,o)}createCloneURI_(e,t){const n=new URL(e);n.hostname=t["URI-REPLACEMENT"].HOST;const i=t["URI-REPLACEMENT"].PARAMS;for(const e of Object.keys(i))n.searchParams.set(e,i[e]);return n.href}createCloneAttributes_(e,t){const n={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((i=>{t[i]&&(n[i]=e)})),n}getKeyIdSet(e){if(e.contentProtection){const t=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes.keyId;i&&t.add(i.toLowerCase())}return t}}}const Pa=function(e,t,n,i){const r="arraybuffer"===e.responseType?e.response:e.responseText;!t&&r&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(r||e.responseText)))),i(t,e)},Aa=function(){const e=function e(t,n){t=Ns({timeout:45e3},t);const i=e.beforeRequest||Ps.Vhs.xhr.beforeRequest,r=e._requestCallbackSet||Ps.Vhs.xhr._requestCallbackSet||new Set,o=e._responseCallbackSet||Ps.Vhs.xhr._responseCallbackSet;i&&"function"==typeof i&&(Ps.log.warn("beforeRequest is deprecated, use onRequest instead."),r.add(i));const s=!0===Ps.Vhs.xhr.original?Ps.xhr:Ps.Vhs.xhr,a=((e,t)=>{if(!e||!e.size)return;let n=t;return e.forEach((e=>{n=e(n)})),n})(r,t);r.delete(i);const l=s(a||t,(function(e,t){return((e,t,n,i)=>{e&&e.size&&e.forEach((e=>{e(t,n,i)}))})(o,l,e,t),Pa(l,e,t,n)})),c=l.abort;return l.abort=function(){return l.aborted=!0,c.apply(l,arguments)},l.uri=t.uri,l.requestType=t.requestType,l.requestTime=Date.now(),l};return e.original=!0,e},Oa=function(e){const t={};return e.byterange&&(t.Range=function(e){let t;const n=e.offset;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?r().BigInt(e.offset)+r().BigInt(e.length)-r().BigInt(1):e.offset+e.length-1,"bytes="+n+"-"+t}(e.byterange)),t},Ia=function(e,t){return e.start(t)+"-"+e.end(t)},La=function(e,t){const n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},Da=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},Ra=function(e){const t={};return Object.keys(e).forEach((n=>{const i=e[n];H(i)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t},Ma=function(e){const t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},Na=function(e){return e.resolvedUri},ja=e=>{const t=Array.prototype.slice.call(e),n=16;let i,r,o="";for(let e=0;e<t.length/n;e++)i=t.slice(e*n,e*n+n).map(La).join(""),r=t.slice(e*n,e*n+n).map(Da).join(""),o+=i+" "+r+"\n";return o};var Fa=Object.freeze({__proto__:null,createTransferableMessage:Ra,initSegmentId:Ma,segmentKeyId:Na,hexDump:ja,tagDump:({bytes:e})=>ja(e),textRanges:e=>{let t,n="";for(t=0;t<e.length;t++)n+=Ia(e,t)+" ";return n}});const Ba=({programTime:e,playlist:t,retryCount:n=2,seekTo:i,pauseAfterSeek:r=!0,tech:o,callback:s})=>{if(!s)throw new Error("seekToProgramTime: callback must be provided");if(void 0===e||!t||!i)return s({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!t.endList&&!o.hasStarted_)return s({message:"player must be playing a live stream to start buffering"});if(!(e=>{if(!e.segments||0===e.segments.length)return!1;for(let t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0})(t))return s({message:"programDateTime tags must be provided in the manifest "+t.resolvedUri});const a=((e,t)=>{let n;try{n=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;let i=t.segments[0];if(n<new Date(i.dateTimeObject))return null;for(let e=0;e<t.segments.length-1&&(i=t.segments[e],!(n<new Date(t.segments[e+1].dateTimeObject)));e++);const r=t.segments[t.segments.length-1],o=r.dateTimeObject,s=r.videoTimingInfo?(a=r.videoTimingInfo).transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds:r.duration+.25*r.duration;var a;return n>new Date(o.getTime()+1e3*s)?null:(n>new Date(o)&&(i=r),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:ua.duration(t,t.mediaSequence+t.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})})(e,t);if(!a)return s({message:`${e} was not found in the stream`});const l=a.segment,c=((e,t)=>{let n,i;try{n=new Date(e),i=new Date(t)}catch(e){}const r=n.getTime();return(i.getTime()-r)/1e3})(l.dateTimeObject,e);if("estimate"===a.type)return 0===n?s({message:`${e} is not buffered yet. Try again`}):(i(a.estimatedStart+c),void o.one("seeked",(()=>{Ba({programTime:e,playlist:t,retryCount:n-1,seekTo:i,pauseAfterSeek:r,tech:o,callback:s})})));const u=l.start+c;o.one("seeked",(()=>s(null,o.currentTime()))),r&&o.pause(),i(u)},Ua=(e,t)=>{if(4===e.readyState)return t()},{EventTarget:qa}=Ps,Va=function(e,t){if(!Sa(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(let n=0;n<e.segments.length;n++){const i=e.segments[n],r=t.segments[n];if(i.uri!==r.uri)return!1;if(!i.byterange&&!r.byterange)continue;const o=i.byterange,s=r.byterange;if(o&&!s||!o&&s)return!1;if(o.offset!==s.offset||o.length!==s.length)return!1}return!0},Ha=(e,t,n,i)=>`placeholder-uri-${e}-${t}-${i.attributes.NAME||n}`,$a=(e,t)=>(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length,za=(e,t)=>{const n={};for(const i in e){const r=e[i].sidx;if(r){const e=pe(r);if(!t[e])break;const i=t[e].sidxInfo;$a(i,r)&&(n[e]=t[e])}}return n};class Wa extends qa{constructor(e,t,n={},i){super(),this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:r=!1}=n;if(this.vhs_=t,this.withCredentials=r,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",(()=>{this.refreshXml_()})),this.on("mediaupdatetimeout",(()=>{this.refreshMedia_(this.media().id)})),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Ms("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,t,n){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2,metadata:e.metadata}:e,n&&(this.state=n),this.trigger("error"),!0):void 0)}addSidxSegments_(e,t,n){const i=e.sidx&&pe(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i])return void(this.mediaRequest_=r().setTimeout((()=>n(!1)),0));const o=Rs(e.sidx.resolvedUri),s=(r,o)=>{if(this.requestErrored_(r,o,t))return;const s=this.mainPlaylistLoader_.sidxMapping_,{requestType:a}=o;let l;try{l=ze()($(o.response).subarray(8))}catch(e){return e.metadata=va({requestType:a,request:o,parseFailure:!0}),void this.requestErrored_(e,o,t)}return s[i]={sidxInfo:e.sidx,sidx:l},ae(e,l,e.sidx.resolvedUri),n(!0)};this.request=((e,t,n,i)=>{let r,o=[],s=!1;const a=function(e,t,i,r){return t.abort(),s=!0,n(e,t,i,r)},l=function(e,t){if(s)return;if(e)return e.metadata=va({requestType:i,request:t,error:e}),a(e,t,"",o);const n=t.responseText.substring(o&&o.byteLength||0,t.responseText.length);if(o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter((function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})),t.length<=1)return $(t[0]);var i=t.reduce((function(e,t,n){return e+(t.byteLength||t.length)}),0),r=new Uint8Array(i),o=0;return t.forEach((function(e){e=$(e),r.set(e,o),o+=e.byteLength})),r}(o,K(n,!0)),r=r||Ge(o),o.length<10||r&&o.length<r+2)return Ua(t,(()=>a(e,t,"",o)));const l=dt(o);return"ts"===l&&o.length<188||!l&&o.length<376?Ua(t,(()=>a(e,t,"",o))):a(null,t,l,o)},c={uri:e,beforeSend(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function({total:t,loaded:n}){return Pa(e,null,{statusCode:e.status},l)}))}},u=t(c,(function(e,t){return Pa(u,e,t,l)}));return u})(o,this.vhs_.xhr,((t,n,i,r)=>{if(t)return s(t,n);if(!i||"mp4"!==i){const t=i||"unknown";return s({status:n.status,message:`Unsupported ${t} container type for sidx segment at URL: ${o}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},n)}const{offset:a,length:l}=e.sidx.byterange;if(r.length>=l+a)return s(t,{response:r.subarray(a,a+l),status:n.status,uri:n.uri});this.request=this.vhs_.xhr({uri:o,responseType:"arraybuffer",requestType:"dash-sidx",headers:Oa({byterange:e.sidx.byterange})},s)}),"dash-sidx")}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},r().clearTimeout(this.minimumUpdatePeriodTimeout_),r().clearTimeout(this.mediaRequest_),r().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);const t=this.state;if("string"==typeof e){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(n&&(this.trigger("mediachanging"),this.trigger("mediachange")));n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,t,(n=>{this.haveMetadata({startingState:t,playlist:e})})))}haveMetadata({startingState:e,playlist:t}){this.state="HAVE_METADATA",this.loadedPlaylists_[t.id]=t,this.mediaRequest_=null,this.refreshMedia_(t.id),"HAVE_MAIN_MANIFEST"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),r().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(r().clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)}load(e){r().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const t=this.media();if(e){const e=t?t.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=r().setTimeout((()=>this.load()),e)}else this.started?t&&!t.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()}start(){this.started=!0,this.isMain_?this.requestMain_(((e,t)=>{this.haveMain_(),this.hasPendingRequest()||this.media_||this.media(this.mainPlaylistLoader_.main.playlists[0])})):this.mediaRequest_=r().setTimeout((()=>this.haveMain_()),0)}requestMain_(e){const t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:t}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},((n,i)=>{if(n){const{requestType:e}=i;n.metadata=va({requestType:e,request:i,error:n})}if(this.requestErrored_(n,i))return void("HAVE_NOTHING"===this.state&&(this.started=!1));this.trigger({type:"manifestrequestcomplete",metadata:t});const r=i.responseText!==this.mainPlaylistLoader_.mainXml_;return this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=Rs(this.mainPlaylistLoader_.srcUrl,i),r?(this.handleMain_(),void this.syncClientServerClock_((()=>e(i,r)))):e(i,r)}))}syncClientServerClock_(e){const t=(n=this.mainPlaylistLoader_.mainXml_,(e=>{const t=Oe(e,"UTCTiming")[0];if(!t)return null;const n=Re(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return n})(Ve(n)));var n;return null===t?(this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()):"DIRECT"===t.method?(this.mainPlaylistLoader_.clientOffset_=t.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:Ds(this.mainPlaylistLoader_.srcUrl,t.value),method:t.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},((n,i)=>{if(!this.request)return;if(n){const{requestType:t}=i;return this.error.metadata=va({requestType:t,request:i,error:n}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let r;r="HEAD"===t.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):this.mainLoaded_:Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=r-Date.now(),e()})))}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};let n;this.trigger({type:"manifestparsestart",metadata:t});try{n=(({mainXml:e,srcUrl:t,clientOffset:n,sidxMapping:i,previousManifest:r})=>{const o=((e,t={})=>{const n=((e,t={})=>{const{manifestUri:n="",NOW:i=Date.now(),clientOffset:r=0,eventHandler:o=function(){}}=t,s=Oe(e,"Period");if(!s.length)throw new Error("INVALID_NUMBER_OF_PERIOD");const a=Oe(e,"Location"),l=Re(e),c=Ne([{baseUrl:n}],Oe(e,"BaseURL")),u=Oe(e,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=i,l.clientOffset=r,a.length&&(l.locations=a.map(Ie));const h=[];return s.forEach(((e,t)=>{const n=Re(e),i=h[t-1];n.start=(({attributes:e,priorPeriodAttributes:t,mpdType:n})=>"number"==typeof e.start?e.start:t&&"number"==typeof t.start&&"number"==typeof t.duration?t.start+t.duration:t||"static"!==n?null:0)({attributes:n,priorPeriodAttributes:i?i.attributes:null,mpdType:l.type}),h.push({node:e,attributes:n})})),{locations:l.locations,contentSteeringInfo:qe(u,o),representationInfo:ee(h.map(Ue(l,c))),eventStream:ee(h.map(Fe))}})(Ve(e),t),i=n.representationInfo.map(Ae);return ke({dashPlaylists:i,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest,eventStream:n.eventStream})})(e,{manifestUri:t,clientOffset:n,sidxMapping:i,previousManifest:r});return ga(o,t,Ha),o})({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(e){this.error=e,this.error.metadata={errorType:Ps.Error.StreamingDashManifestParserError,error:e},this.trigger("error")}e&&(n=((e,t,n)=>{let i=!0,r=Ns(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts});for(let e=0;e<t.playlists.length;e++){const o=t.playlists[e];if(o.sidx){const e=pe(o.sidx);n&&n[e]&&n[e].sidx&&ae(o,n[e].sidx,o.sidx.resolvedUri)}const s=Ea(r,o,Va);s&&(r=s,i=!1)}return fa(t,((e,t,n,o)=>{if(e.playlists&&e.playlists.length){const s=e.playlists[0].id,a=Ea(r,e.playlists[0],Va);a&&(r=a,o in r.mediaGroups[t][n]||(r.mediaGroups[t][n][o]=e),r.mediaGroups[t][n][o].playlists[0]=r.playlists[s],i=!1)}})),((e,t)=>{fa(e,((n,i,r,o)=>{o in t.mediaGroups[i][r]||delete e.mediaGroups[i][r][o]}))})(r,t),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(i=!1),i?null:r})(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),n){const{duration:e,endList:i}=n,r=[];n.playlists.forEach((e=>{r.push({id:e.id,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS})}));const o={duration:e,isLive:!i,renditions:r};t.parsedManifest=o,this.trigger({type:"manifestparsecomplete",metadata:t})}return Boolean(n)}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(r().clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let t=e.main&&e.main.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_(`found invalid minimumUpdatePeriod of ${t}, not setting a timeout`):this.createMUPTimeout_(t)}createMUPTimeout_(e){const t=this.mainPlaylistLoader_;t.minimumUpdatePeriodTimeout_=r().setTimeout((()=>{t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)}),e)}refreshXml_(){this.requestMain_(((e,t)=>{t&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=((e,t)=>{let n=za(e.playlists,t);return fa(e,((e,i,r,o)=>{if(e.playlists&&e.playlists.length){const i=e.playlists;n=Ns(n,za(i,t))}})),n})(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,(e=>{this.refreshMedia_(this.media().id)})))}))}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const t=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==t[e];if(n?this.media_=t[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const e=()=>{this.media().endList||(this.mediaUpdateTimeout=r().setTimeout((()=>{this.trigger("mediaupdatetimeout"),e()}),Ta(this.media(),Boolean(n))))};e()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const e=this.mainPlaylistLoader_.main.eventStream.map((e=>({cueTime:e.start,frames:[{data:e.messageData}]})));this.addMetadataToTextTrack("EventStream",e,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const t=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes["cenc:default_KID"];i&&t.add(i.replace(/-/g,"").toLowerCase())}return t}}}var Ga={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const Ka=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},Ya=function(e){return function(){const t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(t){const n=new BlobBuilder;return n.append(e),URL.createObjectURL(n.getBlob())}}(e),n=Ka(new Worker(t));n.objURL=t;const i=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),i.call(this)},n}},Xa=function(e){return`var browserWorkerPolyFill = ${Ka.toString()};\nbrowserWorkerPolyFill(self);\n`+e},Ja=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},Qa=Xa(Ja((function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},t=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,r,o;if(n=e[t])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){e={}}}};t.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},t.prototype.push=function(e){this.trigger("data",e)},t.prototype.flush=function(e){this.trigger("done",e)},t.prototype.partialFlush=function(e){this.trigger("partialdone",e)},t.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},t.prototype.reset=function(e){this.trigger("reset",e)};var i,r,o,s,a,l,c,u,h,d,p,f,m,g,y,v,b,_,w,k,S,E,T,x,C,P,A,O,I,L,D,R,M,N,j,F,B,U,q,V,H=t,$=Math.pow(2,32),z={getUint64:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(t=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:n.getUint32(0)*$+n.getUint32(4)},MAX_UINT32:$},W=z.MAX_UINT32;!function(){var e;if(E={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in E)E.hasOwnProperty(e)&&(E[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);T=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),C=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),x=new Uint8Array([0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),A=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),O={video:P,audio:A},D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),L=new Uint8Array([0,0,0,0,0,0,0,0]),R=new Uint8Array([0,0,0,0,0,0,0,0]),M=R,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),j=R,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),i=function(e){var t,n,i=[],r=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)r+=i[t].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<i.length;t++)n.set(i[t],r),r+=i[t].byteLength;return n},r=function(){return i(E.dinf,i(E.dref,D))},o=function(e){return i(E.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},y=function(e){return i(E.hdlr,O[e])},g=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),i(E.mdhd,t)},m=function(e){return i(E.mdia,g(e),y(e.type),l(e))},a=function(e){return i(E.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},l=function(e){return i(E.minf,"video"===e.type?i(E.vmhd,I):i(E.smhd,L),r(),b(e))},c=function(e,t){for(var n=[],r=t.length;r--;)n[r]=w(t[r]);return i.apply(null,[E.moof,a(e)].concat(n))},u=function(e){for(var t=e.length,n=[];t--;)n[t]=p(e[t]);return i.apply(null,[E.moov,d(4294967295)].concat(n).concat(h(e)))},h=function(e){for(var t=e.length,n=[];t--;)n[t]=k(e[t]);return i.apply(null,[E.mvex].concat(n))},d=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(E.mvhd,t)},v=function(e){var t,n,r=e.samples||[],o=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)t=r[n].flags,o[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return i(E.sdtp,o)},b=function(e){return i(E.stbl,_(e),i(E.stts,j),i(E.stsc,M),i(E.stsz,N),i(E.stco,R))},_=function(e){return i(E.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?F(e):B(e))},F=function(e){var t,n,r=e.sps||[],o=e.pps||[],s=[],a=[];for(t=0;t<r.length;t++)s.push((65280&r[t].byteLength)>>>8),s.push(255&r[t].byteLength),s=s.concat(Array.prototype.slice.call(r[t]));for(t=0;t<o.length;t++)a.push((65280&o[t].byteLength)>>>8),a.push(255&o[t].byteLength),a=a.concat(Array.prototype.slice.call(o[t]));if(n=[E.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(E.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length],s,[o.length],a))),i(E.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],c=e.sarRatio[1];n.push(i(E.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&c)>>24,(16711680&c)>>16,(65280&c)>>8,255&c])))}return i.apply(null,n)},B=function(e){return i(E.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),o(e))},f=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return i(E.tkhd,t)},w=function(e){var t,n,r,o,s,a;return t=i(E.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/W),a=Math.floor(e.baseMediaDecodeTime%W),n=i(E.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),"audio"===e.type?(r=S(e,92),i(E.traf,t,n,r)):(o=v(e),r=S(e,o.length+92),i(E.traf,t,n,r,o))},p=function(e){return e.duration=e.duration||4294967295,i(E.trak,f(e),m(e))},k=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),i(E.trex,t)},V=function(e,t){var n=0,i=0,r=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|i|r|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},q=function(e,t){var n,r,o,s,a,l;for(t+=20+16*(s=e.samples||[]).length,o=V(s,t),(r=new Uint8Array(o.length+16*s.length)).set(o),n=o.length,l=0;l<s.length;l++)a=s[l],r[n++]=(4278190080&a.duration)>>>24,r[n++]=(16711680&a.duration)>>>16,r[n++]=(65280&a.duration)>>>8,r[n++]=255&a.duration,r[n++]=(4278190080&a.size)>>>24,r[n++]=(16711680&a.size)>>>16,r[n++]=(65280&a.size)>>>8,r[n++]=255&a.size,r[n++]=a.flags.isLeading<<2|a.flags.dependsOn,r[n++]=a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,r[n++]=61440&a.flags.degradationPriority,r[n++]=15&a.flags.degradationPriority,r[n++]=(4278190080&a.compositionTimeOffset)>>>24,r[n++]=(16711680&a.compositionTimeOffset)>>>16,r[n++]=(65280&a.compositionTimeOffset)>>>8,r[n++]=255&a.compositionTimeOffset;return i(E.trun,r)},U=function(e,t){var n,r,o,s,a,l;for(t+=20+8*(s=e.samples||[]).length,o=V(s,t),(n=new Uint8Array(o.length+8*s.length)).set(o),r=o.length,l=0;l<s.length;l++)a=s[l],n[r++]=(4278190080&a.duration)>>>24,n[r++]=(16711680&a.duration)>>>16,n[r++]=(65280&a.duration)>>>8,n[r++]=255&a.duration,n[r++]=(4278190080&a.size)>>>24,n[r++]=(16711680&a.size)>>>16,n[r++]=(65280&a.size)>>>8,n[r++]=255&a.size;return i(E.trun,n)},S=function(e,t){return"audio"===e.type?U(e,t):q(e,t)};var G,K,Y,X,J,Q,Z,ee,te={ftyp:s=function(){return i(E.ftyp,T,x,T,C)},mdat:function(e){return i(E.mdat,e)},moof:c,moov:u,initSegment:function(e){var t,n=s(),i=u(e);return(t=new Uint8Array(n.byteLength+i.byteLength)).set(n),t.set(i,n.byteLength),t}},ne=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},ie={groupNalsIntoFrames:function(e){var t,n,i=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,i.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i),r},groupFramesIntoGops:function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){var n,i,r,o,s,a=t||0,l=[];for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i++)s=o[i],a+=(r=ne(s,a)).size,l.push(r);return l},concatenateNalData:function(e){var t,n,i,r,o,s,a=0,l=e.byteLength,c=e.nalCount,u=new Uint8Array(l+4*c),h=new DataView(u.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(o=r[n],i=0;i<o.length;i++)s=o[i],h.setUint32(a,s.data.byteLength),a+=4,u.set(s.data,a),a+=s.data.byteLength;return u},generateSampleTableForFrame:function(e,t){var n,i=[];return n=ne(e,t||0),i.push(n),i},concatenateNalDataForFrame:function(e){var t,n,i=0,r=e.byteLength,o=e.length,s=new Uint8Array(r+4*o),a=new DataView(s.buffer);for(t=0;t<e.length;t++)n=e[t],a.setUint32(i,n.data.byteLength),i+=4,s.set(n.data,i),i+=n.data.byteLength;return s}},re=[33,16,5,32,164,27],oe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],se=function(e){for(var t=[];e--;)t.push(0);return t},ae=9e4;Q=function(e,t){return K(J(e,t))},Z=function(e,t){return Y(X(e),t)},ee=function(e,t,n){return X(n?e:e-t)};var le={ONE_SECOND_IN_TS:ae,secondsToVideoTs:K=function(e){return e*ae},secondsToAudioTs:Y=function(e,t){return e*t},videoTsToSeconds:X=function(e){return e/ae},audioTsToSeconds:J=function(e,t){return e/t},audioTsToVideoTs:Q,videoTsToAudioTs:Z,metadataTsToSeconds:ee},ce=le,ue={prefixWithSilence:function(e,t,n,i){var r,o,s,a,l,c=0,u=0,h=0;if(t.length&&(r=ce.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(ce.ONE_SECOND_IN_TS/(e.samplerate/1024)),n&&i&&(c=r-Math.max(n,i),h=(u=Math.floor(c/o))*o),!(u<1||h>ce.ONE_SECOND_IN_TS/2))){for((s=function(){if(!G){var e={96e3:[re,[227,64],se(154),[56]],88200:[re,[231],se(170),[56]],64e3:[re,[248,192],se(240),[56]],48e3:[re,[255,192],se(268),[55,148,128],se(54),[112]],44100:[re,[255,192],se(268),[55,163,128],se(84),[112]],32e3:[re,[255,192],se(268),[55,234],se(226),[112]],24e3:[re,[255,192],se(268),[55,255,128],se(268),[111,112],se(126),[224]],16e3:[re,[255,192],se(268),[55,255,128],se(268),[111,255],se(269),[223,108],se(195),[1,192]],12e3:[oe,se(268),[3,127,248],se(268),[6,255,240],se(268),[13,255,224],se(268),[27,253,128],se(259),[56]],11025:[oe,se(268),[3,127,248],se(268),[6,255,240],se(268),[13,255,224],se(268),[27,255,192],se(268),[55,175,128],se(108),[112]],8e3:[oe,se(268),[3,121,16],se(47),[7]]};t=e,G=Object.keys(t).reduce((function(e,n){return e[n]=new Uint8Array(t[n].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return G}()[e.samplerate])||(s=t[0].data),a=0;a<u;a++)l=t[0],t.splice(0,0,{data:s,dts:l.dts-o,pts:l.pts-o});return e.baseMediaDecodeTime-=Math.floor(ce.videoTsToAudioTs(h,e.samplerate)),h}},trimAdtsFramesByEarliestDts:function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},generateSampleTable:function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i},concatenateFrameData:function(e){var t,n,i=0,r=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],r.set(n.data,i),i+=n.data.byteLength;return r}},he=le.ONE_SECOND_IN_TS,de={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var n,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/he,n=Math.floor(n)),n},collectDtsInfo:function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}},pe={parseSei:function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}n.payload=void 0}t+=r,i=0,r=0}return n},parseUserData:function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var n,i,r,o,s=[];if(!(64&t[0]))return s;for(i=31&t[0],n=0;n<i;n++)o={type:3&t[2+(r=3*n)],pts:e},4&t[r+2]&&(o.ccData=t[r+3]<<8|t[r+4],s.push(o));return s},discardEmulationPreventionBytes:function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var s=0;for(o=0;o<t;s++,o++)s===r[0]&&(s++,r.shift()),n[o]=e[s];return n},USER_DATA_REGISTERED_ITU_T_T35:4},fe=H,me=pe,ge=function(e){e=e||{},ge.prototype.init.call(this),this.parse708captions_="boolean"!=typeof e.parse708captions||e.parse708captions,this.captionPackets_=[],this.ccStreams_=[new xe(0,0),new xe(0,1),new xe(1,0),new xe(1,1)],this.parse708captions_&&(this.cc708Stream_=new we({captionServices:e.captionServices})),this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};ge.prototype=new fe,ge.prototype.push=function(e){var t,n,i;if("sei_rbsp"===e.nalUnitType&&(t=me.parseSei(e.escapedRBSP)).payload&&t.payloadType===me.USER_DATA_REGISTERED_ITU_T_T35&&(n=me.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=me.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},ge.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},ge.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},ge.prototype.flush=function(){return this.flushStream("flush")},ge.prototype.partialFlush=function(){return this.flushStream("partialFlush")},ge.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},ge.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},ge.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},ge.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},ge.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},ge.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var ye={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},ve=function(e){return 32<=e&&e<=127||160<=e&&e<=255},be=function(e){this.windowNum=e,this.reset()};be.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},be.prototype.getText=function(){return this.rows.join("\n")},be.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},be.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},be.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},be.prototype.addText=function(e){this.rows[this.rowIdx]+=e},be.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var _e=function(e,t,n){this.serviceNum=e,this.text="",this.currentWindow=new be(-1),this.windows=[],this.stream=n,"string"==typeof t&&this.createTextDecoder(t)};_e.prototype.init=function(e,t){this.startPts=e;for(var n=0;n<8;n++)this.windows[n]=new be(n),"function"==typeof t&&(this.windows[n].beforeRowOverflow=t)},_e.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},_e.prototype.createTextDecoder=function(e){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var we=function(e){e=e||{},we.prototype.init.call(this);var t,n=this,i=e.captionServices||{},r={};Object.keys(i).forEach((e=>{t=i[e],/^SERVICE/.test(e)&&(r[e]=t.encoding)})),this.serviceEncodings=r,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(n.new708Packet(),n.add708Bytes(e)):(null===n.current708Packet&&n.new708Packet(),n.add708Bytes(e))}};we.prototype=new fe,we.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},we.prototype.add708Bytes=function(e){var t=e.ccData,n=t>>>8,i=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(n),this.current708Packet.data.push(i)},we.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,n=null,i=null,r=0,o=t[r++];for(e.seq=o>>6,e.sizeCode=63&o;r<t.length;r++)i=31&(o=t[r++]),7==(n=o>>5)&&i>0&&(n=o=t[r++]),this.pushServiceBlock(n,r,i),i>0&&(r+=i-1)},we.prototype.pushServiceBlock=function(e,t,n){var i,r=t,o=this.current708Packet.data,s=this.services[e];for(s||(s=this.initService(e,r));r<t+n&&r<o.length;r++)i=o[r],ve(i)?r=this.handleText(r,s):24===i?r=this.multiByteCharacter(r,s):16===i?r=this.extendedCommands(r,s):128<=i&&i<=135?r=this.setCurrentWindow(r,s):152<=i&&i<=159?r=this.defineWindow(r,s):136===i?r=this.clearWindows(r,s):140===i?r=this.deleteWindows(r,s):137===i?r=this.displayWindows(r,s):138===i?r=this.hideWindows(r,s):139===i?r=this.toggleWindows(r,s):151===i?r=this.setWindowAttributes(r,s):144===i?r=this.setPenAttributes(r,s):145===i?r=this.setPenColor(r,s):146===i?r=this.setPenLocation(r,s):143===i?s=this.reset(r,s):8===i?s.currentWindow.backspace():12===i?s.currentWindow.clearText():13===i?s.currentWindow.pendingNewLine=!0:14===i?s.currentWindow.clearText():141===i&&r++},we.prototype.extendedCommands=function(e,t){var n=this.current708Packet.data[++e];return ve(n)&&(e=this.handleText(e,t,{isExtended:!0})),e},we.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},we.prototype.initService=function(e,t){var n,i,r=this;return(n="SERVICE"+e)in this.serviceEncodings&&(i=this.serviceEncodings[n]),this.services[e]=new _e(e,i,r),this.services[e].init(this.getPts(t),(function(t){r.flushDisplayed(t,r.services[e])})),this.services[e]},we.prototype.handleText=function(e,t,n){var i,r,o,s,a=n&&n.isExtended,l=n&&n.isMultiByte,c=this.current708Packet.data,u=a?4096:0,h=c[e],d=c[e+1],p=t.currentWindow;if(l?(r=[h,d],e++):r=[h],t.textDecoder_&&!a)i=t.textDecoder_.decode(new Uint8Array(r));else if(l){const e=r.map((e=>("0"+(255&e).toString(16)).slice(-2))).join("");i=String.fromCharCode(parseInt(e,16))}else s=ye[o=u|h]||o,i=4096&o&&o===s?"":String.fromCharCode(s);return p.pendingNewLine&&!p.isEmpty()&&p.newLine(this.getPts(e)),p.pendingNewLine=!1,p.addText(i),e},we.prototype.multiByteCharacter=function(e,t){var n=this.current708Packet.data,i=n[e+1],r=n[e+2];return ve(i)&&ve(r)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},we.prototype.setCurrentWindow=function(e,t){var n=7&this.current708Packet.data[e];return t.setCurrentWindow(n),e},we.prototype.defineWindow=function(e,t){var n=this.current708Packet.data,i=n[e],r=7&i;t.setCurrentWindow(r);var o=t.currentWindow;return i=n[++e],o.visible=(32&i)>>5,o.rowLock=(16&i)>>4,o.columnLock=(8&i)>>3,o.priority=7&i,i=n[++e],o.relativePositioning=(128&i)>>7,o.anchorVertical=127&i,i=n[++e],o.anchorHorizontal=i,i=n[++e],o.anchorPoint=(240&i)>>4,o.rowCount=15&i,i=n[++e],o.columnCount=63&i,i=n[++e],o.windowStyle=(56&i)>>3,o.penStyle=7&i,o.virtualRowCount=o.rowCount+1,e},we.prototype.setWindowAttributes=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.winAttr;return i=n[++e],r.fillOpacity=(192&i)>>6,r.fillRed=(48&i)>>4,r.fillGreen=(12&i)>>2,r.fillBlue=3&i,i=n[++e],r.borderType=(192&i)>>6,r.borderRed=(48&i)>>4,r.borderGreen=(12&i)>>2,r.borderBlue=3&i,i=n[++e],r.borderType+=(128&i)>>5,r.wordWrap=(64&i)>>6,r.printDirection=(48&i)>>4,r.scrollDirection=(12&i)>>2,r.justify=3&i,i=n[++e],r.effectSpeed=(240&i)>>4,r.effectDirection=(12&i)>>2,r.displayEffect=3&i,e},we.prototype.flushDisplayed=function(e,t){for(var n=[],i=0;i<8;i++)t.windows[i].visible&&!t.windows[i].isEmpty()&&n.push(t.windows[i].getText());t.endPts=e,t.text=n.join("\n\n"),this.pushCaption(t),t.startPts=e},we.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},we.prototype.displayWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=1);return e},we.prototype.hideWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=0);return e},we.prototype.toggleWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible^=1);return e},we.prototype.clearWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].clearText();return e},we.prototype.deleteWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].reset();return e},we.prototype.setPenAttributes=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penAttr;return i=n[++e],r.textTag=(240&i)>>4,r.offset=(12&i)>>2,r.penSize=3&i,i=n[++e],r.italics=(128&i)>>7,r.underline=(64&i)>>6,r.edgeType=(56&i)>>3,r.fontStyle=7&i,e},we.prototype.setPenColor=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penColor;return i=n[++e],r.fgOpacity=(192&i)>>6,r.fgRed=(48&i)>>4,r.fgGreen=(12&i)>>2,r.fgBlue=3&i,i=n[++e],r.bgOpacity=(192&i)>>6,r.bgRed=(48&i)>>4,r.bgGreen=(12&i)>>2,r.bgBlue=3&i,i=n[++e],r.edgeRed=(48&i)>>4,r.edgeGreen=(12&i)>>2,r.edgeBlue=3&i,e},we.prototype.setPenLocation=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,i=n[++e],r.row=15&i,i=n[++e],r.column=63&i,e},we.prototype.reset=function(e,t){var n=this.getPts(e);return this.flushDisplayed(n,t),this.initService(t.serviceNum,e)};var ke={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Se=function(e){return null===e?"":(e=ke[e]||e,String.fromCharCode(e))},Ee=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Te=function(){for(var e=[],t=15;t--;)e.push({text:"",indent:0,offset:0});return e},xe=function(e,t){xe.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),i=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Te();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Te();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Te()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(i,r))o=Se((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),o=Se((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14&~r||this.addFormatting(e.pts,["i"]),1&~r||this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(i,r)){const e=3&r;this.nonDisplayed_[this.row_].offset=e,this.column_+=e}else if(this.isPAC(i,r)){var s=Ee.indexOf(7968&t);if("rollUp"===this.mode_&&(s-this.rollUpRows_+1<0&&(s=this.rollUpRows_-1),this.setRollUp(e.pts,s)),s!==this.row_&&s>=0&&s<=14&&(this.clearFormatting(e.pts),this.row_=s),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),!(16&~t)){const e=(14&t)>>1;this.column_=4*e,this.nonDisplayed_[this.row_].indent+=e}this.isColorPAC(r)&&(14&~r||this.addFormatting(e.pts,["i"]))}else this.isNormalChar(i)&&(0===r&&(r=null),o=Se(i),o+=Se(r),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};xe.prototype=new fe,xe.prototype.flushDisplayed=function(e){const t=e=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+e+"."})},n=[];this.displayed_.forEach(((e,i)=>{if(e&&e.text&&e.text.length){try{e.text=e.text.trim()}catch(e){t(i)}e.text.length&&n.push({text:e.text,line:i+1,position:10+Math.min(70,10*e.indent)+2.5*e.offset})}else null==e&&t(i)})),n.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,content:n,stream:this.name_})},xe.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Te(),this.nonDisplayed_=Te(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},xe.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},xe.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},xe.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},xe.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},xe.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},xe.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},xe.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},xe.prototype.isNormalChar=function(e){return e>=32&&e<=127},xe.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Te(),this.displayed_=Te()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]={text:"",indent:0,offset:0};void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},xe.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},xe.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},xe.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_].text;n+=t,this.nonDisplayed_[this.row_].text=n},xe.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_].text;n+=t,this.displayed_[this.row_].text=n},xe.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]={text:"",indent:0,offset:0};for(e=this.row_+1;e<15;e++)this.displayed_[e]={text:"",indent:0,offset:0};for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},xe.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_].text;n+=t,this.displayed_[this.row_].text=n};var Ce={CaptionStream:ge,Cea608Stream:xe,Cea708Stream:we},Pe={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ae=H,Oe="shared",Ie=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},Le=function(e){var t,n;Le.prototype.init.call(this),this.type_=e||Oe,this.push=function(e){"metadata"!==e.type?this.type_!==Oe&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=Ie(e.dts,n),e.pts=Ie(e.pts,n),t=e.dts,this.trigger("data",e)):this.trigger("data",e)},this.flush=function(){n=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Le.prototype=new Ae;var De,Re={TimestampRolloverStream:Le,handleRollover:Ie},Me=(e,t,n)=>{if(!e)return-1;for(var i=n;i<e.length;i++)if(e[i]===t)return i;return-1},Ne=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},je=function(e,t,n){return decodeURIComponent(Ne(e,t,n))},Fe=function(e,t,n){return unescape(Ne(e,t,n))},Be=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Ue={APIC:function(e){var t,n,i=1;3===e.data[0]&&((t=Me(e.data,0,i))<0||(e.mimeType=Fe(e.data,i,t),i=t+1,e.pictureType=e.data[i],i++,(n=Me(e.data,0,i))<0||(e.description=je(e.data,i,n),i=n+1,"--\x3e"===e.mimeType?e.url=Fe(e.data,i,e.data.length):e.pictureData=e.data.subarray(i,e.data.length))))},"T*":function(e){3===e.data[0]&&(e.value=je(e.data,1,e.data.length).replace(/\0*$/,""),e.values=e.value.split("\0"))},TXXX:function(e){var t;3===e.data[0]&&-1!==(t=Me(e.data,0,1))&&(e.description=je(e.data,1,t),e.value=je(e.data,t+1,e.data.length).replace(/\0*$/,""),e.data=e.value)},"W*":function(e){e.url=Fe(e.data,0,e.data.length).replace(/\0.*$/,"")},WXXX:function(e){var t;3===e.data[0]&&-1!==(t=Me(e.data,0,1))&&(e.description=je(e.data,1,t),e.url=Fe(e.data,t+1,e.data.length).replace(/\0.*$/,""))},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=Fe(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}},qe={parseId3Frames:function(e){var t,n=10,i=0,r=[];if(!(e.length<10||e[0]!=="I".charCodeAt(0)||e[1]!=="D".charCodeAt(0)||e[2]!=="3".charCodeAt(0))){i=Be(e.subarray(6,10)),i+=10,64&e[5]&&(n+=4,n+=Be(e.subarray(10,14)),i-=Be(e.subarray(16,20)));do{if((t=Be(e.subarray(n+4,n+8)))<1)break;var o={id:String.fromCharCode(e[n],e[n+1],e[n+2],e[n+3]),data:e.subarray(n+10,n+t+10)};o.key=o.id,Ue[o.id]?Ue[o.id](o):"T"===o.id[0]?Ue["T*"](o):"W"===o.id[0]&&Ue["W*"](o),r.push(o),n+=10,n+=t}while(n<i);return r}},parseSyncSafeInteger:Be,frameParsers:Ue},Ve=Pe,He=qe;(De=function(e){var t,n={descriptor:e&&e.descriptor},i=0,r=[],o=0;if(De.prototype.init.call(this),this.dispatchType=Ve.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,s,a,l;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(o=0,r.length=0),0===r.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(r.push(e),o+=e.data.byteLength,1===r.length&&(i=He.parseSyncSafeInteger(e.data.subarray(6,10)),i+=10),!(o<i)){for(t={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<i;)t.data.set(r[0].data.subarray(0,i-l),l),l+=r[0].data.byteLength,o-=r[0].data.byteLength,r.shift();n=10,64&t.data[5]&&(n+=4,n+=He.parseSyncSafeInteger(t.data.subarray(10,14)),i-=He.parseSyncSafeInteger(t.data.subarray(16,20)));do{if((s=He.parseSyncSafeInteger(t.data.subarray(n+4,n+8)))<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if((a={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+s+10)}).key=a.id,He.frameParsers[a.id]?He.frameParsers[a.id](a):"T"===a.id[0]?He.frameParsers["T*"](a):"W"===a.id[0]&&He.frameParsers["W*"](a),"com.apple.streaming.transportStreamTimestamp"===a.owner){var c=a.data,u=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;u*=4,u+=3&c[7],a.timeStamp=u,void 0===t.pts&&void 0===t.dts&&(t.pts=a.timeStamp,t.dts=a.timeStamp),this.trigger("timestamp",a)}t.frames.push(a),n+=10,n+=s}while(n<i);this.trigger("data",t)}}}).prototype=new H;var $e,ze,We,Ge=De,Ke=H,Ye=Ce,Xe=Pe,Je=Re.TimestampRolloverStream,Qe=188;($e=function(){var e=new Uint8Array(Qe),t=0;$e.prototype.init.call(this),this.push=function(n){var i,r=0,o=Qe;for(t?((i=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),i.set(n,t),t=0):i=n;o<i.byteLength;)71!==i[r]||71!==i[o]?(r++,o++):(this.trigger("data",i.subarray(r,o)),r+=Qe,o+=Qe);r<i.byteLength&&(e.set(i.subarray(r),0),t=i.byteLength-r)},this.flush=function(){t===Qe&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new Ke,(ze=function(){var e,t,n,i;ze.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,i){var r=0;i.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===i.type?t(e.subarray(r),i):n(e.subarray(r),i)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],i.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=i.pmtPid},n=function(e,t){var n,r;if(1&e[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,r=12+((15&e[10])<<8|e[11]);r<n;){var o=e[r],s=(31&e[r+1])<<8|e[r+2];o===Xe.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=s:o===Xe.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=s:o===Xe.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][s]=o),r+=5+((15&e[r+3])<<8|e[r+4])}t.programMapTable=i.programMapTable}},this.push=function(t){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(i+=t[i]+1),0===n.pid)n.type="pat",e(t.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,i,n]):this.processPes_(t,i,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Xe.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Xe.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new Ke,ze.STREAM_TYPES={h264:27,adts:15},We=function(){var e,t=this,n=!1,i={data:[],size:0},r={data:[],size:0},o={data:[],size:0},s=function(e,n,i){var r,o,s=new Uint8Array(e.size),a={type:n},l=0,c=0;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,l=0;l<e.data.length;l++)o=e.data[l],s.set(o.data,c),c+=o.data.byteLength;!function(e,t){var n;const i=e[0]<<16|e[1]<<8|e[2];t.data=new Uint8Array,1===i&&(t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=!!(4&e[6]),192&(n=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8]))}(s,a),r="video"===n||a.packetLength<=e.size,(i||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",a)}};We.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,t;switch(a.streamType){case Xe.H264_STREAM_TYPE:e=i,t="video";break;case Xe.ADTS_STREAM_TYPE:e=r,t="audio";break;case Xe.METADATA_STREAM_TYPE:e=o,t="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]};null!==(e=a.programMapTable).video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),n=!0,t.trigger("data",i)}})[a.type]()},this.reset=function(){i.size=0,i.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(i,"video"),s(r,"audio"),s(o,"timed-metadata")},this.flush=function(){if(!n&&e){var i={type:"metadata",tracks:[]};null!==e.video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",i)}n=!1,this.flushStreams_(),this.trigger("done")}},We.prototype=new Ke;var Ze={PAT_PID:0,MP2T_PACKET_LENGTH:Qe,TransportPacketStream:$e,TransportParseStream:ze,ElementaryStream:We,TimestampRolloverStream:Je,CaptionStream:Ye.CaptionStream,Cea608Stream:Ye.Cea608Stream,Cea708Stream:Ye.Cea708Stream,MetadataStream:Ge};for(var et in Xe)Xe.hasOwnProperty(et)&&(Ze[et]=Xe[et]);var tt,nt=Ze,it=le.ONE_SECOND_IN_TS,rt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(tt=function(e){var t,n=0;tt.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:`adts skiping bytes ${e} to ${t} in frame ${n} outside syncword`})},this.push=function(i){var r,o,s,a,l,c=0;if(e||(n=0),"audio"===i.type){var u;for(t&&t.length?(s=t,(t=new Uint8Array(s.byteLength+i.data.byteLength)).set(s),t.set(i.data,s.byteLength)):t=i.data;c+7<t.length;)if(255===t[c]&&240==(246&t[c+1])){if("number"==typeof u&&(this.skipWarn_(u,c),u=null),o=2*(1&~t[c+1]),r=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,l=(a=1024*(1+(3&t[c+6])))*it/rt[(60&t[c+2])>>>2],t.byteLength-c<r)break;this.trigger("data",{pts:i.pts+n*l,dts:i.dts+n*l,sampleCount:a,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:rt[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+o,c+r)}),n++,c+=r}else"number"!=typeof u&&(u=c),c++;"number"==typeof u&&(this.skipWarn_(u,c),u=null),t=t.subarray(c)}},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}}).prototype=new H;var ot,st,at,lt=tt,ct=H,ut=function(e){var t=e.byteLength,n=0,i=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+i},this.loadWord=function(){var r=e.byteLength-t,o=new Uint8Array(4),s=Math.min(4,t);if(0===s)throw new Error("no bytes available");o.set(e.subarray(r,r+s)),n=new DataView(o.buffer).getUint32(0),i=8*s,t-=s},this.skipBits=function(e){var r;i>e?(n<<=e,i-=e):(e-=i,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord(),n<<=e,i-=e)},this.readBits=function(e){var r=Math.min(i,e),o=n>>>32-r;return(i-=r)>0?n<<=r:t>0&&this.loadWord(),(r=e-r)>0?o<<r|this.readBits(r):o},this.skipLeadingZeros=function(){var e;for(e=0;e<i;++e)if(n&2147483648>>>e)return n<<=e,i-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(st=function(){var e,t,n=0;st.prototype.init.call(this),this.push=function(i){var r;t?((r=new Uint8Array(t.byteLength+i.data.byteLength)).set(t),r.set(i.data,t.byteLength),t=r):t=i.data;for(var o=t.byteLength;n<o-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<o;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<o);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new ct,at={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ot=function(){var e,t,n,i,r,o,s,a=new st;ot.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,i=e.dts,a.push(e))},a.on("data",(function(s){var a={trackId:t,pts:n,dts:i,data:s,nalUnitTypeCode:31&s[0]};switch(a.nalUnitTypeCode){case 5:a.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:a.nalUnitType="sei_rbsp",a.escapedRBSP=r(s.subarray(1));break;case 7:a.nalUnitType="seq_parameter_set_rbsp",a.escapedRBSP=r(s.subarray(1)),a.config=o(a.escapedRBSP);break;case 8:a.nalUnitType="pic_parameter_set_rbsp";break;case 9:a.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",a)})),a.on("done",(function(){e.trigger("done")})),a.on("partialdone",(function(){e.trigger("partialdone")})),a.on("reset",(function(){e.trigger("reset")})),a.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){a.flush()},this.partialFlush=function(){a.partialFlush()},this.reset=function(){a.reset()},this.endTimeline=function(){a.endTimeline()},s=function(e,t){var n,i=8,r=8;for(n=0;n<e;n++)0!==r&&(r=(i+t.readExpGolomb()+256)%256),i=0===r?i:r},r=function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var s=0;for(o=0;o<t;s++,o++)s===r[0]&&(s++,r.shift()),n[o]=e[s];return n},o=function(e){var t,n,i,r,o,a,l,c,u,h,d,p,f=0,m=0,g=0,y=0,v=[1,1];if(n=(t=new ut(e)).readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),at[n]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==o?8:12,p=0;p<d;p++)t.readBoolean()&&s(p<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(a=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===a)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),p=0;p<l;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),c=t.readUnsignedExpGolomb(),u=t.readUnsignedExpGolomb(),0===(h=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(f=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:v=[1,1];break;case 2:v=[12,11];break;case 3:v=[10,11];break;case 4:v=[16,11];break;case 5:v=[40,33];break;case 6:v=[24,11];break;case 7:v=[20,11];break;case 8:v=[32,11];break;case 9:v=[80,33];break;case 10:v=[18,11];break;case 11:v=[15,11];break;case 12:v=[64,33];break;case 13:v=[160,99];break;case 14:v=[4,3];break;case 15:v=[3,2];break;case 16:v=[2,1];break;case 255:v=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}v&&(v[0],v[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:16*(c+1)-2*f-2*m,height:(2-h)*(u+1)*16-2*g-2*y,sarRatio:v}}},ot.prototype=new ct;var ht,dt={H264Stream:ot,NalByteStream:st},pt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],ft=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},mt=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=ft(e,t),mt(e,t))},gt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},yt={isLikelyAacData:function(e){var t=mt(e,0);return e.length>=t+2&&!(255&~e[t])&&!(240&~e[t+1])&&16==(22&e[t+1])},parseId3TagSize:ft,parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&!(240&~e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return pt[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,i;t=10,64&e[5]&&(t+=4,t+=gt(e.subarray(10,14)));do{if((n=gt(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){i=e.subarray(t+10,t+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){var o=unescape(function(e,t,n){var i,r="";for(i=0;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r}(i,0,r));if("com.apple.streaming.transportStreamTimestamp"===o){var s=i.subarray(r+1),a=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return(a*=4)+(3&s[7])}break}}t+=10,t+=n}while(t<e.byteLength);return null}},vt=yt;(ht=function(){var e=new Uint8Array,t=0;ht.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var i,r,o,s,a=0,l=0;for(e.length?(s=e.length,(e=new Uint8Array(n.byteLength+s)).set(e.subarray(0,s)),e.set(n,s)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255&~e[l]||240&~e[l+1])l++;else{if(e.length-l<7)break;if(l+(a=vt.parseAdtsSize(e,l))>e.length)break;o={type:"audio",data:e.subarray(l,l+a),pts:t,dts:t},this.trigger("data",o),l+=a}else{if(e.length-l<10)break;if(l+(a=vt.parseId3TagSize(e,l))>e.length)break;r={type:"timed-metadata",data:e.subarray(l,l+a)},this.trigger("data",r),l+=a}i=e.length-l,e=i>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new H;var bt,_t,wt,kt,St=H,Et=te,Tt=ie,xt=ue,Ct=de,Pt=nt,At=le,Ot=lt,It=dt.H264Stream,Lt=ht,Dt=yt.isLikelyAacData,Rt=le.ONE_SECOND_IN_TS,Mt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Nt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],jt=function(e,t){t.stream=e,this.trigger("log",t)},Ft=function(e,t){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];"headOfPipeline"!==r&&t[r].on&&t[r].on("log",jt.bind(e,r))}},Bt=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Ut=function(e,t,n,i,r,o){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(i-t),pts:e+(r-n)},prependedContentDuration:o,baseMediaDecodeTime:e}};_t=function(e,t){var n,i=[],r=0,o=0,s=1/0;n=(t=t||{}).firstSequenceNumber||0,_t.prototype.init.call(this),this.push=function(t){Ct.collectDtsInfo(e,t),e&&Mt.forEach((function(n){e[n]=t[n]})),i.push(t)},this.setEarliestDts=function(e){r=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var a,l,c,u,h,d,p;0!==i.length?(a=xt.trimAdtsFramesByEarliestDts(i,e,r),e.baseMediaDecodeTime=Ct.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),p=xt.prefixWithSilence(e,a,o,s),e.samples=xt.generateSampleTable(a),c=Et.mdat(xt.concatenateFrameData(a)),i=[],l=Et.moof(n,[e]),u=new Uint8Array(l.byteLength+c.byteLength),n++,u.set(l),u.set(c,l.byteLength),Ct.clearDtsInfo(e),h=Math.ceil(1024*Rt/e.samplerate),a.length&&(d=a.length*h,this.trigger("segmentTimingInfo",Ut(At.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),a[0].dts,a[0].pts,a[0].dts+d,a[0].pts+d,p||0)),this.trigger("timingInfo",{start:a[0].pts,end:a[0].pts+d})),this.trigger("data",{track:e,boxes:u}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Ct.clearDtsInfo(e),i=[],this.trigger("reset")}},_t.prototype=new St,bt=function(e,t){var n,i,r,o=[],s=[];n=(t=t||{}).firstSequenceNumber||0,bt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Ct.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],Nt.forEach((function(t){e[t]=i[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var i,r,a,l,c,u,h,d,p=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=Tt.groupNalsIntoFrames(o),(a=Tt.groupFramesIntoGops(i))[0][0].keyFrame||((r=this.getGopForFusion_(o[0],e))?(p=r.duration,a.unshift(r),a.byteLength+=r.byteLength,a.nalCount+=r.nalCount,a.pts=r.pts,a.dts=r.dts,a.duration+=r.duration):a=Tt.extendFirstKeyFrame(a)),s.length){var f;if(!(f=t.alignGopsAtEnd?this.alignGopsAtEnd_(a):this.alignGopsAtStart_(a)))return this.gopCache_.unshift({gop:a.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Ct.clearDtsInfo(e),a=f}Ct.collectDtsInfo(e,a),e.samples=Tt.generateSampleTable(a),c=Et.mdat(Tt.concatenateNalData(a)),e.baseMediaDecodeTime=Ct.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",a.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),h=a[0],d=a[a.length-1],this.trigger("segmentTimingInfo",Ut(e.baseMediaDecodeTime,h.dts,h.pts,d.dts+d.duration,d.pts+d.duration,p)),this.trigger("timingInfo",{start:a[0].pts,end:a[a.length-1].pts+a[a.length-1].duration}),this.gopCache_.unshift({gop:a.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=Et.moof(n,[e]),u=new Uint8Array(l.byteLength+c.byteLength),n++,u.set(l),u.set(c,l.byteLength),this.trigger("data",{track:e,boxes:u}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){Ct.clearDtsInfo(e),i=void 0,r=void 0},this.getGopForFusion_=function(t){var n,i,r,o,s,a=1/0;for(s=0;s<this.gopCache_.length;s++)r=(o=this.gopCache_[s]).gop,e.pps&&Bt(e.pps[0],o.pps[0])&&e.sps&&Bt(e.sps[0],o.sps[0])&&(r.dts<e.timelineStartInfo.dts||(n=t.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||a>n)&&(i=o,a=n));return i?i.gop:null},this.alignGopsAtStart_=function(e){var t,n,i,r,o,a,l,c;for(o=e.byteLength,a=e.nalCount,l=e.duration,t=n=0;t<s.length&&n<e.length&&(i=s[t],r=e[n],i.pts!==r.pts);)r.pts>i.pts?t++:(n++,o-=r.byteLength,a-=r.nalCount,l-=r.duration);return 0===n?e:n===e.length?null:((c=e.slice(n)).byteLength=o,c.duration=l,c.nalCount=a,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){var t,n,i,r,o,a,l;for(t=s.length-1,n=e.length-1,o=null,a=!1;t>=0&&n>=0;){if(i=s[t],r=e[n],i.pts===r.pts){a=!0;break}i.pts>r.pts?t--:(t===s.length-1&&(o=n),n--)}if(!a&&null===o)return null;if(0===(l=a?n:o))return e;var c=e.slice(l),u=c.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return c.byteLength=u.byteLength,c.duration=u.duration,c.nalCount=u.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){s=e}},bt.prototype=new St,kt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,kt.prototype.init.call(this),this.push=function(e){return e.content||e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},kt.prototype=new St,kt.prototype.flush=function(e){var t,n,i,r,o=0,s={captions:[],captionStreams:{},metadata:[],info:{}},a=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(a=this.videoTrack.timelineStartInfo.pts,Nt.forEach((function(e){s.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts,Mt.forEach((function(e){s.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,i=Et.initSegment(this.pendingTracks),s.initSegment=new Uint8Array(i.byteLength),s.initSegment.set(i),s.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)s.data.set(this.pendingBoxes[r],o),o+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=At.metadataTsToSeconds(t.startPts,a,this.keepOriginalTimestamps),t.endTime=At.metadataTsToSeconds(t.endPts,a,this.keepOriginalTimestamps),s.captionStreams[t.stream]=!0,s.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=At.metadataTsToSeconds(n.pts,a,this.keepOriginalTimestamps),s.metadata.push(n);for(s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),r=0;r<s.captions.length;r++)t=s.captions[r],this.trigger("caption",t);for(r=0;r<s.metadata.length;r++)n=s.metadata[r],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},kt.prototype.setRemux=function(e){this.remuxTracks=e},(wt=function(e){var t,n,i=this,r=!0;wt.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new Pt.MetadataStream,r.aacStream=new Lt,r.audioTimestampRolloverStream=new Pt.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new Pt.TimestampRolloverStream("timed-metadata"),r.adtsStream=new Ot,r.coalesceStream=new kt(e,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(e){r.aacStream.setTimestamp(e.timeStamp)})),r.aacStream.on("data",(function(o){"timed-metadata"!==o.type&&"audio"!==o.type||r.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new _t(n,e),r.audioSegmentStream.on("log",i.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t}))})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),Ft(this,r)},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new Pt.MetadataStream,r.packetStream=new Pt.TransportPacketStream,r.parseStream=new Pt.TransportParseStream,r.elementaryStream=new Pt.ElementaryStream,r.timestampRolloverStream=new Pt.TimestampRolloverStream,r.adtsStream=new Ot,r.h264Stream=new It,r.captionStream=new Pt.CaptionStream(e),r.coalesceStream=new kt(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(o){var s;if("metadata"===o.type){for(s=o.tracks.length;s--;)t||"video"!==o.tracks[s].type?n||"audio"!==o.tracks[s].type||((n=o.tracks[s]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(t=o.tracks[s]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;t&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new bt(t,e),r.videoSegmentStream.on("log",i.getLogTrigger_("videoSegmentStream")),r.videoSegmentStream.on("timelineStartInfo",(function(t){n&&!e.keepOriginalTimestamps&&(n.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts-i.baseMediaDecodeTime))})),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),r.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new _t(n,e),r.audioSegmentStream.on("log",i.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.audioSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"audioSegmentTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(e){e.dispatchType=r.metadataStream.dispatchType,i.trigger("id3Frame",e)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),Ft(this,r)},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Ct.clearDtsInfo(n),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Ct.clearDtsInfo(t),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(n){n.stream=e,t.trigger("log",n)}},this.push=function(e){if(r){var t=Dt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new St;var qt,Vt,Ht,$t,zt={Transmuxer:wt,VideoSegmentStream:bt,AudioSegmentStream:_t,AUDIO_PROPERTIES:Mt,VIDEO_PROPERTIES:Nt,generateSegmentTimingInfo:Ut},Wt=function(e){return e>>>0},Gt=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),(t+=String.fromCharCode(e[2]))+String.fromCharCode(e[3])},Kt=Wt,Yt=Gt,Xt=function(e,t){var n,i,r,o,s,a=[];if(!t.length)return null;for(n=0;n<e.byteLength;)i=Kt(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),r=Yt(e.subarray(n+4,n+8)),o=i>1?n+i:e.byteLength,r===t[0]&&(1===t.length?a.push(e.subarray(n+8,o)):(s=Xt(e.subarray(n+8,o),t.slice(1))).length&&(a=a.concat(s))),n=o;return a},Jt=Wt,Qt=z.getUint64,Zt=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=Qt(e.subarray(4)):t.baseMediaDecodeTime=Jt(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},en=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},tn=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&n.flags[2],o=4&n.flags[2],s=1&n.flags[1],a=2&n.flags[1],l=4&n.flags[1],c=8&n.flags[1],u=i.getUint32(4),h=8;for(r&&(n.dataOffset=i.getInt32(h),h+=4),o&&u&&(t={flags:en(e.subarray(h,h+4))},h+=4,s&&(t.duration=i.getUint32(h),h+=4),a&&(t.size=i.getUint32(h),h+=4),c&&(1===n.version?t.compositionTimeOffset=i.getInt32(h):t.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(t),u--);u--;)t={},s&&(t.duration=i.getUint32(h),h+=4),a&&(t.size=i.getUint32(h),h+=4),l&&(t.flags=en(e.subarray(h,h+4)),h+=4),c&&(1===n.version?t.compositionTimeOffset=i.getInt32(h):t.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(t);return n},nn=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],o=2&i.flags[2],s=8&i.flags[2],a=16&i.flags[2],l=32&i.flags[2],c=65536&i.flags[0],u=131072&i.flags[0];return t=8,r&&(t+=4,i.baseDataOffset=n.getUint32(12),t+=4),o&&(i.sampleDescriptionIndex=n.getUint32(t),t+=4),s&&(i.defaultSampleDuration=n.getUint32(t),t+=4),a&&(i.defaultSampleSize=n.getUint32(t),t+=4),l&&(i.defaultSampleFlags=n.getUint32(t)),c&&(i.durationIsEmpty=!0),!r&&u&&(i.baseDataOffsetIsMoof=!0),i},rn=(qt="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},pe.discardEmulationPreventionBytes),on=Ce.CaptionStream,sn=Xt,an=Zt,ln=tn,cn=nn,un=qt,hn=function(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(n<r.size)return r;n-=r.size}return null},dn=function(){var e,t,n,i,r,o,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new on,s=!0,o=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/i,e.endTime=e.endPts/i,r.captions.push(e),r.captionStreams[e.stream]=!0})),e.on("log",(function(e){r.logs.push(e)}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||n===e[0]&&i===t[n])},this.parse=function(e,o,s){var a;if(!this.isInitialized())return null;if(!o||!s)return null;if(this.isNewInit(o,s))n=o[0],i=s[n];else if(null===n||!i)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,o,s)}return a=function(e,t,n){if(null===t)return null;var i=function(e,t){var n=sn(e,["moof","traf"]),i=sn(e,["mdat"]),r={},o=[];return i.forEach((function(e,t){var i=n[t];o.push({mdat:e,traf:i})})),o.forEach((function(e){var n,i,o=e.mdat,s=e.traf,a=sn(s,["tfhd"]),l=cn(a[0]),c=l.trackId,u=sn(s,["tfdt"]),h=u.length>0?an(u[0]).baseMediaDecodeTime:0,d=sn(s,["trun"]);t===c&&d.length>0&&(n=function(e,t,n){var i=t,r=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,s=n.trackId,a=[];return e.forEach((function(e){var t=ln(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=o),e.trackId=s,e.dts=i,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof i?(e.pts=i+un.BigInt(e.compositionTimeOffset),i+=un.BigInt(e.duration)):(e.pts=i+e.compositionTimeOffset,i+=e.duration)})),a=a.concat(t)})),a}(d,h,l),i=function(e,t,n){var i,r,o,s,a=new DataView(e.buffer,e.byteOffset,e.byteLength),l={logs:[],seiNals:[]};for(r=0;r+4<e.length;r+=o)if(o=a.getUint32(r),r+=4,!(o<=0))switch(31&e[r]){case 6:var c=e.subarray(r+1,r+1+o),u=hn(r,t);if(i={nalUnitType:"sei_rbsp",size:o,data:c,escapedRBSP:rn(c),trackId:n},u)i.pts=u.pts,i.dts=u.dts,s=u;else{if(!s){l.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+r+" for trackId "+n+". See mux.js#223."});break}i.pts=s.pts,i.dts=s.dts}l.seiNals.push(i)}return l}(o,n,c),r[c]||(r[c]={seiNals:[],logs:[]}),r[c].seiNals=r[c].seiNals.concat(i.seiNals),r[c].logs=r[c].logs.concat(i.logs))})),r}(e,t)[t]||{};return{seiNals:i.seiNals,logs:i.logs,timescale:n}}(e,n,i),a&&a.logs&&(r.logs=r.logs.concat(a.logs)),null!==a&&a.seiNals?(this.pushNals(a.seiNals),this.flushStream(),r):r.logs.length?{logs:r.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={},r.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},pn=function(e){for(var t=0,n=String.fromCharCode(e[t]),i="";"\0"!==n;)i+=n,t++,n=String.fromCharCode(e[t]);return i+n},fn=z.getUint64,mn=function(e){return void 0!==e||null!==e},gn={parseEmsgBox:function(e){var t,n,i,r,o,s,a,l=4,c=e[0];if(0===c)l+=(t=pn(e.subarray(l))).length,l+=(n=pn(e.subarray(l))).length,i=(u=new DataView(e.buffer)).getUint32(l),l+=4,o=u.getUint32(l),l+=4,s=u.getUint32(l),l+=4,a=u.getUint32(l),l+=4;else if(1===c){var u;i=(u=new DataView(e.buffer)).getUint32(l),l+=4,r=fn(e.subarray(l)),l+=8,s=u.getUint32(l),l+=4,a=u.getUint32(l),l+=4,l+=(t=pn(e.subarray(l))).length,l+=(n=pn(e.subarray(l))).length}var h={scheme_id_uri:t,value:n,timescale:i||1,presentation_time:r,presentation_time_delta:o,event_duration:s,id:a,message_data:new Uint8Array(e.subarray(l,e.byteLength))};return function(e,t){var n="\0"!==t.scheme_id_uri,i=0===e&&mn(t.presentation_time_delta)&&n,r=1===e&&mn(t.presentation_time)&&n;return!(e>1)&&i||r}(c,h)?h:void 0},scaleTime:function(e,t,n,i){return e||0===e?e/t:i+n/t}},yn=Wt,vn=function(e){return("00"+e.toString(16)).slice(-2)},bn=Xt,_n=Gt,wn=gn,kn=z.getUint64,Sn=qt,En=qe.parseId3Frames;Vt=function(e,t){var n=bn(t,["moof","traf"]).reduce((function(t,n){var i,r=bn(n,["tfhd"])[0],o=yn(r[4]<<24|r[5]<<16|r[6]<<8|r[7]),s=e[o]||9e4,a=bn(n,["tfdt"])[0],l=new DataView(a.buffer,a.byteOffset,a.byteLength);let c;return"bigint"==typeof(i=1===a[0]?kn(a.subarray(4,12)):l.getUint32(4))?c=i/Sn.BigInt(s):"number"!=typeof i||isNaN(i)||(c=i/s),c<Number.MAX_SAFE_INTEGER&&(c=Number(c)),c<t&&(t=c),t}),1/0);return"bigint"==typeof n||isFinite(n)?n:0},$t=function(e){var t=0===e[0]?12:20;return yn(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},Ht=function(e){var t=bn(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,i,r={},o=bn(e,["tkhd"])[0];o&&(i=(t=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),r.id=0===i?t.getUint32(12):t.getUint32(20));var s=bn(e,["mdia","hdlr"])[0];if(s){var a=_n(s.subarray(8,12));r.type="vide"===a?"video":"soun"===a?"audio":a}var l=bn(e,["mdia","minf","stbl","stsd"])[0];if(l){var c=l.subarray(8);r.codec=_n(c.subarray(4,8));var u,h=bn(c,[r.codec])[0];h&&(/^[asm]vc[1-9]$/i.test(r.codec)?(u=h.subarray(78),"avcC"===_n(u.subarray(4,8))&&u.length>11?(r.codec+=".",r.codec+=vn(u[9]),r.codec+=vn(u[10]),r.codec+=vn(u[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)?(u=h.subarray(28),"esds"===_n(u.subarray(4,8))&&u.length>20&&0!==u[19]?(r.codec+="."+vn(u[19]),r.codec+="."+vn(u[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"):r.codec=r.codec.toLowerCase())}var d=bn(e,["mdia","mdhd"])[0];d&&(r.timescale=$t(d)),n.push(r)})),n};var Tn=Vt,xn=Ht,Cn=function(e,t=0){return bn(e,["emsg"]).map((e=>{var n=wn.parseEmsgBox(new Uint8Array(e)),i=En(n.message_data);return{cueTime:wn.scaleTime(n.presentation_time,n.timescale,n.presentation_time_delta,t),duration:wn.scaleTime(n.event_duration,n.timescale),frames:i}}))},Pn=Pe,An=function(e){var t=31&e[1];return(t<<=8)|e[2]},On=function(e){return!!(64&e[1])},In=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},Ln=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Dn={parseType:function(e,t){var n=An(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=On(e),n=4+In(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=On(e),i=4+In(e);if(n&&(i+=e[i]+1),1&e[i+5]){var r;r=3+((15&e[i+1])<<8|e[i+2])-4;for(var o=12+((15&e[i+10])<<8|e[i+11]);o<r;){var s=i+o;t[(31&e[s+1])<<8|e[s+2]]=e[s],o+=5+((15&e[s+3])<<8|e[s+4])}return t}},parsePayloadUnitStartIndicator:On,parsePesType:function(e,t){switch(t[An(e)]){case Pn.H264_STREAM_TYPE:return"video";case Pn.ADTS_STREAM_TYPE:return"audio";case Pn.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!On(e))return null;var t=4+In(e);if(t>=e.byteLength)return null;var n,i=null;return 192&(n=e[t+7])&&((i={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,i.pts*=4,i.pts+=(6&e[t+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,i.dts*=4,i.dts+=(6&e[t+18])>>>1)),i},videoPacketContainsKeyFrame:function(e){for(var t=4+In(e),n=e.subarray(t),i=0,r=0,o=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===Ln(31&n[r+3])&&(o=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Ln(31&n[r+3])&&(o=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===Ln(31&n[r+3])&&(o=!0),o}},Rn=Pe,Mn=Re.handleRollover,Nn={};Nn.ts=Dn,Nn.aac=yt;var jn=le.ONE_SECOND_IN_TS,Fn=188,Bn=71,Un=function(e,t,n){for(var i,r,o,s,a=0,l=Fn,c=!1;l<=e.byteLength;)if(e[a]!==Bn||e[l]!==Bn&&l!==e.byteLength)a++,l++;else{if(i=e.subarray(a,l),"pes"===Nn.ts.parseType(i,t.pid)&&(r=Nn.ts.parsePesType(i,t.table),o=Nn.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(s=Nn.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),c=!0)),c)break;a+=Fn,l+=Fn}for(a=(l=e.byteLength)-Fn,c=!1;a>=0;)if(e[a]!==Bn||e[l]!==Bn&&l!==e.byteLength)a--,l--;else{if(i=e.subarray(a,l),"pes"===Nn.ts.parseType(i,t.pid)&&(r=Nn.ts.parsePesType(i,t.table),o=Nn.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(s=Nn.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),c=!0)),c)break;a-=Fn,l-=Fn}},qn=function(e,t,n){for(var i,r,o,s,a,l,c,u=0,h=Fn,d=!1,p={data:[],size:0};h<e.byteLength;)if(e[u]!==Bn||e[h]!==Bn)u++,h++;else{if(i=e.subarray(u,h),"pes"===Nn.ts.parseType(i,t.pid)&&(r=Nn.ts.parsePesType(i,t.table),o=Nn.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(o&&!d&&(s=Nn.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),d=!0),!n.firstKeyFrame))){if(o&&0!==p.size){for(a=new Uint8Array(p.size),l=0;p.data.length;)c=p.data.shift(),a.set(c,l),l+=c.byteLength;if(Nn.ts.videoPacketContainsKeyFrame(a)){var f=Nn.ts.parsePesTime(a);f?(n.firstKeyFrame=f,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}p.size=0}p.data.push(i),p.size+=i.byteLength}if(d&&n.firstKeyFrame)break;u+=Fn,h+=Fn}for(u=(h=e.byteLength)-Fn,d=!1;u>=0;)if(e[u]!==Bn||e[h]!==Bn)u--,h--;else{if(i=e.subarray(u,h),"pes"===Nn.ts.parseType(i,t.pid)&&(r=Nn.ts.parsePesType(i,t.table),o=Nn.ts.parsePayloadUnitStartIndicator(i),"video"===r&&o&&(s=Nn.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),d=!0)),d)break;u-=Fn,h-=Fn}},Vn=function(e,t){var n;return n=Nn.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,i=0,r=null,o=null,s=0,a=0;e.length-a>=3;){switch(Nn.aac.parseType(e,a)){case"timed-metadata":if(e.length-a<10){n=!0;break}if((s=Nn.aac.parseId3TagSize(e,a))>e.length){n=!0;break}null===o&&(t=e.subarray(a,a+s),o=Nn.aac.parseAacTimestamp(t)),a+=s;break;case"audio":if(e.length-a<7){n=!0;break}if((s=Nn.aac.parseAdtsSize(e,a))>e.length){n=!0;break}null===r&&(t=e.subarray(a,a+s),r=Nn.aac.parseSampleRate(t)),i++,a+=s;break;default:a++}if(n)return null}if(null===r||null===o)return null;var l=jn/r;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*i*l,pts:o+1024*i*l}]}}(e):function(e){var t={pid:null,table:null},n={};for(var i in function(e,t){for(var n,i=0,r=Fn;r<e.byteLength;)if(e[i]!==Bn||e[r]!==Bn)i++,r++;else{switch(n=e.subarray(i,r),Nn.ts.parseType(n,t.pid)){case"pat":t.pid=Nn.ts.parsePat(n);break;case"pmt":var o=Nn.ts.parsePmt(n);t.table=t.table||{},Object.keys(o).forEach((function(e){t.table[e]=o[e]}))}i+=Fn,r+=Fn}}(e,t),t.table)if(t.table.hasOwnProperty(i))switch(t.table[i]){case Rn.H264_STREAM_TYPE:n.video=[],qn(e,t,n),0===n.video.length&&delete n.video;break;case Rn.ADTS_STREAM_TYPE:n.audio=[],Un(e,t,n),0===n.audio.length&&delete n.audio}return n}(e),n&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;(void 0===n||isNaN(n))&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=Mn(e.dts,n),e.pts=Mn(e.pts,n),e.dtsTime=e.dts/jn,e.ptsTime=e.pts/jn}))}if(e.video&&e.video.length){var i=t;if((void 0===i||isNaN(i))&&(i=e.video[0].dts),e.video.forEach((function(e){e.dts=Mn(e.dts,i),e.pts=Mn(e.pts,i),e.dtsTime=e.dts/jn,e.ptsTime=e.pts/jn})),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=Mn(r.dts,i),r.pts=Mn(r.pts,i),r.dtsTime=r.dts/jn,r.ptsTime=r.pts/jn}}}(n,t),n):null};class Hn{constructor(e,t){this.options=t||{},this.self=e,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new zt.Transmuxer(this.options),function(e,t){t.on("data",(function(t){const n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};const i=t.data;t.data=i.buffer,e.postMessage({action:"data",segment:t,byteOffset:i.byteOffset,byteLength:i.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){const n={start:{decode:le.videoTsToSeconds(t.start.dts),presentation:le.videoTsToSeconds(t.start.pts)},end:{decode:le.videoTsToSeconds(t.end.dts),presentation:le.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:le.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=le.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),t.on("audioSegmentTimingInfo",(function(t){const n={start:{decode:le.videoTsToSeconds(t.start.dts),presentation:le.videoTsToSeconds(t.start.pts)},end:{decode:le.videoTsToSeconds(t.end.dts),presentation:le.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:le.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=le.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:n})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:le.videoTsToSeconds(t.start),end:le.videoTsToSeconds(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:le.videoTsToSeconds(t.start),end:le.videoTsToSeconds(t.end)}})})),t.on("log",(function(t){e.postMessage({action:"log",log:t})}))}(this.self,this.transmuxer)}pushMp4Captions(e){this.captionParser||(this.captionParser=new dn,this.captionParser.init());const t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],logs:n&&n.logs||[],data:t.buffer},[t.buffer])}probeMp4StartTime({timescales:e,data:t}){const n=Tn(e,t);this.self.postMessage({action:"probeMp4StartTime",startTime:n,data:t},[t.buffer])}probeMp4Tracks({data:e}){const t=xn(e);this.self.postMessage({action:"probeMp4Tracks",tracks:t,data:e},[e.buffer])}probeEmsgID3({data:e,offset:t}){const n=Cn(e,t);this.self.postMessage({action:"probeEmsgID3",id3Frames:n,emsgData:e},[e.buffer])}probeTs({data:e,baseStartTime:t}){const n="number"!=typeof t||isNaN(t)?void 0:t*le.ONE_SECOND_IN_TS,i=Vn(e,n);let r=null;i&&(r={hasVideo:i.video&&2===i.video.length||!1,hasAudio:i.audio&&2===i.audio.length||!1},r.hasVideo&&(r.videoStart=i.video[0].ptsTime),r.hasAudio&&(r.audioStart=i.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:r,data:e},[e.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(e){const t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}reset(){this.transmuxer.reset()}setTimestampOffset(e){const t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(le.secondsToVideoTs(t)))}setAudioAppendStart(e){this.transmuxer.setAudioAppendStart(Math.ceil(le.secondsToVideoTs(e.appendStart)))}setRemux(e){this.transmuxer.setRemux(e.remux)}flush(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new Hn(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new Hn(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}})));var Za=Ya(Qa);const el=e=>{const{transmuxer:t,bytes:n,audioAppendStart:i,gopsToAlignWith:r,remux:o,onData:s,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:c,onVideoSegmentTimingInfo:u,onAudioSegmentTimingInfo:h,onId3:d,onCaptions:p,onDone:f,onEndedTimeline:m,onTransmuxerLog:g,isEndOfTimeline:y,segment:v,triggerSegmentEventFn:b}=e,_={buffer:[]};let w=y;if(t.onmessage=n=>{t.currentTransmux===e&&("data"===n.data.action&&((e,t,n)=>{const{type:i,initSegment:r,captions:o,captionStreams:s,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:c}=e.data.segment;t.buffer.push({captions:o,captionStreams:s,metadata:a});const u=e.data.segment.boxes||{data:e.data.segment.data},h={type:i,data:new Uint8Array(u.data,u.data.byteOffset,u.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)};void 0!==l&&(h.videoFrameDtsTime=l),void 0!==c&&(h.videoFramePtsTime=c),n(h)})(n,_,s),"trackinfo"===n.data.action&&a(n.data.trackInfo),"gopInfo"===n.data.action&&((e,t)=>{t.gopInfo=e.data.gopInfo})(n,_),"audioTimingInfo"===n.data.action&&l(n.data.audioTimingInfo),"videoTimingInfo"===n.data.action&&c(n.data.videoTimingInfo),"videoSegmentTimingInfo"===n.data.action&&u(n.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===n.data.action&&h(n.data.audioSegmentTimingInfo),"id3Frame"===n.data.action&&d([n.data.id3Frame],n.data.id3Frame.dispatchType),"caption"===n.data.action&&p(n.data.caption),"endedtimeline"===n.data.action&&(w=!1,m()),"log"===n.data.action&&g(n.data.log),"transmuxed"===n.data.type&&(w||(t.onmessage=null,(({transmuxedData:e,callback:t})=>{e.buffer=[],t(e)})({transmuxedData:_,callback:f}),tl(t))))},t.onerror=()=>{const e={message:"Received an error message from the transmuxer worker",metadata:{errorType:Ps.Error.StreamingFailedToTransmuxSegment,segmentInfo:Fl({segment:v})}};f(null,e)},i&&t.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==o&&t.postMessage({action:"setRemux",remux:o}),n.byteLength){const e=n instanceof ArrayBuffer?n:n.buffer,i=n instanceof ArrayBuffer?0:n.byteOffset;b({type:"segmenttransmuxingstart",segment:v}),t.postMessage({action:"push",data:e,byteOffset:i,byteLength:n.byteLength},[e])}y&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},tl=e=>{e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():el(e.currentTransmux))},nl=(e,t)=>{e.postMessage({action:t}),tl(e)};var il=e=>{((e,t)=>{if(!t.currentTransmux)return t.currentTransmux=e,void nl(t,e);t.transmuxQueue.push(nl.bind(null,t,e))})("reset",e)};const rl=function(e){const t=e.transmuxer,n=e.endAction||e.action,i=e.callback,r=p({},e,{endAction:null,transmuxer:null,callback:null}),o=r=>{r.data.action===n&&(t.removeEventListener("message",o),r.data.data&&(r.data.data=new Uint8Array(r.data.data,e.byteOffset||0,e.byteLength||r.data.data.byteLength),e.data&&(e.data=r.data.data)),i(r.data))};if(t.addEventListener("message",o),e.data){const n=e.data instanceof ArrayBuffer;r.byteOffset=n?0:e.data.byteOffset,r.byteLength=e.data.byteLength;const i=[n?e.data:e.data.buffer];t.postMessage(r,i)}else t.postMessage(r)},ol=-101,sl=-102,al=e=>{e.forEach((e=>{e.abort()}))},ll=(e,t)=>{const{requestType:n}=t,i=va({requestType:n,request:t,error:e});return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:ol,xhr:t,metadata:i}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:sl,xhr:t,metadata:i}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:2,xhr:t,metadata:i}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:2,xhr:t,metadata:i}:null},cl=(e,t,n,i)=>(r,o)=>{const s=o.response,a=ll(r,o);if(a)return n(a,e);if(16!==s.byteLength)return n({status:o.status,message:"Invalid HLS key at URL: "+o.uri,code:2,xhr:o},e);const l=new DataView(s),c=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let e=0;e<t.length;e++)t[e].bytes=c;const u={uri:o.uri};return i({type:"segmentkeyloadcomplete",segment:e,keyInfo:u}),n(null,e)},ul=(e,t)=>{const n=dt(e.map.bytes);if("mp4"!==n){const i=e.map.resolvedUri||e.map.uri,r=n||"unknown";return t({internal:!0,message:`Found unsupported ${r} container for initialization segment at URL: ${i}`,code:2,metadata:{mediaType:r}})}rl({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:({tracks:n,data:i})=>(e.map.bytes=i,n.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),t(null))})},hl=({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:h,onTransmuxerLog:d,triggerSegmentEventFn:p})=>{const f=e.map&&e.map.tracks||{},m=Boolean(f.audio&&f.video);let g=i.bind(null,e,"audio","start");const y=i.bind(null,e,"audio","end");let v=i.bind(null,e,"video","start");const b=i.bind(null,e,"video","end");rl({action:"probeTs",transmuxer:e.transmuxer,data:t,baseStartTime:e.baseStartTime,callback:i=>{e.bytes=t=i.data;const f=i.result;f&&(n(e,{hasAudio:f.hasAudio,hasVideo:f.hasVideo,isMuxed:m}),n=null),(e=>{if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void el(e);e.transmuxer.transmuxQueue.push(e)})({bytes:t,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,remux:m,onData:t=>{t.type="combined"===t.type?"video":t.type,u(e,t)},onTrackInfo:t=>{n&&(m&&(t.isMuxed=!0),n(e,t))},onAudioTimingInfo:e=>{g&&void 0!==e.start&&(g(e.start),g=null),y&&void 0!==e.end&&y(e.end)},onVideoTimingInfo:e=>{v&&void 0!==e.start&&(v(e.start),v=null),b&&void 0!==e.end&&b(e.end)},onVideoSegmentTimingInfo:t=>{const n={pts:{start:t.start.presentation,end:t.end.presentation},dts:{start:t.start.decode,end:t.end.decode}};p({type:"segmenttransmuxingtiminginfoavailable",segment:e,timingInfo:n}),r(t)},onAudioSegmentTimingInfo:t=>{const n={pts:{start:t.start.pts,end:t.end.pts},dts:{start:t.start.dts,end:t.end.dts}};p({type:"segmenttransmuxingtiminginfoavailable",segment:e,timingInfo:n}),o(t)},onId3:(t,n)=>{s(e,t,n)},onCaptions:t=>{a(e,[t])},isEndOfTimeline:l,onEndedTimeline:()=>{c()},onTransmuxerLog:d,onDone:(t,n)=>{h&&(t.type="combined"===t.type?"video":t.type,p({type:"segmenttransmuxingcomplete",segment:e}),h(n,e,t))},segment:e,triggerSegmentEventFn:p})}})},dl=({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:h,onTransmuxerLog:d,triggerSegmentEventFn:p})=>{let f=new Uint8Array(t);if(function(e){return Xe(e,["moof"]).length>0}(f)){e.isFmp4=!0;const{tracks:r}=e.map,o={isFmp4:!0,hasVideo:!!r.video,hasAudio:!!r.audio};r.audio&&r.audio.codec&&"enca"!==r.audio.codec&&(o.audioCodec=r.audio.codec),r.video&&r.video.codec&&"encv"!==r.video.codec&&(o.videoCodec=r.video.codec),r.video&&r.audio&&(o.isMuxed=!0),n(e,o);const l=(t,n)=>{u(e,{data:f,type:o.hasAudio&&!o.isMuxed?"audio":"video"}),n&&n.length&&s(e,n),t&&t.length&&a(e,t),h(null,e,{})};rl({action:"probeMp4StartTime",timescales:e.map.timescales,data:f,transmuxer:e.transmuxer,callback:({data:n,startTime:s})=>{t=n.buffer,e.bytes=f=n,o.hasAudio&&!o.isMuxed&&i(e,"audio","start",s),o.hasVideo&&i(e,"video","start",s),rl({action:"probeEmsgID3",data:f,transmuxer:e.transmuxer,offset:s,callback:({emsgData:n,id3Frames:i})=>{t=n.buffer,e.bytes=f=n,r.video&&n.byteLength&&e.transmuxer?rl({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:e.transmuxer,data:f,timescales:e.map.timescales,trackIds:[r.video.id],callback:n=>{t=n.data.buffer,e.bytes=f=n.data,n.logs.forEach((function(e){d(Ns(e,{stream:"mp4CaptionParser"}))})),l(n.captions,i)}}):l(void 0,i)}})}})}else if(e.transmuxer){if(void 0===e.container&&(e.container=dt(f)),"ts"!==e.container&&"aac"!==e.container)return n(e,{hasAudio:!1,hasVideo:!1}),void h(null,e,{});hl({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:h,onTransmuxerLog:d,triggerSegmentEventFn:p})}else h(null,e,{})},pl=function({id:e,key:t,encryptedBytes:n,decryptionWorker:i,segment:r,doneFn:o},s){const a=t=>{if(t.data.source===e){i.removeEventListener("message",a);const e=t.data.decrypted;s(new Uint8Array(e.bytes,e.byteOffset,e.byteLength))}};let l;i.onerror=()=>{const e="An error occurred in the decryption worker",t=Fl({segment:r}),n={message:e,metadata:{error:new Error(e),errorType:Ps.Error.StreamingFailedToDecryptSegment,segmentInfo:t,keyInfo:{uri:r.key.resolvedUri||r.map.key.resolvedUri}}};o(n,r)},i.addEventListener("message",a),l=t.bytes.slice?t.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.bytes)),i.postMessage(Ra({source:e,encrypted:n,key:l,iv:t.iv}),[n.buffer,l.buffer])},fl=({xhr:e,xhrOptions:t,decryptionWorker:n,segment:i,abortFn:r,progressFn:o,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:h,isEndOfTimeline:d,endedTimelineFn:p,dataFn:f,doneFn:m,onTransmuxerLog:g,triggerSegmentEventFn:y})=>{const v=[],b=(({activeXhrs:e,decryptionWorker:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:h,onTransmuxerLog:d,triggerSegmentEventFn:p})=>{let f=0,m=!1;return(g,y)=>{if(!m){if(g)return m=!0,al(e),h(g,y);if(f+=1,f===e.length){const f=function(){if(y.encryptedBytes)return(({decryptionWorker:e,segment:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:h,onTransmuxerLog:d,triggerSegmentEventFn:p})=>{p({type:"segmentdecryptionstart"}),pl({id:t.requestId,key:t.key,encryptedBytes:t.encryptedBytes,decryptionWorker:e,segment:t,doneFn:h},(e=>{t.bytes=e,p({type:"segmentdecryptioncomplete",segment:t}),dl({segment:t,bytes:t.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:h,onTransmuxerLog:d,triggerSegmentEventFn:p})}))})({decryptionWorker:t,segment:y,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:h,onTransmuxerLog:d,triggerSegmentEventFn:p});dl({segment:y,bytes:y.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:h,onTransmuxerLog:d,triggerSegmentEventFn:p})};if(y.endOfAllRequests=Date.now(),y.map&&y.map.encryptedBytes&&!y.map.bytes)return p({type:"segmentdecryptionstart",segment:y}),pl({decryptionWorker:t,id:y.requestId+"-init",encryptedBytes:y.map.encryptedBytes,key:y.map.key,segment:y,doneFn:h},(t=>{y.map.bytes=t,p({type:"segmentdecryptioncomplete",segment:y}),ul(y,(t=>{if(t)return al(e),h(t,y);f()}))}));f()}}}})({activeXhrs:v,decryptionWorker:n,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:h,isEndOfTimeline:d,endedTimelineFn:p,dataFn:f,doneFn:m,onTransmuxerLog:g,triggerSegmentEventFn:y});if(i.key&&!i.key.bytes){const n=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&n.push(i.map.key);const r=Ns(t,{uri:i.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),o=cl(i,n,b,y);y({type:"segmentkeyloadstart",segment:i,keyInfo:{uri:i.key.resolvedUri}});const s=e(r,o);v.push(s)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){const n=Ns(t,{uri:i.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),r=cl(i,[i.map.key],b,y);y({type:"segmentkeyloadstart",segment:i,keyInfo:{uri:i.map.key.resolvedUri}});const o=e(n,r);v.push(o)}const n=Ns(t,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:Oa(i.map),requestType:"segment-media-initialization"}),r=(({segment:e,finishProcessingFn:t,triggerSegmentEventFn:n})=>(i,r)=>{const o=ll(i,r);if(o)return t(o,e);const s=new Uint8Array(r.response);if(n({type:"segmentloaded",segment:e}),e.map.key)return e.map.encryptedBytes=s,t(null,e);e.map.bytes=s,ul(e,(function(n){if(n)return n.xhr=r,n.status=r.status,t(n,e);t(null,e)}))})({segment:i,finishProcessingFn:b,triggerSegmentEventFn:y});y({type:"segmentloadstart",segment:i});const o=e(n,r);v.push(o)}const _=Ns(t,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:Oa(i),requestType:"segment"}),w=(({segment:e,finishProcessingFn:t,responseType:n,triggerSegmentEventFn:i})=>(r,o)=>{const s=ll(r,o);if(s)return t(s,e);i({type:"segmentloaded",segment:e});const a="arraybuffer"!==n&&o.responseText?(e=>{const t=new Uint8Array(new ArrayBuffer(e.length));for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer})(o.responseText.substring(e.lastReachedChar||0)):o.response;return e.stats=(e=>({bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}))(o),e.key?e.encryptedBytes=new Uint8Array(a):e.bytes=new Uint8Array(a),t(null,e)})({segment:i,finishProcessingFn:b,responseType:_.responseType,triggerSegmentEventFn:y});y({type:"segmentloadstart",segment:i});const k=e(_,w);k.addEventListener("progress",(({segment:e,progressFn:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u})=>n=>{if(!n.target.aborted)return e.stats=Ns(e.stats,(e=>{const t=e.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n})(n)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(n,e)})({segment:i,progressFn:o,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:h,isEndOfTimeline:d,endedTimelineFn:p,dataFn:f})),v.push(k);const S={};return v.forEach((e=>{e.addEventListener("loadend",(({loadendState:e,abortFn:t})=>n=>{n.target.aborted&&t&&!e.calledAbortFn&&(t(),e.calledAbortFn=!0)})({loadendState:S,abortFn:r}))})),()=>al(v)},ml=Ms("CodecUtils"),gl=(e,t)=>{const n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},yl=function(e){const t={};return e.forEach((({mediaType:e,type:n,details:i})=>{t[e]=t[e]||[],t[e].push(D(`${n}${i}`))})),Object.keys(t).forEach((function(e){if(t[e].length>1)return ml(`multiple ${e} codecs found as attributes: ${t[e].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),void(t[e]=null);t[e]=t[e][0]})),t},vl=function(e){let t=0;return e.audio&&t++,e.video&&t++,t},bl=function(e,t){const n=t.attributes||{},i=yl(function(e){const t=e.attributes||{};if(t.CODECS)return R(t.CODECS)}(t)||[]);if(gl(e,t)&&!i.audio&&!((e,t)=>{if(!gl(e,t))return!0;const n=t.attributes||{},i=e.mediaGroups.AUDIO[n.AUDIO];for(const e in i)if(!i[e].uri&&!i[e].playlists)return!0;return!1})(e,t)){const t=yl(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return R(r.playlists[0].attributes.CODECS)}return null}(e,n.AUDIO)||[]);t.audio&&(i.audio=t.audio)}return i},_l=Ms("PlaylistSelector"),wl=function(e){if(!e||!e.playlist)return;const t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})},kl=function(e,t){if(!e)return"";const n=r().getComputedStyle(e);return n?n[t]:""},Sl=function(e,t){const n=e.slice();e.sort((function(e,i){const r=t(e,i);return 0===r?n.indexOf(e)-n.indexOf(i):r}))},El=function(e,t){let n,i;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||r().Number.MAX_VALUE,t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||r().Number.MAX_VALUE,n-i};let Tl=function(e,t,n,i,o,s){if(!e)return;const a={bandwidth:t,width:n,height:i,limitRenditionByPlayerDimensions:o};let l=e.playlists;ua.isAudioOnly(e)&&(l=s.getAudioTrackPlaylists_(),a.audioOnly=!0);let c=l.map((e=>{let t;const n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return t=e.attributes&&e.attributes.BANDWIDTH,t=t||r().Number.MAX_VALUE,{bandwidth:t,width:n,height:i,playlist:e}}));Sl(c,((e,t)=>e.bandwidth-t.bandwidth)),c=c.filter((e=>!ua.isIncompatible(e.playlist)));let u=c.filter((e=>ua.isEnabled(e.playlist)));u.length||(u=c.filter((e=>!ua.isDisabled(e.playlist))));const h=u.filter((e=>e.bandwidth*Ga.BANDWIDTH_VARIANCE<t));let d=h[h.length-1];const p=h.filter((e=>e.bandwidth===d.bandwidth))[0];if(!1===o){const e=p||u[0]||c[0];if(e&&e.playlist){let t="sortedPlaylistReps";return p&&(t="bandwidthBestRep"),u[0]&&(t="enabledPlaylistReps"),_l(`choosing ${wl(e)} using ${t} with options`,a),e.playlist}return _l("could not choose a playlist with options",a),null}const f=h.filter((e=>e.width&&e.height));Sl(f,((e,t)=>e.width-t.width));const m=f.filter((e=>e.width===n&&e.height===i));d=m[m.length-1];const g=m.filter((e=>e.bandwidth===d.bandwidth))[0];let y,v,b,_;if(g||(y=f.filter((e=>e.width>n||e.height>i)),v=y.filter((e=>e.width===y[0].width&&e.height===y[0].height)),d=v[v.length-1],b=v.filter((e=>e.bandwidth===d.bandwidth))[0]),s.leastPixelDiffSelector){const e=f.map((e=>(e.pixelDiff=Math.abs(e.width-n)+Math.abs(e.height-i),e)));Sl(e,((e,t)=>e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff)),_=e[0]}const w=_||b||g||p||u[0]||c[0];if(w&&w.playlist){let e="sortedPlaylistReps";return _?e="leastPixelDiffRep":b?e="resolutionPlusOneRep":g?e="resolutionBestRep":p?e="bandwidthBestRep":u[0]&&(e="enabledPlaylistReps"),_l(`choosing ${wl(w)} using ${e} with options`,a),w.playlist}return _l("could not choose a playlist with options",a),null};const xl=function(){let e=this.useDevicePixelRatio&&r().devicePixelRatio||1;return isNaN(this.customPixelRatio)||(e=this.customPixelRatio),Tl(this.playlists.main,this.systemBandwidth,parseInt(kl(this.tech_.el(),"width"),10)*e,parseInt(kl(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.playlistController_)};function Cl(e){try{return new URL(e).pathname.split("/").slice(-2).join("/")}catch(e){return""}}const Pl={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},Al=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),Ol=(e,t,n)=>{e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,Ps.browser.IS_ANY_SAFARI||(e.metadataTrack_.inBandMetadataTrackDispatchType=t))},Il=function(e,t,n){let i,r;if(n&&n.cues)for(i=n.cues.length;i--;)r=n.cues[i],r.startTime>=e&&r.endTime<=t&&n.removeCue(r)},Ll=e=>"number"==typeof e&&isFinite(e),Dl=1/60,Rl=e=>{const{startOfSegment:t,duration:n,segment:i,part:r,playlist:{mediaSequence:o,id:s,segments:a=[]},mediaIndex:l,partIndex:c,timeline:u}=e,h=a.length-1;let d="mediaIndex/partIndex increment";e.getMediaInfoForTime?d=`getMediaInfoForTime (${e.getMediaInfoForTime})`:e.isSyncRequest&&(d="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(d+=` with independent ${e.independent}`);const p="number"==typeof c,f=e.segment.uri?"segment":"pre-segment",m=p?Xs({preloadSegment:i})-1:0;return`${f} [${o+l}/${o+h}]`+(p?` part [${c}/${m}]`:"")+` segment start/end [${i.start} => ${i.end}]`+(p?` part start/end [${r.start} => ${r.end}]`:"")+` startOfSegment [${t}]`+` duration [${n}]`+` timeline [${u}]`+` selected by [${d}]`+` playlist [${s}]`},Ml=e=>`${e}TimingInfo`,Nl=({timelineChangeController:e,currentTimeline:t,segmentTimeline:n,loaderType:i,audioDisabled:r})=>{if(t===n)return!1;if("audio"===i){const t=e.lastTimelineChange({type:"main"});return!t||t.to!==n}if("main"===i&&r){const t=e.pendingTimelineChange({type:"audio"});return!t||t.to!==n}return!1},jl=({segmentDuration:e,maxDuration:t})=>!!e&&Math.round(e)>t+Fs,Fl=({type:e,segment:t})=>{if(!t)return;const n=Boolean(t.key||t.map&&t.map.ke),i=Boolean(t.map&&!t.map.bytes),r=void 0===t.startOfSegment?t.start:t.startOfSegment;return{type:e||t.type,uri:t.resolvedUri||t.uri,start:r,duration:t.duration,isEncrypted:n,isMediaInitialization:i}};class Bl extends Ps.EventTarget{constructor(e,t={}){if(super(),!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",(()=>{this.isEndOfStream_()||(this.ended_=!1)})),this.fetchAtBuffer_=!1,this.logger_=Ms(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(e){e!==this.state_&&(this.logger_(`${this.state_} -> ${e}`),this.state_=e,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",(()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})),this.sourceUpdater_.on("codecschange",(e=>{this.trigger(p({type:"codecschange"},e))})),"main"===this.loaderType_&&this.timelineChangeController_.on("pendingtimelinechange",(()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})),"audio"===this.loaderType_&&this.timelineChangeController_.on("timelinechange",(e=>{this.trigger(p({type:"timelinechange"},e)),this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}))}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return(e=>{const t=new Za;t.currentTransmux=null,t.transmuxQueue=[];const n=t.terminate;return t.terminate=()=>(t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)),t.postMessage({action:"init",options:e}),t})({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&r().clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,r().clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)}error(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&il(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return js();if("main"===this.loaderType_){const{hasAudio:t,hasVideo:n,isMuxed:i}=e;if(n&&t&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,t=!1){if(!e)return null;const n=Ma(e);let i=this.initSegments_[n];return t&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,t=!1){if(!e)return null;const n=Na(e);let i=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const r={resolvedUri:(i||e).resolvedUri};return i&&(r.bytes=i.bytes),r}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,t={}){if(!e)return;const n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));let r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_(`playlist update [${r} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:\ncurrentTime: ${this.currentTime_()}\nbufferedEnd: ${zs(this.buffered_())}\n`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return null!==this.mediaIndex&&(e.endList||"number"!=typeof e.partTargetDuration?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");const o=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${o}]`),null!==this.mediaIndex)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const e=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!e.parts||!e.parts.length||!e.parts[this.partIndex])){const e=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=e}}i&&(i.mediaIndex-=o,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(r().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return null===this.checkBufferTimeout_}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&il(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;"hls"===this.sourceType_&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,t,n=()=>{},i=!1){if(t===1/0&&(t=this.duration_()),t<=e)return void this.logger_("skipping remove because end ${end} is <= start ${start}");if(!this.sourceUpdater_||!this.getMediaInfo_())return void this.logger_("skipping remove because no source updater or starting media info");let r=1;const o=()=>{r--,0===r&&n()};!i&&this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,o)),(i||"main"===this.loaderType_)&&(this.gopBuffer_=((e,t,n,i)=>{const r=Math.ceil((t-i)*pt.ONE_SECOND_IN_TS),o=Math.ceil((n-i)*pt.ONE_SECOND_IN_TS),s=e.slice();let a=e.length;for(;a--&&!(e[a].pts<=o););if(-1===a)return s;let l=a+1;for(;l--&&!(e[l].pts<=r););return l=Math.max(l,0),s.splice(l,a-l+1),s})(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,o));for(const n in this.inbandTextTracks_)Il(e,t,this.inbandTextTracks_[n]);Il(e,t,this.segmentMetadataTrack_),o()}monitorBuffer_(){this.checkBufferTimeout_&&r().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r().setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&r().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r().setTimeout(this.monitorBufferTick_.bind(this),500)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const t={segmentInfo:Fl({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:t}),"number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,t=this.playlist_,n=this.partIndex){if(!t||!this.mediaSource_)return!1;const i="number"==typeof e&&t.segments[e],r=e+1===t.segments.length,o=!i||!i.parts||n+1===i.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&r&&o}chooseNextRequest_(){const e=this.buffered_(),t=zs(e)||0,n=Ws(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,r=n>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||i||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const s={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(s.isSyncRequest)s.mediaIndex=function(e,t,n){t=t||[];const i=[];let r=0;for(let o=0;o<t.length;o++){const s=t[o];if(e===s.timeline&&(i.push(o),r+=s.duration,r>n))return o}return 0===i.length?0:i[i.length-1]}(this.currentTimeline_,o,t),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${s.mediaIndex}`);else if(null!==this.mediaIndex){const e=o[this.mediaIndex],n="number"==typeof this.partIndex?this.partIndex:-1;s.startOfSegment=e.end?e.end:t,e.parts&&e.parts[n+1]?(s.mediaIndex=this.mediaIndex,s.partIndex=n+1):s.mediaIndex=this.mediaIndex+1}else{let e,n,i;const r=this.fetchAtBuffer_?t:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:\nFor TargetTime: ${r}.\nCurrentTime: ${this.currentTime_()}\nBufferedEnd: ${t}\nFetch At Buffer: ${this.fetchAtBuffer_}\n`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const t=this.getSyncInfoFromMediaSequenceSync_(r);if(!t){const e="No sync info found while using media sequence sync";return this.error({message:e,metadata:{errorType:Ps.Error.StreamingFailedToSelectNextSegment,error:new Error(e)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${t.start} --\x3e ${t.end})`),e=t.segmentIndex,n=t.partIndex,i=t.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const t=ua.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:r,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});e=t.segmentIndex,n=t.partIndex,i=t.startTime}s.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${r}`:`currentTime ${r}`,s.mediaIndex=e,s.startOfSegment=i,s.partIndex=n,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${s.mediaIndex} `)}const a=o[s.mediaIndex];let l=a&&"number"==typeof s.partIndex&&a.parts&&a.parts[s.partIndex];if(!a||"number"==typeof s.partIndex&&!l)return null;"number"!=typeof s.partIndex&&a.parts&&(s.partIndex=0,l=a.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&l&&!c&&!l.independent)if(0===s.partIndex){const e=o[s.mediaIndex-1],t=e.parts&&e.parts.length&&e.parts[e.parts.length-1];t&&t.independent&&(s.mediaIndex-=1,s.partIndex=e.parts.length-1,s.independent="previous segment")}else a.parts[s.partIndex-1].independent&&(s.partIndex-=1,s.independent="previous part");const u=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return s.mediaIndex>=o.length-1&&u&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,s.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(s))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const t=Math.max(e,this.mediaSequenceSync_.start);e!==t&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${t}`);const n=this.mediaSequenceSync_.getSyncInfoForTime(t);if(!n)return null;if(!n.isAppended)return n;const i=this.mediaSequenceSync_.getSyncInfoForTime(n.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:t,playlist:n,mediaIndex:i,startOfSegment:r,isSyncRequest:o,partIndex:s,forceTimestampOffset:a,getMediaInfoForTime:l}=e,c=n.segments[i],u="number"==typeof s&&c.parts[s],h={requestId:"segment-loader-"+Math.random(),uri:u&&u.resolvedUri||c.resolvedUri,mediaIndex:i,partIndex:u?s:null,isSyncRequest:o,startOfSegment:r,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:u&&u.duration||c.duration,segment:c,part:u,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},d=void 0!==a?a:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:r,buffered:this.buffered_(),overrideCheck:d});const p=zs(this.sourceUpdater_.audioBuffered());return"number"==typeof p&&(h.audioAppendStart=p-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=((e,t,n)=>{if(null==t||!e.length)return[];const i=Math.ceil((t-n+3)*pt.ONE_SECOND_IN_TS);let r;for(r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)})(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return(({segmentTimeline:e,currentTimeline:t,startOfSegment:n,buffered:i,overrideCheck:r})=>r||e!==t?e<t?n:i.length?i.end(i.length-1):n:null)(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const t=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,r=ua.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),o=function(e,t,n=1){return((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(r<=o)return;const s=function(e){const{main:t,currentTime:n,bandwidth:i,duration:r,segmentDuration:o,timeUntilRebuffer:s,currentTimeline:a,syncController:l}=e,c=t.playlists.filter((e=>!ua.isIncompatible(e)));let u=c.filter(ua.isEnabled);u.length||(u=c.filter((e=>!ua.isDisabled(e))));const h=u.filter(ua.hasAttribute.bind(null,"BANDWIDTH")).map((e=>{const t=l.getSyncPoint(e,r,a,n)?1:2;return{playlist:e,rebufferingImpact:ua.estimateSegmentRequestTime(o,i,e)*t-s}})),d=h.filter((e=>e.rebufferingImpact<=0));return Sl(d,((e,t)=>El(t.playlist,e.playlist))),d.length?d[0]:(Sl(h,((e,t)=>e.rebufferingImpact-t.rebufferingImpact)),h[0]||null)}({main:this.vhs_.playlists.main,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!s)return;const a=r-o-s.rebufferingImpact;let l=.5;o<=Fs&&(l=1),!s.playlist||s.playlist.uri===this.playlist_.uri||a<l||(this.bandwidth=s.playlist.attributes.BANDWIDTH*Ga.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Rl(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")}handleTrackInfo_(e,t){const{hasAudio:n,hasVideo:i}=t,r={segmentInfo:Fl({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:n,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:r}),this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;const n=Object.keys(e).sort(),i=Object.keys(t).sort();if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(o!==i[r])return!1;if(e[o]!==t[o])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))}handleTimingInfo_(e,t,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const r=this.pendingSegment_,o=Ml(t);r[o]=r[o]||{},r[o][n]=i,this.logger_(`timinginfo: ${t} - ${n} - ${i}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(0===t.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));const n=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),i={};t.forEach((e=>{i[e.stream]=i[e.stream]||{startTime:1/0,captions:[],endTime:0};const t=i[e.stream];t.startTime=Math.min(t.startTime,e.startTime+n),t.endTime=Math.max(t.endTime,e.endTime+n),t.captions.push(e)})),Object.keys(i).forEach((e=>{const{startTime:t,endTime:o,captions:s}=i[e],a=this.inbandTextTracks_;this.logger_(`adding cues from ${t} -> ${o} for ${e}`),function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"});let i=n;/^cc708_/.test(n)&&(i="SERVICE"+n.split("_")[1]);const r=t.textTracks().getTrackById(i);if(r)e[n]=r;else{let r=n,o=n,s=!1;const a=(t.options_.vhs&&t.options_.vhs.captionServices||{})[i];a&&(r=a.label,o=a.language,s=a.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:i,default:s,label:r,language:o},!1).track}}}(a,this.vhs_.tech_,e),Il(t,o,a[e]),function({inbandTextTracks:e,captionArray:t,timestampOffset:n}){if(!t)return;const i=r().WebKitDataCue||r().VTTCue;t.forEach((t=>{const r=t.stream;t.content?t.content.forEach((o=>{const s=new i(t.startTime+n,t.endTime+n,o.text);s.line=o.line,s.align="left",s.position=o.position,s.positionAlign="line-left",e[r].addCue(s)})):e[r].addCue(new i(t.startTime+n,t.endTime+n,t.text))}))}({captionArray:s,inbandTextTracks:a,timestampOffset:n})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,t,n){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(this.pendingSegment_.hasAppendedData_?this.addMetadataToTextTrack(n,t,this.duration_()):this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n)))}processMetadataQueue_(){this.metadataQueue_.id3.forEach((e=>e())),this.metadataQueue_.caption.forEach((e=>e())),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach((e=>e()))}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach((e=>e()))}hasEnoughInfoToLoad_(){if("audio"!==this.loaderType_)return!0;const e=this.pendingSegment_;return!(!e||this.getCurrentMediaInfo_()&&Nl({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;const{hasAudio:n,hasVideo:i,isMuxed:r}=t;return!(i&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!r&&!e.audioTimingInfo||Nl({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return void this.callQueue_.push(this.handleData_.bind(this,e,t));const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[Ml(t.type)].start;else{const e=this.getCurrentMediaInfo_(),t="main"===this.loaderType_&&e&&e.hasVideo;let i;t&&(i=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:t,firstVideoFrameTimeForData:i,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});const e=this.chooseNextRequest_();if(e.mediaIndex!==n.mediaIndex||e.partIndex!==n.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}updateAppendInitSegmentStatus(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:t,map:n,playlist:i}){if(n){const e=Ma(n);if(this.activeInitSegmentId_===e)return null;t=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=e}return t&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,t):null}handleQuotaExceededError_({segmentInfo:e,type:t,bytes:n},i){const o=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+$s(o).join(", ")),s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+$s(s).join(", "));const a=o.length?o.start(0):0,l=o.length?o.end(o.length-1):0,c=s.length?s.start(0):0,u=s.length?s.end(s.length-1):0;if(l-a<=1&&u-c<=1)return this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${$s(o).join(", ")}, video buffer: ${$s(s).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:t,bytes:n}));const h=this.currentTime_()-1;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${h}`),this.remove(0,h,(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=r().setTimeout((()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()}),1e3)}),!0)}handleAppendError_({segmentInfo:e,type:t,bytes:n},i){i&&(22!==i.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${t} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:Ps.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:e,type:t,bytes:n}))}appendToSourceBuffer_({segmentInfo:e,type:t,initSegment:n,data:i,bytes:r}){if(!r){const e=[i];let t=i.byteLength;n&&(e.unshift(n),t+=n.byteLength),r=(e=>{let t,n=0;return e.bytes&&(t=new Uint8Array(e.bytes),e.segments.forEach((e=>{t.set(e,n),n+=e.byteLength}))),t})({bytes:t,segments:e})}const o={segmentInfo:Fl({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:o}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:t,bytes:r},this.handleAppendError_.bind(this,{segmentInfo:e,type:t,bytes:r}))}handleSegmentTimingInfo_(e,t,n){if(!this.pendingSegment_||t!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,r=`${e}TimingInfo`;i[r]||(i[r]={}),i[r].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[r].transmuxedPresentationStart=n.start.presentation,i[r].transmuxedDecodeStart=n.start.decode,i[r].transmuxedPresentationEnd=n.end.presentation,i[r].transmuxedDecodeEnd=n.end.decode,i[r].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,t){const{type:n,data:i}=t;if(!i||!i.byteLength)return;if("audio"===n&&this.audioDisabled_)return;const r=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:i})}loadSegment_(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push((()=>{const t=p({},e,{forceTimestampOffset:!0});p(e,this.generateSegmentInfo_(t)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)}))}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const t=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=null!==this.mediaIndex,r=e.timeline!==this.currentTimeline_&&e.timeline>0,o=n||i&&r;this.logger_(`Requesting\n${Cl(e.uri)}\n${Rl(e)}`),t.map&&!t.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=fl({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:t,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:t,level:n,stream:i})=>{this.logger_(`${Rl(e)} logged from transmuxer stream ${i} as a ${n}: ${t}`)},triggerSegmentEventFn:({type:e,segment:t,keyInfo:n,trackInfo:i,timingInfo:r})=>{const o={segmentInfo:Fl({segment:t})};n&&(o.keyInfo=n),i&&(o.trackInfo=i),r&&(o.timingInfo=r),this.trigger({type:e,metadata:o})}})}trimBackBuffer_(e){const t=((e,t,n)=>{let i=t-Ga.BACK_BUFFER_LENGTH;e.length&&(i=Math.max(i,e.start(0)));const r=t-n;return Math.min(r,i)})(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}createSimplifiedSegmentObj_(e){const t=e.segment,n=e.part,i=e.segment.key||e.segment.map&&e.segment.map.key,r=e.segment.map&&!e.segment.map.bytes,o={resolvedUri:n?n.resolvedUri:t.resolvedUri,byterange:n?n.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:i,isMediaInitialization:r},s=e.playlist.segments[e.mediaIndex-1];if(s&&s.timeline===t.timeline&&(s.videoTimingInfo?o.baseStartTime=s.videoTimingInfo.transmuxedDecodeEnd:s.audioTimingInfo&&(o.baseStartTime=s.audioTimingInfo.transmuxedDecodeEnd)),t.key){const n=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);o.key=this.segmentKey(t.key),o.key.iv=n}return t.map&&(o.map=this.initSegmentForMap(t.map)),o}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,t){if(this.pendingSegment_.byteLength=t.bytesReceived,e<Dl)return void this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record 0.016666666666666666`);const n={bandwidthInfo:{from:this.bandwidth,to:t.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:n}),this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,t,n){if(this.callQueue_.length)return void this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return;if(t.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===sl)return;return this.pause(),e.code===ol?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),i.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=((e,t,n)=>{if(!t.length)return e;if(n)return t.slice();const i=t[0].pts;let r=0;for(;r<e.length&&!(e[r].pts>=i);r++);return e.slice(0,r).concat(t)})(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)}updateMediaSecondsLoaded_(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())}trueSegmentStart_({currentStart:e,playlist:t,mediaIndex:n,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:r,useVideoTimingInfo:o,videoTimingInfo:s,audioTimingInfo:a}){if(void 0!==e)return e;if(!o)return a.start;const l=t.segments[n-1];return 0!==n&&l&&void 0!==l.start&&l.end===i+r?s.start:i}waitForAppendsToComplete_(e){const t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),void this.trigger("error");const{hasAudio:n,hasVideo:i,isMuxed:r}=t,o="main"===this.loaderType_&&i,s=!this.audioDisabled_&&n&&!r;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);o&&e.waitingOnAppends++,s&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),s&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const t=((e,t,n)=>"main"===e&&t&&n?n.hasAudio||n.hasVideo?t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null)(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,playlistExclusionDuration:1/0}),this.trigger("error"),!0)}updateSourceBufferTimestampOffset_(e){if(null===e.timestampOffset||"number"!=typeof e.timingInfo.start||e.changedTimestampOffset||"main"!==this.loaderType_)return;let t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:t,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&"number"==typeof e.transmuxedDecodeStart?e.transmuxedDecodeStart:t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const t=this.getMediaInfo_(),n="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end="number"==typeof n.end?n.end:n.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const e={segmentInfo:Fl({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:e})}if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});const t=((e,t)=>{if("hls"!==t)return null;const n=(e=>{let t=0;return["video","audio"].forEach((function(n){const i=e[`${n}TimingInfo`];if(!i)return;const{start:o,end:s}=i;let a;"bigint"==typeof o||"bigint"==typeof s?a=r().BigInt(s)-r().BigInt(o):"number"==typeof o&&"number"==typeof s&&(a=s-o),void 0!==a&&a>t&&(t=a)})),"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),t})({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!n)return null;const i=e.playlist.targetDuration,o=jl({segmentDuration:n,maxDuration:2*i}),s=jl({segmentDuration:n,maxDuration:i}),a=`Segment with index ${e.mediaIndex} from playlist ${e.playlist.id} has a duration of ${n} when the reported duration is ${e.duration} and the target duration is ${i}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return o||s?{severity:o?"warn":"info",message:a}:null})(e,this.sourceType_);if(t&&("warn"===t.severity?Ps.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_))return void this.logger_(`Throwing away un-appended sync request ${Rl(e)}`);this.logger_(`Appended ${Rl(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,i=e.part,o=n.end&&this.currentTime_()-n.end>3*e.playlist.targetDuration,s=i&&i.end&&this.currentTime_()-i.end>3*e.playlist.partTargetDuration;if(o||s)return this.logger_(`bad ${o?"segment":"part"} ${Rl(e)}`),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Dl)return void this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record 0.016666666666666666`);const t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-t)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const t=e.segment,n=t.start,i=t.end;if(!Ll(n)||!Ll(i))return;Il(n,i,this.segmentMetadataTrack_);const o=r().WebKitDataCue||r().VTTCue,s={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,programDateTime:t.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},a=new o(n,i,JSON.stringify(s));a.value=s,this.segmentMetadataTrack_.addCue(a)}}function Ul(){}const ql=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toUpperCase()))},Vl=["video","audio"],Hl=(e,t)=>{const n=t[`${e}Buffer`];return n&&n.updating||t.queuePending[e]},$l=(e,t)=>{if(0===t.queue.length)return;let n=0,i=t.queue[n];if("mediaSource"!==i.type){if("mediaSource"!==e&&t.ready()&&"closed"!==t.mediaSource.readyState&&!Hl(e,t)){if(i.type!==e){if(n=((e,t)=>{for(let n=0;n<t.length;n++){const i=t[n];if("mediaSource"===i.type)return null;if(i.type===e)return n}return null})(e,t.queue),null===n)return;i=t.queue[n]}return t.queue.splice(n,1),t.queuePending[e]=i,i.action(e,t),i.doneFn?void 0:(t.queuePending[e]=null,void $l(e,t))}}else t.updating()||"closed"===t.mediaSource.readyState||(t.queue.shift(),i.action(t),i.doneFn&&i.doneFn(),$l("audio",t),$l("video",t))},zl=(e,t)=>{const n=t[`${e}Buffer`],i=ql(e);n&&(n.removeEventListener("updateend",t[`on${i}UpdateEnd_`]),n.removeEventListener("error",t[`on${i}Error_`]),t.codecs[e]=null,t[`${e}Buffer`]=null)},Wl=(e,t)=>e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t),Gl=(e,t,n)=>(i,r)=>{const o=r[`${i}Buffer`];if(Wl(r.mediaSource,o)){r.logger_(`Appending segment ${t.mediaIndex}'s ${e.length} bytes to ${i}Buffer`);try{o.appendBuffer(e)}catch(e){r.logger_(`Error with code ${e.code} `+(22===e.code?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${t.mediaIndex} to ${i}Buffer`),r.queuePending[i]=null,n(e)}}},Kl=(e,t)=>(n,i)=>{const r=i[`${n}Buffer`];if(Wl(i.mediaSource,r)){i.logger_(`Removing ${e} to ${t} from ${n}Buffer`);try{r.remove(e,t)}catch(r){i.logger_(`Remove ${e} to ${t} from ${n}Buffer failed`)}}},Yl=e=>(t,n)=>{const i=n[`${t}Buffer`];Wl(n.mediaSource,i)&&(n.logger_(`Setting ${t}timestampOffset to ${e}`),i.timestampOffset=e)},Xl=e=>(t,n)=>{e()},Jl=e=>t=>{if("open"===t.mediaSource.readyState){t.logger_(`Calling mediaSource endOfStream(${e||""})`);try{t.mediaSource.endOfStream(e)}catch(e){Ps.log.warn("Failed to call media source endOfStream",e)}}},Ql=e=>t=>{t.logger_(`Setting mediaSource duration to ${e}`);try{t.mediaSource.duration=e}catch(e){Ps.log.warn("Failed to set media source duration",e)}},Zl=(e,t)=>n=>{const i=ql(e),r=N(t);n.logger_(`Adding ${e}Buffer with codec ${t} to mediaSource`);const o=n.mediaSource.addSourceBuffer(r);o.addEventListener("updateend",n[`on${i}UpdateEnd_`]),o.addEventListener("error",n[`on${i}Error_`]),n.codecs[e]=t,n[`${e}Buffer`]=o},ec=e=>t=>{const n=t[`${e}Buffer`];if(zl(e,t),Wl(t.mediaSource,n)){t.logger_(`Removing ${e}Buffer with codec ${t.codecs[e]} from mediaSource`);try{t.mediaSource.removeSourceBuffer(n)}catch(t){Ps.log.warn(`Failed to removeSourceBuffer ${e}Buffer`,t)}}},tc=e=>(t,n)=>{const i=n[`${t}Buffer`],r=N(e);if(!Wl(n.mediaSource,i))return;const o=e.substring(0,e.indexOf(".")),s=n.codecs[t];if(s.substring(0,s.indexOf("."))===o)return;const a={codecsChangeInfo:{from:s,to:e}};n.trigger({type:"codecschange",metadata:a}),n.logger_(`changing ${t}Buffer codec from ${s} to ${e}`);try{i.changeType(r),n.codecs[t]=e}catch(e){a.errorType=Ps.Error.StreamingCodecsChangeError,a.error=e,e.metadata=a,n.error_=e,n.trigger("error"),Ps.log.warn(`Failed to changeType on ${t}Buffer`,e)}},nc=({type:e,sourceUpdater:t,action:n,doneFn:i,name:r})=>{t.queue.push({type:e,action:n,doneFn:i,name:r}),$l(e,t)},ic=(e,t)=>n=>{const i=function(e){if(0===e.length)return"Buffered Ranges are empty";let t="Buffered Ranges: \n";for(let n=0;n<e.length;n++){const i=e.start(n),r=e.end(n);t+=`${i} --\x3e ${r}. Duration (${r-i})\n`}return t}(t[`${e}Buffered`]());if(t.logger_(`received "updateend" event for ${e} Source Buffer: `,i),t.queuePending[e]){const n=t.queuePending[e].doneFn;t.queuePending[e]=null,n&&n(t[`${e}Error_`])}$l(e,t)};class rc extends Ps.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>$l("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Ms("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=ic("video",this),this.onAudioUpdateEnd_=ic("audio",this),this.onVideoError_=e=>{this.videoError_=e},this.onAudioError_=e=>{this.audioError_=e},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,t){nc({type:"mediaSource",sourceUpdater:this,action:Zl(e,t),name:"addSourceBuffer"})}abort(e){nc({type:e,sourceUpdater:this,action:(e,t)=>{if("open"!==t.mediaSource.readyState)return;const n=t[`${e}Buffer`];if(Wl(t.mediaSource,n)){t.logger_(`calling abort on ${e}Buffer`);try{n.abort()}catch(t){Ps.log.warn(`Failed to abort on ${e}Buffer`,t)}}},name:"abort"})}removeSourceBuffer(e){this.canRemoveSourceBuffer()?nc({type:"mediaSource",sourceUpdater:this,action:ec(e),name:"removeSourceBuffer"}):Ps.log.error("removeSourceBuffer is not supported!")}canRemoveSourceBuffer(){return!Ps.browser.IS_FIREFOX&&r().MediaSource&&r().MediaSource.prototype&&"function"==typeof r().MediaSource.prototype.removeSourceBuffer}static canChangeType(){return r().SourceBuffer&&r().SourceBuffer.prototype&&"function"==typeof r().SourceBuffer.prototype.changeType}canChangeType(){return this.constructor.canChangeType()}changeType(e,t){this.canChangeType()?nc({type:e,sourceUpdater:this,action:tc(t),name:"changeType"}):Ps.log.error("changeType is not supported!")}addOrChangeSourceBuffers(e){if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((t=>{const n=e[t];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(t,n);this.canChangeType()&&this.changeType(t,n)}))}appendBuffer(e,t){const{segmentInfo:n,type:i,bytes:r}=e;if(this.processedAppend_=!0,"audio"===i&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_(`delayed audio append of ${r.length} until video append`);if(nc({type:i,sourceUpdater:this,action:Gl(r,n||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===i){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const e=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${e.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,e.forEach((e=>{this.appendBuffer.apply(this,e)}))}}audioBuffered(){return Wl(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:js()}videoBuffered(){return Wl(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:js()}buffered(){const e=Wl(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=Wl(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){let n=null,i=null,r=0;const o=[],s=[];if(!(e&&e.length&&t&&t.length))return js();let a=e.length;for(;a--;)o.push({time:e.start(a),type:"start"}),o.push({time:e.end(a),type:"end"});for(a=t.length;a--;)o.push({time:t.start(a),type:"start"}),o.push({time:t.end(a),type:"end"});for(o.sort((function(e,t){return e.time-t.time})),a=0;a<o.length;a++)"start"===o[a].type?(r++,2===r&&(n=o[a].time)):"end"===o[a].type&&(r--,1===r&&(i=o[a].time)),null!==n&&null!==i&&(s.push([n,i]),n=null,i=null);return js(s)}(this.audioBuffered(),this.videoBuffered())}setDuration(e,t=Ul){nc({type:"mediaSource",sourceUpdater:this,action:Ql(e),name:"duration",doneFn:t})}endOfStream(e=null,t=Ul){"string"!=typeof e&&(e=void 0),nc({type:"mediaSource",sourceUpdater:this,action:Jl(e),name:"endOfStream",doneFn:t})}removeAudio(e,t,n=Ul){this.audioBuffered().length&&0!==this.audioBuffered().end(0)?nc({type:"audio",sourceUpdater:this,action:Kl(e,t),doneFn:n,name:"remove"}):n()}removeVideo(e,t,n=Ul){this.videoBuffered().length&&0!==this.videoBuffered().end(0)?nc({type:"video",sourceUpdater:this,action:Kl(e,t),doneFn:n,name:"remove"}):n()}updating(){return!(!Hl("audio",this)&&!Hl("video",this))}audioTimestampOffset(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(nc({type:"audio",sourceUpdater:this,action:Yl(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(nc({type:"video",sourceUpdater:this,action:Yl(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&nc({type:"audio",sourceUpdater:this,action:Xl(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&nc({type:"video",sourceUpdater:this,action:Xl(e),name:"callback"})}dispose(){this.trigger("dispose"),Vl.forEach((e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`]((()=>zl(e,this)))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const oc=e=>decodeURIComponent(escape(String.fromCharCode.apply(null,e))),sc=new Uint8Array("\n\n".split("").map((e=>e.charCodeAt(0))));class ac extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class lc extends Bl{constructor(e,t={}){super(e,t),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return js();const e=this.subtitlesTrack_.cues;return js([[e[0].startTime,e[e.length-1].startTime]])}initSegmentForMap(e,t=!1){if(!e)return null;const n=Ma(e);let i=this.initSegments_[n];if(t&&!i&&e.bytes){const t=sc.byteLength+e.bytes.byteLength,r=new Uint8Array(t);r.set(e.bytes),r.set(sc,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:r}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}remove(e,t){Il(e,t,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){const e=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};return this.syncController_.one("timestampoffset",e),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,t,n){if(!this.subtitlesTrack_)return void(this.state="READY");if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===ol&&this.handleTimeout_(),e.code===sl?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");const o=i.segment;if(o.map&&(o.map.bytes=t.map.bytes),i.bytes=t.bytes,"function"!=typeof r().WebVTT&&"function"==typeof this.loadVttJs)return this.state="WAITING_ON_VTTJS",void this.loadVttJs().then((()=>this.segmentRequestFinished_(e,t,n)),(()=>this.stopForError({message:"Error loading vtt.js"})));o.requested=!0;try{this.parseVTTCues_(i)}catch(e){return void this.stopForError({message:e.message,metadata:{errorType:Ps.Error.StreamingVttParserError,error:e}})}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=o.duration,i.cues.forEach((e=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new(r().VTTCue)(e.startTime,e.endTime,e.text):e)})),function(e){const t=e.cues;if(!t)return;const n={};for(let i=t.length-1;i>=0;i--){const r=t[i],o=`${r.startTime}-${r.endTime}-${r.text}`;n[o]?e.removeCue(r):n[o]=r}}(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let t,n=!1;if("function"!=typeof r().WebVTT)throw new ac;"function"==typeof r().TextDecoder?t=new(r().TextDecoder)("utf8"):(t=r().WebVTT.StringDecoder(),n=!0);const i=new(r().WebVTT.Parser)(r(),r().vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=t=>{e.timestampmap=t},i.onparsingerror=e=>{Ps.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){let t=e.segment.map.bytes;n&&(t=oc(t)),i.parse(t)}let o=e.bytes;n&&(o=oc(o)),i.parse(o),i.flush()}updateTimeMapping_(e,t,n){const i=e.segment;if(!t)return;if(!e.cues.length)return void(i.empty=!0);const{MPEGTS:r,LOCAL:o}=e.timestampmap,s=r/pt.ONE_SECOND_IN_TS-o+t.mapping;if(e.cues.forEach((e=>{const n=e.endTime-e.startTime,i=0===r?e.startTime+s:this.handleRollover_(e.startTime+s,t.time);e.startTime=Math.max(i,0),e.endTime=Math.max(i+n,0)})),!n.syncInfo){const t=e.cues[0].startTime,r=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(t,r-i.duration)}}}handleRollover_(e,t){if(null===t)return e;let n=e*pt.ONE_SECOND_IN_TS;const i=t*pt.ONE_SECOND_IN_TS;let r;for(r=i<n?-8589934592:8589934592;Math.abs(n-i)>4294967296;)n+=r;return n/pt.ONE_SECOND_IN_TS}}const cc=function(e,t){const n=e.cues;for(let e=0;e<n.length;e++){const i=n[e];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null};class uc{constructor({start:e,end:t,segmentIndex:n,partIndex:i=null,appended:r=!1}){this.start_=e,this.end_=t,this.segmentIndex_=n,this.partIndex_=i,this.appended_=r}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class hc{constructor(e,t=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=t}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach((e=>e.resetAppendedStatus()))}}class dc{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach((e=>e.resetAppendStatus()))}update(e,t){const{mediaSequence:n,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(n,i),this.isReliable_)return this.updateStorage_(i,n,this.calculateBaseTime_(n,t))}getSyncInfoForTime(e){for(const{segmentSyncInfo:t,partsSyncInfo:n}of this.storage_.values())if(n.length){for(const t of n)if(t.isInRange(e))return t}else if(t.isInRange(e))return t;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,t,n){const i=new Map;let r="\n",o=n,s=t;this.start_=o,e.forEach(((e,t)=>{const n=this.storage_.get(s),a=o,l=a+e.duration,c=Boolean(n&&n.segmentSyncInfo&&n.segmentSyncInfo.isAppended),u=new uc({start:a,end:l,appended:c,segmentIndex:t});e.syncInfo=u;let h=o;const d=(e.parts||[]).map(((e,i)=>{const o=h,a=h+e.duration,l=Boolean(n&&n.partsSyncInfo&&n.partsSyncInfo[i]&&n.partsSyncInfo[i].isAppended),c=new uc({start:o,end:a,appended:l,segmentIndex:t,partIndex:i});return h=a,r+=`Media Sequence: ${s}.${i} | Range: ${o} --\x3e ${a} | Appended: ${l}\n`,e.syncInfo=c,c}));i.set(s,new hc(u,d)),r+=`${Cl(e.resolvedUri)} | Media Sequence: ${s} | Range: ${a} --\x3e ${l} | Appended: ${c}\n`,s++,o=l})),this.end_=o,this.storage_=i,this.diagnostics_=r}calculateBaseTime_(e,t){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:t:0}isReliablePlaylist_(e,t){return null!=e&&Array.isArray(t)&&t.length}}class pc extends dc{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,t){if(!this.storage_.size){const t=this.parent_.getSyncInfoForMediaSequence(e);return t?t.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,t)}}const fc=[{name:"VOD",run:(e,t,n,i,r)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(e,t,n,i,r,o)=>{const s=e.getMediaSequenceSync(o);if(!s)return null;if(!s.isReliable)return null;const a=s.getSyncInfoForTime(r);return a?{time:a.start,partIndex:a.partIndex,segmentIndex:a.segmentIndex}:null}},{name:"ProgramDateTime",run:(e,t,n,i,r)=>{if(!Object.keys(e.timelineToDatetimeMappings).length)return null;let o=null,s=null;const a=Ks(t);r=r||0;for(let n=0;n<a.length;n++){const i=a[t.endList||0===r?n:a.length-(n+1)],l=i.segment,c=e.timelineToDatetimeMappings[l.timeline];if(!c||!l.dateTimeObject)continue;let u=l.dateTimeObject.getTime()/1e3+c;if(l.parts&&"number"==typeof i.partIndex)for(let e=0;e<i.partIndex;e++)u+=l.parts[e].duration;const h=Math.abs(r-u);if(null!==s&&(0===h||s<h))break;s=h,o={time:u,segmentIndex:i.segmentIndex,partIndex:i.partIndex}}return o}},{name:"Segment",run:(e,t,n,i,r)=>{let o=null,s=null;r=r||0;const a=Ks(t);for(let e=0;e<a.length;e++){const n=a[t.endList||0===r?e:a.length-(e+1)],l=n.segment,c=n.part&&n.part.start||l&&l.start;if(l.timeline===i&&void 0!==c){const e=Math.abs(r-c);if(null!==s&&s<e)break;(!o||null===s||s>=e)&&(s=e,o={time:c,segmentIndex:n.segmentIndex,partIndex:n.partIndex})}}return o}},{name:"Discontinuity",run:(e,t,n,i,r)=>{let o=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length){let n=null;for(let i=0;i<t.discontinuityStarts.length;i++){const s=t.discontinuityStarts[i],a=t.discontinuitySequence+i+1,l=e.discontinuities[a];if(l){const e=Math.abs(r-l.time);if(null!==n&&n<e)break;(!o||null===n||n>=e)&&(n=e,o={time:l.time,segmentIndex:s,partIndex:null})}}}return o}},{name:"Playlist",run:(e,t,n,i,r)=>t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}];class mc extends Ps.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const t=new dc,n=new pc(t),i=new pc(t);this.mediaSequenceStorage_={main:t,audio:n,vtt:i},this.logger_=Ms("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,t,n,i,r){if(t!==1/0)return fc.find((({name:e})=>"VOD"===e)).run(this,e,t);const o=this.runStrategies_(e,t,n,i,r);if(!o.length)return null;for(const t of o){const{syncPoint:n,strategy:r}=t,{segmentIndex:o,time:s}=n;if(o<0)continue;const a=s,l=a+e.segments[o].duration;if(this.logger_(`Strategy: ${r}. Current time: ${i}. selected segment: ${o}. Time: [${a} -> ${l}]}`),i>=a&&i<l)return this.logger_("Found sync point with exact match: ",n),n}return this.selectSyncPoint_(o,{key:"time",value:i})}getExpiredTime(e,t){if(!e||!e.segments)return null;const n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;const i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+ea({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,t,n,i,r){const o=[];for(let s=0;s<fc.length;s++){const a=fc[s],l=a.run(this,e,t,n,i,r);l&&(l.strategy=a.name,o.push({strategy:a.name,syncPoint:l}))}return o}selectSyncPoint_(e,t){let n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy;for(let o=1;o<e.length;o++){const s=Math.abs(e[o].syncPoint[t.key]-t.value);s<i&&(i=s,n=e[o].syncPoint,r=e[o].strategy)}return this.logger_(`syncPoint for [${t.key}: ${t.value}] chosen with strategy [${r}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+("number"==typeof n.partIndex?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,t){const n=t.mediaSequence-e.mediaSequence;if(n>86400)Ps.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);else for(let i=n-1;i>=0;i--){const n=e.segments[i];if(n&&void 0!==n.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:n.start},this.logger_(`playlist refresh sync: [time:${t.syncInfo.time}, mediaSequence: ${t.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const t=e.segments[0],n=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:t}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,t),i=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const r=i.dateTimeObject;i.discontinuity&&t&&r&&(this.timelineToDatetimeMappings[i.timeline]=-r.getTime()/1e3)}timestampOffsetForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].time}mappingForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,t,n){const i=e.segment,r=e.part;let o,s,a=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)a={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,s=t.end+a.mapping;else{if(!a)return!1;o=t.start+a.mapping,s=t.end+a.mapping}return r&&(r.start=o,r.end=s),(!i.start||o<i.start)&&(i.start=o),i.end=s,!0}saveDiscontinuitySyncInfo_(e){const t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(let i=0;i<t.discontinuityStarts.length;i++){const r=t.discontinuityStarts[i],o=t.discontinuitySequence+i+1,s=r-e.mediaIndex,a=Math.abs(s);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>a){let i;i=s<0?n.start-ea({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:r}):n.end+ea({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:r}),this.discontinuities[o]={time:i,accuracy:a}}}}dispose(){this.trigger("dispose"),this.off()}}class gc extends Ps.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:t,to:n}){return"number"==typeof t&&"number"==typeof n&&(this.pendingTimelineChanges_[e]={type:e,from:t,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:t,to:n}){if("number"==typeof t&&"number"==typeof n){this.lastTimelineChanges_[e]={type:e,from:t,to:n},delete this.pendingTimelineChanges_[e];const i={timelineChangeInfo:{from:t,to:n}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const yc=Xa(Ja((function(){var e=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=t.length,s=0;s<o;++s)t[s].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();let t=null;class i{constructor(e){let n,i,r;t||(t=function(){const e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],i=t[4],r=n[4];let o,s,a;const l=[],c=[];let u,h,d,p,f,m;for(o=0;o<256;o++)c[(l[o]=o<<1^283*(o>>7))^o]=o;for(s=a=0;!i[s];s^=u||1,a=c[a]||1)for(p=a^a<<1^a<<2^a<<3^a<<4,p=p>>8^255&p^99,i[s]=p,r[p]=s,d=l[h=l[u=l[s]]],m=16843009*d^65537*h^257*u^16843008*s,f=257*l[p]^16843008*p,o=0;o<4;o++)t[o][s]=f=f<<24^f>>>8,n[o][p]=m=m<<24^m>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),n[o]=n[o].slice(0);return e}()),this._tables=[[t[0][0].slice(),t[0][1].slice(),t[0][2].slice(),t[0][3].slice(),t[0][4].slice()],[t[1][0].slice(),t[1][1].slice(),t[1][2].slice(),t[1][3].slice(),t[1][4].slice()]];const o=this._tables[0][4],s=this._tables[1],a=e.length;let l=1;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size");const c=e.slice(0),u=[];for(this._key=[c,u],n=a;n<4*a+28;n++)r=c[n-1],(n%a==0||8===a&&n%a==4)&&(r=o[r>>>24]<<24^o[r>>16&255]<<16^o[r>>8&255]<<8^o[255&r],n%a==0&&(r=r<<8^r>>>24^l<<24,l=l<<1^283*(l>>7))),c[n]=c[n-a]^r;for(i=0;n;i++,n--)r=c[3&i?n:n-4],u[i]=n<=4||i<4?r:s[0][o[r>>>24]]^s[1][o[r>>16&255]]^s[2][o[r>>8&255]]^s[3][o[255&r]]}decrypt(e,t,n,i,r,o){const s=this._key[1];let a,l,c,u=e^s[0],h=i^s[1],d=n^s[2],p=t^s[3];const f=s.length/4-2;let m,g=4;const y=this._tables[1],v=y[0],b=y[1],_=y[2],w=y[3],k=y[4];for(m=0;m<f;m++)a=v[u>>>24]^b[h>>16&255]^_[d>>8&255]^w[255&p]^s[g],l=v[h>>>24]^b[d>>16&255]^_[p>>8&255]^w[255&u]^s[g+1],c=v[d>>>24]^b[p>>16&255]^_[u>>8&255]^w[255&h]^s[g+2],p=v[p>>>24]^b[u>>16&255]^_[h>>8&255]^w[255&d]^s[g+3],g+=4,u=a,h=l,d=c;for(m=0;m<4;m++)r[(3&-m)+o]=k[u>>>24]<<24^k[h>>16&255]<<16^k[d>>8&255]<<8^k[255&p]^s[g++],a=u,u=h,h=d,d=p,p=a}}class r extends e{constructor(){super(e),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const o=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24};class s{constructor(e,t,n,i){const a=s.STEP,l=new Int32Array(e.buffer),c=new Uint8Array(e.byteLength);let u=0;for(this.asyncStream_=new r,this.asyncStream_.push(this.decryptChunk_(l.subarray(u,u+a),t,n,c)),u=a;u<l.length;u+=a)n=new Uint32Array([o(l[u-4]),o(l[u-3]),o(l[u-2]),o(l[u-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(u,u+a),t,n,c));this.asyncStream_.push((function(){var e;i(null,(e=c).subarray(0,e.byteLength-e[e.byteLength-1]))}))}static get STEP(){return 32e3}decryptChunk_(e,t,n,r){return function(){const s=function(e,t,n){const r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),s=new i(Array.prototype.slice.call(t)),a=new Uint8Array(e.byteLength),l=new Int32Array(a.buffer);let c,u,h,d,p,f,m,g,y;for(c=n[0],u=n[1],h=n[2],d=n[3],y=0;y<r.length;y+=4)p=o(r[y]),f=o(r[y+1]),m=o(r[y+2]),g=o(r[y+3]),s.decrypt(p,f,m,g,l,y),l[y]=o(l[y]^c),l[y+1]=o(l[y+1]^u),l[y+2]=o(l[y+2]^h),l[y+3]=o(l[y+3]^d),c=p,u=f,h=m,d=g;return a}(e,t,n);r.set(s,e.byteOffset)}}}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},l=("undefined"!=typeof window?window:void 0!==a?a:"undefined"!=typeof self?self:{}).BigInt||Number;l("0x1"),l("0x100"),l("0x10000"),l("0x1000000"),l("0x100000000"),l("0x10000000000"),l("0x1000000000000"),l("0x100000000000000"),l("0x10000000000000000"),function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);255===t[0]||t[0]}();self.onmessage=function(e){const t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),i=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),r=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new s(n,i,r,(function(e,n){self.postMessage(function(e){const t={};return Object.keys(e).forEach((n=>{const i=e[n];var r;r=i,("function"===ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t}({source:t.source,decrypted:n}),[n.buffer])}))}})));var vc=Ya(yc);const bc=e=>{let t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},_c=(e,t)=>{e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},wc=(e,t)=>{t.activePlaylistLoader=e,e.load()},kc={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:n},excludePlaylist:i}=t,r=n.activeTrack(),o=n.activeGroup(),s=(o.filter((e=>e.default))[0]||o[0]).id,a=n.tracks[s];if(r!==a){Ps.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const e in n.tracks)n.tracks[e].enabled=n.tracks[e]===a;n.onTrackChanged()}else i({error:{message:"Problem encountered loading the default audio track."}})},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:n}}=t;Ps.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const i=n.activeTrack();i&&(i.mode="disabled"),n.onTrackChanged()}},Sc={AUDIO:(e,t,n)=>{if(!t)return;const{tech:i,requestOptions:r,segmentLoaders:{[e]:o}}=n;t.on("loadedmetadata",(()=>{const e=t.media();o.playlist(e,r),(!i.paused()||e.endList&&"none"!==i.preload())&&o.load()})),t.on("loadedplaylist",(()=>{o.playlist(t.media(),r),i.paused()||o.load()})),t.on("error",kc[e](e,n))},SUBTITLES:(e,t,n)=>{const{tech:i,requestOptions:r,segmentLoaders:{[e]:o},mediaTypes:{[e]:s}}=n;t.on("loadedmetadata",(()=>{const e=t.media();o.playlist(e,r),o.track(s.activeTrack()),(!i.paused()||e.endList&&"none"!==i.preload())&&o.load()})),t.on("loadedplaylist",(()=>{o.playlist(t.media(),r),i.paused()||o.load()})),t.on("error",kc[e](e,n))}},Ec={AUDIO:(e,t)=>{const{vhs:n,sourceType:i,segmentLoaders:{[e]:r},requestOptions:o,main:{mediaGroups:s},mediaTypes:{[e]:{groups:a,tracks:l,logger_:c}},mainPlaylistLoader:u}=t,h=ca(u.main);s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}},h&&(s[e].main.default.playlists=u.main.playlists));for(const r in s[e]){a[r]||(a[r]=[]);for(const d in s[e][r]){let p,f=s[e][r][d];if(h?(c(`AUDIO group '${r}' label '${d}' is a main playlist`),f.isMainPlaylist=!0,p=null):p="vhs-json"===i&&f.playlists?new Ca(f.playlists[0],n,o):f.resolvedUri?new Ca(f.resolvedUri,n,o):f.playlists&&"dash"===i?new Wa(f.playlists[0],n,o,u):null,f=Ns({id:d,playlistLoader:p},f),Sc[e](e,f.playlistLoader,t),a[r].push(f),void 0===l[d]){const e=new Ps.AudioTrack({id:d,kind:bc(f),enabled:!1,language:f.language,default:f.default,label:d});l[d]=e}}}r.on("error",kc[e](e,t))},SUBTITLES:(e,t)=>{const{tech:n,vhs:i,sourceType:r,segmentLoaders:{[e]:o},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[e]:{groups:l,tracks:c}},mainPlaylistLoader:u}=t;for(const o in a[e]){l[o]||(l[o]=[]);for(const h in a[e][o]){if(!i.options_.useForcedSubtitles&&a[e][o][h].forced)continue;let d,p=a[e][o][h];if("hls"===r)d=new Ca(p.resolvedUri,i,s);else if("dash"===r){if(!p.playlists.filter((e=>e.excludeUntil!==1/0)).length)return;d=new Wa(p.playlists[0],i,s,u)}else"vhs-json"===r&&(d=new Ca(p.playlists?p.playlists[0]:p.resolvedUri,i,s));if(p=Ns({id:h,playlistLoader:d},p),Sc[e](e,p.playlistLoader,t),l[o].push(p),void 0===c[h]){const e=n.addRemoteTextTrack({id:h,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:h},!1).track;c[h]=e}}}o.on("error",kc[e](e,t))},"CLOSED-CAPTIONS":(e,t)=>{const{tech:n,main:{mediaGroups:i},mediaTypes:{[e]:{groups:r,tracks:o}}}=t;for(const t in i[e]){r[t]||(r[t]=[]);for(const s in i[e][t]){const a=i[e][t][s];if(!/^(?:CC|SERVICE)/.test(a.instreamId))continue;const l=n.options_.vhs&&n.options_.vhs.captionServices||{};let c={label:s,language:a.language,instreamId:a.instreamId,default:a.default&&a.autoselect};if(l[c.instreamId]&&(c=Ns(c,l[c.instreamId])),void 0===c.default&&delete c.default,r[t].push(Ns({id:s},a)),void 0===o[s]){const e=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;o[s]=e}}}}},Tc=(e,t)=>{for(let n=0;n<e.length;n++){if(aa(t,e[n]))return!0;if(e[n].playlists&&Tc(e[n].playlists,t))return!0}return!1},xc={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:n}}}=t;for(const e in n)if(n[e].enabled)return n[e];return null},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:n}}}=t;for(const e in n)if("showing"===n[e].mode||"hidden"===n[e].mode)return n[e];return null}};class Cc{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){1===e&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=Ds(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map((e=>[e.ID,e]))))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class Pc extends Ps.EventTarget{constructor(e,t){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new Cc,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=Ms("Content Steering"),this.xhr_=e,this.getBandwidth_=t}assignTagProperties(e,t){this.manifestType_=t.serverUri?"HLS":"DASH";const n=t.serverUri||t.serverURL;if(!n)return this.logger_(`steering manifest URL is ${n}, cannot request steering manifest.`),void this.trigger("error");n.startsWith("data:")?this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1)):(this.steeringManifest.reloadUri=Ds(e,n),this.defaultPathway=t.pathwayId||t.defaultServiceLocation,this.queryBeforeStart=t.queryBeforeStart,this.proxyServerUrl_=t.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering"))}requestSteeringManifest(e){const t=this.steeringManifest.reloadUri;if(!t)return;const n=e?t:this.getRequestURI(t);if(!n)return this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),void this.dispose();const i={contentSteeringInfo:{uri:n}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:n,requestType:"content-steering-manifest"},((e,t)=>{if(e){if(410===t.status)return this.logger_(`manifest request 410 ${e}.`),this.logger_(`There will be no more content steering requests to ${n} this session.`),void this.excludedSteeringManifestURLs.add(n);if(429===t.status){const n=t.responseHeaders["retry-after"];return this.logger_(`manifest request 429 ${e}.`),this.logger_(`content steering will retry in ${n} seconds.`),void this.startTTLTimeout_(parseInt(n,10))}return this.logger_(`manifest failed to load ${e}.`),void this.startTTLTimeout_()}let r;this.trigger({type:"contentsteeringloadcomplete",metadata:i});try{r=JSON.parse(this.request_.responseText)}catch(e){const t={errorType:Ps.Error.StreamingContentSteeringParserError,error:e};this.trigger({type:"error",metadata:t})}this.assignSteeringProperties_(r);const o={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:o}),this.startTTLTimeout_()}))}setProxyServerUrl_(e){const t=new(r().URL)(e),n=new(r().URL)(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(t.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const t=JSON.parse(r().atob(e));this.assignSteeringProperties_(t)}setSteeringParams_(e){const t=new(r().URL)(e),n=this.getPathway(),i=this.getBandwidth_();if(n){const e=`_${this.manifestType_}_pathway`;t.searchParams.set(e,n)}if(i){const e=`_${this.manifestType_}_throughput`;t.searchParams.set(e,i)}return t.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version)return this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),void this.trigger("error");this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const t=(e=>{for(const t of e)if(this.availablePathways_.has(t))return t;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==t&&(this.currentPathway=t,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const t=e=>this.excludedSteeringManifestURLs.has(e);if(this.proxyServerUrl_){const n=this.setProxyServerUrl_(e);if(!t(n))return n}const n=this.setSteeringParams_(e);return t(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const t=1e3*e;this.ttlTimeout_=r().setTimeout((()=>{this.requestSteeringManifest()}),t)}clearTTLTimeout_(){r().clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new Cc}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,t){return!t&&this.steeringManifest.reloadUri||t&&(Ds(e,t.serverURL)!==this.steeringManifest.reloadUri||t.defaultServiceLocation!==this.defaultPathway||t.queryBeforeStart!==this.queryBeforeStart||t.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}let Ac;const Oc=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Ic=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]};class Lc extends Ps.EventTarget{constructor(e){super();const{src:t,withCredentials:n,tech:i,bandwidth:o,externVhs:s,useCueTags:a,playlistExclusionDuration:l,enableLowInitialPlaylist:c,sourceType:u,cacheEncryptionKeys:h,bufferBasedABR:d,leastPixelDiffSelector:p,captionServices:f}=e;if(!t)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:m}=e;null==m&&(m=1/0),Ac=s,this.bufferBasedABR=Boolean(d),this.leastPixelDiffSelector=Boolean(p),this.withCredentials=n,this.tech_=i,this.vhs_=i.vhs,this.player_=e.player_,this.sourceType_=u,this.useCueTags_=a,this.playlistExclusionDuration=l,this.maxPlaylistRetries=m,this.enableLowInitialPlaylist=c,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:m,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=(()=>{const e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((t=>{e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Ul,activeTrack:Ul,getActiveGroup:Ul,onGroupChanged:Ul,onTrackChanged:Ul,lastTrack_:null,logger_:Ms(`MediaGroups[${t}]`)}})),e})(),this.mediaSource=new(r().MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=js(),this.hasPlayed_=!1,this.syncController_=new mc(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new vc,this.sourceUpdater_=new rc(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new gc,this.keyStatusMap_=new Map;const g={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:f,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:o,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:h,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_="dash"===this.sourceType_?new Wa(t,this.vhs_,Ns(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Ca(t,this.vhs_,Ns(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new Bl(Ns(g,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new Bl(Ns(g,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new lc(Ns(g,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise(((e,t)=>{function n(){i.off("vttjserror",r),e()}function r(){i.off("vttjsloaded",n),t()}i.one("vttjsloaded",n),i.one("vttjserror",r),i.addWebVttScript_()}))}),e),this.contentSteeringController_=new Pc(this.vhs_.xhr,(()=>this.mainSegmentLoader_.bandwidth)),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",(()=>this.startABRTimer_())),this.tech_.on("pause",(()=>this.stopABRTimer_())),this.tech_.on("play",(()=>this.startABRTimer_()))),Oc.forEach((e=>{this[e+"_"]=Ic.bind(this,e)})),this.logger_=Ms("pc"),this.triggeredFmp4Usage=!1,"none"===this.tech_.preload()?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const y="none"===this.tech_.preload()?"play":"loadstart";this.tech_.one(y,(()=>{const e=Date.now();this.tech_.one("loadeddata",(()=>{this.timeToLoadedData__=Date.now()-e,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends}))}))}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)}switchMedia_(e,t,n){const i=this.media(),r=i&&(i.id||i.uri),o=e&&(e.id||e.uri);if(r&&r!==o){this.logger_(`switch media ${r} -> ${o} from ${t}`);const n={renditionInfo:{id:o,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:t};this.trigger({type:"renditionselected",metadata:n}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${t}`})}this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((e=>{const t=this.mediaTypes_[e],n=t?t.activeGroup():null,i=this.contentSteeringController_.getPathway();if(n&&i){const t=(n.length?n[0].playlists:n.playlists).filter((e=>e.attributes.serviceLocation===i));t.length&&this.mediaTypes_[e].activePlaylistLoader.media(t[0])}}))}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=r().setInterval((()=>this.checkABR_()),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(r().clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;const n=e.mediaGroups.AUDIO,i=Object.keys(n);let r;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)r=this.mediaTypes_.AUDIO.activeTrack();else{const e=n.main||i.length&&n[i[0]];for(const t in e)if(e[t].default){r={label:t};break}}if(!r)return t;const o=[];for(const t in n)if(n[t][r.label]){const i=n[t][r.label];if(i.playlists&&i.playlists.length)o.push.apply(o,i.playlists);else if(i.uri)o.push(i);else if(e.playlists.length)for(let n=0;n<e.playlists.length;n++){const i=e.playlists[n];i.attributes&&i.attributes.AUDIO&&i.attributes.AUDIO===t&&o.push(i)}}return o.length?o:t}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",(()=>{const e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;sa(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,e.endList&&"none"!==this.tech_.preload()&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),(e=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((t=>{Ec[t](t,e)}));const{mediaTypes:t,mainPlaylistLoader:n,tech:i,vhs:r,segmentLoaders:{AUDIO:o,main:s}}=e;["AUDIO","SUBTITLES"].forEach((n=>{t[n].activeGroup=((e,t)=>n=>{const{mainPlaylistLoader:i,mediaTypes:{[e]:{groups:r}}}=t,o=i.media();if(!o)return null;let s=null;o.attributes[e]&&(s=r[o.attributes[e]]);const a=Object.keys(r);if(!s)if("AUDIO"===e&&a.length>1&&ca(t.main))for(let e=0;e<a.length;e++){const t=r[a[e]];if(Tc(t,o)){s=t;break}}else r.main?s=r.main:1===a.length&&(s=r[a[0]]);return void 0===n?s:null!==n&&s&&s.filter((e=>e.id===n.id))[0]||null})(n,e),t[n].activeTrack=xc[n](n,e),t[n].onGroupChanged=((e,t)=>()=>{const{segmentLoaders:{[e]:n,main:i},mediaTypes:{[e]:r}}=t,o=r.activeTrack(),s=r.getActiveGroup(),a=r.activePlaylistLoader,l=r.lastGroup_;s&&l&&s.id===l.id||(r.lastGroup_=s,r.lastTrack_=o,_c(n,r),s&&!s.isMainPlaylist&&(s.playlistLoader?(n.resyncLoader(),wc(s.playlistLoader,r)):a&&i.resetEverything()))})(n,e),t[n].onGroupChanging=((e,t)=>()=>{const{segmentLoaders:{[e]:n},mediaTypes:{[e]:i}}=t;i.lastGroup_=null,n.abort(),n.pause()})(n,e),t[n].onTrackChanged=((e,t)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[e]:i,main:r},mediaTypes:{[e]:o}}=t,s=o.activeTrack(),a=o.getActiveGroup(),l=o.activePlaylistLoader,c=o.lastTrack_;if((!c||!s||c.id!==s.id)&&(o.lastGroup_=a,o.lastTrack_=s,_c(i,o),a)){if(a.isMainPlaylist){if(!s||!c||s.id===c.id)return;const e=t.vhs.playlistController_,i=e.selectPlaylist();if(e.media()===i)return;return o.logger_(`track change. Switching main audio from ${c.id} to ${s.id}`),n.pause(),r.resetEverything(),void e.fastQualityChange_(i)}if("AUDIO"===e){if(!a.playlistLoader)return r.setAudio(!0),void r.resetEverything();i.setAudio(!0),r.setAudio(!1)}l!==a.playlistLoader?(i.track&&i.track(s),i.resetEverything(),wc(a.playlistLoader,o)):wc(a.playlistLoader,o)}})(n,e),t[n].getActiveGroup=((e,{mediaTypes:t})=>()=>{const n=t[e].activeTrack();return n?t[e].activeGroup(n):null})(n,e)}));const a=t.AUDIO.activeGroup();if(a){const e=(a.filter((e=>e.default))[0]||a[0]).id;t.AUDIO.tracks[e].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),o.setAudio(!0)):s.setAudio(!0)}n.on("mediachange",(()=>{["AUDIO","SUBTITLES"].forEach((e=>t[e].onGroupChanged()))})),n.on("mediachanging",(()=>{["AUDIO","SUBTITLES"].forEach((e=>t[e].onGroupChanging()))}));const l=()=>{t.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"})};i.audioTracks().addEventListener("change",l),i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",(()=>{i.audioTracks().removeEventListener("change",l),i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),i.clearTracks("audio");for(const e in t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[e])})({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(()=>{this.trigger("selectedinitialmedia")}))})),this.mainPlaylistLoader_.on("loadedplaylist",(()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){let t;if(this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_(),this.enableLowInitialPlaylist&&(t=this.selectInitialPlaylist()),t||(t=this.selectPlaylist()),!t||!this.shouldSwitchToMedia_(t))return;if(this.initialMedia_=t,this.switchMedia_(this.initialMedia_,"initial"),"vhs-json"!==this.sourceType_||!this.initialMedia_.segments)return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)})),this.mainPlaylistLoader_.on("error",(()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})})),this.mainPlaylistLoader_.on("mediachanging",(()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()})),this.mainPlaylistLoader_.on("mediachange",(()=>{const e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;sa(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,"dash"===this.sourceType_&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})})),this.mainPlaylistLoader_.on("playlistunchanged",(()=>{const e=this.mainPlaylistLoader_.media();"playlist-unchanged"!==e.lastExcludeReason_&&this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))})),this.mainPlaylistLoader_.on("renditiondisabled",(()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})})),this.mainPlaylistLoader_.on("renditionenabled",(()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})})),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach((e=>{this.mainPlaylistLoader_.on(e,(e=>{this.player_.trigger(p({},e))}))}))}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,t){const n=e.mediaGroups||{};let i=!0;const r=Object.keys(n.AUDIO);for(const e in n.AUDIO)for(const t in n.AUDIO[e])n.AUDIO[e][t].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Ac.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const t=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),r=this.bufferHighWaterLine();return function({currentPlaylist:e,buffered:t,currentTime:n,nextPlaylist:i,bufferLowWaterLine:r,bufferHighWaterLine:o,duration:s,bufferBasedABR:a,log:l}){if(!i)return Ps.log.warn("We received no playlist to switch to. Please check your stream."),!1;const c=`allowing switch ${e&&e.id||"null"} -> ${i.id}`;if(!e)return l(`${c} as current playlist is not set`),!0;if(i.id===e.id)return!1;const u=Boolean(qs(t,n).length);if(!e.endList)return u||"number"!=typeof e.partTargetDuration?(l(`${c} as current playlist is live`),!0):(l(`not ${c} as current playlist is live llhls, but currentTime isn't in buffered.`),!1);const h=Ws(t,n),d=a?Ga.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Ga.MAX_BUFFER_LOW_WATER_LINE;if(s<d)return l(`${c} as duration < max low water line (${s} < ${d})`),!0;const p=i.attributes.BANDWIDTH,f=e.attributes.BANDWIDTH;if(p<f&&(!a||h<o)){let e=`${c} as next bandwidth < current bandwidth (${p} < ${f})`;return a&&(e+=` and forwardBuffer < bufferHighWaterLine (${h} < ${o})`),l(e),!0}if((!a||p>f)&&h>=r){let e=`${c} as forwardBuffer >= bufferLowWaterLine (${h} >= ${r})`;return a&&(e+=` and next bandwidth > current bandwidth (${p} > ${f})`),l(e),!0}return l(`not ${c} as no switching criteria met`),!1}({buffered:this.tech_.buffered(),currentTime:n,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:r,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",(()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("timeout",(()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()})),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",(()=>{this.trigger("progress")})),this.mainSegmentLoader_.on("error",(()=>{const e=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:e.playlist,error:e})})),this.mainSegmentLoader_.on("appenderror",(()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(()=>{this.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(()=>{this.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")})),this.mainSegmentLoader_.on("ended",(()=>{this.logger_("main segment loader ended"),this.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(e=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:10}))}));const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const e=this.getCodecsOrExclude_();e&&this.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",(()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()})),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach((e=>{this.mainSegmentLoader_.on(e,(e=>{this.player_.trigger(p({},e))})),this.audioSegmentLoader_.on(e,(e=>{this.player_.trigger(p({},e))})),this.subtitleSegmentLoader_.on(e,(e=>{this.player_.trigger(p({},e))}))}))}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){e&&e===this.mainPlaylistLoader_.media()?this.logger_("skipping fastQualityChange because new media is same as old"):(this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0)}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything((()=>{this.tech_.setCurrentTime(this.tech_.currentTime())}))}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const t=this.seekable();if(!t.length)return!1;const n=t.end(0);let i=n;if(e.start){const r=e.start.timeOffset;i=r<0?Math.max(n+r,t.start(0)):Math.min(n,r)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(e=>{}))}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;const n=Ac.Playlist.playlistEnd(e,t),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=Bs;const o=r.end(r.length-1);return o-i<=Bs&&n-o<=Bs}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:t={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||t.playlistExclusionDuration||this.playlistExclusionDuration,!e)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,r=i.filter(ra),o=1===r.length&&r[0]===e;if(1===i.length&&n!==1/0)return Ps.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(o);if(o){if(this.main().contentSteering){const t=this.pathwayAttribute_(e),n=1e3*this.contentSteeringController_.steeringManifest.ttl;return this.contentSteeringController_.excludePathway(t),this.excludeThenChangePathway_(),void setTimeout((()=>{this.contentSteeringController_.addAvailablePathway(t)}),n)}let t=!1;i.forEach((n=>{if(n===e)return;const i=n.excludeUntil;void 0!==i&&i!==1/0&&(t=!0,delete n.excludeUntil)})),t&&(Ps.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let s;s=e.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*n,e.excludeUntil=s,t.reason&&(e.lastExcludeReason_=t.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const a=this.selectPlaylist();if(!a)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");const l=t.internal?this.logger_:Ps.log.warn,c=t.message?" "+t.message:"";l(`${t.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${a.id}.`),a.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),a.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const u=a.targetDuration/2*1e3||5e3,h="number"==typeof a.lastRequest&&Date.now()-a.lastRequest<=u;return this.switchMedia_(a,"exclude",o||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,t){const n=[],i="all"===e;(i||"main"===e)&&n.push(this.mainPlaylistLoader_);const r=[];(i||"audio"===e)&&r.push("AUDIO"),(i||"subtitle"===e)&&(r.push("CLOSED-CAPTIONS"),r.push("SUBTITLES")),r.forEach((e=>{const t=this.mediaTypes_[e]&&this.mediaTypes_[e].activePlaylistLoader;t&&n.push(t)})),["main","audio","subtitle"].forEach((t=>{const i=this[`${t}SegmentLoader_`];!i||e!==t&&"all"!==e||n.push(i)})),n.forEach((e=>t.forEach((t=>{"function"==typeof e[t]&&e[t]()}))))}setCurrentTime(e){const t=qs(this.tech_.buffered(),e);return this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media()&&this.mainPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),void this.load()):0}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Ac.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let t=this.mainPlaylistLoader_.media();if(!t)return;let n=this.syncController_.getExpiredTime(t,this.duration());if(null===n)return;const i=this.mainPlaylistLoader_.main,r=Ac.Playlist.seekable(t,n,Ac.Playlist.liveEdgeDelay(i,t));if(0===r.length)return;if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),n=this.syncController_.getExpiredTime(t,this.duration()),null===n)return;if(e=Ac.Playlist.seekable(t,n,Ac.Playlist.liveEdgeDelay(i,t)),0===e.length)return}let o,s;if(this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),s=this.seekable_.start(0)),e?e.start(0)>r.end(0)||r.start(0)>e.end(0)?this.seekable_=r:this.seekable_=js([[e.start(0)>r.start(0)?e.start(0):r.start(0),e.end(0)<r.end(0)?e.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===s)return;this.logger_(`seekable updated [${Hs(this.seekable_)}]`);const a={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:a}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){const e=this.seekable();if(!e.length)return;return void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1))&&this.sourceUpdater_.setDuration(e.end(e.length-1)))}const t=this.tech_.buffered();let n=Ac.Playlist.duration(this.mainPlaylistLoader_.media());t.length>0&&(n=Math.max(n,t.end(t.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((e=>{const t=this.mediaTypes_[e].groups;for(const e in t)t[e].forEach((e=>{e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},t=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=bl(this.main(),t),i={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||"avc1.4d400d"),e.main.isMuxed&&(i.video+=`,${n.audio||e.main.audioCodec||B}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||B,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video)return void this.excludePlaylist({playlistToExclude:t,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});const o={};let s;if(["video","audio"].forEach((function(t){if(i.hasOwnProperty(t)&&(n=e[t].isFmp4,r=i[t],!(n?j(r):F(r)))){const n=e[t].isFmp4?"browser":"muxer";o[n]=o[n]||[],o[n].push(i[t]),"audio"===t&&(s=n)}var n,r})),r&&s&&t.attributes.AUDIO){const e=t.attributes.AUDIO;this.main().playlists.forEach((n=>{(n.attributes&&n.attributes.AUDIO)===e&&n!==t&&(n.excludeUntil=1/0)})),this.logger_(`excluding audio group ${e} as ${s} does not support codec(s): "${i.audio}"`)}if(!Object.keys(o).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const e=[];if(["video","audio"].forEach((t=>{const n=(R(this.sourceUpdater_.codecs[t]||"")[0]||{}).type,r=(R(i[t]||"")[0]||{}).type;n&&r&&n.toLowerCase()!==r.toLowerCase()&&e.push(`"${this.sourceUpdater_.codecs[t]}" -> "${i[t]}"`)})),e.length)return void this.excludePlaylist({playlistToExclude:t,error:{message:`Codec switching not supported: ${e.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0})}return i}{const e=Object.keys(o).reduce(((e,t)=>(e&&(e+=", "),e+`${t} does not support codec(s): "${o[t].join(",")}"`)),"")+".";this.excludePlaylist({playlistToExclude:t,error:{internal:!0,message:e},playlistExclusionDuration:1/0})}}tryToCreateSourceBuffers_(){if("open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers())return;if(!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}excludeUnsupportedVariants_(){const e=this.main().playlists,t=[];Object.keys(e).forEach((n=>{const i=e[n];if(-1!==t.indexOf(i.id))return;t.push(i.id);const r=bl(this.main,i),o=[];!r.audio||F(r.audio)||j(r.audio)||o.push(`audio codec ${r.audio}`),!r.video||F(r.video)||j(r.video)||o.push(`video codec ${r.video}`),r.text&&"stpp.ttml.im1t"===r.text&&o.push(`text codec ${r.text}`),o.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${o.join(", ")}`))}))}excludeIncompatibleVariants_(e){const t=[],n=this.main().playlists,i=yl(R(e)),r=vl(i),o=i.video&&R(i.video)[0]||null,s=i.audio&&R(i.audio)[0]||null;Object.keys(n).forEach((e=>{const i=n[e];if(-1!==t.indexOf(i.id)||i.excludeUntil===1/0)return;t.push(i.id);const a=[],l=bl(this.mainPlaylistLoader_.main,i),c=vl(l);if(l.audio||l.video){if(c!==r&&a.push(`codec count "${c}" !== "${r}"`),!this.sourceUpdater_.canChangeType()){const e=l.video&&R(l.video)[0]||null,t=l.audio&&R(l.audio)[0]||null;e&&o&&e.type.toLowerCase()!==o.type.toLowerCase()&&a.push(`video codec "${e.type}" !== "${o.type}"`),t&&s&&t.type.toLowerCase()!==s.type.toLowerCase()&&a.push(`audio codec "${t.type}" !== "${s.type}"`)}a.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id}: ${a.join(" && ")}`))}}))}updateAdCues_(e){let t=0;const n=this.seekable();n.length&&(t=n.start(0)),function(e,t,n=0){if(!e.segments)return;let i,o=n;for(let n=0;n<e.segments.length;n++){const s=e.segments[n];if(i||(i=cc(t,o+s.duration/2)),i){if("cueIn"in s){i.endTime=o,i.adEndTime=o,o+=s.duration,i=null;continue}if(o<i.endTime){o+=s.duration;continue}i.endTime+=s.duration}else if("cueOut"in s&&(i=new(r().VTTCue)(o,o+s.duration,s.cueOut),i.adStartTime=o,i.adEndTime=o+parseFloat(s.cueOut),t.addCue(i)),"cueOutCont"in s){const[e,n]=s.cueOutCont.split("/").map(parseFloat);i=new(r().VTTCue)(o,o+s.duration,""),i.adStartTime=o-e,i.adEndTime=i.adStartTime+n,t.addCue(i)}o+=s.duration}}(e,this.cueTagsTrack_,t)}goalBufferLength(){const e=this.tech_.currentTime(),t=Ga.GOAL_BUFFER_LENGTH,n=Ga.GOAL_BUFFER_LENGTH_RATE,i=Math.max(t,Ga.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),t=Ga.BUFFER_LOW_WATER_LINE,n=Ga.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(t,Ga.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(t,Ga.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.bufferBasedABR?r:i)}bufferHighWaterLine(){return Ga.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){Ol(this.inbandTextTracks_,"com.apple.streaming",this.tech_),(({inbandTextTracks:e,dateRanges:t})=>{const n=e.metadataTrack_;if(!n)return;const i=r().WebKitDataCue||r().VTTCue;t.forEach((e=>{for(const t of Object.keys(e)){if(Al.has(t))continue;const r=new i(e.startTime,e.endTime,"");r.id=e.id,r.type="com.apple.quicktime.HLS",r.value={key:Pl[t],data:e[t]},"scte35Out"!==t&&"scte35In"!==t||(r.value.data=new Uint8Array(r.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(r)}e.processDateRange()}))})({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,t,n){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();Ol(this.inbandTextTracks_,e,this.tech_),(({inbandTextTracks:e,metadataArray:t,timestampOffset:n,videoDuration:i})=>{if(!t)return;const o=r().WebKitDataCue||r().VTTCue,s=e.metadataTrack_;if(!s)return;if(t.forEach((e=>{const t=e.cueTime+n;!("number"!=typeof t||r().isNaN(t)||t<0)&&t<1/0&&e.frames&&e.frames.length&&e.frames.forEach((e=>{const n=new o(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get(){return Ps.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get(){return Ps.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get(){return Ps.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),s.addCue(n)}))})),!s.cues||!s.cues.length)return;const a=s.cues,l=[];for(let e=0;e<a.length;e++)a[e]&&l.push(a[e]);const c=l.reduce(((e,t)=>{const n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),u=Object.keys(c).sort(((e,t)=>Number(e)-Number(t)));u.forEach(((e,t)=>{const n=c[e],r=isFinite(i)?i:e,o=Number(u[t+1])||r;n.forEach((e=>{e.endTime=o}))}))})({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:i,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const t of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(t));this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart?this.contentSteeringController_.requestSteeringManifest(!0):this.tech_.one("canplay",(()=>{this.contentSteeringController_.requestSteeringManifest()}))}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach((e=>{this.contentSteeringController_.on(e,(e=>{this.trigger(p({},e))}))})),"dash"===this.sourceType_&&this.mainPlaylistLoader_.on("loadedplaylist",(()=>{const e=this.main();(this.contentSteeringController_.didDASHTagChange(e.uri,e.contentSteering)||(()=>{const t=this.contentSteeringController_.getAvailablePathways(),n=[];for(const i of e.playlists){const e=i.attributes.serviceLocation;if(e&&(n.push(e),!t.has(e)))return!0}return!(n.length||!t.size)})())&&this.resetContentSteeringController_()}))}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const t=this.main().playlists,n=new Set;let i=!1;Object.keys(t).forEach((r=>{const o=t[r],s=this.pathwayAttribute_(o),a=s&&e!==s;o.excludeUntil===1/0&&"content-steering"===o.lastExcludeReason_&&!a&&(delete o.excludeUntil,delete o.lastExcludeReason_,i=!0);const l=!o.excludeUntil&&o.excludeUntil!==1/0;!n.has(o.id)&&a&&l&&(n.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))})),"DASH"===this.contentSteeringController_.manifestType_&&Object.keys(this.mediaTypes_).forEach((t=>{const n=this.mediaTypes_[t];if(n.activePlaylistLoader){const t=n.activePlaylistLoader.media_;t&&t.attributes.serviceLocation!==e&&(i=!0)}})),i&&this.changeSegmentPathway_()}handlePathwayClones_(){const e=this.main().playlists,t=this.contentSteeringController_.currentPathwayClones,n=this.contentSteeringController_.nextPathwayClones;if(t&&t.size||n&&n.size){for(const[e,i]of t.entries())n.get(e)||(this.mainPlaylistLoader_.updateOrDeleteClone(i),this.contentSteeringController_.excludePathway(e));for(const[i,r]of n.entries()){const n=t.get(i);n?this.equalPathwayClones_(n,r)||(this.mainPlaylistLoader_.updateOrDeleteClone(r,!0),this.contentSteeringController_.addAvailablePathway(i)):(e.filter((e=>e.attributes["PATHWAY-ID"]===r["BASE-ID"])).forEach((e=>{this.mainPlaylistLoader_.addClonePathway(r,e)})),this.contentSteeringController_.addAvailablePathway(i))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...n])))}}equalPathwayClones_(e,t){if(e["BASE-ID"]!==t["BASE-ID"]||e.ID!==t.ID||e["URI-REPLACEMENT"].HOST!==t["URI-REPLACEMENT"].HOST)return!1;const n=e["URI-REPLACEMENT"].PARAMS,i=t["URI-REPLACEMENT"].PARAMS;for(const e in n)if(n[e]!==i[e])return!1;for(const e in i)if(n[e]!==i[e])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),"DASH"===this.contentSteeringController_.manifestType_&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const t="non-usable";this.mainPlaylistLoader_.main.playlists.forEach((n=>{const i=this.mainPlaylistLoader_.getKeyIdSet(n);i&&i.size&&i.forEach((i=>{const r="usable",o=this.keyStatusMap_.has(i)&&this.keyStatusMap_.get(i)===r,s=n.lastExcludeReason_===t&&n.excludeUntil===1/0;o?o&&s&&(delete n.excludeUntil,delete n.lastExcludeReason_,this.logger_(`enabling playlist ${n.id} because key ID ${i} is ${r}`)):(n.excludeUntil!==1/0&&n.lastExcludeReason_!==t&&(n.excludeUntil=1/0,n.lastExcludeReason_=t,this.logger_(`excluding playlist ${n.id} because the key ID ${i} doesn't exist in the keyStatusMap or is not ${r}`)),e++)}))})),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach((e=>{const n=e&&e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height<720,i=e.excludeUntil===1/0&&e.lastExcludeReason_===t;n&&i&&(delete e.excludeUntil,Ps.log.warn(`enabling non-HD playlist ${e.id} because all playlists were excluded due to ${t} key IDs`))}))}addKeyStatus_(e,t){const n=("string"==typeof e?e:(e=>{const t=new Uint8Array(e);return Array.from(t).map((e=>e.toString(16).padStart(2,"0"))).join("")})(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${t}' with key ID ${n} added to the keyStatusMap`),this.keyStatusMap_.set(n,t)}updatePlaylistByKeyStatus(e,t){this.addKeyStatus_(e,t),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}class Dc{constructor(e,t,n){const{playlistController_:i}=e,r=i.fastQualityChange_.bind(i);if(t.attributes){const e=t.attributes.RESOLUTION;this.width=e&&e.width,this.height=e&&e.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]}var o,s,a;this.codecs=bl(i.main(),t),this.playlist=t,this.id=n,this.enabled=(o=e.playlists,s=t.id,a=r,e=>{const t=o.main.playlists[s],n=ia(t),i=ra(t);if(void 0===e)return i;e?delete t.disabled:t.disabled=!0;const r={renditionInfo:{id:s,bandwidth:t.attributes.BANDWIDTH,resolution:t.attributes.RESOLUTION,codecs:t.attributes.CODECS},cause:"fast-quality"};return e===i||n||(a(t),e?o.trigger({type:"renditionenabled",metadata:r}):o.trigger({type:"renditiondisabled",metadata:r})),e})}}const Rc=["seeking","seeked","pause","playing","error"];class Mc extends Ps.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Ms("PlaybackWatcher"),this.logger_("initialize");const t=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),o=()=>this.resetTimeUpdate_(),s=this.playlistController_,a=["main","subtitle","audio"],l={};a.forEach((e=>{l[e]={reset:()=>this.resetSegmentDownloads_(e),updateend:()=>this.checkSegmentDownloads_(e)},s[`${e}SegmentLoader_`].on("appendsdone",l[e].updateend),s[`${e}SegmentLoader_`].on("playlistupdate",l[e].reset),this.tech_.on(["seeked","seeking"],l[e].reset)}));const c=e=>{["main","audio"].forEach((t=>{s[`${t}SegmentLoader_`][e]("appended",this.seekingAppendCheck_)}))};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=()=>c("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(Rc,o),this.tech_.on("canplay",n),this.tech_.one("play",t),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(Rc,o),this.tech_.off("canplay",n),this.tech_.off("play",t),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach((e=>{s[`${e}SegmentLoader_`].off("appendsdone",l[e].updateend),s[`${e}SegmentLoader_`].off("playlistupdate",l[e].reset),this.tech_.off(["seeked","seeking"],l[e].reset)})),this.checkCurrentTimeTimeout_&&r().clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&r().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=r().setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const t=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=t.buffered_()}checkSegmentDownloads_(e){const t=this.playlistController_,n=t[`${e}SegmentLoader_`],i=n.buffered_(),r=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1}(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,r){const n={bufferedRanges:i};return t.trigger({type:"bufferedrangeschanged",metadata:n}),void this.resetSegmentDownloads_(e)}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:$s(i)}),this[`${e}StalledDownloads_`]<10||(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),"subtitle"!==e&&t.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+Bs>=t.end(t.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(js([this.lastRecordedTime,e]));const t={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:t}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const e=this.seekable(),t=this.tech_.currentTime();let n;if(this.afterSeekableWindow_(e,t,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(n=e.end(e.length-1)),this.beforeSeekableWindow_(e,t)){const t=e.start(0);n=t+(t===e.end(0)?0:Bs)}if(void 0!==n)return this.logger_(`Trying to seek outside of seekable at time ${t} with seekable range ${Hs(e)}. Seeking to ${n}.`),this.tech_.setCurrentTime(n),!0;const i=this.playlistController_.sourceUpdater_,r=this.tech_.buffered(),o=i.audioBuffer?i.audioBuffered():null,s=i.videoBuffer?i.videoBuffered():null,a=this.media(),l=a.partTargetDuration?a.partTargetDuration:2*(a.targetDuration-Fs),c=[o,s];for(let e=0;e<c.length;e++)if(c[e]&&Ws(c[e],t)<l)return!1;const u=Vs(r,t);return 0!==u.length&&(n=u.start(0)+Bs,this.logger_(`Buffered region starts (${u.start(0)})  just beyond seek point (${t}). Seeking to ${n}.`),this.tech_.setCurrentTime(n),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),t=this.tech_.buffered(),n=qs(t,e);return n.length&&e+3<=n.end(0)?(this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),void this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"})):void 0}techWaiting_(){const e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,t)){const n=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${t}. Seeking to live point (seekable end) ${n}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:t}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const r=Vs(i,t);return r.length>0&&(this.logger_(`Stopped at ${t} and seeking to ${r.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(t),!0)}afterSeekableWindow_(e,t,n,i=!1){if(!e.length)return!1;let r=e.end(e.length-1)+Bs;const o=!n.endList,s="number"==typeof n.partTargetDuration;return o&&(s||i)&&(r=e.end(e.length-1)+3*n.targetDuration),t>r}beforeSeekableWindow_(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:t,currentTime:n}){if(!e)return;let i;if(e.length&&t.length){const r=qs(e,n-3),o=qs(e,n),s=qs(t,n);s.length&&!o.length&&r.length&&(i={start:r.end(0),end:s.end(0)})}else Vs(e,n).length||(i=this.gapFromVideoUnderflow_(e,n));return!!i&&(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${n}`),!0)}skipTheGap_(e){const t=this.tech_.buffered(),n=this.tech_.currentTime(),i=Vs(t,n);if(this.resetTimeUpdate_(),0===i.length||n!==e)return;this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+Fs);const r={gapInfo:{from:n,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:r}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,t){const n=function(e){if(e.length<2)return js();const t=[];for(let n=1;n<e.length;n++){const i=e.end(n-1),r=e.start(n);t.push([i,r])}return js(t)}(e);for(let e=0;e<n.length;e++){const i=n.start(e),r=n.end(e);if(t-i<4&&t-i>2)return{start:i,end:r}}return null}}const Nc={errorInterval:30,getSource(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},jc=function(e,t){let n=0,i=0;const r=Ns(Nc,t);e.ready((()=>{e.trigger({type:"usage",name:"vhs-error-reload-initialized"})}));const o=function(){i&&e.currentTime(i)},s=function(t){null!=t&&(i=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",o),e.src(t),e.trigger({type:"usage",name:"vhs-error-reload"}),e.play())},a=function(){if(Date.now()-n<1e3*r.errorInterval)e.trigger({type:"usage",name:"vhs-error-reload-canceled"});else{if(r.getSource&&"function"==typeof r.getSource)return n=Date.now(),r.getSource.call(e,s);Ps.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},l=function(){e.off("loadedmetadata",o),e.off("error",a),e.off("dispose",l)};e.on("error",a),e.on("dispose",l),e.reloadSourceOnError=function(t){l(),jc(e,t)}};var Fc="3.13.1";const Bc={PlaylistLoader:Ca,Playlist:ua,utils:Fa,STANDARD_PLAYLIST_SELECTOR:xl,INITIAL_PLAYLIST_SELECTOR:function(){const e=this.playlists.main.playlists.filter(ua.isEnabled);return Sl(e,((e,t)=>El(e,t))),e.filter((e=>!!bl(this.playlists.main,e).video))[0]||null},lastBandwidthSelector:xl,movingAverageBandwidthSelector:function(e){let t=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let i=this.useDevicePixelRatio&&r().devicePixelRatio||1;return isNaN(this.customPixelRatio)||(i=this.customPixelRatio),t<0&&(t=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(t=e*this.systemBandwidth+(1-e)*t,n=this.systemBandwidth),Tl(this.playlists.main,t,parseInt(kl(this.tech_.el(),"width"),10)*i,parseInt(kl(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.playlistController_)}},comparePlaylistBandwidth:El,comparePlaylistResolution:function(e,t){let n,i;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||r().Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||r().Number.MAX_VALUE,n===i&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},xhr:Aa()};Object.keys(Ga).forEach((e=>{Object.defineProperty(Bc,e,{get(){return Ps.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),Ga[e]},set(t){Ps.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),"number"!=typeof t||t<0?Ps.log.warn(`value of Vhs.${e} must be greater than or equal to 0`):Ga[e]=t}})}));const Uc="videojs-vhs",qc=function(e,t){const n=t.media();let i=-1;for(let t=0;t<e.length;t++)if(e[t].id===n.id){i=t;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})};Bc.canPlaySource=function(){return Ps.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const Vc=()=>{if(!r().localStorage)return null;const e=r().localStorage.getItem(Uc);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},Hc=(e,t)=>{e._requestCallbackSet||(e._requestCallbackSet=new Set),e._requestCallbackSet.add(t)},$c=(e,t)=>{e._responseCallbackSet||(e._responseCallbackSet=new Set),e._responseCallbackSet.add(t)},zc=(e,t)=>{e._requestCallbackSet&&(e._requestCallbackSet.delete(t),e._requestCallbackSet.size||delete e._requestCallbackSet)},Wc=(e,t)=>{e._responseCallbackSet&&(e._responseCallbackSet.delete(t),e._responseCallbackSet.size||delete e._responseCallbackSet)};Bc.supportsNativeHls=function(){if(!s()||!s().createElement)return!1;const e=s().createElement("video");return!!Ps.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),Bc.supportsNativeDash=!!(s()&&s().createElement&&Ps.getTech("Html5").isSupported())&&/maybe|probably/i.test(s().createElement("video").canPlayType("application/dash+xml")),Bc.supportsTypeNatively=e=>"hls"===e?Bc.supportsNativeHls:"dash"===e&&Bc.supportsNativeDash,Bc.isSupported=function(){return Ps.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")},Bc.xhr.onRequest=function(e){Hc(Bc.xhr,e)},Bc.xhr.onResponse=function(e){$c(Bc.xhr,e)},Bc.xhr.offRequest=function(e){zc(Bc.xhr,e)},Bc.xhr.offResponse=function(e){Wc(Bc.xhr,e)};const Gc=Ps.getComponent("Component");class Kc extends Gc{constructor(e,t,n){if(super(t,n.vhs),"number"==typeof n.initialBandwidth&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=Ms("VhsHandler"),t.options_&&t.options_.playerId){const e=Ps.getPlayer(t.options_.playerId);this.player_=e}if(this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(s(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(e=>{const t=s().fullscreenElement||s().webkitFullscreenElement||s().mozFullScreenElement||s().msFullscreenElement;t&&t.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()})),this.on(this.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),this.on(this.tech_,"error",(function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()})),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Ns(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=!1!==this.options_.llhls,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,"number"!=typeof this.options_.playlistExclusionDuration&&(this.options_.playlistExclusionDuration=60),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){const e=Vc();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Ga.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ga.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach((e=>{void 0!==this.source_[e]&&(this.options_[e]=this.source_[e])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const t=this.options_.customPixelRatio;"number"==typeof t&&t>=0&&(this.customPixelRatio=t)}setOptions(e={}){this.setOptions_(e)}src(e,t){if(!e)return;var n;this.setOptions_(),this.options_.src=0===(n=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(n.substring(n.indexOf(",")+1)):n,this.options_.tech=this.tech_,this.options_.externVhs=Bc,this.options_.sourceType=V(t),this.options_.seekTo=e=>{this.tech_.setCurrentTime(e)},this.options_.player_=this.player_,this.playlistController_=new Lc(this.options_);const i=Ns({liveRangeSafeTimeDelta:Bs},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new Mc(i),this.attachStreamingEventListeners_(),this.playlistController_.on("error",(()=>{const e=Ps.players[this.tech_.options_.playerId];let t=this.playlistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));const o=this.options_.bufferBasedABR?Bc.movingAverageBandwidthSelector(.55):Bc.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):o.bind(this),this.playlistController_.selectInitialPlaylist=Bc.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(e){this.playlistController_.selectPlaylist=e.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(e){this.playlistController_.mainSegmentLoader_.throughput.rate=e,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let e=this.playlistController_.mainSegmentLoader_.bandwidth;const t=r().navigator.connection||r().navigator.mozConnection||r().navigator.webkitConnection,n=1e7;if(this.options_.useNetworkInformationApi&&t){const i=1e3*t.downlink*1e3;e=i>=n&&e>=n?Math.max(e,i):i}return e},set(e){this.playlistController_.mainSegmentLoader_.bandwidth=e,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const e=1/(this.bandwidth||1);let t;return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set(){Ps.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>$s(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>$s(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",(()=>{this.options_.useBandwidthFromLocalStorage&&(e=>{if(!r().localStorage)return!1;let t=Vc();t=t?Ns(t,e):e;try{r().localStorage.setItem(Uc,JSON.stringify(t))}catch(e){return!1}})({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})})),this.playlistController_.on("selectedinitialmedia",(()=>{var e;(e=this).representations=()=>{const t=e.playlistController_.main(),n=ca(t)?e.playlistController_.getAudioTrackPlaylists_():t.playlists;return n?n.filter((e=>!ia(e))).map(((t,n)=>new Dc(e,t,t.id))):[]}})),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",(()=>{this.setupEme_()})),this.on(this.playlistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.playlistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=r().URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),(({player:e,sourceKeySystems:t,audioMedia:n,mainPlaylists:i})=>{if(!e.eme.initializeMediaKeys)return Promise.resolve();const r=(a=n?i.concat([n]):i,l=Object.keys(t),a.reduce(((e,t)=>{if(!t.contentProtection)return e;const n=l.reduce(((e,n)=>{const i=t.contentProtection[n];return i&&i.pssh&&(e[n]={pssh:i.pssh}),e}),{});return Object.keys(n).length&&e.push(n),e}),[])),o=[],s=[];var a,l;return r.forEach((t=>{s.push(new Promise(((t,n)=>{e.tech_.one("keysessioncreated",t)}))),o.push(new Promise(((n,i)=>{e.eme.initializeMediaKeys({keySystems:t},(e=>{e?i(e):n()}))})))})),Promise.race([Promise.all(o),Promise.race(s)])})({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then((()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()})).catch((e=>{this.logger_("error while creating EME key session",e),this.player_.error({message:"Failed to initialize media keys for EME",code:3})}))}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,t=(({player:e,sourceKeySystems:t,media:n,audioMedia:i})=>{const r=((e,t,n)=>{if(!e)return e;let i={};t&&t.attributes&&t.attributes.CODECS&&(i=yl(R(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);const r=N(i.video),o=N(i.audio),s={};for(const n in e)s[n]={},o&&(s[n].audioContentType=o),r&&(s[n].videoContentType=r),t.contentProtection&&t.contentProtection[n]&&t.contentProtection[n].pssh&&(s[n].pssh=t.contentProtection[n].pssh),"string"==typeof e[n]&&(s[n].url=e[n]);return Ns(e,s)})(t,n,i);return!(!r||(e.currentSource().keySystems=r,r&&!e.eme&&(Ps.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1)))})({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});this.player_.tech_.on("keystatuschange",(e=>{this.playlistController_.updatePlaylistByKeyStatus(e.keyId,e.status)})),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),t?this.createKeySessions_():this.playlistController_.sourceUpdater_.initializedEme()}setupQualityLevels_(){const e=Ps.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",(()=>{!function(e,t){t.representations().forEach((t=>{e.addQualityLevel(t)})),qc(e,t.playlists)}(this.qualityLevels_,this)})),this.playlists.on("mediachange",(()=>{qc(this.qualityLevels_,this.playlists)})))}static version(){return{"@videojs/http-streaming":Fc,"mux.js":"7.0.3","mpd-parser":"1.3.0","m3u8-parser":"7.1.0","aes-decrypter":"4.0.1"}}version(){return this.constructor.version()}canChangeType(){return rc.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&r().URL.revokeObjectURL&&(r().URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,t){return(({playlist:e,time:t,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===t)return n({message:"getProgramTime: playlist and time must be provided"});const i=((e,t)=>{if(!t||!t.segments||0===t.segments.length)return null;let n,i=0;for(let r=0;r<t.segments.length&&(n=t.segments[r],i=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration,!(e<=i));r++);const r=t.segments[t.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+.25*r.duration)return null;n=r}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}})(t,e);if(!i)return n({message:"valid programTime was not found"});if("estimate"===i.type)return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});const r={mediaSeconds:t},o=((e,t)=>{if(!t.dateTimeObject)return null;const n=t.videoTimingInfo.transmuxerPrependedSeconds,i=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*i)})(t,i.segment);return o&&(r.programDateTime=o.toISOString()),n(null,r)})({playlist:this.playlistController_.media(),time:e,callback:t})}seekToProgramTime(e,t,n=!0,i=2){return Ba({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}setupXhrHooks_(){this.xhr.onRequest=e=>{Hc(this.xhr,e)},this.xhr.onResponse=e=>{$c(this.xhr,e)},this.xhr.offRequest=e=>{zc(this.xhr,e)},this.xhr.offResponse=e=>{Wc(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach((e=>{this.playlistController_.on(e,(e=>{this.player_.trigger(p({},e))}))})),["gapjumped","playedrangeschanged"].forEach((e=>{this.playbackWatcher_.on(e,(e=>{this.player_.trigger(p({},e))}))}))}}const Yc={name:"videojs-http-streaming",VERSION:Fc,canHandleSource(e,t={}){const n=Ns(Ps.options,t);return Yc.canPlayType(e.type,n)},handleSource(e,t,n={}){const i=Ns(Ps.options,n);return t.vhs=new Kc(e,t,i),t.vhs.xhr=Aa(),t.vhs.setupXhrHooks_(),t.vhs.src(e.src,e.type),t.vhs},canPlayType(e,t){const n=V(e);if(!n)return"";const i=Yc.getOverrideNative(t);return!Bc.supportsTypeNatively(n)||i?"maybe":""},getOverrideNative(e={}){const{vhs:t={}}=e,n=!(Ps.browser.IS_ANY_SAFARI||Ps.browser.IS_IOS),{overrideNative:i=n}=t;return i}};j("avc1.4d400d,mp4a.40.2")&&Ps.getTech("Html5").registerSourceHandler(Yc,0),Ps.VhsHandler=Kc,Ps.VhsSourceHandler=Yc,Ps.Vhs=Bc,Ps.use||Ps.registerComponent("Vhs",Bc),Ps.options.vhs=Ps.options.vhs||{},Ps.getPlugin&&Ps.getPlugin("reloadSourceOnError")||Ps.registerPlugin("reloadSourceOnError",(function(e){jc(this,e)}))},3407:function(e,t,n){var i=n(8908),r=e.exports={WebVTT:n(3706),VTTCue:n(2230),VTTRegion:n(3710)};i.vttjs=r,i.WebVTT=r.WebVTT;var o=r.VTTCue,s=r.VTTRegion,a=i.VTTCue,l=i.VTTRegion;r.shim=function(){i.VTTCue=o,i.VTTRegion=s},r.restore=function(){i.VTTCue=a,i.VTTRegion=l},i.VTTCue||r.shim()},3706:function(e,t,n){var i=n(9144),r=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function o(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function s(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function a(){this.values=r(null)}function l(e,t,n,i){var r=i?e.split(i):[e];for(var o in r)if("string"==typeof r[o]){var s=r[o].split(n);2===s.length&&t(s[0].trim(),s[1].trim())}}function c(e,t,n){var i=e;function r(){var t=s(e);if(null===t)throw new o(o.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=r(),c(),"--\x3e"!==e.substr(0,3))throw new o(o.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),c(),t.endTime=r(),c(),function(e,t){var i=new a;l(e,(function(e,t){switch(e){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===t){i.set(e,n[r].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),s=o[0];i.integer(e,s),i.percent(e,s)&&i.set("snapToLines",!1),i.alt(e,s,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=t.split(","),i.percent(e,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start","center","end"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");try{t.line=i.get("line","auto")}catch(e){}t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100);try{t.align=i.get("align","center")}catch(e){t.align=i.get("align","middle")}try{t.position=i.get("position","auto")}catch(e){t.position=i.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=i.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}o.prototype=r(Error.prototype),o.prototype.constructor=o,o.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var u=i.createElement&&i.createElement("textarea"),h={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},d={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},p={v:"title",lang:"lang"},f={rt:"ruby"};function m(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function i(e,t){return!f[t.localName]||f[t.localName]===e.localName}function r(t,n){var i=h[t];if(!i)return null;var r=e.document.createElement(i),o=p[t];return o&&n&&(r[o]=n.trim()),r}for(var o,a,l=e.document.createElement("div"),c=l,m=[];null!==(o=n());)if("<"!==o[0])c.appendChild(e.document.createTextNode((a=o,u.innerHTML=a,a=u.textContent,u.textContent="",a)));else{if("/"===o[1]){m.length&&m[m.length-1]===o.substr(2).replace(">","")&&(m.pop(),c=c.parentNode);continue}var g,y=s(o.substr(1,o.length-2));if(y){g=e.document.createProcessingInstruction("timestamp",y),c.appendChild(g);continue}var v=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v)continue;if(!(g=r(v[1],v[3])))continue;if(!i(c,g))continue;if(v[2]){var b=v[2].split(".");b.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(d.hasOwnProperty(n)){var i=t?"background-color":"color",r=d[n];g.style[i]=r}})),g.className=b.join(" ")}m.push(v[1]),c.appendChild(g),c=g}return l}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function y(e){for(var t=0;t<g.length;t++){var n=g[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function v(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function i(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function r(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):n}return"ruby"===t.tagName?r(e):t.childNodes?(i(e,t),r(e)):void 0}for(i(t,e);n=r(t);)for(var o=0;o<n.length;o++)if(y(n.charCodeAt(o)))return"rtl";return"ltr"}function b(){}function _(e,t,n){b.call(this),this.cue=t,this.cueDiv=m(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:v(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":case"line-left":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":case"line-right":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function w(e){var t,n,i,r;if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,r=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||n,this.bottom=e.bottom||r+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight}function k(e,t,n,i){var r=new w(t),o=t.cue,s=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}(o),a=[];if(o.snapToLines){var l;switch(o.vertical){case"":a=["+y","-y"],l="height";break;case"rl":a=["+x","-x"],l="width";break;case"lr":a=["-x","+x"],l="width"}var c=r.lineHeight,u=c*Math.round(s),h=n[l]+c,d=a[0];Math.abs(u)>h&&(u=u<0?-1:1,u*=Math.ceil(h/c)*c),s<0&&(u+=""===o.vertical?n.height:n.width,a=a.reverse()),r.move(d,u)}else{var p=r.lineHeight/n.height*100;switch(o.lineAlign){case"center":s-=p/2;break;case"end":s-=p}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}a=["+y","-x","+x","-y"],r=new w(t)}var f=function(e,t){for(var r,o=new w(e),s=1,a=0;a<t.length;a++){for(;e.overlapsOppositeAxis(n,t[a])||e.within(n)&&e.overlapsAny(i);)e.move(t[a]);if(e.within(n))return e;var l=e.intersectPercentage(n);s>l&&(r=new w(e),s=l),e=new w(o)}return r||o}(r,a);t.move(f.toCSSCompatValues(n))}function S(){}b.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},b.prototype.formatStyle=function(e,t){return 0===e?0:e+t},_.prototype=r(b.prototype),_.prototype.constructor=_,w.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},w.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},w.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},w.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},w.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},w.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},w.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},w.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},S.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},S.convertCueToDOMTree=function(e,t){return e&&t?m(e,t):null},S.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],o=w.getSimpleBoxPosition(i),s={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,a,l=0;l<t.length;l++)a=t[l],n=new _(e,a,s),i.appendChild(n.div),k(0,n,o,r),a.displayState=n.div,r.push(w.getSimpleBoxPosition(n))}()}else for(var a=0;a<t.length;a++)i.appendChild(t[a].displayState)},S.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},S.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof o))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t,n=this;function i(){for(var e=n.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),i}e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{var r;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var u=(r=i()).match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new o(o.Errors.BadSignature);n.state="HEADER"}for(var h=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(h?h=!1:r=i(),n.state){case"HEADER":/:/.test(r)?(t=r).match(/X-TIMESTAMP-MAP/)?l(t,(function(e,t){"X-TIMESTAMP-MAP"===e&&function(e){var t=new a;l(e,(function(e,n){switch(e){case"MPEGT":t.integer(e+"S",n);break;case"LOCA":t.set(e+"L",s(n))}}),/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}(t)}),/=/):l(t,(function(e,t){"Region"===e&&function(e){var t=new a;if(l(e,(function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var r=new a;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;t.set(e+"X",r.get("x")),t.set(e+"Y",r.get("y"));break;case"scroll":t.alt(e,n,["up"])}}),/=/,/\s/),t.has("id")){var i=new(n.vttjs.VTTRegion||n.window.VTTRegion);i.width=t.get("width",100),i.lines=t.get("lines",3),i.regionAnchorX=t.get("regionanchorX",0),i.regionAnchorY=t.get("regionanchorY",100),i.viewportAnchorX=t.get("viewportanchorX",0),i.viewportAnchorY=t.get("viewportanchorY",100),i.scroll=t.get("scroll",""),n.onregion&&n.onregion(i),n.regionList.push({id:t.get("id"),region:i})}}(t)}),/:/):r||(n.state="ID");continue;case"NOTE":r||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){n.state="NOTE";break}if(!r)continue;n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,"");try{n.cue.align="center"}catch(e){n.cue.align="middle"}if(n.state="CUE",-1===r.indexOf("--\x3e")){n.cue.id=r;continue}case"CUE":try{c(r,n.cue,n.regionList)}catch(e){n.reportOrThrowError(e),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var d=-1!==r.indexOf("--\x3e");if(!r||d&&(h=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(n.state="ID");continue}}}catch(e){n.reportOrThrowError(e),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new o(o.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=S},2230:function(e){var t={"":1,lr:1,rl:1},n={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function i(e){return"string"==typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}function r(e,n,r){this.hasBeenReset=!1;var o="",s=!1,a=e,l=n,c=r,u=null,h="",d=!0,p="auto",f="start",m="auto",g="auto",y=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return o},set:function(e){o=""+e}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(e){s=!!e}},startTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");a=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(e){u=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return h},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===n)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");h=n,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(e){d=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");p=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(e){var t=i(e);t?(f=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=i(e);t?(g=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(e){var t=i(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=t,this.hasBeenReset=!0}}}),this.displayState=void 0}r.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=r},3710:function(e){var t={"":!0,up:!0};function n(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,i=3,r=0,o=100,s=0,a=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!n(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");i=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!n(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!n(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!n(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(e){if(!n(e))throw new Error("ViewportAnchorX must be between 0 and 100.");s=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);!1===n?console.warn("Scroll: an invalid or illegal string was specified."):l=n}}})}},2480:function(){},5893:function(){},4293:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdO={},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var __webpack_exports__={};!function(){"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{ACCESS_TOKEN_STORAGE_KEY:function(){return me},CACHE_STORAGE_NAME:function(){return ce},DEFAULT_CACHE_DURATION:function(){return ae},DEFAULT_CODE_CHALLENGE_METHOD:function(){return we},DEFAULT_MAX_CLOCK_SKEW:function(){return se},DEFAULT_POLLING_DELAY:function(){return oe},IDX_API_VERSION:function(){return ke},IDX_RESPONSE_STORAGE_NAME:function(){return fe},ID_TOKEN_STORAGE_KEY:function(){return ge},MAX_VERIFIER_LENGTH:function(){return _e},MIN_VERIFIER_LENGTH:function(){return be},ORIGINAL_URI_STORAGE_NAME:function(){return pe},PKCE_STORAGE_NAME:function(){return ue},REFERRER_PATH_STORAGE_KEY:function(){return ve},REFRESH_TOKEN_STORAGE_KEY:function(){return ye},SHARED_TRANSACTION_STORAGE_NAME:function(){return de},STATE_TOKEN_KEY_NAME:function(){return re},TOKEN_STORAGE_NAME:function(){return le},TRANSACTION_STORAGE_NAME:function(){return he}});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{AuthenticatorEnrollmentData:function(){return tn},AuthenticatorVerificationData:function(){return en},ChallengeAuthenticator:function(){return Ut},ChallengePoll:function(){return qt},EnrollAuthenticator:function(){return Nt},EnrollPoll:function(){return jt},EnrollProfile:function(){return Ht},EnrollmentChannelData:function(){return Bt},GenericRemediator:function(){return dt},Identify:function(){return $t},ReEnrollAuthenticator:function(){return zt},ReEnrollAuthenticatorWarning:function(){return Wt},RedirectIdp:function(){return Gt},Remediator:function(){return ut},ResetAuthenticator:function(){return Vt},SelectAuthenticatorAuthenticate:function(){return Yt},SelectAuthenticatorEnroll:function(){return Xt},SelectAuthenticatorUnlockAccount:function(){return Jt},SelectEnrollProfile:function(){return Qt},SelectEnrollmentChannel:function(){return Ft},Skip:function(){return nn}});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{getUserAgent:function(){return Mn},hasTextEncoder:function(){return Un},isBrowser:function(){return Dn},isDPoPSupported:function(){return $n},isFingerprintSupported:function(){return Nn},isHTTPS:function(){return Vn},isIE11OrLess:function(){return Rn},isLocalhost:function(){return Hn},isPKCESupported:function(){return qn},isPopupPostMessageSupported:function(){return jn},isTokenVerifySupported:function(){return Bn}});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{atob:function(){return An},base64ToBase64Url:function(){return Jn},base64UrlDecode:function(){return ti},base64UrlToBase64:function(){return Qn},base64UrlToBuffer:function(){return ni},base64UrlToString:function(){return Zn},btoa:function(){return On},bufferToBase64Url:function(){return ii},getOidcHash:function(){return ri},stringToBase64Url:function(){return Xn},stringToBuffer:function(){return ei},verifyToken:function(){return oi},webcrypto:function(){return In}});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{buildCredentialCreationOptions:function(){return po},buildCredentialRequestOptions:function(){return fo},getAssertion:function(){return go},getAttestation:function(){return mo}});var o={};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,l(i.key),i)}}function l(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}__webpack_require__.r(o),__webpack_require__.d(o,{addEmail:function(){return Ko},addPhone:function(){return ns},deleteEmail:function(){return Yo},deletePassword:function(){return us},deletePhone:function(){return is},enrollPassword:function(){return ls},getEmail:function(){return Go},getEmailChallenge:function(){return Jo},getEmails:function(){return Wo},getPassword:function(){return as},getPhone:function(){return ts},getPhones:function(){return es},getProfile:function(){return Uo},getProfileSchema:function(){return Vo},sendEmailChallenge:function(){return Xo},sendPhoneChallenge:function(){return rs},updatePassword:function(){return cs},updateProfile:function(){return qo},verifyEmailChallenge:function(){return Qo},verifyPhoneChallenge:function(){return os}});var c=function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init(),window.addEventListener("loadJavascriptModules",(function(){t.init()})),window.addEventListener("resize",(function(){t.init()})),this.isHoverableDevice=window.matchMedia("(hover: hover) and (pointer: fine)")},(t=[{key:"init",value:function(){var e=this;document.querySelectorAll("[".concat("data-dynamic-truncation","]")).forEach((function(t){var n=e.setLineClamp(t);t.style.setProperty("--lineClamp",n.lineClamp),t.style.setProperty("--height","".concat(n.scrollHeight,"px")),t.style.setProperty("--lineHeight","".concat(n.lineHeight,"px")),t.setAttribute("data-needs-truncation",n.needsTruncation),t.setAttribute("data-truncation-element-is-too-short-for-1-line",n.tooShort),t.setAttribute("data-truncation-visible-percentage-of-text",Math.round(n.availableHeight/n.scrollHeight*100)+"%"),t.closest("[data-truncation-hoverable-parent]")&&t.closest("[data-truncation-hoverable-parent]").addEventListener("mouseenter",(function(){t.closest("[data-truncation-direct-parent]")&&t.closest("[data-truncation-direct-parent]").addEventListener("transitionend",(function(){var n=e.setLineClamp(t);t.style.setProperty("--lineClamp",n.lineClamp),t.style.setProperty("--height","".concat(n.scrollHeight,"px")),t.style.setProperty("--lineHeight","".concat(n.lineHeight,"px")),t.setAttribute("data-needs-truncation",n.needsTruncation),t.setAttribute("data-truncation-element-is-too-short-for-1-line",n.tooShort),t.setAttribute("data-truncation-visible-percentage-of-text",Math.round(n.availableHeight/n.scrollHeight*100)+"%")}))}))}))}},{key:"setLineClamp",value:function(e){var t=window.getComputedStyle(e),n=t.maxHeight,i=t.fontSize,r=t.lineHeight,o=0,s=e.getBoundingClientRect().height,a="auto",l=!1;if(e.classList.contains("Promo-title")&&(s=e.querySelector(".Link").getBoundingClientRect().height,a=e.querySelector(".Link").scrollHeight,Math.ceil(e.querySelector(".Link").scrollHeight)>Math.ceil(e.getBoundingClientRect().height)&&(l=!0)),e.classList.contains("Promo-description")&&(e.querySelector(".Promo-description-clamped").getBoundingClientRect().maxHeight=e.getBoundingClientRect().height,a=e.querySelector(".Promo-description-clamped").scrollHeight,Math.ceil(a)>Math.ceil(e.getBoundingClientRect().height)&&(l=!0)),i=parseFloat(t.fontSize),"normal"===r)r=1.2*i;else if(r.endsWith("px"))r=parseFloat(r);else{if(isNaN(parseFloat(r)))return[0,a,r,l];r=i*parseFloat(r)}return o=parseFloat(n)/r,isNaN(parseFloat(o))&&(o=s/r),o=Math.floor(o),this.isHoverableDevice||0!==o||(o=1),{lineClamp:o,availableHeight:s,scrollHeight:a,lineHeight:r,needsTruncation:l,tooShort:s<r}}}])&&a(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,d(i.key),i)}}function d(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}var p,f,m,g=function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init(),window.addEventListener("loadJavascriptModules",(function(){t.init()}))},(t=[{key:"init",value:function(){var e=document.querySelectorAll("[data-animate-on-scroll]"),t={threshold:.1},n=t;e.forEach((function(e){e.setAttribute("data-not-scrolled",!0)})),e.forEach((function(e){n=e.getAttribute("data-animatedOptions")?JSON.parse(e.getAttribute("data-animatedOptions")):t,new window.IntersectionObserver((function(e){e.forEach((function(e){var t=e.target;e.isIntersecting&&(t.removeAttribute("data-not-scrolled"),t.setAttribute("data-scrolled",!0))}))}),n).observe(e)}))}}])&&h(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function y(e){return e&&(e.key||e.id)}function v(){var e="undefined"!=typeof window?window.console:"undefined"!=typeof console?console:void 0;return e&&e.log?e:{log:function(){},warn:function(){},group:function(){},groupEnd:function(){}}}function b(e){v().warn("[okta-auth-sdk] WARN: "+e)}function _(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];null!=i&&(t[n]=i)}return t}function w(e){if(e){var t=JSON.stringify(e);if(t)return JSON.parse(t)}return e}function k(e,...t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&-1==t.indexOf(i)&&(n[i]=e[i]);return w(n)}function S(e,t){for(var n=e.length;n--;){var i=e[n],r=!0;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&i[o]!==t[o]){r=!1;break}if(r)return i}}function E(e,t,n){if(e&&e._links){var i=w(e._links[t]);return i&&i.name&&n?i.name===n?i:void 0:i}}!function(e){e.SUCCESS="SUCCESS",e.PENDING="PENDING",e.FAILURE="FAILURE",e.TERMINAL="TERMINAL",e.CANCELED="CANCELED"}(p||(p={})),function(e){e.OKTA_PASSWORD="okta_password",e.OKTA_EMAIL="okta_email",e.PHONE_NUMBER="phone_number",e.GOOGLE_AUTHENTICATOR="google_otp",e.SECURITY_QUESTION="security_question",e.OKTA_VERIFY="okta_verify",e.WEBAUTHN="webauthn"}(f||(f={})),function(e){e.PASSWORD_RECOVERY="recover-password",e.REGISTRATION="enroll-profile",e.SOCIAL_IDP="redirect-idp",e.ACCOUNT_UNLOCK="unlock-account"}(m||(m={}));class T extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}function x(e){return"[object String]"===Object.prototype.toString.call(e)}function C(e){return"[object Object]"===Object.prototype.toString.call(e)}function P(e){return!!e&&"[object Function]"==={}.toString.call(e)}class A extends T{constructor(e,t,n){var i;super(null!==(i=t.error)&&void 0!==i?i:A.UNKNOWN_ERROR),this.name="WWWAuthError",this.resp=null,this.scheme=e,this.parameters=t,n&&(this.resp=n)}get error(){return this.parameters.error}get errorCode(){return this.error}get error_description(){return this.parameters.error_description}get errorDescription(){return this.error_description}get errorSummary(){return this.errorDescription}get realm(){return this.parameters.realm}static parseHeader(e){var t;if(!e)return null;const n=/(?:,|, )?([a-zA-Z0-9!#$%&'*+\-.^_`|~]+)=(?:"([a-zA-Z0-9!#$%&'*+\-.,^_`|~ /:]+)"|([a-zA-Z0-9!#$%&'*+\-.^_`|~/:]+))/g,i=e.indexOf(" "),r=e.slice(0,i),o=e.slice(i+1),s={};let a;for(;null!==(a=n.exec(o));)s[a[1]]=null!==(t=a[2])&&void 0!==t?t:a[3];return new A(r,s)}static getWWWAuthenticateHeader(e={}){var t;return P(null==e?void 0:e.get)?e.get("WWW-Authenticate"):null!==(t=e["www-authenticate"])&&void 0!==t?t:e["WWW-Authenticate"]}}function O(e){for(var t="",n=0;n<e;++n)t+="abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[Math.floor(61*Math.random())];return t}function I(e){return new Promise((function(t){setTimeout(t,e)}))}function L(e,t){const n=e.split(t);return[n[0],n.splice(1,n.length).join(t)]}function D(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)}function R(e){var t=[];if(null!==e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&null!==e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.length?"?"+t.join("&"):""}function M(e){if(e){var t=e.replace(/^\s+|\s+$/gm,"");return t.replace(/\/+$/,"")}}A.UNKNOWN_ERROR="UNKNOWN_WWW_AUTH_ERROR";class N extends T{constructor(e,t){super(e),this.name="AuthSdkError",this.errorCode="INTERNAL",this.errorSummary=e,this.errorLink="INTERNAL",this.errorId="INTERNAL",this.errorCauses=[],t&&(this.xhr=t)}}function j(){return O(64)}function F(e,t={}){return M(t.issuer)||e.options.issuer}function B(e,t={}){const n=F(e,t);return n.indexOf("/oauth2")>0?n:n+"/oauth2"}function U(e,t){if(arguments.length>2)throw new N('As of version 3.0, "getOAuthUrls" takes only a single set of options');var n=M((t=t||{}).authorizeUrl)||e.options.authorizeUrl,i=F(e,t),r=M(t.userinfoUrl)||e.options.userinfoUrl,o=M(t.tokenUrl)||e.options.tokenUrl,s=M(t.logoutUrl)||e.options.logoutUrl,a=M(t.revokeUrl)||e.options.revokeUrl,l=B(e,t);return{issuer:i,authorizeUrl:n=n||l+"/v1/authorize",userinfoUrl:r=r||l+"/v1/userinfo",tokenUrl:o=o||l+"/v1/token",revokeUrl:a=a||l+"/v1/revoke",logoutUrl:s=s||l+"/v1/logout"}}function q(e,t){const n={issuer:e.options.issuer,urls:U(e,t),clientId:t.clientId,redirectUri:t.redirectUri,responseType:t.responseType,responseMode:t.responseMode,scopes:t.scopes,state:t.state,nonce:t.nonce,ignoreSignature:t.ignoreSignature,acrValues:t.acrValues};return!1===t.pkce?n:Object.assign(Object.assign({},n),{codeVerifier:t.codeVerifier,codeChallengeMethod:t.codeChallengeMethod,codeChallenge:t.codeChallenge})}var V=__webpack_require__(4279);function H(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}var $,z=function e(t,n){function i(e,i,r){if("undefined"!=typeof document){"number"==typeof(r=H({},n,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in r)r[s]&&(o+="; "+s,!0!==r[s]&&(o+="="+r[s].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+o}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},r=0;r<n.length;r++){var o=n[r].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(i[a]=t.read(s,a),e===a)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){i(e,"",H({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,H({},this.attributes,t))},withConverter:function(t){return e(H({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),W=__webpack_require__(4098),G=__webpack_require__.n(W);function K(e){return e&&e.accessToken}function Y(e){return e&&e.idToken}function X(e){return e&&e.refreshToken}async function J(e,t={}){const n=await e.token.prepareTokenParams(t),i=q(e,n);let{flow:r="default",withCredentials:o=!0,activationToken:s,recoveryToken:a,maxAge:l,acrValues:c}=Object.assign(Object.assign({},e.options),t);return Object.assign(Object.assign({},i),{flow:r,withCredentials:o,activationToken:s,recoveryToken:a,maxAge:l,acrValues:c})}function Q(e,t){const n=Z(e,t);return!!(null==n?void 0:n.interactionHandle)}function Z(e,t){let n;t=_(t),t=Object.assign(Object.assign({},e.options),t);try{n=e.transactionManager.load(t)}catch(e){}if(n)return ie(n,t)?n:void b("Saved transaction meta does not match the current configuration. This may indicate that two apps are sharing a storage key.")}async function ee(e,t){t=_(t);return Z(e,t=Object.assign(Object.assign({},e.options),t))||J(e,t)}function te(e,t){e.transactionManager.save(t,{muteWarning:!0})}function ne(e){e.transactionManager.clear()}function ie(e,t={}){if(!1===function(e,t){return!["issuer","clientId","redirectUri","state","codeChallenge","codeChallengeMethod","activationToken","recoveryToken"].some((n=>{const i=t[n];if(i&&i!==e[n])return!0}))}(e,t))return!1;const{flow:n}=t;return!1!==function(e,t){return!(t&&"default"!==t&&"proceed"!==t)||t===e.flow}(e,n)}!function(e){e.ACCESS="accessToken",e.ID="idToken",e.REFRESH="refreshToken"}($||($={}));const re="oktaStateToken",oe=500,se=300,ae=86400,le="okta-token-storage",ce="okta-cache-storage",ue="okta-pkce-storage",he="okta-transaction-storage",de="okta-shared-transaction-storage",pe="okta-original-uri-storage",fe="okta-idx-response-storage",me="accessToken",ge="idToken",ye="refreshToken",ve="referrerPath",be=43,_e=128,we="S256",ke="1.0.0";class Se extends T{constructor(e,t,n){super(e.errorSummary),this.name="AuthApiError",this.errorSummary=e.errorSummary,this.errorCode=e.errorCode,this.errorLink=e.errorLink,this.errorId=e.errorId,this.errorCauses=e.errorCauses,t&&(this.xhr=t),n&&(this.meta=n)}}class Ee extends T{constructor(e,t,n){super(t),this.resp=null,this.name="OAuthError",this.errorCode=e,this.errorSummary=t,this.error=e,this.error_description=t,n&&(this.resp=n)}}const Te=(e,t)=>{var n;if(t instanceof Error)return new Se({errorSummary:t.message});let i,r=t,o={};if(r.responseText&&x(r.responseText))try{o=JSON.parse(r.responseText)}catch(e){o={errorSummary:"Unknown error"}}r.status>=500&&(o.errorSummary="Unknown error"),e.options.transformErrorXHR&&(r=e.options.transformErrorXHR(w(r)));const s=null!==(n=A.getWWWAuthenticateHeader(null==r?void 0:r.headers))&&void 0!==n?n:"";if(i=o.error&&o.error_description?new Ee(o.error,o.error_description,r):new Se(o,r,{wwwAuthHeader:s}),s&&(null==r?void 0:r.status)>=400&&(null==r?void 0:r.status)<500){const e=A.parseHeader(s);if(403===r.status&&"insufficient_authentication_context"===(null==e?void 0:e.error)){const{max_age:t,acr_values:n}=e.parameters;i=new Se({errorSummary:e.error,errorCauses:[{errorSummary:e.errorDescription}]},r,Object.assign({max_age:+t},n&&{acr_values:n}))}else"DPoP"===(null==e?void 0:e.scheme)&&(i=e)}return i};function xe(e,t){if(t=t||{},e.options.httpRequestInterceptors)for(const n of e.options.httpRequestInterceptors)n(t);var n=t.url,i=t.method,r=t.args,o=t.saveAuthnState,s=t.accessToken,a=!0===t.withCredentials,l=e.options.storageUtil.storage,c=e.storageManager.getHttpCache(e.options.cookies);if(t.cacheResponse){var u=c.getStorage()[n];if(u&&Date.now()/1e3<u.expiresAt)return Promise.resolve(u.response)}var h=e._oktaUserAgent.getHttpHeader(),d=Object.assign({Accept:"application/json","Content-Type":"application/json"},h);Object.assign(d,e.options.headers,t.headers),d=_(d),s&&x(s)&&(d.Authorization="Bearer "+s);var p,f,m={headers:d,data:r||void 0,withCredentials:a};return e.options.httpRequestClient(i,n,m).then((function(i){return(f=i.responseText)&&x(f)&&(f=JSON.parse(f))&&"object"==typeof f&&!f.headers&&(Array.isArray(f)?f.forEach((e=>{e.headers=i.headers})):f.headers=i.headers),o&&(f.stateToken||l.delete(re)),f&&f.stateToken&&f.expiresAt&&l.set(re,f.stateToken,f.expiresAt,e.options.cookies),f&&t.cacheResponse&&c.updateStorage(n,{expiresAt:Math.floor(Date.now()/1e3)+ae,response:f}),f})).catch((function(t){throw"E0000011"===(p=Te(e,t)).errorCode&&l.delete(re),p}))}function Ce(e,t,n){var i={url:t=D(t)?t:e.getIssuerOrigin()+t,method:"GET"};return Object.assign(i,n),xe(e,i)}function Pe(e,t,n,i){var r={url:t=D(t)?t:e.getIssuerOrigin()+t,method:"POST",args:n,saveAuthnState:!0};return Object.assign(r,i),xe(e,r)}function Ae(e){return{meta:e,interactionHandle:e.interactionHandle,state:e.state}}async function Oe(e,t={}){let n=Z(e,t=_(t));if(null==n?void 0:n.interactionHandle)return Ae(n);n=await J(e,Object.assign(Object.assign({},n),t));const i=B(e);let{clientId:r,redirectUri:o,state:s,scopes:a,withCredentials:l,codeChallenge:c,codeChallengeMethod:u,activationToken:h,recoveryToken:d,maxAge:p,acrValues:f,nonce:m}=n;const g=t.clientSecret||e.options.clientSecret;l=null==l||l;const y=`${i}/v1/interact`,v=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({client_id:r,scope:a.join(" "),redirect_uri:o,code_challenge:c,code_challenge_method:u,state:s},h&&{activation_token:h}),d&&{recovery_token:d}),g&&{client_secret:g}),p&&{max_age:p}),f&&{acr_values:f}),m&&{nonce:m}),b=(await xe(e,{method:"POST",url:y,headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:l,args:v})).interaction_handle,w=Object.assign(Object.assign({},n),{interactionHandle:b,withCredentials:l,state:s,scopes:a,recoveryToken:d,activationToken:h});return te(e,w),Ae(w)}function Ie(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}const Le=function(e){return!1!==e.mutable},De=function(e){var t,n;const i={},r=[],o={};if(!e.value)return r.push(e),{defaultParamsForAction:i,neededParamsForAction:r,immutableParamsForAction:o};for(let s of e.value)Le(s)?(r.push(s),null!==(t=s.value)&&void 0!==t&&t&&(i[s.name]=s.value)):o[s.name]=null!==(n=s.value)&&void 0!==n?n:"";return{defaultParamsForAction:i,neededParamsForAction:r,immutableParamsForAction:o}},Re=function(e,{actionDefinition:t,defaultParamsForAction:n={},immutableParamsForAction:i={},toPersist:r={}}){const o=t.href;return async function(s={}){var a;const l={"Content-Type":"application/json",Accept:t.accepts||"application/ion+json"},c=JSON.stringify(Object.assign(Object.assign(Object.assign({},n),s),i));try{const n=await xe(e,{url:o,method:t.method,headers:l,args:c,withCredentials:null===(a=null==r?void 0:r.withCredentials)||void 0===a||a});return e.idx.makeIdxResponse(Object.assign({},n),r,!0)}catch(t){if(!(t instanceof Se&&(null==t?void 0:t.xhr)))throw t;const n=t.xhr,i=n.responseJSON||JSON.parse(n.responseText),o=n.headers["WWW-Authenticate"]||n.headers["www-authenticate"],s=e.idx.makeIdxResponse(Object.assign({},i),r,!1);return 401===n.status&&'Oktadevicejwt realm="Okta Device"'===o&&(s.stepUp=!0),s}}},Me=function(e,t,n){const i=Re,{defaultParams:r,neededParams:o,immutableParams:s}=function(e){e=Array.isArray(e)?e:[e];const t=[],n={},i={};for(let r of e){const{defaultParamsForAction:e,neededParamsForAction:o,immutableParamsForAction:s}=De(r);t.push(o),n[r.name]=e,i[r.name]=s}return{defaultParams:n,neededParams:t,immutableParams:i}}(t),a=i(e,{actionDefinition:t,defaultParamsForAction:r[t.name],immutableParamsForAction:s[t.name],toPersist:n});return a.neededParams=o,a};function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function Fe(e,t){return Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fe(e,t)}function Be(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ue(e,t,n){return Ue=Be()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Fe(r,n.prototype),r},Ue.apply(null,arguments)}function qe(e){var t="function"==typeof Map?new Map:void 0;return qe=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ue(e,arguments,je(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Fe(n,e)},qe(e)}function Ve(e){return function(e){if(Array.isArray(e))return $e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||He(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){if(e){if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ze=Object.prototype.hasOwnProperty;function We(e,t){return(e=e.slice()).push(t),e}function Ge(e,t){return(t=t.slice()).unshift(e),t}var Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(r,e);var t,n,i=(t=r,n=Be(),function(){var e,i=je(t);if(n){var r=je(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,e)});function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=i.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,t.value=e,t.name="NewError",t}return r}(qe(Error));function Ye(e,t,n,i,r){if(!(this instanceof Ye))try{return new Ye(e,t,n,i,r)}catch(e){if(!e.avoidNew)throw e;return e.value}"string"==typeof e&&(r=i,i=n,n=t,t=e,e=null);var o=e&&"object"===Ne(e);if(e=e||{},this.json=e.json||n,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=!ze.call(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||i||null,this.otherTypeCallback=e.otherTypeCallback||r||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){var s={path:o?e.path:t};o?"json"in e&&(s.json=e.json):s.json=n;var a=this.evaluate(s);if(!a||"object"!==Ne(a))throw new Ke(a);return a}}Ye.prototype.evaluate=function(e,t,n,i){var r=this,o=this.parent,s=this.parentProperty,a=this.flatten,l=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=i||this.otherTypeCallback,t=t||this.json,(e=e||this.path)&&"object"===Ne(e)&&!Array.isArray(e)){if(!e.path&&""!==e.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!ze.call(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');t=e.json,a=ze.call(e,"flatten")?e.flatten:a,this.currResultType=ze.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=ze.call(e,"sandbox")?e.sandbox:this.currSandbox,l=ze.call(e,"wrap")?e.wrap:l,this.currPreventEval=ze.call(e,"preventEval")?e.preventEval:this.currPreventEval,n=ze.call(e,"callback")?e.callback:n,this.currOtherTypeCallback=ze.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,o=ze.call(e,"parent")?e.parent:o,s=ze.call(e,"parentProperty")?e.parentProperty:s,e=e.path}if(o=o||null,s=s||null,Array.isArray(e)&&(e=Ye.toPathString(e)),(e||""===e)&&t){var c=Ye.toPathArray(e);"$"===c[0]&&c.length>1&&c.shift(),this._hasParentSelector=null;var u=this._trace(c,t,["$"],o,s,n).filter((function(e){return e&&!e.isParentSelector}));return u.length?l||1!==u.length||u[0].hasArrExpr?u.reduce((function(e,t){var n=r._getPreferredOutput(t);return a&&Array.isArray(n)?e=e.concat(n):e.push(n),e}),[]):this._getPreferredOutput(u[0]):l?[]:void 0}},Ye.prototype._getPreferredOutput=function(e){var t=this.currResultType;switch(t){case"all":var n=Array.isArray(e.path)?e.path:Ye.toPathArray(e.path);return e.pointer=Ye.toPointer(n),e.path="string"==typeof e.path?e.path:Ye.toPathString(e.path),e;case"value":case"parent":case"parentProperty":return e[t];case"path":return Ye.toPathString(e[t]);case"pointer":return Ye.toPointer(e.path);default:throw new TypeError("Unknown result type")}},Ye.prototype._handleCallback=function(e,t,n){if(t){var i=this._getPreferredOutput(e);e.path="string"==typeof e.path?e.path:Ye.toPathString(e.path),t(i,n,e)}},Ye.prototype._trace=function(e,t,n,i,r,o,s,a){var l,c=this;if(!e.length)return l={path:n,value:t,parent:i,parentProperty:r,hasArrExpr:s},this._handleCallback(l,o,"value"),l;var u=e[0],h=e.slice(1),d=[];function p(e){Array.isArray(e)?e.forEach((function(e){d.push(e)})):d.push(e)}if(("string"!=typeof u||a)&&t&&ze.call(t,u))p(this._trace(h,t[u],We(n,u),t,u,o,s));else if("*"===u)this._walk(u,h,t,n,i,r,o,(function(e,t,n,i,r,o,s,a){p(c._trace(Ge(e,n),i,r,o,s,a,!0,!0))}));else if(".."===u)p(this._trace(h,t,n,i,r,o,s)),this._walk(u,h,t,n,i,r,o,(function(e,t,n,i,r,o,s,a){"object"===Ne(i[e])&&p(c._trace(Ge(t,n),i[e],We(r,e),i,e,a,!0))}));else{if("^"===u)return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:h,isParentSelector:!0};if("~"===u)return l={path:We(n,u),value:r,parent:i,parentProperty:null},this._handleCallback(l,o,"property"),l;if("$"===u)p(this._trace(h,t,n,null,null,o,s));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(u))p(this._slice(u,h,t,n,i,r,o));else if(0===u.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(u,h,t,n,i,r,o,(function(e,t,n,i,r,o,s,a){c._eval(t.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),i[e],e,r,o,s)&&p(c._trace(Ge(e,n),i,r,o,s,a,!0))}))}else if("("===u[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");p(this._trace(Ge(this._eval(u,t,n[n.length-1],n.slice(0,-1),i,r),h),t,n,i,r,o,s))}else if("@"===u[0]){var f=!1,m=u.slice(1,-2);switch(m){case"scalar":t&&["object","function"].includes(Ne(t))||(f=!0);break;case"boolean":case"string":case"undefined":case"function":Ne(t)===m&&(f=!0);break;case"integer":!Number.isFinite(t)||t%1||(f=!0);break;case"number":Number.isFinite(t)&&(f=!0);break;case"nonFinite":"number"!=typeof t||Number.isFinite(t)||(f=!0);break;case"object":t&&Ne(t)===m&&(f=!0);break;case"array":Array.isArray(t)&&(f=!0);break;case"other":f=this.currOtherTypeCallback(t,n,i,r);break;case"null":null===t&&(f=!0);break;default:throw new TypeError("Unknown value type "+m)}if(f)return l={path:n,value:t,parent:i,parentProperty:r},this._handleCallback(l,o,"value"),l}else if("`"===u[0]&&t&&ze.call(t,u.slice(1))){var g=u.slice(1);p(this._trace(h,t[g],We(n,g),t,g,o,s,!0))}else if(u.includes(",")){var y,v=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=He(e))){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw r}}}}(u.split(","));try{for(v.s();!(y=v.n()).done;){var b=y.value;p(this._trace(Ge(b,h),t,n,i,r,o,!0))}}catch(e){v.e(e)}finally{v.f()}}else!a&&t&&ze.call(t,u)&&p(this._trace(h,t[u],We(n,u),t,u,o,s,!0))}if(this._hasParentSelector)for(var _=0;_<d.length;_++){var w=d[_];if(w&&w.isParentSelector){var k=this._trace(w.expr,t,w.path,i,r,o,s);if(Array.isArray(k)){d[_]=k[0];for(var S=k.length,E=1;E<S;E++)_++,d.splice(_,0,k[E])}else d[_]=k}}return d},Ye.prototype._walk=function(e,t,n,i,r,o,s,a){if(Array.isArray(n))for(var l=n.length,c=0;c<l;c++)a(c,e,t,n,i,r,o,s);else n&&"object"===Ne(n)&&Object.keys(n).forEach((function(l){a(l,e,t,n,i,r,o,s)}))},Ye.prototype._slice=function(e,t,n,i,r,o,s){if(Array.isArray(n)){var a=n.length,l=e.split(":"),c=l[2]&&Number.parseInt(l[2])||1,u=l[0]&&Number.parseInt(l[0])||0,h=l[1]&&Number.parseInt(l[1])||a;u=u<0?Math.max(0,u+a):Math.min(a,u),h=h<0?Math.max(0,h+a):Math.min(a,h);for(var d=[],p=u;p<h;p+=c)this._trace(Ge(p,t),n,i,r,o,s,!0).forEach((function(e){d.push(e)}));return d}},Ye.prototype._eval=function(e,t,n,i,r,o){e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=o,e=e.replace(/@parentProperty/g,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=r,e=e.replace(/@parent/g,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=n,e=e.replace(/@property/g,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=Ye.toPathString(i.concat([n])),e=e.replace(/@path/g,"_$_path")),e.includes("@root")&&(this.currSandbox._$_root=this.json,e=e.replace(/@root/g,"_$_root")),/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/.test(e)&&(this.currSandbox._$_v=t,e=e.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return this.vm.runInNewContext(e,this.currSandbox)}catch(t){throw console.log(t),new Error("jsonPath: "+t.message+": "+e)}},Ye.cache={},Ye.toPathString=function(e){for(var t=e,n=t.length,i="$",r=1;r<n;r++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[r])||(i+=/^[\*0-9]+$/.test(t[r])?"["+t[r]+"]":"['"+t[r]+"']");return i},Ye.toPointer=function(e){for(var t=e,n=t.length,i="",r=1;r<n;r++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[r])||(i+="/"+t[r].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return i},Ye.toPathArray=function(e){var t=Ye.cache;if(t[e])return t[e].concat();var n=[],i=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,(function(e,t){return"[#"+(n.push(t)-1)+"]"})).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,(function(e,t){return"['"+t.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"})).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,(function(e,t){return";"+t.split("").join(";")+";"})).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map((function(e){var t=e.match(/#([0-9]+)/);return t&&t[1]?n[t[1]]:e}));return t[e]=i,t[e].concat()},Ye.prototype.vm={runInNewContext:function(e,t){var n=Object.keys(t),i=[];!function(e,n){for(var i=e.length,r=0;r<i;r++)o=e[r],"function"==typeof t[o]&&n.push(e.splice(r--,1)[0]);var o}(n,i);var r=n.map((function(e,n){return t[e]})),o=i.reduce((function(e,n){var i=t[n].toString();return/function/.test(i)||(i="function "+i),"var "+n+"="+i+";"+e}),"");/(["'])use strict\1/.test(e=o+e)||n.includes("arguments")||(e="var arguments = undefined;"+e);var s=(e=e.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),a=s>-1?e.slice(0,s+1)+" return "+e.slice(s+1):" return "+e;return Ue(Function,Ve(n).concat([a])).apply(void 0,Ve(r))}};const Xe={remediation:!0,context:!0},Je=(e,t)=>{Object.keys(t).forEach((n=>{if("relatesTo"===n){const i=Array.isArray(t[n])?t[n][0]:t[n];if("string"==typeof i){const r=function(e){return Ye(Object.assign({preventEval:!0},e))}({path:i,json:e})[0];if(r)return void(t[n]=r);throw new N(`Cannot resolve relatesTo: ${i}`)}}Array.isArray(t[n])&&t[n].forEach((t=>Je(e,t)))}))},Qe=function(e,t,n={}){var i;const r=(null===(i=t.remediation)||void 0===i?void 0:i.value)||[];r.forEach((e=>{var n;if("launch-authenticator"!==e.name||"authenticatorChallenge"!==(null===(n=null==e?void 0:e.relatesTo)||void 0===n?void 0:n[0])||(null==t?void 0:t.authenticatorChallenge))return Je(t,e);delete e.relatesTo}));const o=r.map((t=>((e,t,n)=>{if(t.rel){const i=function(e,t,n={}){return t.reduce(((t,i)=>Object.assign(Object.assign({},t),{[i.name]:Me(e,i,n)})),{})}(e,[t],n),r=i[t.name];return Object.assign(Object.assign({},t),{action:r})}return t})(e,t,n))),{context:s,actions:a}=function(e,t,n={}){const i={},r={};return Object.keys(t).filter((e=>!Xe[e])).forEach((o=>{if("object"!=typeof t[o]||!t[o])return void(r[o]=t[o]);if(t[o].rel)return void(i[t[o].name]=Me(e,t[o],n));const s=t[o],{value:a,type:l}=s,c=Ie(s,["value","type"]);r[o]=Object.assign({type:l},c),"object"===l?(r[o].value={},Object.entries(a).forEach((([t,s])=>{s.rel?i[`${o}-${t.name||t}`]=Me(e,s,n):r[o].value[t]=s}))):r[o].value=a})),{context:r,actions:i}}(e,t,n);return{remediations:o,context:s,actions:a}};var Ze={makeIdxState:function(e,t,n,i){var r,o,s;const a=t,{remediations:l,context:c,actions:u}=Qe(e,t,n);return{proceed:async function(e,t={}){const n=l.find((t=>t.name===e));return n?"function"!=typeof n.action?Promise.reject(`Current remediation cannot make form submit action: [${e}]`):n.action(t):Promise.reject(`Unknown remediation choice: [${e}]`)},neededToProceed:[...l],actions:u,context:c,rawIdxState:a,interactionCode:null===(s=null===(o=null===(r=a.successWithInteractionCode)||void 0===r?void 0:r.value)||void 0===o?void 0:o.find((e=>"interaction_code"===e.name)))||void 0===s?void 0:s.value,toPersist:n,requestDidSucceed:i}}};const et=function(e){switch(e){case"1.0.0":return Ze;case void 0:case null:throw new Error("Api version is required");default:throw new Error(`Unknown api version: ${e}.  Use an exact semver version.`)}};function tt(e){if(!e)throw new Error("version is required");if((null!=e?e:"").replace(/[^0-9a-zA-Z._-]/,"")!==e||!e)throw new Error("invalid version supplied - version is required and uses semver syntax");et(e)}function nt(e,t,n,i){var r;const o=null!==(r=null==t?void 0:t.version)&&void 0!==r?r:ke;tt(o);const{makeIdxState:s}=et(o);return s(e,t,n,i)}function it(e){return e&&e.version}function rt(e){return e instanceof Ee}async function ot(e,t={}){var n;let i,r;const o=e.transactionManager.loadIdxResponse(t);if(o&&(i=o.rawIdxResponse,r=o.requestDidSucceed),!i){const o=t.version||ke,s=function(e,t={}){return F(e,t).split("/oauth2")[0]}(e),{interactionHandle:a,stateHandle:l}=t,c=null===(n=t.withCredentials)||void 0===n||n;try{r=!0,tt(o);const t=`${s}/idp/idx/introspect`,n=l?{stateToken:l}:{interactionHandle:a},u={"Content-Type":`application/ion+json; okta-version=${o}`,Accept:`application/ion+json; okta-version=${o}`};i=await xe(e,{method:"POST",url:t,headers:u,withCredentials:c,args:n})}catch(e){if(!(e instanceof Se&&e.xhr&&it(e.xhr.responseJSON)))throw e;i=e.xhr.responseJSON,r=!1}}const{withCredentials:s}=t;return nt(e,i,{withCredentials:s},r)}function st(e){return e.charAt(0).toUpperCase()+e.substring(1)}function at(e){return e.value.find((({name:e})=>"authenticator"===e))}function lt(e){let t;if(y(e))t=e;else{if("string"!=typeof e)throw new Error("Invalid format for authenticator");t={key:e}}return t}function ct(e,t){return!!(e&&t&&(e.id&&t.id?e.id===t.id:e.key&&t.key&&e.key===t.key))}class ut{constructor(e,t={},n={}){this.values=Object.assign({},t),this.options=Object.assign({},n),this.formatAuthenticators(),this.remediation=e}formatAuthenticators(){if(this.values.authenticators=this.values.authenticators||[],this.values.authenticators=this.values.authenticators.map((e=>lt(e))),this.values.authenticator){const e=lt(this.values.authenticator);this.values.authenticators.some((t=>ct(e,t)))||this.values.authenticators.push(e)}this.values.authenticatorsData=this.values.authenticators.reduce(((e,t)=>("object"==typeof t&&Object.keys(t).length>1&&e.push(t),e)),this.values.authenticatorsData||[])}getName(){return this.remediation.name}canRemediate(e){var t,n;return!(t=this.remediation,null===(n=t.value)||void 0===n?void 0:n.reduce(((e,t)=>(t.required&&e.push(t.name),e)),[])).find((e=>!this.hasData(e)))}getData(e){if(!e){let e=(t=this.remediation,null===(n=t.value)||void 0===n?void 0:n.map((e=>e.name))).reduce(((e,t)=>(e[t]=this.getData(t),e)),{});return e}var t,n;if("function"==typeof this[`map${st(e)}`]){const t=this[`map${st(e)}`](this.remediation.value.find((({name:t})=>t===e)));if(t)return t}if(this.map&&this.map[e]){const t=this.map[e];for(let e=0;e<t.length;e++){let n=this.values[t[e]];if(n)return n}}return this.values[e]}hasData(e){return!!this.getData(e)}getNextStep(e,t){const n=this.getName(),i=this.getInputs(),r=this.getAuthenticator(),o=null==r?void 0:r.type;return Object.assign(Object.assign({name:n,inputs:i},o&&{type:o}),r&&{authenticator:r})}getInputs(){const e=[];return(this.remediation.value||[]).forEach((t=>{let n,{name:i,type:r,visible:o,messages:s}=t;if(!1!==o){if("function"==typeof this[`getInput${st(i)}`])n=this[`getInput${st(i)}`](t);else if("object"!==r){let e;const r=(this.map?this.map[i]:null)||[];e=1===r.length?r[0]:r.find((e=>Object.keys(this.values).includes(e))),e&&(n=Object.assign(Object.assign({},t),{name:e}))}n||(n=t),Array.isArray(n)?n.forEach((t=>e.push(t))):(s&&(n.messages=s),e.push(n))}})),e}static getMessages(e){var t,n;if(e.value)return null===(n=null===(t=e.value[0])||void 0===t?void 0:t.form)||void 0===n?void 0:n.value.reduce(((e,t)=>(t.messages&&(e=[...e,...t.messages.value]),e)),[])}getValuesAfterProceed(){const e=[...this.remediation.value||[],...this.getInputs()];for(const t of e)delete this.values[t.name];return this.values}getAuthenticator(){var e,t;const n=null===(e=this.remediation.relatesTo)||void 0===e?void 0:e.value;if(!n)return;const i=at(this.remediation);if(!i)return n;const r=i.form.value.find((({name:e})=>"id"===e)).value,o=null===(t=i.form.value.find((({name:e})=>"enrollmentId"===e)))||void 0===t?void 0:t.value;return Object.assign(Object.assign({},n),{id:r,enrollmentId:o})}}function ht(e){if(Array.isArray(e))return e.map((e=>"string"==typeof e||"number"==typeof e||"boolean"==typeof e?e:ht(e)));const t={};for(const[n,i]of Object.entries(e))if(null!=i)if("object"==typeof i){const e=Object.keys(i);if(["value","form"].includes(n)&&1===e.length&&["value","form"].includes(e[0])){const e=ht(i);Object.entries(e).forEach((([e,n])=>{t[e]=n}))}else t[n]=ht(i)}else t[n]=i;return t}class dt extends ut{canRemediate(){return!("function"!=typeof this.remediation.action||"poll"!==this.remediation.name&&!this.remediation.name.endsWith("-poll")&&!this.options.step)}getData(){return this.getInputs().reduce(((e,{name:t})=>(e[t]=this.values[t],e)),{})}getNextStep(e,t){const n=this.getName(),i=this.getInputs(),r=this.remediation,{href:o,method:s,rel:a,accepts:l,produces:c,value:u,action:h}=r,d=Ie(r,["href","method","rel","accepts","produces","value","action"]);return h?Object.assign(Object.assign(Object.assign({},d),!!i.length&&{inputs:i}),{action:async t=>e.idx.proceed(Object.assign({step:n},t))}):Object.assign({},this.remediation)}getInputs(){return(this.remediation.value||[]).filter((({name:e})=>"stateHandle"!==e)).map(ht).map((e=>(e.type=e.type||"string",e)))}}const pt={remediators:{},getFlowSpecification:function(e,t="default"){return{remediators:{}}}};function ft(e){const{neededToProceed:t,interactionCode:n}=e;return!t.length&&!n}function mt(e){if(e&&Array.isArray(e))return e.reduce(((e,t)=>{if(t.messages&&(e=[...e,...t.messages.value]),t.form){const n=mt(t.form.value)||[];e=[...e,...n]}if(t.options){let n=[];t.options.forEach((e=>{e.value&&"string"!=typeof e.value&&(n=[...n,e.value])}));const i=mt(n)||[];e=[...e,...i]}return e}),[])}function gt(e,t){var n;let i=[];const{rawIdxState:r,neededToProceed:o}=e,s=null===(n=r.messages)||void 0===n?void 0:n.value.map((e=>e));if(s&&(i=[...i,...s]),!t.useGenericRemediator)for(let e of o){const t=mt(e.value);t&&(i=[...i,...t])}const a={};return i=i.reduce(((e,t)=>{var n;const i=null===(n=t.i18n)||void 0===n?void 0:n.key;return i&&a[i]&&t.message===a[i].message?e:(a[i]=t,e=[...e,t])}),[]),i}function yt(e,t){const{useGenericRemediator:n,remediators:i}=t;if(e)return n?dt:i[e.name]}function vt(e,t,n){const i=n.remediators,r=n.useGenericRemediator,{neededToProceed:o,context:s}=e;let a;if(n.step){const e=o.find((({name:e})=>e===n.step));if(e){const i=yt(e,n);return i?new i(e,t,n):void 0}return void b(`step "${n.step}" did not match any remediations`)}const l=[];if(r)l.push(new dt(o[0],t,n));else for(let e of o)if(Object.keys(i).includes(e.name)){if(a=new(yt(e,n))(e,t,n),a.canRemediate(s))return a;l.push(a)}return l[0]}function bt(e,t,n){const i=t.getNextStep(e,n.context),r=function(e){return e.neededToProceed.some((({name:e})=>"skip"===e))}(n),o=function(e){return Object.keys(e.actions).some((e=>e.includes("resend")))}(n);return Object.assign(Object.assign(Object.assign({},i),r&&{canSkip:r}),o&&{canResend:o})}function _t(e,t,n={}){const i=ft(t),r=gt(t,n);if(i)return{idxResponse:t,terminal:i,messages:r};{const i=vt(t,{},n),o=i&&bt(e,i,t);return Object.assign({idxResponse:t,messages:r},o&&{nextStep:o})}}function wt(e){return Object.assign(Object.assign({},e),{resend:void 0})}function kt(e,t){let n=e.actions||[];return n=n.filter((e=>"string"==typeof e?e!==t:e.name!==t)),Object.assign(Object.assign({},e),{actions:n})}async function St(e,t,n,i){let{neededToProceed:r,interactionCode:o}=t;const{flow:s}=i;if(o)return{idxResponse:t};const a=vt(t,n,i),l=function(e,t){return Object.keys(t.actions).find((t=>!!e.resend&&t.includes("-resend")))}(n,t),c=[...i.actions||[],...l&&[l]||[]];if(c)for(let o of c){let s={};"string"!=typeof o&&(s=o.params||{},o=o.name);let a=wt(n),l=kt(i,o);if("function"==typeof t.actions[o])return!1===(t=await t.actions[o](s)).requestDidSucceed?_t(e,t,i):"cancel"===o?{idxResponse:t,canceled:!0}:St(e,t,a,l);const c=r.find((({name:e})=>e===o));if(c)return!1===(t=await t.proceed(o,s)).requestDidSucceed?_t(e,t,i):St(e,t,n,l)}const u=ft(t);if(u)return{idxResponse:t,terminal:u};if(!a){if(i.step)return n=function(e,t,n){const i=(e.neededToProceed||[]).find((e=>e.name===t));return i?i.value.reduce(((e,t)=>{const{name:i,value:r}=t;return e[i]="stateHandle"===i?r:n[i],e}),{}):(b(`filterValuesForRemediation: "${t}" did not match any remediations`),n)}(t,i.step,n),!1===(t=await t.proceed(i.step,n)).requestDidSucceed?_t(e,t,i):{idxResponse:t};if("default"===s)return{idxResponse:t};throw new N(`\n      No remediation can match current flow, check policy settings in your org.\n      Remediations: [${r.reduce(((e,t)=>e?e+" ,"+t.name:t.name),"")}]\n    `)}if(!a.canRemediate())return{idxResponse:t,nextStep:bt(e,a,t)};const h=a.getName(),d=a.getData();return!1===(t=await t.proceed(h,d)).requestDidSucceed?_t(e,t,i):(n=a.getValuesAfterProceed(),!(i=Object.assign(Object.assign({},i),{step:void 0})).useGenericRemediator||t.interactionCode||ft(t)?St(e,t,n,i):{idxResponse:t,nextStep:bt(e,vt(t,n,i),t)})}function Et(e){const t=Object.assign({},e);return["flow","remediators","actions","withCredentials","step","useGenericRemediator","exchangeCodeForTokens"].forEach((e=>{delete t[e]})),t}async function Tt(e,t={}){var n;let i={options:t,values:Et(t)};i=function(e,t){var n,i,r,o;let{options:s}=t;s=Object.assign(Object.assign({},e.options.idx),s);let{flow:a,withCredentials:l,remediators:c,actions:u}=s;const h=p.PENDING;if(a=a||(null===(i=(n=e.idx).getFlow)||void 0===i?void 0:i.call(n))||"default",a){null===(o=(r=e.idx).setFlow)||void 0===o||o.call(r,a);const t=function(e,t="default"){return pt.getFlowSpecification(e,t)}(e,a);l=void 0!==l?l:t.withCredentials,c=c||t.remediators,u=u||t.actions}return Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},s),{flow:a,withCredentials:l,remediators:c,actions:u}),status:h})}(e,i),i=await async function(e,t){const{options:n}=t,{stateHandle:i,withCredentials:r,version:o,state:s,scopes:a,recoveryToken:l,activationToken:c,maxAge:u,acrValues:h,nonce:d,useGenericRemediator:p}=n;let f,m=Z(e,{state:s,recoveryToken:l,activationToken:c});if(i)f=await ot(e,{withCredentials:r,version:o,stateHandle:i,useGenericRemediator:p});else{let t=null==m?void 0:m.interactionHandle;if(!t){e.transactionManager.clear();const n=await Oe(e,{withCredentials:r,state:s,scopes:a,activationToken:c,recoveryToken:l,maxAge:u,acrValues:h,nonce:d});t=n.interactionHandle,m=n.meta}f=await ot(e,{withCredentials:r,version:o,interactionHandle:t,useGenericRemediator:p})}return Object.assign(Object.assign({},t),{idxResponse:f,meta:m})}(e,i),i=await async function(e,t){let{idxResponse:n,options:i,values:r}=t;const{autoRemediate:o,remediators:s,actions:a,flow:l,step:c,useGenericRemediator:u}=i;if(!1===o||!(s||a||c))return t;r=Object.assign(Object.assign({},r),{stateHandle:n.rawIdxState.stateHandle});const{idxResponse:h,nextStep:d,canceled:p}=await St(e,n,r,{remediators:s,actions:a,flow:l,step:c,useGenericRemediator:u});return n=h,Object.assign(Object.assign({},t),{idxResponse:n,nextStep:d,canceled:p})}(e,i),i=await async function(e,t){let{options:n,idxResponse:i,canceled:r,status:o}=t;const{exchangeCodeForTokens:s}=n;let a,l,c,u,h,d,f=!1,g=!1,y=!0;if(i&&(f=!(!i.requestDidSucceed&&!i.stepUp),c=function(e){const t=[],{actions:n,neededToProceed:i}=e;return n["currentAuthenticator-recover"]&&t.push(m.PASSWORD_RECOVERY),i.some((({name:e})=>"select-enroll-profile"===e))&&t.push(m.REGISTRATION),i.some((({name:e})=>"redirect-idp"===e))&&t.push(m.SOCIAL_IDP),i.some((({name:e})=>"unlock-account"===e))&&t.push(m.ACCOUNT_UNLOCK),t}(i),u=function(e,t,n){var i;const r=[],o=Object.values(pt.remediators).reduce(((e,t)=>(t.remediationName&&(e[t.remediationName]=t),e)),{});for(let i of t.neededToProceed){const s=yt(i,{useGenericRemediator:n,remediators:o});if(s){const n=new s(i);r.push(n.getNextStep(e,t.context))}}for(const[n]of Object.entries(t.actions||{})){let o={name:n,action:async t=>e.idx.proceed({actions:[{name:n,params:t}]})};if(n.startsWith("currentAuthenticator")){const[e,r]=L(n,"-"),s=t.rawIdxState[e].value[r],a=Ie(s,["href","method","rel","accepts","produces"]),l=null===(i=s.value)||void 0===i?void 0:i.filter((e=>"stateHandle"!==e.name));o=Object.assign(Object.assign(Object.assign({},a),l&&{value:l}),o)}r.push(o)}return r}(e,i,n.useGenericRemediator),h=gt(i,n),d=ft(i)),d){o=p.TERMINAL;const e=Object.keys(i.actions).length>0,t=!!h.find((e=>"ERROR"===e.class));e||t||!0!==i.requestDidSucceed?f=!!e:g=!0,y=!1}else r?(o=p.CANCELED,g=!0):(null==i?void 0:i.interactionCode)&&(a=i.interactionCode,!1===s?(o=p.SUCCESS,g=!1):(l=await async function(e,t){let{meta:n,idxResponse:i}=t;const{interactionCode:r}=i,{clientId:o,codeVerifier:s,ignoreSignature:a,redirectUri:l,urls:c,scopes:u}=n;return(await e.token.exchangeCodeForTokens({interactionCode:r,clientId:o,codeVerifier:s,ignoreSignature:a,redirectUri:l,scopes:u},c)).tokens}(e,t),o=p.SUCCESS,g=!0));return Object.assign(Object.assign({},t),{status:o,interactionCode:a,tokens:l,shouldSaveResponse:f,shouldClearTransaction:g,clearSharedStorage:y,enabledFeatures:c,availableSteps:u,messages:h,terminal:d})}(e,i);const{idxResponse:r,meta:o,shouldSaveResponse:s,shouldClearTransaction:a,clearSharedStorage:l,status:c,enabledFeatures:u,availableSteps:h,tokens:d,nextStep:f,messages:g,error:y,interactionCode:v}=i;if(a)e.transactionManager.clear({clearSharedStorage:l});else if(te(e,Object.assign({},o)),s){const{rawIdxState:t,requestDidSucceed:i}=r;e.transactionManager.saveIdxResponse({rawIdxResponse:t,requestDidSucceed:i,stateHandle:null===(n=r.context)||void 0===n?void 0:n.stateHandle,interactionHandle:null==o?void 0:o.interactionHandle})}const{actions:b,context:_,neededToProceed:w,proceed:k,rawIdxState:S,requestDidSucceed:E,stepUp:T}=r||{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({status:c},o&&{meta:o}),u&&{enabledFeatures:u}),h&&{availableSteps:h}),d&&{tokens:d}),f&&{nextStep:f}),g&&g.length&&{messages:g}),y&&{error:y}),T&&{stepUp:T}),{interactionCode:v,actions:b,context:_,neededToProceed:w,proceed:k,rawIdxState:S,requestDidSucceed:E})}async function xt(e,t={}){return t.password&&!t.authenticator&&(t.authenticator=f.OKTA_PASSWORD),Tt(e,Object.assign(Object.assign({},t),{flow:"authenticate"}))}class Ct{constructor(e){this.meta=e}}class Pt extends Ct{canVerify(e){return!!(e.credentials||e.verificationCode||e.otp)}mapCredentials(e){const{credentials:t,verificationCode:n,otp:i}=e;if(t||n||i)return t||{passcode:n||i}}getInputs(e){var t;return Object.assign(Object.assign({},null===(t=e.form)||void 0===t?void 0:t.value[0]),{name:"verificationCode",type:"string",required:e.required})}}class At extends Pt{mapCredentials(e){const{verificationCode:t}=e;if(t)return{totp:t}}}class Ot extends Ct{canVerify(e){return!!(e.credentials||e.password||e.passcode)}mapCredentials(e){const{credentials:t,password:n,passcode:i,revokeSessions:r}=e;if(t||n||i)return t||{passcode:i||n,revokeSessions:r}}getInputs(e){var t,n;const i=[Object.assign(Object.assign({},null===(t=e.form)||void 0===t?void 0:t.value[0]),{name:"password",type:"string",required:e.required})];return(null===(n=e.form)||void 0===n?void 0:n.value.find((e=>"revokeSessions"===e.name)))&&i.push({name:"revokeSessions",type:"boolean",label:"Sign me out of all other devices",required:!1}),i}}class It extends Ct{canVerify(e){const{credentials:t}=e;if(t&&t.questionKey&&t.answer)return!0;const{questionKey:n,question:i,answer:r}=e;return!(!n||!r)||!(!i||!r)}mapCredentials(e){const{questionKey:t,question:n,answer:i}=e;if(i&&(t||n))return{questionKey:n?"custom":t,question:n,answer:i}}getInputs(){return[{name:"questionKey",type:"string",required:!0},{name:"question",type:"string",label:"Create a security question"},{name:"answer",type:"string",label:"Answer",required:!0}]}}class Lt extends Ct{canVerify(e){const{credentials:t}=e;if(t&&t.answer)return!0;const{answer:n}=e;return!!n}mapCredentials(e){const{answer:t}=e;if(t)return{questionKey:this.meta.contextualData.enrolledQuestion.questionKey,answer:t}}getInputs(){return[{name:"answer",type:"string",label:"Answer",required:!0}]}}class Dt extends Ct{canVerify(e){const{credentials:t}=e,n=t||e,{clientData:i,attestation:r}=n;return!(!i||!r)}mapCredentials(e){const{credentials:t,clientData:n,attestation:i}=e;if(t||n||i)return t||{clientData:n,attestation:i}}getInputs(){return[{name:"clientData",type:"string",required:!0,visible:!1,label:"Client Data"},{name:"attestation",type:"string",required:!0,visible:!1,label:"Attestation"}]}}class Rt extends Ct{canVerify(e){const{credentials:t}=e,n=t||e,{clientData:i,authenticatorData:r,signatureData:o}=n;return!!(i&&r&&o)}mapCredentials(e){const{credentials:t,authenticatorData:n,clientData:i,signatureData:r}=e;if(t||n||i||r)return t||{authenticatorData:n,clientData:i,signatureData:r}}getInputs(){return[{name:"authenticatorData",type:"string",label:"Authenticator Data",required:!0,visible:!1},{name:"clientData",type:"string",label:"Client Data",required:!0,visible:!1},{name:"signatureData",type:"string",label:"Signature Data",required:!0,visible:!1}]}}class Mt extends ut{constructor(e,t={}){super(e,t),this.authenticator=function(e){var t,n;const i=e.relatesTo,r=(null==i?void 0:i.value)||{};switch(r.key){case f.OKTA_PASSWORD:return new Ot(r);case f.SECURITY_QUESTION:return(null===(t=r.contextualData)||void 0===t?void 0:t.enrolledQuestion)?new Lt(r):new It(r);case f.OKTA_VERIFY:return new At(r);case f.WEBAUTHN:return(null===(n=r.contextualData)||void 0===n?void 0:n.challengeData)?new Rt(r):new Dt(r);default:return new Pt(r)}}(e)}getNextStep(e,t){var n;const i=super.getNextStep(e,t),r=null===(n=null==t?void 0:t.authenticatorEnrollments)||void 0===n?void 0:n.value;return Object.assign(Object.assign({},i),{authenticatorEnrollments:r})}canRemediate(){return this.authenticator.canVerify(this.values)}mapCredentials(){return this.authenticator.mapCredentials(this.values)}getInputCredentials(e){return this.authenticator.getInputs(e)}getValuesAfterProceed(){return this.values=super.getValuesAfterProceed(),Object.keys(this.values).filter((e=>"credentials"!==e)).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:this.values[t]})),{})}}class Nt extends Mt{}Nt.remediationName="enroll-authenticator";class jt extends ut{canRemediate(){return!!this.values.startPolling||"enroll-poll"===this.options.step}getNextStep(e,t){const n=super.getNextStep(e,t);let i=this.getAuthenticator();return!i&&(null==t?void 0:t.currentAuthenticator)&&(i=t.currentAuthenticator.value),Object.assign(Object.assign({},n),{authenticator:i,poll:{required:!0,refresh:this.remediation.refresh}})}getValuesAfterProceed(){return Object.keys(this.values).filter((e=>"startPolling"!==e)).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:this.values[t]})),{})}}jt.remediationName="enroll-poll";class Ft extends ut{canRemediate(){if(this.values.channel)return!0;if(this.values.authenticator){const{id:e,channel:t}=this.values.authenticator;if(e&&t)return!0}return!1}getNextStep(e,t){const n=super.getNextStep(e,t),i=t.currentAuthenticator.value;return Object.assign(Object.assign({},n),{authenticator:i})}getData(){var e;return{authenticator:{id:this.remediation.value[0].value.form.value[0].value,channel:(null===(e=this.values.authenticator)||void 0===e?void 0:e.channel)||this.values.channel},stateHandle:this.values.stateHandle}}getValuesAfterProceed(){this.values=super.getValuesAfterProceed(),delete this.values.authenticators;const e=this.values.channel?"channel":"authenticator";return Object.keys(this.values).filter((t=>t!==e)).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:this.values[t]})),{})}}Ft.remediationName="select-enrollment-channel";class Bt extends ut{getInputEmail(){return[{name:"email",type:"string",required:!0,label:"Email"}]}getInputPhoneNumber(){return[{name:"phoneNumber",type:"string",required:!0,label:"Phone Number"}]}canRemediate(){return Boolean(this.values.email||this.values.phoneNumber)}getNextStep(e,t){const n=super.getNextStep(e,t),i=t.currentAuthenticator.value;return Object.assign(Object.assign({},n),{authenticator:i})}getData(){return{stateHandle:this.values.stateHandle,email:this.values.email,phoneNumber:this.values.phoneNumber}}getValuesAfterProceed(){return Object.keys(this.values).filter((e=>!["email","phoneNumber"].includes(e))).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:this.values[t]})),{})}}Bt.remediationName="enrollment-channel-data";class Ut extends Mt{}Ut.remediationName="challenge-authenticator";class qt extends jt{canRemediate(){return!!this.values.startPolling||"challenge-poll"===this.options.step}}qt.remediationName="challenge-poll";class Vt extends Mt{}Vt.remediationName="reset-authenticator";class Ht extends ut{constructor(e,t={},n={}){super(e,t,n),this.authenticator=null,this.getCredentialsFromRemediation()&&(this.authenticator=this.authenticator=new Ot({}))}canRemediate(){if(this.authenticator&&!this.authenticator.canVerify(this.values))return!1;const e=this.getData().userProfile;return!!e&&this.remediation.value.find((({name:e})=>"userProfile"===e)).form.value.reduce(((t,n)=>(n.required&&(t=t&&!!e[n.name]),t)),!0)}getCredentialsFromRemediation(){return this.remediation.value.find((({name:e})=>"credentials"===e))}mapUserProfile({form:{value:e}}){const t=e.map((({name:e})=>e)).reduce(((e,t)=>this.values[t]?Object.assign(Object.assign({},e),{[t]:this.values[t]}):e),{});if(0!==Object.keys(t).length)return t}mapCredentials(){const e=this.authenticator&&this.authenticator.mapCredentials(this.values);if(e)return e}getInputUserProfile(e){return[...e.form.value]}getInputCredentials(e){return[...e.form.value]}getErrorMessages(e){return e.value[0].form.value.reduce(((e,t)=>(t.messages&&e.push(t.messages.value[0].message),e)),[])}}Ht.remediationName="enroll-profile";class $t extends ut{constructor(){super(...arguments),this.map={identifier:["username"]}}canRemediate(){const{identifier:e}=this.getData();return!!e}mapCredentials(){const{credentials:e,password:t}=this.values;if(e||t)return e||{passcode:t}}getInputCredentials(e){return Object.assign(Object.assign({},e.form.value[0]),{name:"password",required:e.required})}}$t.remediationName="identify";class zt extends ut{mapCredentials(){const{newPassword:e}=this.values;if(e)return{passcode:e}}getInputCredentials(e){const t="password"===this.getAuthenticator().type?"newPassword":"verificationCode";return Object.assign(Object.assign({},e.form.value[0]),{name:t})}}zt.remediationName="reenroll-authenticator";class Wt extends zt{}Wt.remediationName="reenroll-authenticator-warning";class Gt extends ut{canRemediate(){return!1}getNextStep(){const{name:e,type:t,idp:n,href:i}=this.remediation;return{name:e,type:t,idp:n,href:i}}}Gt.remediationName="redirect-idp";class Kt extends ut{findMatchedOption(e,t){let n;for(let i of e)if(n=t.find((({relatesTo:e})=>e.key&&e.key===i.key)),n)break;return n}canRemediate(e){var t,n;const{authenticators:i,authenticator:r}=this.values,o=at(this.remediation),{options:s}=o;if(!i||!i.length)return!1;if(y(r)&&r.id)return!0;const a=this.findMatchedOption(i,s);if(a){const i=(null==e?void 0:e.currentAuthenticator)&&(null==e?void 0:e.currentAuthenticator.value.id)===(null===(t=a.relatesTo)||void 0===t?void 0:t.id),r=(null==e?void 0:e.currentAuthenticatorEnrollment)&&(null==e?void 0:e.currentAuthenticatorEnrollment.value.id)===(null===(n=a.relatesTo)||void 0===n?void 0:n.id);return!i&&!r}return!1}mapAuthenticator(e){const{authenticators:t,authenticator:n}=this.values;if(y(n)&&n.id)return this.selectedAuthenticator=n,n;const{options:i}=e,r=function(e,t){let n;for(let i of e)if(n=t.find((({relatesTo:e})=>e.key&&e.key===i.key)),n)break;return n}(t,i);return this.selectedAuthenticator=r.relatesTo,this.selectedOption=r,{id:null==r?void 0:r.value.form.value.find((({name:e})=>"id"===e)).value}}getInputAuthenticator(e){return{name:"authenticator",type:"string",options:e.options.map((({label:e,relatesTo:t})=>({label:e,value:t.key})))}}getValuesAfterProceed(){this.values=super.getValuesAfterProceed();const e=this.values.authenticators.filter((e=>!0!==ct(e,this.selectedAuthenticator)));return Object.assign(Object.assign({},this.values),{authenticators:e})}}class Yt extends Kt{constructor(e,t={},n={}){var i;super(e,t,n);const r="recoverPassword"===this.options.flow;(null===(i=at(e).options)||void 0===i?void 0:i.some((({relatesTo:e})=>(null==e?void 0:e.key)===f.OKTA_PASSWORD)))&&(r||this.values.password)&&(this.values.authenticators=[...this.values.authenticators||[],{key:f.OKTA_PASSWORD}])}}Yt.remediationName="select-authenticator-authenticate";class Xt extends Kt{}Xt.remediationName="select-authenticator-enroll";class Jt extends Kt{constructor(){super(...arguments),this.map={identifier:["username"]}}canRemediate(){return!!this.getData("identifier")&&super.canRemediate()}mapAuthenticator(e){var t,n,i;const r=super.mapAuthenticator(e),o=null===(t=this.selectedOption)||void 0===t?void 0:t.value.form.value.find((({name:e})=>"methodType"===e)),s=this.values.methodType||(null==o?void 0:o.value)||(null===(i=null===(n=null==o?void 0:o.options)||void 0===n?void 0:n[0])||void 0===i?void 0:i.value);return s?Object.assign(Object.assign({},r),{methodType:s}):r}getInputUsername(){return{name:"username",type:"string"}}}Jt.remediationName="select-authenticator-unlock-account";class Qt extends ut{canRemediate(){return!0}}Qt.remediationName="select-enroll-profile";class Zt extends ut{constructor(e,t={}){super(e,t),this.authenticator=this.getAuthenticator(),this.formatAuthenticatorData()}formatAuthenticatorData(){if(this.getAuthenticatorData())this.values.authenticatorsData=this.values.authenticatorsData.map((e=>ct(this.authenticator,e)?this.mapAuthenticatorDataFromValues(e):e));else{const e=this.mapAuthenticatorDataFromValues();e&&this.values.authenticatorsData.push(e)}}getAuthenticatorData(){return this.values.authenticatorsData.find((e=>ct(this.authenticator,e)))}canRemediate(){return this.values.authenticatorsData.some((e=>ct(this.authenticator,e)))}mapAuthenticatorDataFromValues(e){let{methodType:t,authenticator:n}=this.values;!t&&y(n)&&(t=null==n?void 0:n.methodType);const{id:i,enrollmentId:r}=this.authenticator,o=Object.assign(Object.assign({id:i,enrollmentId:r},e&&e),t&&{methodType:t});return o.methodType?o:null}getAuthenticatorFromRemediation(){return this.remediation.value.find((({name:e})=>"authenticator"===e))}getValuesAfterProceed(){this.values=super.getValuesAfterProceed();const e=this.values.authenticatorsData.filter((e=>!0!==ct(this.authenticator,e)));return Object.assign(Object.assign({},this.values),{authenticatorsData:e})}}class en extends Zt{mapAuthenticator(){return this.getAuthenticatorData()}getInputAuthenticator(){const e=this.getAuthenticatorFromRemediation(),t=e.form.value.find((({name:e})=>"methodType"===e));return t&&t.options?{name:"methodType",type:"string",required:!0,options:t.options}:[...e.form.value]}getValuesAfterProceed(){return this.values=super.getValuesAfterProceed(),Object.keys(this.values).filter((e=>"authenticator"!==e)).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:this.values[t]})),{})}}en.remediationName="authenticator-verification-data";class tn extends Zt{mapAuthenticator(){const e=this.getAuthenticatorData();return{id:at(this.remediation).form.value.find((({name:e})=>"id"===e)).value,methodType:e.methodType,phoneNumber:e.phoneNumber}}getInputAuthenticator(e){return[{name:"methodType",type:"string"},{name:"phoneNumber",label:"Phone Number",type:"string"}].map((t=>{const n=e.form.value.find((e=>e.name===t.name));return Object.assign(Object.assign({},n),t)}))}mapAuthenticatorDataFromValues(e){e=super.mapAuthenticatorDataFromValues(e);const{phoneNumber:t}=this.values;if(e||t)return Object.assign(Object.assign({},e&&e),t&&{phoneNumber:t})}}tn.remediationName="authenticator-enrollment-data";class nn extends ut{canRemediate(){return!!this.values.skip||"skip"===this.options.step}}nn.remediationName="skip";const rn={identify:$t,"select-authenticator-authenticate":Yt,"select-authenticator-enroll":Xt,"authenticator-enrollment-data":tn,"authenticator-verification-data":en,"enroll-authenticator":Nt,"challenge-authenticator":Ut,"challenge-poll":qt,"reenroll-authenticator":zt,"reenroll-authenticator-warning":Wt,"enroll-poll":jt,"select-enrollment-channel":Ft,"enrollment-channel-data":Bt,"redirect-idp":Gt,skip:nn},on={identify:$t,"identify-recovery":$t,"select-authenticator-authenticate":Yt,"select-authenticator-enroll":Xt,"challenge-authenticator":Ut,"authenticator-verification-data":en,"authenticator-enrollment-data":tn,"reset-authenticator":Vt,"reenroll-authenticator":zt,"reenroll-authenticator-warning":Wt,"enroll-poll":jt},sn={"select-enroll-profile":Qt,"enroll-profile":Ht,"authenticator-enrollment-data":tn,"select-authenticator-enroll":Xt,"enroll-poll":jt,"select-enrollment-channel":Ft,"enrollment-channel-data":Bt,"enroll-authenticator":Nt,skip:nn},an={identify:$t,"select-authenticator-unlock-account":Jt,"select-authenticator-authenticate":Yt,"challenge-authenticator":Ut,"challenge-poll":qt,"authenticator-verification-data":en,"reenroll-authenticator-warning":Wt};function ln(e,t="default"){let n,i,r=!0;switch(t){case"register":case"signup":case"enrollProfile":n=sn,r=!1;break;case"recoverPassword":case"resetPassword":n=on,i=["currentAuthenticator-recover","currentAuthenticatorEnrollment-recover"],r=!1;break;case"unlockAccount":n=an,r=!1,i=["unlock-account"];break;default:n=rn}return{flow:t,remediators:n,actions:i,withCredentials:r}}async function cn(e,t){const n=ln(0,e.transactionManager.load().flow);return Tt(e,Object.assign(Object.assign(Object.assign({},t),n),{actions:["cancel"]}))}function un(e){var t=/\+/g,n=/([^&=]+)=?([^&]*)/g,i=e||"";"#"===i.charAt(0)&&"/"===i.charAt(1)&&(i=i.substring(2)),"#"!==i.charAt(0)&&"?"!==i.charAt(0)||(i=i.substring(1));for(var r,o={};r=n.exec(i);){var s=r[1],a=r[2];o[s]="id_token"===s||"access_token"===s||"code"===s?a:decodeURIComponent(a.replace(t," "))}return o}class hn extends T{constructor(e,t){super(`Enter the OTP code in the originating client: ${t}`),this.name="EmailVerifyCallbackError",this.state=e,this.otp=t}}function dn(e){return"EmailVerifyCallbackError"===e.name}function pn(e){return/(otp=)/i.test(e)&&/(state=)/i.test(e)}function fn(e){return un(e)}async function mn(e,t){if(pn(t)){const{state:n,otp:i}=fn(t);if(e.idx.canProceed({state:n}))return await e.idx.proceed({state:n,otp:i});throw new hn(n,i)}}function gn(e,t={}){return!(!Z(e,t)&&!t.stateHandle)}async function yn(e,t={}){if(!gn(e,t))throw new N("Unable to proceed: saved transaction could not be loaded");let{flow:n,state:i}=t;if(!n){const t=Z(e,{state:i});n=null==t?void 0:t.flow}return Tt(e,Object.assign(Object.assign({},t),{flow:n}))}async function vn(e,t={}){var n;let i=await yn(e,{startPolling:!0});const r=Z(e);let o=null===(n=null==r?void 0:r.remediations)||void 0===n?void 0:n.find((e=>e.includes("poll")));return(null==o?void 0:o.length)||b("No polling remediations available at the current IDX flow stage"),Number.isInteger(t.refresh)?new Promise((function(n,r){setTimeout((async function(){var t,o;try{const r=null===(o=null===(t=i.nextStep)||void 0===t?void 0:t.poll)||void 0===o?void 0:o.refresh;n(r?vn(e,{refresh:r}):i)}catch(e){r(e)}}),t.refresh)})):i}async function bn(e,t={}){return e.transactionManager.clear(),Tt(e,Object.assign({exchangeCodeForTokens:!1},t))}async function _n(e,t={}){if(!Q(e)){const{enabledFeatures:n}=await bn(e,Object.assign(Object.assign({},t),{flow:"register",autoRemediate:!1}));if(!t.activationToken&&n&&!n.includes(m.REGISTRATION))throw new N("Registration is not supported based on your current org configuration.")}return Tt(e,Object.assign(Object.assign({},t),{flow:"register"}))}async function wn(e,t={}){const n=ln(0,"recoverPassword");return Tt(e,Object.assign(Object.assign({},t),n))}async function kn(e,t){const n=e.transactionManager.load();if(!n)throw new N("No transaction data was found in storage");const{codeVerifier:i,state:r}=n,{searchParams:o}=new URL(t),s=o.get("state"),a=o.get("interaction_code"),l=o.get("error");if(l)throw new Ee(l,o.get("error_description"));if(s!==r)throw new N("State in redirect uri does not match with transaction state");if(!a)throw new N("Unable to parse interaction_code from the url");const{tokens:c}=await e.token.exchangeCodeForTokens({interactionCode:a,codeVerifier:i});e.tokenManager.setTokens(c)}async function Sn(e,t={}){if(t.flow="unlockAccount",!Q(e)){const{enabledFeatures:n}=await bn(e,Object.assign(Object.assign({},t),{autoRemediate:!1}));if(n&&!n.includes(m.ACCOUNT_UNLOCK))throw new N("Self Service Account Unlock is not supported based on your current org configuration.")}return Tt(e,Object.assign({},t))}function En(e){return"OAuthError"===e.name&&"interaction_required"===e.errorCode}function Tn(e){return e.pkce||"code"===e.responseType||"query"===e.responseMode}function xn(e){return Tn(e)&&"fragment"!==e.responseMode?window.location.search:window.location.hash}function Cn(e){if(!function(e,t){var n=t.options;return!(!e||!n.redirectUri)&&0===e.indexOf(n.redirectUri)}(window.location.href,e))return!1;var t,n=Tn(e.options),i=xn(e.options);if(function(e){return/(error=)/i.test(e)||/(error_description)/i.test(e)}(i))return!0;if(n){var r=function(e){return/(code=)/i.test(e)}(i)||function(e){return/(interaction_code=)/i.test(e)}(i);return r}return t=window.location.hash,/((id|access)_token=)/i.test(t)}function Pn(e,t){if(!t){if(!Cn(e))return!1;t=xn(e.options)}return/(error=interaction_required)/i.test(t)}const An=function(e){return atob(e)},On=function(e){return btoa(e)},In="undefined"==typeof crypto?null:crypto,Ln=/windows phone|iemobile|wpdesktop/i;function Dn(){return"undefined"!=typeof document&&"undefined"!=typeof window}function Rn(){if(!Dn())return!1;const e=document.documentMode;return!!e&&e<=11}function Mn(){return navigator.userAgent}function Nn(){const e=Mn();return e&&!Ln.test(e)}function jn(){if(!Dn())return!1;const e=document.documentMode;var t=e&&e<10;return void 0!==window.postMessage&&!t}function Fn(){return null!=In&&void 0!==In.subtle&&"undefined"!=typeof Uint8Array}function Bn(){return Fn()}function Un(){return"undefined"!=typeof TextEncoder}function qn(){return Bn()&&Un()}function Vn(){return!!Dn()&&"https:"===window.location.protocol}function Hn(){return Dn()&&"localhost"===window.location.hostname}function $n(){return!Rn()&&void 0!==window.indexedDB&&Un()&&Fn()}function zn(t){class i{constructor(...e){const i=new t(e.length&&e[0]||{});this.options=_(i),this.emitter=new V,this.features=n}}return i.features=n,i.constants=e,i.features=i.prototype.features=n,Object.assign(i,{constants:e}),i}function Wn(e,t){return class extends e{constructor(...e){super(...e);const{storageManager:n,cookies:i,storageUtil:r}=this.options;this.storageManager=new t(n,i,r)}clearStorage(){}}}class Gn{constructor(){this.environments=["okta-auth-js/7.7.0"],this.maybeAddNodeEnvironment()}addEnvironment(e){this.environments.push(e)}getHttpHeader(){return{"X-Okta-User-Agent-Extended":this.environments.join(" ")}}getVersion(){return"7.7.0"}maybeAddNodeEnvironment(){if(Dn()||!process||!process.versions)return;const{node:e}=process.versions;this.environments.push(`nodejs/${e}`)}}function Kn(e,t,n){e.options.headers=e.options.headers||{},e.options.headers[t]=n}function Yn(e){return class extends e{constructor(...e){super(...e),this._oktaUserAgent=new Gn,this.http={setRequestHeader:Kn.bind(null,this)}}setHeaders(e){this.options.headers=Object.assign({},this.options.headers,e)}getIssuerOrigin(){return this.options.issuer.split("/oauth2/")[0]}webfinger(e){return Ce(this,"/.well-known/webfinger"+R(e),{headers:{Accept:"application/jrd+json"}})}}}function Xn(e){return Jn(On(e))}function Jn(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Qn(e){return e.replace(/-/g,"+").replace(/_/g,"/")}function Zn(e){var t=Qn(e);switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new N("Not a valid Base64Url")}var n=An(t);try{return decodeURIComponent(escape(n))}catch(e){return n}}function ei(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function ti(e){return An(Qn(e))}function ni(e){return Uint8Array.from(ti(e),(e=>e.charCodeAt(0)))}function ii(e){return On(new Uint8Array(e).reduce(((e,t)=>e+String.fromCharCode(t)),""))}function ri(e){var t=(new TextEncoder).encode(e);return In.subtle.digest("SHA-256",t).then((function(e){var t=new Uint8Array(e).slice(0,16);return Xn(String.fromCharCode.apply(null,t))}))}function oi(e,t){t=w(t);var n={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};return delete t.use,In.subtle.importKey("jwk",t,n,!0,["verify"]).then((function(t){var i=e.split("."),r=ei(i[0]+"."+i[1]),o=ei(ti(i[2]));return In.subtle.verify(n,t,o,r)}))}class si{constructor(e={quiet:!1}){this.queue=[],this.running=!1,this.options=e}push(e,t,...n){return new Promise(((i,r)=>{this.queue.length>0&&!1!==this.options.quiet&&b("Async method is being called but another async method is already running. The new method will be delayed until the previous method completes."),this.queue.push({method:e,thisObject:t,args:n,resolve:i,reject:r}),this.run()}))}run(){if(!this.running&&0!==this.queue.length){this.running=!0;var e,t=this.queue.shift(),n=t.method.apply(t.thisObject,t.args);(e=n)&&e.finally&&"function"==typeof e.finally?n.then(t.resolve,t.reject).finally((()=>{this.running=!1,this.run()})):(t.resolve(n),this.running=!1,this.run())}}}function ai(e){return("0"+e.toString(16)).substr(-2)}var li={DEFAULT_CODE_CHALLENGE_METHOD:we,generateVerifier:function(e){var t=e||"";return t.length<be&&(t+=function(e){var t=new Uint8Array(Math.ceil(e/2));return In.getRandomValues(t),Array.from(t,ai).join("").slice(0,e)}(be-t.length)),encodeURIComponent(t).slice(0,_e)},computeChallenge:function(e){var t=(new TextEncoder).encode(e);return In.subtle.digest("SHA-256",t).then((function(e){return Xn(String.fromCharCode.apply(null,new Uint8Array(e)))}))}};function ci(e){var t,n=e.split(".");try{t={header:JSON.parse(Zn(n[0])),payload:JSON.parse(Zn(n[1])),signature:n[2]}}catch(e){throw new N("Malformed token")}return t}function ui(e){const{pkce:t,clientId:n,redirectUri:i,responseType:r,responseMode:o,scopes:s,acrValues:a,maxAge:l,state:c,ignoreSignature:u,dpop:h}=e.options,d=Dn()?window.location.href:void 0;return _({pkce:t,clientId:n,redirectUri:i||d,responseType:r||["token","id_token"],responseMode:o,state:c||j(),nonce:O(64),scopes:s||["openid","email"],acrValues:a,maxAge:l,ignoreSignature:u,dpop:h})}const hi="OktaAuthJs",di="DPoPKeys";function pi(e){return(rt(e)||function(e){return e instanceof A}(e))&&"use_dpop_nonce"===e.errorCode}function fi(e=32){return[...In.getRandomValues(new Uint8Array(e))].map((e=>e.toString(16))).join("")}async function mi(e,...t){const n=await new Promise(((e,t)=>{try{const n=window.indexedDB.open(hi,1);n.onerror=function(){t(n.error)},n.onupgradeneeded=function(){n.result.createObjectStore(di)},n.onsuccess=function(){const i=n.result,r=i.transaction(di,"readwrite");r.onerror=function(){t(r.error)};const o=r.objectStore(di);e(o),r.oncomplete=function(){i.close()}}}catch(e){t(e)}}));return new Promise(((i,r)=>{const o=n[e](...t);o.onsuccess=function(){i(o)},o.onerror=function(){r(o.error)}}))}async function gi(e){if(e){const t=await mi("get",e);if(t.result)return t.result}throw new N("Unable to locate dpop key pair required for refresh"+(e?` (${e})`:""))}async function yi(e){await mi("delete",e)}async function vi(e,t){var n;let i=!1;const{accessToken:r,refreshToken:o}=t;"access"===e&&r&&"DPoP"===r.tokenType&&!o&&(i=!0),"refresh"===e&&o&&!r&&(i=!0);const s=null!==(n=null==r?void 0:r.dpopPairId)&&void 0!==n?n:null==o?void 0:o.dpopPairId;i&&s&&await yi(s)}async function bi({keyPair:e,url:t,method:n,nonce:i,accessToken:r}){const{kty:o,crv:s,e:a,n:l,x:c,y:u}=await In.subtle.exportKey("jwk",e.publicKey),h={alg:"RS256",typ:"dpop+jwt",jwk:{kty:o,crv:s,e:a,n:l,x:c,y:u}},d={htm:n,htu:t,iat:Math.floor(Date.now()/1e3),jti:fi()};return i&&(d.nonce=i),r&&(d.ath=await async function(e){const t=(new TextEncoder).encode(e),n=await In.subtle.digest("SHA-256",t);return On(String.fromCharCode.apply(null,new Uint8Array(n))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(r)),async function(e,t,n){const i=Xn(JSON.stringify(e)),r=Xn(JSON.stringify(t));return`${i}.${r}.${Jn(ii(await In.subtle.sign({name:n.algorithm.name},n,ei(`${i}.${r}`))))}`}(h,d,e.privateKey)}async function _i(e,{url:t,data:n,nonce:i,dpopKeyPair:r}){var o,s;const a="POST",l={"Content-Type":"application/x-www-form-urlencoded"};if(e.options.dpop){if(!r)throw new N("DPoP is configured but no key pair was provided");const e=await async function({keyPair:e,url:t,method:n,nonce:i}){const r={keyPair:e,url:t,method:n};return i&&(r.nonce=i),bi(r)}({url:t,method:a,nonce:i,keyPair:r});l.DPoP=e}try{return await xe(e,{url:t,method:a,args:n,headers:l})}catch(a){if(pi(a)&&!i){const i=null===(o=a.resp)||void 0===o?void 0:o.headers["dpop-nonce"];if(!i)throw new Se({errorSummary:"No `dpop-nonce` header found when required"},null!==(s=a.resp)&&void 0!==s?s:void 0);return _i(e,{url:t,data:n,dpopKeyPair:r,nonce:i})}throw a}}function wi(e,t){return Ce(e,(t||e.options.issuer)+"/.well-known/openid-configuration",{cacheResponse:!0})}async function ki(e,t,n){if(!t||!t.idToken)throw new N("Only idTokens may be verified");const i=ci(t.idToken),r=(null==n?void 0:n.issuer)||e.options.issuer,{issuer:o}=await wi(e,r),s=Object.assign({clientId:e.options.clientId,ignoreSignature:e.options.ignoreSignature},n,{issuer:o});if(function(e,t,n){const i=n.clientId,r=n.issuer,o=n.nonce,s=n.acrValues;if(!t||!r||!i)throw new N("The jwt, iss, and aud arguments are all required");if(o&&t.nonce!==o)throw new N("OAuth flow response nonce doesn't match request nonce");const a=Math.floor(Date.now()/1e3);if(t.iss!==r)throw new N("The issuer ["+t.iss+"] does not match ["+r+"]");if(Array.isArray(t.aud)&&t.aud.indexOf(i)<0||!Array.isArray(t.aud)&&t.aud!==i)throw new N("The audience ["+t.aud+"] does not match ["+i+"]");if(s&&t.acr!==s)throw new N("The acr ["+t.acr+"] does not match acr_values ["+s+"]");if(t.iat>t.exp)throw new N("The JWT expired before it was issued");if(!e.options.ignoreLifetime){if(a-e.options.maxClockSkew>t.exp)throw new N("The JWT expired and is no longer valid");if(t.iat>a+e.options.maxClockSkew)throw new N("The JWT was issued in the future")}}(e,i.payload,s),1==s.ignoreSignature||!e.features.isTokenVerifySupported())return t;const a=await function(e,t,n){var i=e.storageManager.getHttpCache(e.options.cookies);return wi(e,t).then((function(t){var r=t.jwks_uri,o=i.getStorage()[r];if(o&&Date.now()/1e3<o.expiresAt){var s=S(o.response.keys,{kid:n});if(s)return s}return i.clearStorage(r),Ce(e,r,{cacheResponse:!0}).then((function(e){var t=S(e.keys,{kid:n});if(t)return t;throw new N("The key id, "+n+", was not found in the server's keys")}))}))}(e,t.issuer,i.header.kid);if(!await oi(t.idToken,a))throw new N("The token signature is not valid");if(n&&n.accessToken&&t.claims.at_hash&&await ri(n.accessToken)!==t.claims.at_hash)throw new N("Token hash verification failed");return t}async function Si(e,t,n,i){if(!1!==e.options.pkce&&(n.code||n.interaction_code))return e.token.exchangeCodeForTokens(Object.assign({},t,{authorizationCode:n.code,interactionCode:n.interaction_code}),i);t=t||ui(e),i=i||U(e,t);let r,o=t.responseType||[];Array.isArray(o)||"none"===o||(o=[o]),r=n.scope?n.scope.split(" "):w(t.scopes);const s=t.clientId||e.options.clientId;!function(e,t){if(e.error&&e.error_description)throw new Ee(e.error,e.error_description);if(e.state!==t.state)throw new N("OAuth flow response state doesn't match request state");if(t.dpop&&"DPoP"!==e.token_type)throw new N('Unable to parse OAuth flow response: DPoP was configured but "token_type" was not DPoP')}(n,t);const a={},l=n.expires_in,c=n.token_type,u=n.access_token,h=n.id_token,d=n.refresh_token,p=Math.floor(Date.now()/1e3);if(u){const n=e.token.decode(u);a.accessToken={accessToken:u,claims:n.payload,expiresAt:Number(l)+p,tokenType:c,scopes:r,authorizeUrl:i.authorizeUrl,userinfoUrl:i.userinfoUrl},t.dpopPairId&&(a.accessToken.dpopPairId=t.dpopPairId)}if(d&&(a.refreshToken={refreshToken:d,expiresAt:Number(l)+p,scopes:r,tokenUrl:i.tokenUrl,authorizeUrl:i.authorizeUrl,issuer:i.issuer},t.dpopPairId&&(a.refreshToken.dpopPairId=t.dpopPairId)),h){const n=e.token.decode(h),o={idToken:h,claims:n.payload,expiresAt:n.payload.exp-n.payload.iat+p,scopes:r,authorizeUrl:i.authorizeUrl,issuer:i.issuer,clientId:s},l={clientId:s,issuer:i.issuer,nonce:t.nonce,accessToken:u,acrValues:t.acrValues};void 0!==t.ignoreSignature&&(l.ignoreSignature=t.ignoreSignature),await ki(e,o,l),a.idToken=o}if(-1!==o.indexOf("token")&&!a.accessToken)throw new N('Unable to parse OAuth flow response: response type "token" was requested but "access_token" was not returned.');if(-1!==o.indexOf("id_token")&&!a.idToken)throw new N('Unable to parse OAuth flow response: response type "id_token" was requested but "id_token" was not returned.');return{tokens:a,state:n.state,code:n.code,responseType:o}}async function Ei(e,t,n){n=n||U(e,t),t=Object.assign({},ui(e),w(t));const{authorizationCode:i,interactionCode:r,codeVerifier:o,clientId:s,redirectUri:a,scopes:l,ignoreSignature:c,state:u,acrValues:h,dpop:d,dpopPairId:p}=t,f={clientId:s,redirectUri:a,authorizationCode:i,interactionCode:r,codeVerifier:o,dpop:d},m=["token"];-1!==l.indexOf("openid")&&m.push("id_token");const g={clientId:s,redirectUri:a,scopes:l,responseType:m,ignoreSignature:c,acrValues:h};try{if(d)if(p){const e=await gi(p);f.dpopKeyPair=e,g.dpop=d,g.dpopPairId=p}else{const{keyPair:e,keyPairId:t}=await async function(){const e=fi(4),t=await async function(){const e={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};return In.subtle.generateKey(e,!1,["sign","verify"])}();return await async function(e,t){return await mi("add",t,e),t}(e,t),{keyPair:t,keyPairId:e}}();f.dpopKeyPair=e,g.dpop=d,g.dpopPairId=t}const t=await async function(e,t,n){!function(e){if(!e.clientId)throw new N("A clientId must be specified in the OktaAuth constructor to get a token");if(!e.redirectUri)throw new N("The redirectUri passed to /authorize must also be passed to /token");if(!e.authorizationCode&&!e.interactionCode)throw new N("An authorization code (returned from /authorize) must be passed to /token");if(!e.codeVerifier)throw new N('The "codeVerifier" (generated and saved by your app) must be passed to /token')}(t);var i=function(e,t){var n=_({client_id:t.clientId,redirect_uri:t.redirectUri,grant_type:t.interactionCode?"interaction_code":"authorization_code",code_verifier:t.codeVerifier});t.interactionCode?n.interaction_code=t.interactionCode:t.authorizationCode&&(n.code=t.authorizationCode);const{clientSecret:i}=e.options;return i&&(n.client_secret=i),R(n).slice(1)}(e,t);return _i(e,{url:n.tokenUrl,data:i,dpopKeyPair:null==t?void 0:t.dpopKeyPair})}(e,f,n),r=await Si(e,g,t,n);return r.code=i,r.state=u,r}finally{e.transactionManager.clear()}}function Ti(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function xi(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}function Ci(e,t,n){var i,r;return new Promise((function(o,s){i=function(t){if(t.data&&t.data.state===n)return t.origin!==e.getIssuerOrigin()?s(new N("The request does not match client configuration")):void o(t.data)},Ti(window,"message",i),r=setTimeout((function(){s(new N("OAuth flow timed out"))}),t||12e4)})).finally((function(){clearTimeout(r),xi(window,"message",i)}))}async function Pi(e,t={}){const n=ui(e);if((t=Object.assign(Object.assign({},n),t)).dpop&&!e.features.isDPoPSupported())throw new N("DPoP has been configured, but is not supported by browser");return!1===t.pkce?t:async function(e,t){let{codeVerifier:n,codeChallenge:i,codeChallengeMethod:r}=t;return i=i||e.options.codeChallenge,i||(function(e){if(!e.features.isPKCESupported()){var t="PKCE requires a modern browser with encryption support running in a secure context.";throw e.features.isHTTPS()||(t+="\nThe current page is not being served with HTTPS protocol. PKCE requires secure HTTPS protocol."),e.features.hasTextEncoder()||(t+='\n"TextEncoder" is not defined. To use PKCE, you may need to include a polyfill/shim for this browser.'),new N(t)}}(e),n=n||li.generateVerifier(),i=await li.computeChallenge(n)),r=await async function(e,t){if(t=t||e.options.codeChallengeMethod||we,-1===((await wi(e)).code_challenge_methods_supported||[]).indexOf(t))throw new N("Invalid code_challenge_method");return t}(e,r),Object.assign(Object.assign({},t),{responseType:"code",codeVerifier:n,codeChallenge:i,codeChallengeMethod:r})}(e,t)}function Ai(e){var t=function(e){if(!e.clientId)throw new N("A clientId must be specified in the OktaAuth constructor to get a token");if(x(e.responseType)&&-1!==e.responseType.indexOf(" "))throw new N("Multiple OAuth responseTypes must be defined as an array");var t={client_id:e.clientId,code_challenge:e.codeChallenge,code_challenge_method:e.codeChallengeMethod,display:e.display,idp:e.idp,idp_scope:e.idpScope,login_hint:e.loginHint,max_age:e.maxAge,nonce:e.nonce,prompt:e.prompt,redirect_uri:e.redirectUri,response_mode:e.responseMode,response_type:e.responseType,sessionToken:e.sessionToken,state:e.state,acr_values:e.acrValues,enroll_amr_values:e.enrollAmrValues};if(t=_(t),["idp_scope","response_type","enroll_amr_values"].forEach((function(e){Array.isArray(t[e])&&(t[e]=t[e].join(" "))})),-1!==e.responseType.indexOf("id_token")&&-1===e.scopes.indexOf("openid"))throw new N("openid scope must be specified in the scopes argument when requesting an id_token");return e.scopes&&(t.scope=e.scopes.join(" ")),t}(e);return R(Object.assign(Object.assign({},t),e.extraParams&&Object.assign({},e.extraParams)))}function Oi(e,t){if(arguments.length>2)return Promise.reject(new N('As of version 3.0, "getToken" takes only a single set of options'));const n=(t=t||{}).popupWindow;return t.popupWindow=void 0,Pi(e,t).then((function(i){var r,o,s,a;switch(t.sessionToken?Object.assign(i,{prompt:"none",responseMode:"okta_post_message",display:null}):t.idp&&Object.assign(i,{display:"popup"}),o=U(e,i),r=(t.codeVerifier?o.tokenUrl:o.authorizeUrl)+Ai(i),i.sessionToken||null===i.display?"IFRAME":"popup"===i.display?"POPUP":"IMPLICIT"){case"IFRAME":var l=Ci(e,t.timeout,i.state),c=(s=r,(a=document.createElement("iframe")).style.display="none",a.src=s,document.body.appendChild(a));return l.then((function(t){return Si(e,i,t,o)})).finally((function(){var e;document.body.contains(c)&&(null===(e=c.parentElement)||void 0===e||e.removeChild(c))}));case"POPUP":var u;if("okta_post_message"===i.responseMode){if(!e.features.isPopupPostMessageSupported())throw new N("This browser doesn't have full postMessage support");u=Ci(e,t.timeout,i.state)}return n&&n.location.assign(r),new Promise((function(e,t){var i=setInterval((function(){n&&!n.closed||(clearInterval(i),t(new N("Unable to parse OAuth flow response")))}),100);u.then((function(t){clearInterval(i),e(t)})).catch((function(e){clearInterval(i),t(e)}))})).then((function(t){return Si(e,i,t,o)})).finally((function(){n&&!n.closed&&n.close()}));default:throw new N("The full page redirect flow is not supported")}}))}function Ii(e,t){return arguments.length>2?Promise.reject(new N('As of version 3.0, "getWithoutPrompt" takes only a single set of options')):(t=w(t)||{},Object.assign(t,{prompt:"none",responseMode:"okta_post_message",display:null}),Oi(e,t))}function Li(e,t){if(arguments.length>2)return Promise.reject(new N('As of version 3.0, "getWithPopup" takes only a single set of options'));const n=function(e,t){var n=t.popupTitle||"External Identity Provider User Authentication";return window.open("/",n,"toolbar=no, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=600")}(0,t);return t=w(t)||{},Object.assign(t,{display:"popup",responseMode:"okta_post_message",popupWindow:n}),Oi(e,t)}async function Di(e,t){if(arguments.length>2)return Promise.reject(new N('As of version 3.0, "getWithRedirect" takes only a single set of options'));t=w(t)||{};const n=await Pi(e,t),i=q(e,n),r=i.urls.authorizeUrl+Ai(n);e.transactionManager.save(i),e.options.setLocation?e.options.setLocation(r):window.location.assign(r)}function Ri(e){var t=e.options.pkce?"query":"fragment";return e.options.responseMode||t}function Mi(e,t){x(t=t||{})&&(t={url:t});var n,i=t.url,r=t.responseMode||Ri(e),o=e.token.parseFromUrl._getLocation();if(!(n="query"===r?i?i.substring(i.indexOf("?")):o.search:i?i.substring(i.indexOf("#")):o.hash))throw new N("Unable to parse a token from the url");return un(n)}async function Ni(e,t){x(t=t||{})&&(t={url:t});const n=Mi(e,t),i=n.state,r=e.transactionManager.load({state:i});if(!r){if(e.options.pkce)throw new N("Could not load PKCE codeVerifier from storage. This may indicate the auth flow has already completed or multiple auth flows are executing concurrently.",void 0);throw new N("Unable to retrieve OAuth redirect params from storage")}const o=r.urls;return delete r.urls,t.url||function(e,t){"query"===(t.responseMode||Ri(e))?function(e){var t=e.token.parseFromUrl._getHistory(),n=e.token.parseFromUrl._getDocument(),i=e.token.parseFromUrl._getLocation();t&&t.replaceState?t.replaceState(null,n.title,i.pathname+i.hash):i.search=""}(e):function(e){var t=e.token.parseFromUrl._getHistory(),n=e.token.parseFromUrl._getDocument(),i=e.token.parseFromUrl._getLocation();t&&t.replaceState?t.replaceState(null,n.title,i.pathname+i.search):i.hash=""}(e)}(e,t),Si(e,r,n,o).catch((t=>{throw En(t)||e.transactionManager.clear({state:i}),t})).then((t=>(e.transactionManager.clear({state:i}),t)))}async function ji(e,t,n){const{clientId:i,dpop:r}=e.options;if(!i)throw new N("A clientId must be specified in the OktaAuth constructor to renew tokens");try{const o=Object.assign({},t,{clientId:i}),s=Object.assign({},o);if(r){const e=await gi(null==n?void 0:n.dpopPairId);s.dpopKeyPair=e,o.dpop=r,o.dpopPairId=n.dpopPairId}const a=await async function(e,t,n){const i=Object.entries({client_id:t.clientId,grant_type:"refresh_token",scope:n.scopes.join(" "),refresh_token:n.refreshToken}).map((function([e,t]){return e+"="+encodeURIComponent(t)})).join("&");return _i(e,{url:n.tokenUrl,data:i,dpopKeyPair:null==t?void 0:t.dpopKeyPair})}(e,s,n),l=U(e,t),{tokens:c}=await Si(e,o,a,l),{refreshToken:u}=c;return u&&!function(e,t){return e.refreshToken===t.refreshToken}(u,n)&&e.tokenManager.updateRefreshToken(u),c}catch(t){throw rt(o=t)&&"invalid_grant"===o.errorCode&&"The refresh token is invalid or expired."===o.errorSummary&&e.tokenManager.removeRefreshToken(),t}var o}function Fi(){throw new N("Renew must be passed a token with an array of scopes and an accessToken or idToken")}function Bi(e,t){return Y(e)?t.idToken:K(e)?t.accessToken:void Fi()}async function Ui(e,t){Y(t)||K(t)||Fi();let n=e.tokenManager.getTokensSync();if(n.refreshToken)return n=await ji(e,{scopes:t.scopes},n.refreshToken),Bi(t,n);var i;i=e.options.pkce?"code":K(t)?"token":"id_token";const{scopes:r,authorizeUrl:o,userinfoUrl:s,issuer:a,dpopPairId:l}=t;return Ii(e,{responseType:i,scopes:r,authorizeUrl:o,userinfoUrl:s,issuer:a,dpopPairId:l}).then((function(e){return Bi(t,e.tokens)}))}async function qi(e,t){var n;const i=null!==(n=null==t?void 0:t.tokens)&&void 0!==n?n:e.tokenManager.getTokensSync();if(i.refreshToken)return ji(e,t||{},i.refreshToken);if(!i.accessToken&&!i.idToken)throw new N("renewTokens() was called but there is no existing token");const r=i.accessToken||{},o=i.idToken||{},s=r.scopes||o.scopes;if(!s)throw new N("renewTokens: invalid tokens: could not read scopes");const a=r.authorizeUrl||o.authorizeUrl;if(!a)throw new N("renewTokens: invalid tokens: could not read authorizeUrl");const l=r.userinfoUrl||e.options.userinfoUrl,c=o.issuer||e.options.issuer,u=null==r?void 0:r.dpopPairId;if(t=Object.assign({scopes:s,authorizeUrl:a,userinfoUrl:l,issuer:c,dpopPairId:u},t),e.options.pkce)t.responseType="code";else{const{responseType:n}=ui(e);t.responseType=n}return Ii(e,t).then((e=>e.tokens))}async function Vi(e,t){let n="",i="";if(t&&(n=t.accessToken,i=t.refreshToken),!n&&!i)throw new N("A valid access or refresh token object is required");var r=e.options.clientId,o=e.options.clientSecret;if(!r)throw new N("A clientId must be specified in the OktaAuth constructor to revoke a token");return Pe(e,U(e).revokeUrl,R({token_type_hint:i?"refresh_token":"access_token",token:i||n}).slice(1),{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+On(o?`${r}:${o}`:r)}})}const Hi={accessToken:"access_token",idToken:"id_token",refreshToken:"refresh_token"};async function $i(e,t,n){var i;let r,o=e.options.clientId,s=e.options.clientSecret;if(n||(n=e.tokenManager.getTokens()[t]),!n)throw new N(`unable to find ${t} in storage or fn params`);if(r=t!==$.ACCESS?null==n?void 0:n.issuer:null===(i=null==n?void 0:n.claims)||void 0===i?void 0:i.iss,r=r||e.options.issuer,!o)throw new N("A clientId must be specified in the OktaAuth constructor to introspect a token");if(!r)throw new N("Unable to find issuer");const{introspection_endpoint:a}=await wi(e,r),l=On(s?`${o}:${s}`:o);return Pe(e,a,R({token_type_hint:Hi[t],token:n[t]}).slice(1),{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+l}})}function zi(e,t){const n=function(e,t){return function(e){if(!(e=Object.assign(Object.assign({},e),{responseType:"none",prompt:"enroll_authenticator",maxAge:0})).enrollAmrValues)throw new N("enroll_amr_values must be specified");if(!e.acrValues)throw new N("acr_values must be specified");return delete e.scopes,delete e.nonce,e}(Object.assign(Object.assign({},function(e){const{clientId:t,redirectUri:n,responseMode:i,state:r}=e.options,o=Dn()?window.location.href:void 0;return _({clientId:t,redirectUri:n||o,responseMode:i,state:r||j(),responseType:"none",prompt:"enroll_authenticator"})}(e)),t))}(e,t=w(t)||{}),i=function(e,t){return{issuer:e.options.issuer,urls:U(e,t),clientId:t.clientId,redirectUri:t.redirectUri,responseType:t.responseType,responseMode:t.responseMode,state:t.state,acrValues:t.acrValues,enrollAmrValues:t.enrollAmrValues}}(e,n),r=i.urls.authorizeUrl+Ai(n);e.transactionManager.save(i),e.options.setLocation?e.options.setLocation(r):window.location.assign(r)}function Wi(e,t){const n=e=>si.prototype.push.bind(t,e,null),i=n(Di.bind(null,e)),r=n(Ni.bind(null,e)),o=Object.assign(r,{_getHistory:function(){return window.history},_getLocation:function(){return window.location},_getDocument:function(){return window.document}}),s={prepareTokenParams:Pi.bind(null,e),exchangeCodeForTokens:Ei.bind(null,e),getWithoutPrompt:Ii.bind(null,e),getWithPopup:Li.bind(null,e),getWithRedirect:i,parseFromUrl:o,decode:ci,revoke:Vi.bind(null,e),renew:Ui.bind(null,e),renewTokensWithRefresh:ji.bind(null,e),renewTokens:qi.bind(null,e),getUserInfo:(t,n)=>async function(e,t,n){if(t||(t=(await e.tokenManager.getTokens()).accessToken),n||(n=(await e.tokenManager.getTokens()).idToken),!t||!K(t))return Promise.reject(new N("getUserInfo requires an access token object"));if(!n||!Y(n))return Promise.reject(new N("getUserInfo requires an ID token object"));const i={url:t.userinfoUrl,method:"GET",accessToken:t.accessToken};if(e.options.dpop){const n=await e.getDPoPAuthorizationHeaders(Object.assign(Object.assign({},i),{accessToken:t}));i.headers=n,delete i.accessToken}return xe(e,i).then((e=>e.sub===n.claims.sub?e:Promise.reject(new N("getUserInfo request was rejected due to token mismatch")))).catch((function(t){var n;if(t instanceof A&&!e.options.dpop){const{error:e,errorDescription:n}=t;throw new Ee(e,n)}if(!e.options.dpop){let e=t;if(t instanceof Se&&(null===(n=null==t?void 0:t.meta)||void 0===n?void 0:n.wwwAuthHeader)&&(e=A.parseHeader(t.meta.wwwAuthHeader)),e instanceof A){const{error:t,errorDescription:n}=e;throw new Ee(t,n)}}throw t}))}(e,t,n),verify:ki.bind(null,e),isLoginRedirect:Cn.bind(null,e),introspect:$i.bind(null,e)};return["getWithoutPrompt","getWithPopup","revoke","renew","renewTokensWithRefresh","renewTokens"].forEach((e=>{s[e]=n(s[e])})),s}function Gi(e,t){if(!Y(e)&&!K(e)&&!X(e))throw new N("Token must be an Object with scopes, expiresAt, and one of: an idToken, accessToken, or refreshToken property");if("accessToken"===t&&!K(e))throw new N("invalid accessToken");if("idToken"===t&&!Y(e))throw new N("invalid idToken");if("refreshToken"===t&&!X(e))throw new N("invalid refreshToken")}class Ki{constructor(e){this.localOffset=parseInt(e||0)}static create(){return new Ki(0)}now(){return(Date.now()+this.localOffset)/1e3}}const Yi="expired",Xi="renewed",Ji="added",Qi="removed",Zi="set_storage",er={autoRenew:!0,autoRemove:!0,syncStorage:!0,clearPendingRemoveTokens:!0,storage:void 0,expireEarlySeconds:30,storageKey:le};class tr{constructor(e,t={}){if(this.sdk=e,this.emitter=e.emitter,!this.emitter)throw new N("Emitter should be initialized before TokenManager");t=Object.assign({},er,_(t)),Hn()||(t.expireEarlySeconds=er.expireEarlySeconds),this.options=t;const n=_({storageKey:t.storageKey,secure:t.secure});"object"==typeof t.storage?n.storageProvider=t.storage:t.storage&&(n.storageType=t.storage),this.storage=e.storageManager.getTokenStorage(Object.assign(Object.assign({},n),{useSeparateCookies:!0})),this.clock=Ki.create(),this.state={expireTimeouts:{},renewPromise:null}}on(e,t,n){n?this.emitter.on(e,t,n):this.emitter.on(e,t)}off(e,t){t?this.emitter.off(e,t):this.emitter.off(e)}start(){this.options.clearPendingRemoveTokens&&this.clearPendingRemoveTokens(),this.setExpireEventTimeoutAll(),this.state.started=!0}stop(){this.clearExpireEventTimeoutAll(),this.state.started=!1}isStarted(){return!!this.state.started}getOptions(){return w(this.options)}getExpireTime(e){const t=this.options.expireEarlySeconds||0;return e.expiresAt-t}hasExpired(e){return this.getExpireTime(e)<=this.clock.now()}emitExpired(e,t){this.emitter.emit(Yi,e,t)}emitRenewed(e,t,n){this.emitter.emit(Xi,e,t,n)}emitAdded(e,t){this.emitter.emit(Ji,e,t)}emitRemoved(e,t){this.emitter.emit(Qi,e,t)}emitError(e){this.emitter.emit("error",e)}clearExpireEventTimeout(e){clearTimeout(this.state.expireTimeouts[e]),delete this.state.expireTimeouts[e],this.state.renewPromise=null}clearExpireEventTimeoutAll(){var e=this.state.expireTimeouts;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.clearExpireEventTimeout(t)}setExpireEventTimeout(e,t){if(!X(t)){var n=this.getExpireTime(t),i=1e3*Math.max(n-this.clock.now(),0);this.clearExpireEventTimeout(e);var r=setTimeout((()=>{this.emitExpired(e,t)}),i);this.state.expireTimeouts[e]=r}}setExpireEventTimeoutAll(){var e=this.storage.getStorage();for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];this.setExpireEventTimeout(t,n)}}resetExpireEventTimeoutAll(){this.clearExpireEventTimeoutAll(),this.setExpireEventTimeoutAll()}add(e,t){var n=this.storage.getStorage();Gi(t),n[e]=t,this.storage.setStorage(n),this.emitSetStorageEvent(),this.emitAdded(e,t),this.setExpireEventTimeout(e,t)}getSync(e){return this.storage.getStorage()[e]}async get(e){return this.getSync(e)}getTokensSync(){const e={},t=this.storage.getStorage();return Object.keys(t).forEach((n=>{const i=t[n];K(i)?e.accessToken=i:Y(i)?e.idToken=i:X(i)&&(e.refreshToken=i)})),e}async getTokens(){return this.getTokensSync()}getStorageKeyByType(e){const t=this.storage.getStorage();return Object.keys(t).filter((n=>{const i=t[n];return K(i)&&"accessToken"===e||Y(i)&&"idToken"===e||X(i)&&"refreshToken"===e}))[0]}getTokenType(e){if(K(e))return"accessToken";if(Y(e))return"idToken";if(X(e))return"refreshToken";throw new N("Unknown token type")}emitSetStorageEvent(){if(Rn()){const e=this.storage.getStorage();this.emitter.emit(Zi,e)}}getStorage(){return this.storage}setTokens(e,t,n,i){const r=(e,r)=>{const o=this.getTokenType(r);"accessToken"===o?t&&t(e,r):"idToken"===o?n&&n(e,r):"refreshToken"===o&&i&&i(e,r)},o=(e,t)=>{this.emitAdded(e,t),this.setExpireEventTimeout(e,t),r(e,t)},s=(e,t,n)=>{this.emitRenewed(e,t,n),this.clearExpireEventTimeout(e),this.setExpireEventTimeout(e,t),r(e,t)},a=(e,t)=>{this.clearExpireEventTimeout(e),this.emitRemoved(e,t),r(e,t)},l=["idToken","accessToken","refreshToken"],c=this.getTokensSync();l.forEach((t=>{const n=e[t];n&&Gi(n,t)}));const u=l.reduce(((t,n)=>{const i=e[n];return i&&(t[this.getStorageKeyByType(n)||n]=i),t}),{});this.storage.setStorage(u),this.emitSetStorageEvent(),l.forEach((t=>{const n=e[t],i=c[t],r=this.getStorageKeyByType(t)||t;n&&i?(a(r,i),o(r,n),s(r,n,i)):n?o(r,n):i&&a(r,i)}))}remove(e){this.clearExpireEventTimeout(e);var t=this.storage.getStorage(),n=t[e];delete t[e],this.storage.setStorage(t),this.emitSetStorageEvent(),this.emitRemoved(e,n)}async renewToken(e){var t;return null===(t=this.sdk.token)||void 0===t?void 0:t.renew(e)}validateToken(e){return Gi(e)}renew(e){if(this.state.renewPromise)return this.state.renewPromise;try{var t=this.getSync(e);let n=void 0!==t;if(!t&&"accessToken"===e){const e=this.getStorageKeyByType("refreshToken");n=void 0!==this.getSync(e)}if(!n)throw new N("The tokenManager has no token for the key: "+e)}catch(e){return this.emitError(e),Promise.reject(e)}return this.clearExpireEventTimeout(e),this.state.renewPromise=this.sdk.token.renewTokens().then((n=>{if(this.setTokens(n),!t&&"accessToken"===e){const t=n.accessToken;return this.emitRenewed(e,t,null),t}return n[this.getTokenType(t)]})).catch((t=>{throw this.remove(e),t.tokenKey=e,this.emitError(t),t})).finally((()=>{this.state.renewPromise=null}))}clear(){const e=this.getTokensSync();this.clearExpireEventTimeoutAll(),this.storage.clearStorage(),this.emitSetStorageEvent(),Object.keys(e).forEach((t=>{this.emitRemoved(t,e[t])}))}clearPendingRemoveTokens(){const e=this.storage.getStorage(),t={};Object.keys(e).forEach((n=>{e[n].pendingRemove&&(t[n]=e[n],delete e[n])})),this.storage.setStorage(e),this.emitSetStorageEvent(),Object.keys(t).forEach((e=>{this.clearExpireEventTimeout(e),this.emitRemoved(e,t[e])}))}updateRefreshToken(e){const t=this.getStorageKeyByType("refreshToken")||ye;var n=this.storage.getStorage();Gi(e),n[t]=e,this.storage.setStorage(n),this.emitSetStorageEvent()}removeRefreshToken(){const e=this.getStorageKeyByType("refreshToken")||ye;this.remove(e)}addPendingRemoveFlags(){const e=this.getTokensSync();Object.keys(e).forEach((t=>{e[t].pendingRemove=!0})),this.setTokens(e)}}var nr={browserHasLocalStorage:function(){try{var e=this.getLocalStorage();return this.testStorage(e)}catch(e){return!1}},browserHasSessionStorage:function(){try{var e=this.getSessionStorage();return this.testStorage(e)}catch(e){return!1}},testStorageType:function(e){var t=!1;switch(e){case"sessionStorage":t=this.browserHasSessionStorage();break;case"localStorage":t=this.browserHasLocalStorage();break;case"cookie":case"memory":t=!0;break;default:t=!1}return t},getStorageByType:function(e,t){let n;switch(e){case"sessionStorage":n=this.getSessionStorage();break;case"localStorage":n=this.getLocalStorage();break;case"cookie":n=this.getCookieStorage(t);break;case"memory":n=this.getInMemoryStorage();break;default:throw new N(`Unrecognized storage option: ${e}`)}return n},findStorageType:function(e){let t,n;return t=(e=e.slice()).shift(),n=e.length?e[0]:null,n?this.testStorageType(t)?t:(b(`This browser doesn't support ${t}. Switching to ${n}.`),this.findStorageType(e)):t},getLocalStorage:function(){return Rn()&&!window.onstorage&&(window.onstorage=function(){}),localStorage},getSessionStorage:function(){return sessionStorage},getCookieStorage:function(e){const t=e.secure,n=e.sameSite,i=e.sessionCookie;if(void 0===t||void 0===n)throw new N('getCookieStorage: "secure" and "sameSite" options must be provided');const r={getItem:this.storage.get,setItem:(e,r,o="2200-01-01T00:00:00.000Z")=>{o=i?null:o,this.storage.set(e,r,o,{secure:t,sameSite:n})},removeItem:e=>{this.storage.delete(e)}};return e.useSeparateCookies?{getItem:function(e){var t=r.getItem(),n={};return Object.keys(t).forEach((i=>{0===i.indexOf(e)&&(n[i.replace(`${e}_`,"")]=JSON.parse(t[i]))})),JSON.stringify(n)},setItem:function(e,t){var n=JSON.parse(this.getItem(e));t=JSON.parse(t),Object.keys(t).forEach((i=>{var o=e+"_"+i,s=JSON.stringify(t[i]);r.setItem(o,s),delete n[i]})),Object.keys(n).forEach((t=>{r.removeItem(e+"_"+t)}))},removeItem:function(e){var t=JSON.parse(this.getItem(e));Object.keys(t).forEach((t=>{r.removeItem(e+"_"+t)}))}}:r},inMemoryStore:{},getInMemoryStorage:function(){return{getItem:e=>this.inMemoryStore[e],setItem:(e,t)=>{this.inMemoryStore[e]=t}}},testStorage:function(e){var t="okta-test-storage";try{return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}},storage:{set:function(e,t,n,i){const{sameSite:r,secure:o}=i;if(void 0===o||void 0===r)throw new N('storage.set: "secure" and "sameSite" options must be provided');var s={path:i.path||"/",secure:o,sameSite:r};return Date.parse(n)&&(s.expires=new Date(n)),z.set(e,t,s),this.get(e)},get:function(e){return arguments.length?z.get(e):z.get()},delete:function(e){return z.remove(e,{path:"/"})}}};function ir(e,t){var n;const r=(o=e,class extends o{setOriginalUri(e,t){nr.getSessionStorage().setItem(ve,e),(t=t||this.options.state)&&this.storageManager.getOriginalUriStorage().setItem(t,e)}getOriginalUri(e){if(e=e||this.options.state){const t=this.storageManager.getOriginalUriStorage().getItem(e);if(t)return t}const t=nr.getSessionStorage();return t&&t.getItem(ve)||void 0}removeOriginalUri(e){if(nr.getSessionStorage().removeItem(ve),e=e||this.options.state){const t=this.storageManager.getOriginalUriStorage();t.removeItem&&t.removeItem(e)}}});var o;return n=class extends r{constructor(...e){super(...e),this.transactionManager=new t(Object.assign({storageManager:this.storageManager},this.options.transactionManager)),this.pkce={DEFAULT_CODE_CHALLENGE_METHOD:li.DEFAULT_CODE_CHALLENGE_METHOD,generateVerifier:li.generateVerifier,computeChallenge:li.computeChallenge},this._pending={handleLogin:!1},this._tokenQueue=new si,this.token=Wi(this,this._tokenQueue),this.tokenManager=new tr(this,this.options.tokenManager),this.endpoints={authorize:{enrollAuthenticator:zi.bind(null,this)}}}clearStorage(){super.clearStorage(),this.tokenManager.clear()}async isAuthenticated(e={}){const{autoRenew:t,autoRemove:n}=this.tokenManager.getOptions(),i=e.onExpiredToken?"renew"===e.onExpiredToken:t,r=e.onExpiredToken?"remove"===e.onExpiredToken:n;let{accessToken:o}=this.tokenManager.getTokensSync();if(o&&this.tokenManager.hasExpired(o))if(o=void 0,i)try{o=await this.tokenManager.renew("accessToken")}catch(e){}else r&&this.tokenManager.remove("accessToken");let{idToken:s}=this.tokenManager.getTokensSync();if(s&&this.tokenManager.hasExpired(s))if(s=void 0,i)try{s=await this.tokenManager.renew("idToken")}catch(e){}else r&&this.tokenManager.remove("idToken");return!(!o||!s)}async signInWithRedirect(e={}){const{originalUri:t}=e,n=Ie(e,["originalUri"]);if(!this._pending.handleLogin){this._pending.handleLogin=!0;try{t&&this.setOriginalUri(t);const e=Object.assign({scopes:this.options.scopes||["openid","email","profile"]},n);await this.token.getWithRedirect(e)}finally{this._pending.handleLogin=!1}}}async getUser(){const{idToken:e,accessToken:t}=this.tokenManager.getTokensSync();return this.token.getUserInfo(t,e)}getIdToken(){const{idToken:e}=this.tokenManager.getTokensSync();return e?e.idToken:void 0}getAccessToken(){const{accessToken:e}=this.tokenManager.getTokensSync();return e?e.accessToken:void 0}getRefreshToken(){const{refreshToken:e}=this.tokenManager.getTokensSync();return e?e.refreshToken:void 0}async getOrRenewAccessToken(){var e;const{accessToken:t}=this.tokenManager.getTokensSync();if(t&&!this.tokenManager.hasExpired(t))return t.accessToken;try{const t=this.tokenManager.getStorageKeyByType("accessToken"),n=await this.tokenManager.renew(null!=t?t:"accessToken");return null!==(e=null==n?void 0:n.accessToken)&&void 0!==e?e:null}catch(e){return this.emitter.emit("error",e),null}}async storeTokensFromRedirect(){const{tokens:e,responseType:t}=await this.token.parseFromUrl();"none"!==t&&this.tokenManager.setTokens(e)}isLoginRedirect(){return Cn(this)}isPKCE(){return!!this.options.pkce}hasResponseType(e){return function(e,t){let n=!1;return n=Array.isArray(t.responseType)&&t.responseType.length?t.responseType.indexOf(e)>=0:t.responseType===e,n}(e,this.options)}isAuthorizationCodeFlow(){return this.hasResponseType("code")}async invokeApiMethod(e){if(!e.accessToken){const t=(await this.tokenManager.getTokens()).accessToken;e.accessToken=null==t?void 0:t.accessToken}return xe(this,e)}async revokeAccessToken(e){if(!e){const t=await this.tokenManager.getTokens();e=t.accessToken;const n=this.tokenManager.getStorageKeyByType("accessToken");this.tokenManager.remove(n),this.options.dpop&&await vi("access",t)}return e?this.token.revoke(e):Promise.resolve(null)}async revokeRefreshToken(e){if(!e){const t=await this.tokenManager.getTokens();e=t.refreshToken;const n=this.tokenManager.getStorageKeyByType("refreshToken");this.tokenManager.remove(n),this.options.dpop&&await vi("refresh",t)}return e?this.token.revoke(e):Promise.resolve(null)}getSignOutRedirectUrl(e={}){let{idToken:t,postLogoutRedirectUri:n,state:i}=e;if(t||(t=this.tokenManager.getTokensSync().idToken),!t)return"";void 0===n&&(n=this.options.postLogoutRedirectUri);const r=U(this).logoutUrl,o=t.idToken;let s=r+"?id_token_hint="+encodeURIComponent(o);return n&&(s+="&post_logout_redirect_uri="+encodeURIComponent(n)),i&&(s+="&state="+encodeURIComponent(i)),s}async signOut(e){var t;e=Object.assign({},e);const n=window.location.origin,i=window.location.href,r=null===e.postLogoutRedirectUri?null:e.postLogoutRedirectUri||this.options.postLogoutRedirectUri||n,o=null==e?void 0:e.state;let s=e.accessToken,a=e.refreshToken;const l=!1!==e.revokeAccessToken,c=!1!==e.revokeRefreshToken;c&&void 0===a&&(a=this.tokenManager.getTokensSync().refreshToken),l&&void 0===s&&(s=this.tokenManager.getTokensSync().accessToken),e.idToken||(e.idToken=this.tokenManager.getTokensSync().idToken),c&&a&&await this.revokeRefreshToken(a),l&&s&&await this.revokeAccessToken(s);const u=null!==(t=null==s?void 0:s.dpopPairId)&&void 0!==t?t:null==a?void 0:a.dpopPairId;this.options.dpop&&u&&await yi(u);const h=this.getSignOutRedirectUrl(Object.assign(Object.assign({},e),{postLogoutRedirectUri:r}));if(h)return e.clearTokensBeforeRedirect?this.tokenManager.clear():this.tokenManager.addPendingRemoveFlags(),window.location.assign(h),!0;{const e=await this.closeSession(),t=new URL(r||n);return o&&t.searchParams.append("state",o),r===i?window.location.href=t.href:window.location.assign(t.href),e}}async getDPoPAuthorizationHeaders(e){if(!this.options.dpop)throw new N("DPoP is not configured for this client instance");let{accessToken:t}=e;if(t||(t=this.tokenManager.getTokensSync().accessToken),!t)throw new N("AccessToken is required to generate a DPoP Proof");const n=await gi(null==t?void 0:t.dpopPairId),i=await bi(Object.assign(Object.assign({},e),{keyPair:n,accessToken:t.accessToken}));return{Authorization:`DPoP ${t.accessToken}`,Dpop:i}}async clearDPoPStorage(e=!1){var t,n;if(e)return async function(){await mi("clear")}();const i=await this.tokenManager.getTokens(),r=(null===(t=i.accessToken)||void 0===t?void 0:t.dpopPairId)||(null===(n=i.refreshToken)||void 0===n?void 0:n.dpopPairId);r&&await yi(r)}parseUseDPoPNonceError(e){var t;const n=A.getWWWAuthenticateHeader(e);if(pi(A.parseHeader(null!=n?n:""))){let n=null;return P(null==e?void 0:e.get)&&(n=e.get("DPoP-Nonce")),n=null!==(t=null!=n?n:e["dpop-nonce"])&&void 0!==t?t:e["DPoP-Nonce"],n}return null}},n.crypto=i,n}var rr=__webpack_require__(341);const or={updateAuthStatePromise:null,canceledTimes:0},sr="authStateChange";class ar{constructor(e){if(!e.emitter)throw new N("Emitter should be initialized before AuthStateManager");this._sdk=e,this._pending=Object.assign({},or),this._authState=null,this._logOptions={},this._prevAuthState=null,this._transformQueue=new si({quiet:!0}),e.tokenManager.on(Ji,((e,t)=>{this._setLogOptions({event:Ji,key:e,token:t}),this.updateAuthState()})),e.tokenManager.on(Qi,((e,t)=>{this._setLogOptions({event:Qi,key:e,token:t}),this.updateAuthState()}))}_setLogOptions(e){this._logOptions=e}getAuthState(){return this._authState}getPreviousAuthState(){return this._prevAuthState}async updateAuthState(){const{transformAuthState:e,devMode:t}=this._sdk.options,n=e=>{const{event:t,key:n,token:i}=this._logOptions;v().group(`OKTA-AUTH-JS:updateAuthState: Event:${t} Status:${e}`),v().log(n,i),v().log("Current authState",this._authState),v().groupEnd(),this._logOptions={}},i=e=>{var i,r;r=e,(i=this._authState)&&i.isAuthenticated===r.isAuthenticated&&JSON.stringify(i.idToken)===JSON.stringify(r.idToken)&&JSON.stringify(i.accessToken)===JSON.stringify(r.accessToken)&&i.error===r.error?t&&n("unchanged"):(this._prevAuthState=this._authState,this._authState=e,this._sdk.emitter.emit(sr,Object.assign({},e)),t&&n("emitted"))},r=e=>this._pending.updateAuthStatePromise.then((()=>{const t=this._pending.updateAuthStatePromise;return t&&t!==e?r(t):this.getAuthState()}));if(this._pending.updateAuthStatePromise){if(this._pending.canceledTimes>=10)return t&&n("terminated"),r(this._pending.updateAuthStatePromise);this._pending.updateAuthStatePromise.cancel()}const o=new rr(((r,s,a)=>{a.shouldReject=!1,a((()=>{this._pending.updateAuthStatePromise=null,this._pending.canceledTimes=this._pending.canceledTimes+1,t&&n("canceled")}));const l=e=>{o.isCanceled?r():(i(e),r(),this._pending=Object.assign({},or))};this._sdk.isAuthenticated().then((()=>{if(o.isCanceled)return void r();const{accessToken:t,idToken:n,refreshToken:i}=this._sdk.tokenManager.getTokensSync(),s={accessToken:t,idToken:n,refreshToken:i,isAuthenticated:!(!t||!n)};(e?this._transformQueue.push(e,null,this._sdk,s):Promise.resolve(s)).then((e=>l(e))).catch((e=>l({accessToken:t,idToken:n,refreshToken:i,isAuthenticated:!1,error:e})))}))}));return this._pending.updateAuthStatePromise=o,r(o)}subscribe(e){this._sdk.emitter.on(sr,e)}unsubscribe(e){this._sdk.emitter.off(sr,e)}}class lr{constructor(e,t={}){this.started=!1,this.tokenManager=e,this.options=t,this.renewTimeQueue=[],this.onTokenExpiredHandler=this.onTokenExpiredHandler.bind(this)}shouldThrottleRenew(){let e=!1;if(this.renewTimeQueue.push(Date.now()),this.renewTimeQueue.length>=10){const t=this.renewTimeQueue.shift();e=this.renewTimeQueue[this.renewTimeQueue.length-1]-t<3e4}return e}requiresLeadership(){return!!this.options.syncStorage&&Dn()}processExpiredTokens(){const e=this.tokenManager.getStorage().getStorage();Object.keys(e).forEach((t=>{const n=e[t];!X(n)&&this.tokenManager.hasExpired(n)&&this.onTokenExpiredHandler(t)}))}onTokenExpiredHandler(e){if(this.options.autoRenew)if(this.shouldThrottleRenew()){const e=new N("Too many token renew requests");this.tokenManager.emitError(e)}else this.tokenManager.renew(e).catch((()=>{}));else this.options.autoRemove&&this.tokenManager.remove(e)}canStart(){return!(!this.options.autoRenew&&!this.options.autoRemove||this.started)}async start(){this.canStart()&&(this.tokenManager.on(Yi,this.onTokenExpiredHandler),this.tokenManager.isStarted()&&this.processExpiredTokens(),this.started=!0)}async stop(){this.started&&(this.tokenManager.off(Yi,this.onTokenExpiredHandler),this.renewTimeQueue=[],this.started=!1)}isStarted(){return this.started}}Promise.resolve(!1);var cr=Promise.resolve(!0),ur=Promise.resolve();function hr(e,t){return e||(e=0),new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))}function dr(){return Math.random().toString(36).substring(2)}var pr=0,fr=0;function mr(){var e=(new Date).getTime();return e===pr?1e3*e+ ++fr:(pr=e,fr=0,1e3*e)}var gr={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),ur}catch(e){return Promise.reject(e)}},canBeUsed:function(){if("undefined"==typeof window&&"undefined"==typeof self||"function"!=typeof BroadcastChannel)return!1;if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0},type:"native",averageResponseTime:function(){return 150},microSeconds:mr},yr=function(){function e(e){this.ttl=e,this.map=new Map,this._to=!1}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.add=function(e){var t=this;this.map.set(e,vr()),this._to||(this._to=!0,setTimeout((function(){t._to=!1,function(e){for(var t=vr()-e.ttl,n=e.map[Symbol.iterator]();;){var i=n.next().value;if(!i)return;var r=i[0];if(!(i[1]<t))return;e.map.delete(r)}}(t)}),0))},e.prototype.clear=function(){this.map.clear()},e}();function vr(){return(new Date).getTime()}function br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var _r="messages",wr={durability:"relaxed"};function kr(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function Sr(e){e.commit&&e.commit()}function Er(e){e.closed||Tr(e).then((function(){return hr(e.options.idb.fallbackInterval)})).then((function(){return Er(e)}))}function Tr(e){return e.closed?ur:e.messagesCallback?function(e,t){var n=e.transaction(_r,"readonly",wr),i=n.objectStore(_r),r=[],o=IDBKeyRange.bound(t+1,1/0);if(i.getAll){var s=i.getAll(o);return new Promise((function(e,t){s.onerror=function(e){return t(e)},s.onsuccess=function(t){e(t.target.result)}}))}return new Promise((function(e,s){var a=function(){try{return o=IDBKeyRange.bound(t+1,1/0),i.openCursor(o)}catch(e){return i.openCursor()}}();a.onerror=function(e){return s(e)},a.onsuccess=function(i){var o=i.target.result;o?o.value.id<t+1?o.continue(t+1):(r.push(o.value),o.continue()):(Sr(n),e(r))}}))}(e.db,e.lastCursorId).then((function(t){var n=t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}));return n.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),ur})):ur}var xr={create:function(e,t){return t=br(t),function(e){var t="pubkey.broadcast-channel-0-"+e,n=kr().open(t);return n.onupgradeneeded=function(e){e.target.result.createObjectStore(_r,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}}))}(e).then((function(n){var i={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:dr(),eMIs:new yr(2*t.idb.ttl),writeBlockPromise:ur,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){i.closed=!0,t.idb.onclose&&t.idb.onclose()},Er(i),i}))},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,Tr(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return function(e,t,n){var i={uuid:t,time:(new Date).getTime(),data:n},r=e.transaction([_r],"readwrite",wr);return new Promise((function(e,t){r.oncomplete=function(){return e()},r.onerror=function(e){return t(e)},r.objectStore(_r).add(i),Sr(r)}))}(e.db,e.uuid,t)})).then((function(){0===Math.floor(11*Math.random()+0)&&function(e){return(t=e.db,n=e.options.idb.ttl,i=(new Date).getTime()-n,r=t.transaction(_r,"readonly",wr),o=r.objectStore(_r),s=[],new Promise((function(e){o.openCursor().onsuccess=function(t){var n=t.target.result;if(n){var o=n.value;o.time<i?(s.push(o),n.continue()):(Sr(r),e(s))}else e(s)}}))).then((function(t){return function(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(_r,"readwrite",wr).objectStore(_r);return Promise.all(t.map((function(e){var t=n.delete(e);return new Promise((function(e){t.onsuccess=function(){return e()}}))})))}(e,t.map((function(e){return e.id})))}));var t,n,i,r,o,s}(e)})),e.writeBlockPromise},canBeUsed:function(){return!!kr()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:mr};function Cr(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function Pr(e){return"pubkey.broadcastChannel-"+e}function Ar(){var e=Cr();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}var Or={create:function(e,t){if(t=br(t),!Ar())throw new Error("BroadcastChannel: localstorage cannot be used");var n=dr(),i=new yr(t.localstorage.removeTimeout),r={channelName:e,uuid:n,eMIs:i};return r.listener=function(e){var t=Pr(e),o=function(e){var o;e.key===t&&(o=JSON.parse(e.newValue),r.messagesCallback&&o.uuid!==n&&o.token&&!i.has(o.token)&&(o.data.time&&o.data.time<r.messagesCallbackTime||(i.add(o.token),r.messagesCallback(o.data))))};return window.addEventListener("storage",o),o}(e),r},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){hr().then((function(){var i=Pr(e.channelName),r={token:dr(),time:(new Date).getTime(),data:t,uuid:e.uuid},o=JSON.stringify(r);Cr().setItem(i,o);var s=document.createEvent("Event");s.initEvent("storage",!0,!0),s.key=i,s.newValue=o,window.dispatchEvent(s),n()}))}))},canBeUsed:Ar,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:mr},Ir=mr,Lr=new Set,Dr={create:function(e){var t={name:e,messagesCallback:null};return Lr.add(t),t},close:function(e){Lr.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(Lr).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:Ir},Rr=[gr,xr,Or],Mr=new Set,Nr=0,jr=function(e,t){var n,i,r;this.id=Nr++,Mr.add(this),this.name=e,this.options=br(t),this.method=function(e){var t=[].concat(e.methods,Rr).filter(Boolean);if(e.type){if("simulate"===e.type)return Dr;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter((function(e){return"idb"!==e.type})));var i=t.find((function(e){return e.canBeUsed()}));if(i)return i;throw new Error("No usable method found in "+JSON.stringify(Rr.map((function(e){return e.type}))))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,(r=i=(n=this).method.create(n.name,n.options))&&"function"==typeof r.then?(n._prepP=i,i.then((function(e){n._state=e}))):n._state=i};function Fr(e,t,n){var i={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:ur).then((function(){var t=e.method.postMessage(e._state,i);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function Br(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Ur(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&Br(e)){var t=function(t){e._addEL[t.type].forEach((function(e){var n=e.time-1e5;t.time>=n&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function qr(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!Br(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}jr._pubkey=!0,jr.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return Fr(this,"message",e)},postInternal:function(e){return Fr(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};qr(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,Ur(this,"message",t)):this._onML=null},addEventListener:function(e,t){Ur(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){qr(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){Mr.delete(this),this.closed=!0;var t=this._prepP?this._prepP:ur;return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}};var Vr="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)?function(e){process.on("exit",(function(){return e()})),process.on("beforeExit",(function(){return e().then((function(){return process.exit()}))})),process.on("SIGINT",(function(){return e().then((function(){return process.exit()}))})),process.on("uncaughtException",(function(t){return e().then((function(){console.trace(t),process.exit(101)}))}))}:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}},Hr=new Set,$r=!1;function zr(){var e=[];return Hr.forEach((function(t){e.push(t()),Hr.delete(t)})),Promise.all(e)}function Wr(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}function Gr(e){e.isLeader=!0,e._hasLeader=!0;var t=function(e){if($r||($r=!0,Vr(zr)),"function"!=typeof e)throw new Error("Listener is no function");return Hr.add(e),{remove:function(){return Hr.delete(e)},run:function(){return Hr.delete(e),e()}}}((function(){return e.die()}));e._unl.push(t);var n=function(t){"leader"===t.context&&"apply"===t.action&&Wr(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),Wr(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),Wr(e,"tell")}var Kr=function(e,t){var n=this;this.broadcastChannel=e,e._befC.push((function(){return n.die()})),this._options=t,this.isLeader=!1,this.isDead=!1,this.token=dr(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+e.method.type+"||"+e.name};Kr.prototype={hasLeader:function(){var e=this;return navigator.locks.query().then((function(t){var n=t.held?t.held.filter((function(t){return t.name===e.lN})):[];return!!(n&&n.length>0)}))},awaitLeadership:function(){var e=this;if(!this._wLMP){this._wKMC.c=new AbortController;var t=new Promise((function(t,n){e._wKMC.res=t,e._wKMC.rej=n}));this._wLMP=new Promise((function(n){navigator.locks.request(e.lN,{signal:e._wKMC.c.signal},(function(){return e._wKMC.c=void 0,Gr(e),n(),t})).catch((function(){}))}))}return this._wLMP},set onduplicate(e){},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),Wr(this,"death")}};var Yr=function(e,t){var n=this;this.broadcastChannel=e,this._options=t,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=dr(),this._aplQ=ur,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var i=function(e){"leader"===e.context&&("death"===e.action&&(n._hasLeader=!1),"tell"===e.action&&(n._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)};Yr.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(e){var t=this;return this.isLeader?hr(0,!0):this.isDead?hr(0,!1):this._aplQC>1?this._aplQ:(this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then((function(){return function(){if(t.isLeader)return cr;var n,i=!1,r=new Promise((function(e){n=function(){i=!0,e()}})),o=function(e){"leader"===e.context&&e.token!=t.token&&("apply"===e.action&&e.token>t.token&&n(),"tell"===e.action&&(n(),t._hasLeader=!0))};t.broadcastChannel.addEventListener("internal",o);var s=e?4*t._options.responseTime:t._options.responseTime;return Wr(t,"apply").then((function(){return Promise.race([hr(s),r.then((function(){return Promise.reject(new Error)}))])})).then((function(){return Wr(t,"apply")})).then((function(){return Promise.race([hr(s),r.then((function(){return Promise.reject(new Error)}))])})).catch((function(){})).then((function(){return t.broadcastChannel.removeEventListener("internal",o),!i&&Gr(t).then((function(){return!0}))}))}()})).then((function(){t._aplQC=t._aplQC-1})),this._aplQ.then((function(){return t.isLeader})))},awaitLeadership:function(){return this._aLP||(this._aLP=(e=this).isLeader?ur:new Promise((function(t){var n=!1;function i(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",r),t(!0))}e.applyOnce().then((function(){e.isLeader&&i()})),function t(){return hr(e._options.fallbackInterval).then((function(){if(!e.isDead&&!n)return e.isLeader?void i():e.applyOnce(!0).then((function(){e.isLeader?i():t()}))}))}();var r=function(t){"leader"===t.context&&"death"===t.action&&(e._hasLeader=!1,e.applyOnce().then((function(){e.isLeader&&i()})))};e.broadcastChannel.addEventListener("internal",r),e._lstns.push(r)}))),this._aLP;var e},set onduplicate(e){this._dpL=e},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,Wr(this,"death")}};class Xr{constructor(e,t={}){this.started=!1,this.enablePostMessage=!0,this.tokenManager=e,this.options=t,this.onTokenAddedHandler=this.onTokenAddedHandler.bind(this),this.onTokenRemovedHandler=this.onTokenRemovedHandler.bind(this),this.onTokenRenewedHandler=this.onTokenRenewedHandler.bind(this),this.onSetStorageHandler=this.onSetStorageHandler.bind(this),this.onSyncMessageHandler=this.onSyncMessageHandler.bind(this)}requiresLeadership(){return!1}isStarted(){return this.started}canStart(){return!!this.options.syncStorage&&Dn()&&!this.started}async start(){if(!this.canStart())return;const{syncChannelName:e}=this.options;try{this.channel=new jr(e)}catch(e){throw new N("SyncStorageService is not supported in current browser.")}this.tokenManager.on(Ji,this.onTokenAddedHandler),this.tokenManager.on(Qi,this.onTokenRemovedHandler),this.tokenManager.on(Xi,this.onTokenRenewedHandler),this.tokenManager.on(Zi,this.onSetStorageHandler),this.channel.addEventListener("message",this.onSyncMessageHandler),this.started=!0}async stop(){var e,t;this.started&&(this.tokenManager.off(Ji,this.onTokenAddedHandler),this.tokenManager.off(Qi,this.onTokenRemovedHandler),this.tokenManager.off(Xi,this.onTokenRenewedHandler),this.tokenManager.off(Zi,this.onSetStorageHandler),null===(e=this.channel)||void 0===e||e.removeEventListener("message",this.onSyncMessageHandler),await(null===(t=this.channel)||void 0===t?void 0:t.close()),this.channel=void 0,this.started=!1)}onTokenAddedHandler(e,t){var n;this.enablePostMessage&&(null===(n=this.channel)||void 0===n||n.postMessage({type:Ji,key:e,token:t}))}onTokenRemovedHandler(e,t){var n;this.enablePostMessage&&(null===(n=this.channel)||void 0===n||n.postMessage({type:Qi,key:e,token:t}))}onTokenRenewedHandler(e,t,n){var i;this.enablePostMessage&&(null===(i=this.channel)||void 0===i||i.postMessage({type:Xi,key:e,token:t,oldToken:n}))}onSetStorageHandler(e){var t;null===(t=this.channel)||void 0===t||t.postMessage({type:Zi,storage:e})}onSyncMessageHandler(e){switch(this.enablePostMessage=!1,e.type){case Zi:this.tokenManager.getStorage().setStorage(e.storage);break;case Ji:this.tokenManager.emitAdded(e.key,e.token),this.tokenManager.setExpireEventTimeout(e.key,e.token);break;case Qi:this.tokenManager.clearExpireEventTimeout(e.key),this.tokenManager.emitRemoved(e.key,e.token);break;case Xi:this.tokenManager.emitRenewed(e.key,e.token,e.oldToken)}this.enablePostMessage=!0}}class Jr{constructor(e={}){this.started=!1,this.options=e,this.onLeaderDuplicate=this.onLeaderDuplicate.bind(this),this.onLeader=this.onLeader.bind(this)}onLeaderDuplicate(){}async onLeader(){var e,t;await(null===(t=(e=this.options).onLeader)||void 0===t?void 0:t.call(e))}isLeader(){var e;return!!(null===(e=this.elector)||void 0===e?void 0:e.isLeader)}hasLeader(){var e;return!!(null===(e=this.elector)||void 0===e?void 0:e.hasLeader)}async start(){if(this.canStart()){const{electionChannelName:e}=this.options;this.channel=new jr(e),this.elector=function(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function(e,t){return e||(e={}),(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}(t,e);var n="undefined"!=typeof navigator&&void 0!==navigator.locks&&"function"==typeof navigator.locks.request?new Kr(e,t):new Yr(e,t);return e._befC.push((function(){return n.die()})),e._leaderElector=n,n}(this.channel),this.elector.onduplicate=this.onLeaderDuplicate,this.elector.awaitLeadership().then(this.onLeader),this.started=!0}}async stop(){this.started&&(this.elector&&(await this.elector.die(),this.elector=void 0),this.channel&&(this.channel.postInternal=()=>Promise.resolve(),await this.channel.close(),this.channel=void 0),this.started=!1)}requiresLeadership(){return!1}isStarted(){return this.started}canStart(){return Dn()&&!this.started}}const Qr=()=>Math.floor(Date.now()/1e3);class Zr{constructor(e,t={}){this.started=!1,this.lastHidden=-1,this.tokenManager=e,this.options=t,this.onPageVisbilityChange=this._onPageVisbilityChange.bind(this)}_onPageVisbilityChange(){if(document.hidden)this.lastHidden=Qr();else if(this.lastHidden>0&&Qr()-this.lastHidden>=this.options.tabInactivityDuration){const{accessToken:e,idToken:t}=this.tokenManager.getTokensSync();if(e&&this.tokenManager.hasExpired(e)){const e=this.tokenManager.getStorageKeyByType("accessToken");this.tokenManager.renew(e).catch((()=>{}))}else if(t&&this.tokenManager.hasExpired(t)){const e=this.tokenManager.getStorageKeyByType("idToken");this.tokenManager.renew(e).catch((()=>{}))}}}async start(){this.canStart()&&document&&(document.addEventListener("visibilitychange",this.onPageVisbilityChange),this.started=!0)}async stop(){document&&(document.removeEventListener("visibilitychange",this.onPageVisbilityChange),this.started=!1)}canStart(){return Dn()&&!!this.options.autoRenew&&!!this.options.renewOnTabActivation&&!this.started}requiresLeadership(){return!1}isStarted(){return this.started}}const eo="autoRenew",to="syncStorage",no="leaderElection",io="renewOnTabActivation";class ro{constructor(e,t={}){this.sdk=e,this.onLeader=this.onLeader.bind(this);const{autoRenew:n,autoRemove:i,syncStorage:r}=e.tokenManager.getOptions();t.electionChannelName=t.electionChannelName||t.broadcastChannelName,this.options=Object.assign({},ro.defaultOptions,{autoRenew:n,autoRemove:i,syncStorage:r},{electionChannelName:`${e.options.clientId}-election`,syncChannelName:`${e.options.clientId}-sync`},_(t)),this.started=!1,this.services=new Map,ro.knownServices.forEach((e=>{const t=this.createService(e);t&&this.services.set(e,t)}))}async onLeader(){this.started&&await this.startServices()}isLeader(){var e;return null===(e=this.getService(no))||void 0===e?void 0:e.isLeader()}isLeaderRequired(){return[...this.services.values()].some((e=>e.canStart()&&e.requiresLeadership()))}async start(){this.started||(await this.startServices(),this.started=!0)}async stop(){await this.stopServices(),this.started=!1}getService(e){return this.services.get(e)}async startServices(){for(const[e,t]of this.services.entries())this.canStartService(e,t)&&await t.start()}async stopServices(){for(const e of this.services.values())await e.stop()}canStartService(e,t){let n=t.canStart()&&!t.isStarted();return e===no?n&&(n=this.isLeaderRequired()):t.requiresLeadership()&&n&&(n=this.isLeader()),n}createService(e){const t=this.sdk.tokenManager;let n;switch(e){case no:n=new Jr(Object.assign(Object.assign({},this.options),{onLeader:this.onLeader}));break;case eo:n=new lr(t,Object.assign({},this.options));break;case to:n=new Xr(t,Object.assign({},this.options));break;case io:n=new Zr(t,Object.assign({},this.options));break;default:throw new Error(`Unknown service ${e}`)}return n}}function oo(e){return e.session.get().then((function(e){return"ACTIVE"===e.status})).catch((function(){return!1}))}function so(e){return Ce(e,"/api/v1/sessions/me",{withCredentials:!0}).then((function(t){var n=k(t,"_links");return n.refresh=function(){return Pe(e,E(t,"refresh").href,{},{withCredentials:!0})},n.user=function(){return Ce(e,E(t,"user").href,{withCredentials:!0})},n})).catch((function(){return{status:"INACTIVE"}}))}function ao(e){return xe(e,{url:e.getIssuerOrigin()+"/api/v1/sessions/me",method:"DELETE",withCredentials:!0})}function lo(e){return Pe(e,"/api/v1/sessions/me/lifecycle/refresh",{},{withCredentials:!0})}function co(e,t,n){n=n||window.location.href,window.location.assign(e.getIssuerOrigin()+"/login/sessionCookieRedirect"+R({checkAccountSetupComplete:!0,token:t,redirectUrl:n}))}function uo(e){return class extends e{constructor(...e){var t;super(...e),this.session=(t=this,{close:ao.bind(null,t),exists:oo.bind(null,t),get:so.bind(null,t),refresh:lo.bind(null,t),setCookieAndRedirect:co.bind(null,t)})}closeSession(){return this.session.close().then((async()=>(this.clearStorage(),!0))).catch((function(e){if("AuthApiError"===e.name&&"E0000007"===e.errorCode)return!1;throw e}))}}}ro.knownServices=[eo,to,no,io],ro.defaultOptions={autoRenew:!0,autoRemove:!0,syncStorage:!0,renewOnTabActivation:!0,tabInactivityDuration:1800};const ho=(e=[])=>{const t=[];return e.forEach((e=>{"webauthn"===e.key&&t.push({type:"public-key",id:ni(e.credentialId)})})),t},po=(e,t)=>({publicKey:{rp:e.rp,user:{id:ni(e.user.id),name:e.user.name,displayName:e.user.displayName},challenge:ni(e.challenge),pubKeyCredParams:e.pubKeyCredParams,attestation:e.attestation,authenticatorSelection:e.authenticatorSelection,excludeCredentials:ho(t)}}),fo=(e,t)=>({publicKey:{challenge:ni(e.challenge),userVerification:e.userVerification,allowCredentials:ho(t)}}),mo=e=>{const t=e.response;return{id:e.id,clientData:ii(t.clientDataJSON),attestation:ii(t.attestationObject)}},go=e=>{const t=e.response;return{id:e.id,clientData:ii(t.clientDataJSON),authenticatorData:ii(t.authenticatorData),signatureData:ii(t.signature)}};function yo(e){var n;return(n=class extends e{constructor(...e){super(...e),this.idx=function(e){var n;n={remediators:t,getFlowSpecification:ln},Object.assign(pt,n);const i=bn.bind(null,e);return{interact:Oe.bind(null,e),introspect:ot.bind(null,e),makeIdxResponse:nt.bind(null,e),authenticate:xt.bind(null,e),register:_n.bind(null,e),start:i,startTransaction:i,poll:vn.bind(null,e),proceed:yn.bind(null,e),cancel:cn.bind(null,e),recoverPassword:wn.bind(null,e),handleInteractionCodeRedirect:kn.bind(null,e),isInteractionRequired:Pn.bind(null,e),isInteractionRequiredError:En,handleEmailVerifyCallback:mn.bind(null,e),isEmailVerifyCallback:pn,parseEmailVerifyCallback:fn,isEmailVerifyCallbackError:dn,getSavedTransactionMeta:Z.bind(null,e),createTransactionMeta:J.bind(null,e),getTransactionMeta:ee.bind(null,e),saveTransactionMeta:te.bind(null,e),clearTransactionMeta:ne.bind(null,e),isTransactionMetaValid:ie,setFlow:t=>{e.options.flow=t},getFlow:()=>e.options.flow,canProceed:gn.bind(null,e),unlockAccount:Sn.bind(null,e)}}(this)}}).webauthn=r,n}const vo={token:{storageTypes:["localStorage","sessionStorage","cookie"]},cache:{storageTypes:["localStorage","sessionStorage","cookie"]},transaction:{storageTypes:["sessionStorage","localStorage","cookie"]},"shared-transaction":{storageTypes:["localStorage"]},"original-uri":{storageTypes:["localStorage"]}};const bo=/application\/\w*\+?json/;function _o(e,t,n){var i=n.data,r=n.headers||{},o=r["Content-Type"]||r["content-type"]||"";i&&"string"!=typeof i&&(bo.test(o)?i=JSON.stringify(i):"application/x-www-form-urlencoded"===o&&(i=Object.entries(i).map((([e,t])=>`${e}=${encodeURIComponent(t)}`)).join("&")));var s=(window.fetch||W)(t,{method:e,headers:n.headers,body:i,credentials:n.withCredentials?"include":"omit"});return s.finally||(s=Promise.resolve(s)),s.then((function(e){var t=!e.ok,n=e.status;return function(e){return e.headers.get("Content-Type")&&e.headers.get("Content-Type").toLowerCase().indexOf("application/json")>=0?e.json().catch((e=>({error:e,errorSummary:"Could not parse server response"}))):e.text()}(e).then((t=>function(e,t,n){const i="object"==typeof t,r={};for(const e of n.headers.entries())r[e[0]]=e[1];const o={responseText:i?JSON.stringify(t):t,status:e,headers:r};return i&&(o.responseType="json",o.responseJSON=t),o}(n,t,e))).then((e=>{var n;if(t||(null===(n=e.responseJSON)||void 0===n?void 0:n.error))throw e;return e}))}))}const wo=!0;function ko(){const e=function(){const e=function(){const e=class{constructor(e){this.devMode=!!e.devMode}};return class extends e{constructor(e){super(e),this.cookies=function(e={},t){var n=e.cookies||{};return void 0===n.secure&&(n.secure=t),void 0===n.sameSite&&(n.sameSite=n.secure?"none":"lax"),n.secure&&!t&&(b('The current page is not being served with the HTTPS protocol.\nFor security reasons, we strongly recommend using HTTPS.\nIf you cannot use HTTPS, set "cookies.secure" option to false.'),n.secure=!1),"none"!==n.sameSite||n.secure||(n.sameSite="lax"),n}(e,Vn()),this.storageUtil=e.storageUtil||Object.assign({},nr,{inMemoryStore:{}}),this.storageManager=Object.assign(Object.assign({},vo),e.storageManager)}}}();return class extends e{constructor(e){super(e),this.issuer=e.issuer,this.transformErrorXHR=e.transformErrorXHR,this.headers=e.headers,this.httpRequestClient=e.httpRequestClient||_o,this.httpRequestInterceptors=e.httpRequestInterceptors}}}();return class extends e{constructor(e){super(e),function(e){var t=(e=e||{}).scopes;if(t&&!Array.isArray(t))throw new N('scopes must be a array of strings. Required usage: new OktaAuth({scopes: ["openid", "email"]})');var n=e.issuer;if(!n)throw new N('No issuer passed to constructor. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com/oauth2/{authServerId}"})');if(!new RegExp("^http?s?://.+").test(n))throw new N('Issuer must be a valid URL. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com/oauth2/{authServerId}"})');if(-1!==n.indexOf("-admin.okta"))throw new N('Issuer URL passed to constructor contains "-admin" in subdomain. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com})')}(e),this.issuer=M(e.issuer),this.tokenUrl=M(e.tokenUrl),this.authorizeUrl=M(e.authorizeUrl),this.userinfoUrl=M(e.userinfoUrl),this.revokeUrl=M(e.revokeUrl),this.logoutUrl=M(e.logoutUrl),this.pkce=!1!==e.pkce,this.clientId=e.clientId,this.redirectUri=e.redirectUri,Dn()&&(this.redirectUri=function(e="",t){return D(e)?e:(t=M(t),"/"===e[0]?`${t}${e}`:`${t}/${e}`)}(e.redirectUri,window.location.origin)),this.responseType=e.responseType,this.responseMode=e.responseMode,this.state=e.state,this.scopes=e.scopes,this.ignoreSignature=!!e.ignoreSignature,this.codeChallenge=e.codeChallenge,this.codeChallengeMethod=e.codeChallengeMethod,this.acrValues=e.acrValues,this.maxAge=e.maxAge,this.dpop=!0===e.dpop,this.tokenManager=e.tokenManager,this.postLogoutRedirectUri=e.postLogoutRedirectUri,this.restoreOriginalUri=e.restoreOriginalUri,this.transactionManager=Object.assign({enableSharedStorage:wo},e.transactionManager),this.clientSecret=e.clientSecret,this.setLocation=e.setLocation,this.ignoreLifetime=!!e.ignoreLifetime,e.maxClockSkew||0===e.maxClockSkew?this.maxClockSkew=e.maxClockSkew:this.maxClockSkew=se}}}function So(){const e=function(){const e=ko();return class extends e{constructor(e){super(e),this.services=e.services,this.transformAuthState=e.transformAuthState}}}();return class extends e{constructor(e){super(e),this.flow=e.flow,this.activationToken=e.activationToken,this.recoveryToken=e.recoveryToken,this.idx=e.idx}}}class Eo{constructor(e,t){if(!e)throw new N('"storage" is required');if("string"!=typeof t||!t.length)throw new N('"storageName" is required');this.storageName=t,this.storageProvider=e}getItem(e){return this.getStorage()[e]}setItem(e,t){return this.updateStorage(e,t)}removeItem(e){return this.clearStorage(e)}getStorage(){var e=this.storageProvider.getItem(this.storageName);e=e||"{}";try{return JSON.parse(e)}catch(e){throw new N("Unable to parse storage string: "+this.storageName)}}setStorage(e){try{var t=e?JSON.stringify(e):"{}";this.storageProvider.setItem(this.storageName,t)}catch(e){throw new N("Unable to set storage: "+this.storageName)}}clearStorage(e){if(e){var t=this.getStorage();delete t[e],this.setStorage(t)}else this.storageProvider.removeItem?this.storageProvider.removeItem(this.storageName):this.setStorage()}updateStorage(e,t){var n=this.getStorage();n[e]=t,this.setStorage(n)}}function To(e){Dn()||e.storageProvider||e.storageKey||b("Memory storage can only support simple single user use case on server side, please provide custom storageProvider or storageKey if advanced scenarios need to be supported.")}class xo{constructor(e,t,n){this.storageManagerOptions=e,this.cookieOptions=t,this.storageUtil=n}getOptionsForSection(e,t){return Object.assign({},this.storageManagerOptions[e],t)}getStorage(e){if((e=Object.assign({},this.cookieOptions,e)).storageProvider)return e.storageProvider;let{storageType:t,storageTypes:n}=e;if("sessionStorage"===t&&(e.sessionCookie=!0),t&&n){const e=n.indexOf(t);e>=0&&(n=n.slice(e),t=void 0)}return t||(t=this.storageUtil.findStorageType(n)),this.storageUtil.getStorageByType(t,e)}getTokenStorage(e){To(e=this.getOptionsForSection("token",e));const t=this.getStorage(e),n=e.storageKey||le;return new Eo(t,n)}getHttpCache(e){e=this.getOptionsForSection("cache",e);const t=this.getStorage(e),n=e.storageKey||ce;return new Eo(t,n)}}function Co(){const e=class extends xo{constructor(e,t,n){super(e,t,n)}getTransactionStorage(e){To(e=this.getOptionsForSection("transaction",e));const t=this.getStorage(e),n=e.storageKey||he;return new Eo(t,n)}getSharedTansactionStorage(e){To(e=this.getOptionsForSection("shared-transaction",e));const t=this.getStorage(e),n=e.storageKey||de;return new Eo(t,n)}getOriginalUriStorage(e){To(e=this.getOptionsForSection("original-uri",e));const t=this.getStorage(e),n=e.storageKey||pe;return new Eo(t,n)}};return class extends e{constructor(e,t,n){super(e,t,n)}getIdxResponseStorage(e){let t;if(Dn())try{t=this.storageUtil.getStorageByType("memory",e)}catch(e){b("No response storage found, you may want to provide custom implementation for intermediate idx responses to optimize the network traffic")}else{const n=this.getTransactionStorage(e);n&&(t={getItem:e=>{const t=n.getStorage();return t&&t[e]?t[e]:null},setItem:(e,t)=>{const i=n.getStorage();if(!i)throw new N("Transaction has been cleared, failed to save idxState");i[e]=t,n.setStorage(i)},removeItem:e=>{const t=n.getStorage();t&&(delete t[e],n.setStorage(t))}})}return t?new Eo(t,fe):null}}}function Po(e){return!(!e||"object"!=typeof e||0===Object.values(e).length)}function Ao(e){return!(!function(e){return!(!Po(e)||!e.redirectUri&&!e.responseType)}(e)&&!function(e){return!!Po(e)&&void 0===Object.values(e).find((e=>"string"!=typeof e))}(e))}const Oo=18e5;function Io(){const e=class{constructor(e){this.storageManager=e.storageManager,this.enableSharedStorage=!1!==e.enableSharedStorage,this.saveLastResponse=!1!==e.saveLastResponse,this.options=e}clear(e={}){const t=this.storageManager.getTransactionStorage(),n=t.getStorage();if(t.clearStorage(),this.enableSharedStorage&&!1!==e.clearSharedStorage){const t=e.state||(null==n?void 0:n.state);t&&function(e,t){const n=e.getSharedTansactionStorage(),i=n.getStorage();delete i[t],n.setStorage(i)}(this.storageManager,t)}}save(e,t={}){let n=this.storageManager.getTransactionStorage();Ao(n.getStorage())&&!t.muteWarning&&b("a saved auth transaction exists in storage. This may indicate another auth flow is already in progress."),n.setStorage(e),this.enableSharedStorage&&e.state&&function(e,t,n){const i=e.getSharedTansactionStorage(),r=i.getStorage();r[t]={dateCreated:Date.now(),transaction:n},i.setStorage(r)}(this.storageManager,e.state,e)}exists(e={}){try{return!!this.load(e)}catch(e){return!1}}load(e={}){let t;return this.enableSharedStorage&&e.state&&(function(e){const t=e.getSharedTansactionStorage(),n=t.getStorage();Object.keys(n).forEach((e=>{const t=n[e];Date.now()-t.dateCreated>Oo&&delete n[e]})),t.setStorage(n)}(this.storageManager),t=function(e,t){const n=e.getSharedTansactionStorage().getStorage()[t];return n&&n.transaction&&Ao(n.transaction)?n.transaction:null}(this.storageManager,e.state),Ao(t))?t:(t=this.storageManager.getTransactionStorage().getStorage(),Ao(t)?t:null)}};return class extends e{constructor(e){super(e)}clear(e={}){super.clear(e),!1!==e.clearIdxResponse&&this.clearIdxResponse()}saveIdxResponse(e){if(!this.saveLastResponse)return;const t=this.storageManager.getIdxResponseStorage();t&&t.setStorage(e)}loadIdxResponse(e){if(!this.saveLastResponse)return null;const t=this.storageManager.getIdxResponseStorage();if(!t)return null;const n=t.getStorage();if(!n||!it(n.rawIdxResponse))return null;if(e){const{stateHandle:t,interactionHandle:i}=e;if(!e.useGenericRemediator&&t&&n.stateHandle!==t)return null;if(i&&n.interactionHandle!==i)return null}return n}clearIdxResponse(){if(!this.saveLastResponse)return;const e=this.storageManager.getIdxResponseStorage();null==e||e.clearStorage()}}}class Lo{constructor(e,t){const{res:n}=t,{headers:i}=n,r=Ie(n,["headers"]);i&&(this.headers=i),Object.keys(r).forEach((e=>{"_links"!==e&&(this[e]=r[e])}))}}async function Do(e,t,n=Lo){const{accessToken:i}=e.tokenManager.getTokensSync(),r=t.accessToken||(null==i?void 0:i.accessToken),o=e.getIssuerOrigin(),{url:s,method:a,payload:l}=t,c=s.startsWith(o)?s:`${o}${s}`;if(!r)throw new N("AccessToken is required to request MyAccount API endpoints.");const u=await xe(e,Object.assign({headers:{Accept:"*/*;okta-version=1.0.0"},accessToken:r,url:c,method:a},l&&{args:l}));let h;return h=Array.isArray(u)?u.map((t=>new n(e,{res:t,accessToken:r}))):new n(e,{res:u,accessToken:r}),h}function Ro({oktaAuth:e,accessToken:t,methodName:n,links:i},r=Lo){for(const o of["GET","POST","PUT","DELETE"])if(o.toLowerCase()===n){const n=i.self;return async i=>Do(e,{accessToken:t,url:n.href,method:o,payload:i},r)}const o=i[n];if(!o)throw new N(`No link is found with methodName: ${n}`);return async n=>Do(e,{accessToken:t,url:o.href,method:o.hints.allow[0],payload:n},r)}class Mo extends Lo{constructor(e,t){super(e,t);const{createdAt:n,modifiedAt:i,profile:r}=t.res;this.createdAt=n,this.modifiedAt=i,this.profile=r}}class No extends Lo{constructor(e,t){super(e,t),this.properties=t.res.properties}}var jo,Fo,Bo;!function(e){e.PRIMARY="PRIMARY",e.SECONDARY="SECONDARY"}(jo||(jo={})),function(e){e.VERIFIED="VERIFIED",e.UNVERIFIED="UNVERIFIED"}(Fo||(Fo={})),function(e){e.NOT_ENROLLED="NOT_ENROLLED",e.ACTIVE="ACTIVE"}(Bo||(Bo={}));const Uo=async(e,t)=>await Do(e,{url:"/idp/myaccount/profile",method:"GET",accessToken:null==t?void 0:t.accessToken},Mo),qo=async(e,t)=>{const{payload:n,accessToken:i}=t;return await Do(e,{url:"/idp/myaccount/profile",method:"PUT",payload:n,accessToken:i},Mo)},Vo=async(e,t)=>await Do(e,{url:"/idp/myaccount/profile/schema",method:"GET",accessToken:null==t?void 0:t.accessToken},No);class Ho extends Lo{constructor(e,t){super(e,t);const{res:n}=t,{id:i,profile:r,expiresAt:o,status:s}=n;this.id=i,this.expiresAt=o,this.profile=r,this.status=s}}class $o extends Lo{constructor(e,t){super(e,t);const{accessToken:n,res:i}=t,{id:r,expiresAt:o,profile:s,status:a,_links:l}=i;this.id=r,this.expiresAt=o,this.profile=s,this.status=a,this.poll=async()=>{const t=Ro({oktaAuth:e,accessToken:n,methodName:"poll",links:l},Ho);return await t()},this.verify=async t=>{const i=Ro({oktaAuth:e,accessToken:n,methodName:"verify",links:l},$o);return await i(t)}}}class zo extends Lo{constructor(e,t){super(e,t);const{accessToken:n,res:i}=t,{id:r,profile:o,roles:s,status:a,_links:l}=i;this.id=r,this.profile=o,this.roles=s,this.status=a,this.get=async()=>{const t=Ro({oktaAuth:e,accessToken:n,methodName:"get",links:l},zo);return await t()},this.delete=async()=>{const t=Ro({oktaAuth:e,accessToken:n,methodName:"delete",links:l});return await t()},this.challenge=async()=>{const t=Ro({oktaAuth:e,accessToken:n,methodName:"challenge",links:l},$o);return await t()},l.poll&&(this.poll=async()=>{const t=Ro({oktaAuth:e,accessToken:n,methodName:"poll",links:l},Ho);return await t()}),l.verify&&(this.verify=async t=>{const i=Ro({oktaAuth:e,accessToken:n,methodName:"verify",links:l});return await i(t)})}}const Wo=async(e,t)=>await Do(e,{url:"/idp/myaccount/emails",method:"GET",accessToken:null==t?void 0:t.accessToken},zo),Go=async(e,t)=>{const{id:n,accessToken:i}=t;return await Do(e,{url:`/idp/myaccount/emails/${n}`,method:"GET",accessToken:i},zo)},Ko=async(e,t)=>{const{accessToken:n,payload:i}=t;return await Do(e,{url:"/idp/myaccount/emails",method:"POST",payload:i,accessToken:n},zo)},Yo=async(e,t)=>{const{id:n,accessToken:i}=t;return await Do(e,{url:`/idp/myaccount/emails/${n}`,method:"DELETE",accessToken:i})},Xo=async(e,t)=>{const{id:n,accessToken:i}=t;return await Do(e,{url:`/idp/myaccount/emails/${n}/challenge`,method:"POST",accessToken:i},$o)},Jo=async(e,t)=>{const{emailId:n,challengeId:i,accessToken:r}=t;return await Do(e,{url:`/idp/myaccount/emails/${n}/challenge/${i}`,method:"POST",accessToken:r},$o)},Qo=async(e,t)=>{const{emailId:n,challengeId:i,payload:r,accessToken:o}=t;return await Do(e,{url:`/idp/myaccount/emails/${n}/challenge/${i}/verify`,method:"POST",payload:r,accessToken:o})};class Zo extends Lo{constructor(e,t){super(e,t);const{res:n,accessToken:i}=t,{id:r,profile:o,status:s,_links:a}=n;this.id=r,this.profile=o,this.status=s,this.get=async()=>{const t=Ro({oktaAuth:e,accessToken:i,methodName:"get",links:a},Zo);return await t()},this.delete=async()=>{const t=Ro({oktaAuth:e,accessToken:i,methodName:"delete",links:a});return await t()},this.challenge=async t=>{const n=Ro({oktaAuth:e,accessToken:i,methodName:"challenge",links:a});return await n(t)},a.verify&&(this.verify=async t=>{const n=Ro({oktaAuth:e,accessToken:i,methodName:"verify",links:a});return await n(t)})}}const es=async(e,t)=>await Do(e,{url:"/idp/myaccount/phones",method:"GET",accessToken:null==t?void 0:t.accessToken},Zo),ts=async(e,t)=>{const{accessToken:n,id:i}=t;return await Do(e,{url:`/idp/myaccount/phones/${i}`,method:"GET",accessToken:n},Zo)},ns=async(e,t)=>{const{accessToken:n,payload:i}=t;return await Do(e,{url:"/idp/myaccount/phones",method:"POST",payload:i,accessToken:n},Zo)},is=async(e,t)=>{const{id:n,accessToken:i}=t;return await Do(e,{url:`/idp/myaccount/phones/${n}`,method:"DELETE",accessToken:i})},rs=async(e,t)=>{const{accessToken:n,id:i,payload:r}=t;return await Do(e,{url:`/idp/myaccount/phones/${i}/challenge`,method:"POST",payload:r,accessToken:n})},os=async(e,t)=>{const{id:n,payload:i,accessToken:r}=t;return await Do(e,{url:`/idp/myaccount/phones/${n}/verify`,method:"POST",payload:i,accessToken:r})};class ss extends Lo{constructor(e,t){super(e,t);const{res:n,accessToken:i}=t,{id:r,status:o,created:s,lastUpdated:a,_links:l}=n;this.id=r,this.status=o,this.created=s,this.lastUpdated=a,this.status==Bo.NOT_ENROLLED?this.enroll=async t=>{const n=Ro({oktaAuth:e,accessToken:i,methodName:"enroll",links:l},ss);return await n(t)}:(this.get=async()=>{const t=Ro({oktaAuth:e,accessToken:i,methodName:"get",links:l},ss);return await t()},this.update=async t=>{const n=Ro({oktaAuth:e,accessToken:i,methodName:"put",links:l},ss);return await n(t)},this.delete=async()=>{const t=Ro({oktaAuth:e,accessToken:i,methodName:"delete",links:l});return await t()})}}const as=async(e,t)=>await Do(e,{url:"/idp/myaccount/password",method:"GET",accessToken:null==t?void 0:t.accessToken},ss),ls=async(e,t)=>{const{accessToken:n,payload:i}=t;return await Do(e,{url:"/idp/myaccount/password",method:"POST",payload:i,accessToken:n},ss)},cs=async(e,t)=>{const{accessToken:n,payload:i}=t;return await Do(e,{url:"/idp/myaccount/password",method:"PUT",payload:i,accessToken:n},ss)},us=async(e,t)=>await Do(e,{url:"/idp/myaccount/password",method:"DELETE",accessToken:null==t?void 0:t.accessToken});function hs(e,t){var n={};return Object.assign(n,t),!n.stateToken&&e.stateToken&&(n.stateToken=e.stateToken),n}function ds(e,t){return t=hs(e,t),Pe(e,e.getIssuerOrigin()+"/api/v1/authn",t,{withCredentials:!0})}function ps(e){return!!ms(e)}function fs(e,t,n,i,r){return Pe(e,n,i,r=Object.assign({withCredentials:!0},r)).then((function(e){return t.createTransaction(e)}))}function ms(e){return e.options.storageUtil.storage.get(re)}function gs(e,t,n,i,r,o){if(Array.isArray(r))return function(s,a){if(!s)throw new N("Must provide a link name");var l=S(r,{name:s});if(!l)throw new N("No link found for that name");return gs(e,t,n,i,l,o)(a)};if(r.hints&&r.hints.allow&&1===r.hints.allow.length)switch(r.hints.allow[0]){case"GET":return function(){return Ce(e,r.href,{withCredentials:!0})};case"POST":return function(s){o&&o.isPolling&&(o.isPolling=!1);var a=hs(n,s);"MFA_ENROLL"!==n.status&&"FACTOR_ENROLL"!==n.status||Object.assign(a,{factorType:i.factorType,provider:i.provider});var l={},c=a.autoPush;if(void 0!==c){if("function"==typeof c)try{l.autoPush=!!c()}catch(e){return Promise.reject(new N("AutoPush resulted in an error."))}else null!==c&&(l.autoPush=!!c);a=k(a,"autoPush")}var u=a.rememberDevice;if(void 0!==u){if("function"==typeof u)try{l.rememberDevice=!!u()}catch(e){return Promise.reject(new N("RememberDevice resulted in an error."))}else null!==u&&(l.rememberDevice=!!u);a=k(a,"rememberDevice")}else a.profile&&void 0!==a.profile.updatePhone&&(a.profile.updatePhone&&(l.updatePhone=!0),a.profile=k(a.profile,"updatePhone"));var h=r.href+R(l);return fs(e,t,h,a)}}}class ys extends T{constructor(){super("The poll was stopped by the sdk")}}function vs(e,t,n){return function(i){var r,o,s,a,l;l=i,"[object Number]"===Object.prototype.toString.call(l)?r=i:C(i)&&(r=i.delay,o=i.rememberDevice,s=i.autoPush,a=i.transactionCallBack),r||0===r||(r=oe);var c=E(t,"next","poll");n.isPolling=!0;var u=0,h=function(){return n.isPolling?function(){var n={};if("function"==typeof s)try{n.autoPush=!!s()}catch(e){return Promise.reject(new N("AutoPush resulted in an error."))}else null!=s&&(n.autoPush=!!s);if("function"==typeof o)try{n.rememberDevice=!!o()}catch(e){return Promise.reject(new N("RememberDevice resulted in an error."))}else null!=o&&(n.rememberDevice=!!o);var i=c.href+R(n);return Pe(e,i,function(e){return hs(e)}(t),{saveAuthnState:!1,withCredentials:!0})}().then((function(t){if(u=0,t.factorResult&&"WAITING"===t.factorResult){if(!n.isPolling)throw new ys;return"function"==typeof a&&a(t),I(r).then(h)}return n.isPolling=!1,e.tx.createTransaction(t)})).catch((function(e){if(e.xhr&&(0===e.xhr.status||429===e.xhr.status)&&u<=4){var t=1e3*Math.pow(2,u);return u++,I(t).then(h)}throw e})):Promise.reject(new ys)};return h().catch((function(e){throw n.isPolling=!1,e}))}}function bs(e,t,n,i,r){if(i=w(i=i||n),Array.isArray(i)){for(var o=[],s=0,a=i.length;s<a;s++)o.push(bs(e,t,n,i[s],r));return o}var l=i._embedded||{};for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(C(l[c])||Array.isArray(l[c]))&&(l[c]=bs(e,t,n,l[c],r));var u=function(e,t,n,i,r){var o={};for(var s in i._links)if(Object.prototype.hasOwnProperty.call(i._links,s)){var a=i._links[s];if("next"===s&&(s=a.name),a.type)o[s]=a;else if("poll"===s)o.poll=vs(e,n,r);else{var l=gs(e,t,n,i,a,r);l&&(o[s]=l)}}return o}(e,t,n,i,r);return Object.assign(l,u),i=k(i,"_embedded","_links"),Object.assign(i,l),i}class _s{constructor(e,t,n=null){this.data=void 0,this.status=void 0,n&&(this.data=n,Object.assign(this,bs(e,t,n,n,{})),delete this.stateToken,"RECOVERY_CHALLENGE"!==n.status||n._links||(this.cancel=function(){return Promise.resolve(t.createTransaction())}))}}function ws(e){const t={status:ds.bind(null,e),resume(n){return function(e,t,n){if(!n||!n.stateToken){var i=ms(e);if(!i)return Promise.reject(new N("No transaction to resume"));n={stateToken:i}}return ds(e,n).then((function(e){return t.createTransaction(e)}))}(e,t,n)},exists:ps.bind(null,e),introspect(n){return function(e,t,n){if(!n||!n.stateToken){var i=ms(e);if(!i)return Promise.reject(new N("No transaction to evaluate"));n={stateToken:i}}return function(e,t){return t=hs(e,t),Pe(e,e.getIssuerOrigin()+"/api/v1/authn/introspect",t,{withCredentials:!0})}(e,n).then((function(e){return t.createTransaction(e)}))}(e,t,n)},createTransaction:n=>new _s(e,t,n),postToTransaction:(n,i,r)=>fs(e,t,n,i,r)};return t}function ks(e,t){return t=t||{},Nn()?new Promise((function(o,s){(i=document.createElement("iframe")).style.display="none",r=function(t){if(t&&t.data&&t.origin===e.getIssuerOrigin()){try{var n=JSON.parse(t.data)}catch(e){return}if(n)return"FingerprintAvailable"===n.type?o(n.fingerprint):void("FingerprintServiceReady"===n.type&&t.source.postMessage(JSON.stringify({type:"GetFingerprint"}),t.origin))}},Ti(window,"message",r),i.src=e.getIssuerOrigin()+"/auth/services/devicefingerprint",document.body.appendChild(i),n=setTimeout((function(){s(new N("Fingerprinting timed out"))}),(null==t?void 0:t.timeout)||15e3)})).finally((function(){clearTimeout(n),xi(window,"message",r),document.body.contains(i)&&i.parentElement.removeChild(i)})):Promise.reject(new N("Fingerprinting is not supported on this device"));var n,i,r}function Ss(e){return class extends e{constructor(...e){super(...e),this.authn=this.tx=ws(this),this.fingerprint=ks.bind(null,this)}async signIn(e){e=w(e||{});const t=t=>(delete e.sendFingerprint,this.tx.postToTransaction("/api/v1/authn",e,t));return e.sendFingerprint?this.fingerprint().then((function(e){return t({headers:{"X-Device-Fingerprint":e}})})):t()}async signInWithCredentials(e){return this.signIn(e)}forgotPassword(e){return this.tx.postToTransaction("/api/v1/authn/recovery/password",e)}unlockAccount(e){return this.tx.postToTransaction("/api/v1/authn/recovery/unlock",e)}verifyRecoveryToken(e){return this.tx.postToTransaction("/api/v1/authn/recovery/token",e)}}}const Es=So(),Ts=function(e,t,n){return yo(function(e,t,n){const i=function(e){return class extends e{constructor(...e){super(...e),this.authStateManager=new ar(this),this.serviceManager=new ro(this,this.options.services)}async start(){await this.serviceManager.start(),this.tokenManager.start(),this.token.isLoginRedirect()||await this.authStateManager.updateAuthState()}async stop(){this.tokenManager.stop(),await this.serviceManager.stop()}async handleRedirect(e){await this.handleLoginRedirect(void 0,e)}async handleLoginRedirect(e,t){let n=this.options.state;if(e)this.tokenManager.setTokens(e),t=t||this.getOriginalUri(this.options.state);else{if(!this.isLoginRedirect())return;try{n=(await Mi(this,{})).state,t=t||this.getOriginalUri(n),await this.storeTokensFromRedirect()}catch(e){throw await this.authStateManager.updateAuthState(),e}}await this.authStateManager.updateAuthState(),this.removeOriginalUri(n);const{restoreOriginalUri:i}=this.options;i?await i(this,t):t&&window.location.replace(t)}}}(ir(uo(Yn(Wn(zn(t),e))),n));return i}(e,t,n))}(Co(),Es,Io()),xs=(Cs=Ts,class extends Cs{constructor(...e){super(...e),this.myaccount=Object.entries(o).filter((([e])=>"default"!==e)).reduce(((e,[t,n])=>(e[t]=n.bind(null,this),e)),{})}});var Cs;const Ps=Ss(xs);class As extends Ps{constructor(e){super(e)}}const Os=So(),Is=function(e,t,n){return ir(uo(Yn(Wn(zn(t),e))),n)}(Co(),Os,Io()),Ls=Ss(yo(Is));var Ds="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{};function Rs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ms={exports:{}};Ms.exports=function(){var e="1.13.1",t="object"==typeof self&&self.self===self&&self||"object"==typeof Ds&&Ds.global===Ds&&Ds||Function("return this")()||{},n=Array.prototype,i=Object.prototype,r="undefined"!=typeof Symbol?Symbol.prototype:null,o=n.push,s=n.slice,a=i.toString,l=i.hasOwnProperty,c="undefined"!=typeof ArrayBuffer,u="undefined"!=typeof DataView,h=Array.isArray,d=Object.keys,p=Object.create,f=c&&ArrayBuffer.isView,m=isNaN,g=isFinite,y=!{toString:null}.propertyIsEnumerable("toString"),v=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],b=Math.pow(2,53)-1;function _(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var o=Array(t+1);for(r=0;r<t;r++)o[r]=arguments[r];return o[t]=i,e.apply(this,o)}}function w(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function k(e){return void 0===e}function S(e){return!0===e||!1===e||"[object Boolean]"===a.call(e)}function E(e){var t="[object "+e+"]";return function(e){return a.call(e)===t}}var T=E("String"),x=E("Number"),C=E("Date"),P=E("RegExp"),A=E("Error"),O=E("Symbol"),I=E("ArrayBuffer"),L=E("Function"),D=t.document&&t.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof D&&(L=function(e){return"function"==typeof e||!1});var R=L,M=E("Object"),N=u&&M(new DataView(new ArrayBuffer(8))),j="undefined"!=typeof Map&&M(new Map),F=E("DataView"),B=N?function(e){return null!=e&&R(e.getInt8)&&I(e.buffer)}:F,U=h||E("Array");function q(e,t){return null!=e&&l.call(e,t)}var V=E("Arguments");!function(){V(arguments)||(V=function(e){return q(e,"callee")})}();var H=V;function $(e){return x(e)&&m(e)}function z(e){return function(){return e}}function W(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=b}}function G(e){return function(t){return null==t?void 0:t[e]}}var K=G("byteLength"),Y=W(K),X=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,J=c?function(e){return f?f(e)&&!B(e):Y(e)&&X.test(a.call(e))}:z(!1),Q=G("length");function Z(e,t){t=function(e){for(var t={},n=e.length,i=0;i<n;++i)t[e[i]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=v.length,r=e.constructor,o=R(r)&&r.prototype||i,s="constructor";for(q(e,s)&&!t.contains(s)&&t.push(s);n--;)(s=v[n])in e&&e[s]!==o[s]&&!t.contains(s)&&t.push(s)}function ee(e){if(!w(e))return[];if(d)return d(e);var t=[];for(var n in e)q(e,n)&&t.push(n);return y&&Z(e,t),t}function te(e,t){var n=ee(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var s=n[o];if(t[s]!==r[s]||!(s in r))return!1}return!0}function ne(e){return e instanceof ne?e:this instanceof ne?void(this._wrapped=e):new ne(e)}function ie(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,K(e))}ne.VERSION=e,ne.prototype.value=function(){return this._wrapped},ne.prototype.valueOf=ne.prototype.toJSON=ne.prototype.value,ne.prototype.toString=function(){return String(this._wrapped)};var re="[object DataView]";function oe(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&function e(t,n,i,o){t instanceof ne&&(t=t._wrapped),n instanceof ne&&(n=n._wrapped);var s=a.call(t);if(s!==a.call(n))return!1;if(N&&"[object Object]"==s&&B(t)){if(!B(n))return!1;s=re}switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return r.valueOf.call(t)===r.valueOf.call(n);case"[object ArrayBuffer]":case re:return e(ie(t),ie(n),i,o)}var l="[object Array]"===s;if(!l&&J(t)){if(K(t)!==K(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;l=!0}if(!l){if("object"!=typeof t||"object"!=typeof n)return!1;var c=t.constructor,u=n.constructor;if(c!==u&&!(R(c)&&c instanceof c&&R(u)&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}o=o||[];for(var h=(i=i||[]).length;h--;)if(i[h]===t)return o[h]===n;if(i.push(t),o.push(n),l){if((h=t.length)!==n.length)return!1;for(;h--;)if(!oe(t[h],n[h],i,o))return!1}else{var d,p=ee(t);if(h=p.length,ee(n).length!==h)return!1;for(;h--;)if(!q(n,d=p[h])||!oe(t[d],n[d],i,o))return!1}return i.pop(),o.pop(),!0}(e,t,n,i)}function se(e){if(!w(e))return[];var t=[];for(var n in e)t.push(n);return y&&Z(e,t),t}function ae(e){var t=Q(e);return function(n){if(null==n)return!1;var i=se(n);if(Q(i))return!1;for(var r=0;r<t;r++)if(!R(n[e[r]]))return!1;return e!==de||!R(n[le])}}var le="forEach",ce=["clear","delete"],ue=["get","has","set"],he=ce.concat(le,ue),de=ce.concat(ue),pe=["add"].concat(ce,le,"has"),fe=j?ae(he):E("Map"),me=j?ae(de):E("WeakMap"),ge=j?ae(pe):E("Set"),ye=E("WeakSet");function ve(e){for(var t=ee(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i}function be(e){for(var t={},n=ee(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t}function _e(e){var t=[];for(var n in e)R(e[n])&&t.push(n);return t.sort()}function we(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=e(o),a=s.length,l=0;l<a;l++){var c=s[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}}var ke=we(se),Se=we(ee),Ee=we(se,!0);function Te(e){if(!w(e))return{};if(p)return p(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function xe(e){return w(e)?U(e)?e.slice():ke({},e):e}function Ce(e){return U(e)?e:[e]}function Pe(e){return ne.toPath(e)}function Ae(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0}function Oe(e,t,n){var i=Ae(e,Pe(t));return k(i)?n:i}function Ie(e){return e}function Le(e){return e=Se({},e),function(t){return te(t,e)}}function De(e){return e=Pe(e),function(t){return Ae(t,e)}}function Re(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}}function Me(e,t,n){return null==e?Ie:R(e)?Re(e,t,n):w(e)&&!U(e)?Le(e):De(e)}function Ne(e,t){return Me(e,t,1/0)}function je(e,t,n){return ne.iteratee!==Ne?ne.iteratee(e,t):Me(e,t,n)}function Fe(){}function Be(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ne.toPath=Ce,ne.iteratee=Ne;var Ue=Date.now||function(){return(new Date).getTime()};function qe(e){var t=function(t){return e[t]},n="(?:"+ee(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}}var Ve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},He=qe(Ve),$e=qe(be(Ve)),ze=ne.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},We=/(.)^/,Ge={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ke=/\\|'|\r|\n|\u2028|\u2029/g;function Ye(e){return"\\"+Ge[e]}var Xe=/^\s*(\w|\$)+\s*$/,Je=0;function Qe(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=Te(e.prototype),s=e.apply(o,r);return w(s)?s:o}var Ze=_((function(e,t){var n=Ze.placeholder,i=function(){for(var r=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[r++]:t[a];for(;r<arguments.length;)s.push(arguments[r++]);return Qe(e,i,this,this,s)};return i}));Ze.placeholder=ne;var et=_((function(e,t,n){if(!R(e))throw new TypeError("Bind must be called on a function");var i=_((function(r){return Qe(e,i,t,this,n.concat(r))}));return i})),tt=W(Q);function nt(e,t,n,i){if(i=i||[],t||0===t){if(t<=0)return i.concat(e)}else t=1/0;for(var r=i.length,o=0,s=Q(e);o<s;o++){var a=e[o];if(tt(a)&&(U(a)||H(a)))if(t>1)nt(a,t-1,n,i),r=i.length;else for(var l=0,c=a.length;l<c;)i[r++]=a[l++];else n||(i[r++]=a)}return i}var it=_((function(e,t){var n=(t=nt(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=et(e[i],e)}return e})),rt=_((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),ot=Ze(rt,ne,1);function st(e){return function(){return!e.apply(this,arguments)}}function at(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var lt=Ze(at,2);function ct(e,t,n){t=je(t,n);for(var i,r=ee(e),o=0,s=r.length;o<s;o++)if(t(e[i=r[o]],i,e))return i}function ut(e){return function(t,n,i){n=je(n,i);for(var r=Q(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}}var ht=ut(1),dt=ut(-1);function pt(e,t,n,i){for(var r=(n=je(n,i,1))(t),o=0,s=Q(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<r?o=a+1:s=a}return o}function ft(e,t,n){return function(i,r,o){var a=0,l=Q(i);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+l,a):l=o>=0?Math.min(o+1,l):o+l+1;else if(n&&o&&l)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=t(s.call(i,a,l),$))>=0?o+a:-1;for(o=e>0?a:l-1;o>=0&&o<l;o+=e)if(i[o]===r)return o;return-1}}var mt=ft(1,ht,pt),gt=ft(-1,dt);function yt(e,t,n){var i=(tt(e)?ht:ct)(e,t,n);if(void 0!==i&&-1!==i)return e[i]}function vt(e,t,n){var i,r;if(t=Re(t,n),tt(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=ee(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e}function bt(e,t,n){t=je(t,n);for(var i=!tt(e)&&ee(e),r=(i||e).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=t(e[a],a,e)}return o}function _t(e){var t=function(t,n,i,r){var o=!tt(t)&&ee(t),s=(o||t).length,a=e>0?0:s-1;for(r||(i=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var l=o?o[a]:a;i=n(i,t[l],l,t)}return i};return function(e,n,i,r){var o=arguments.length>=3;return t(e,Re(n,r,4),i,o)}}var wt=_t(1),kt=_t(-1);function St(e,t,n){var i=[];return t=je(t,n),vt(e,(function(e,n,r){t(e,n,r)&&i.push(e)})),i}function Et(e,t,n){t=je(t,n);for(var i=!tt(e)&&ee(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(!t(e[s],s,e))return!1}return!0}function Tt(e,t,n){t=je(t,n);for(var i=!tt(e)&&ee(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(t(e[s],s,e))return!0}return!1}function xt(e,t,n,i){return tt(e)||(e=ve(e)),("number"!=typeof n||i)&&(n=0),mt(e,t,n)>=0}var Ct=_((function(e,t,n){var i,r;return R(t)?r=t:(t=Pe(t),i=t.slice(0,-1),t=t[t.length-1]),bt(e,(function(e){var o=r;if(!o){if(i&&i.length&&(e=Ae(e,i)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))}));function Pt(e,t){return bt(e,De(t))}function At(e,t,n){var i,r,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=tt(e)?e:ve(e)).length;a<l;a++)null!=(i=e[a])&&i>o&&(o=i);else t=je(t,n),vt(e,(function(e,n,i){((r=t(e,n,i))>s||r===-1/0&&o===-1/0)&&(o=e,s=r)}));return o}function Ot(e,t,n){if(null==t||n)return tt(e)||(e=ve(e)),e[Be(e.length-1)];var i=tt(e)?xe(e):ve(e),r=Q(i);t=Math.max(Math.min(t,r),0);for(var o=r-1,s=0;s<t;s++){var a=Be(s,o),l=i[s];i[s]=i[a],i[a]=l}return i.slice(0,t)}function It(e,t){return function(n,i,r){var o=t?[[],[]]:{};return i=je(i,r),vt(n,(function(t,r){var s=i(t,r,n);e(o,t,s)})),o}}var Lt=It((function(e,t,n){q(e,n)?e[n].push(t):e[n]=[t]})),Dt=It((function(e,t,n){e[n]=t})),Rt=It((function(e,t,n){q(e,n)?e[n]++:e[n]=1})),Mt=It((function(e,t,n){e[n?0:1].push(t)}),!0),Nt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function jt(e,t,n){return t in n}var Ft=_((function(e,t){var n={},i=t[0];if(null==e)return n;R(i)?(t.length>1&&(i=Re(i,t[1])),t=se(e)):(i=jt,t=nt(t,!1,!1),e=Object(e));for(var r=0,o=t.length;r<o;r++){var s=t[r],a=e[s];i(a,s,e)&&(n[s]=a)}return n})),Bt=_((function(e,t){var n,i=t[0];return R(i)?(i=st(i),t.length>1&&(n=t[1])):(t=bt(nt(t,!1,!1),String),i=function(e,n){return!xt(t,n)}),Ft(e,i,n)}));function Ut(e,t,n){return s.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function qt(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:Ut(e,e.length-t)}function Vt(e,t,n){return s.call(e,null==t||n?1:t)}var Ht=_((function(e,t){return t=nt(t,!0,!0),St(e,(function(e){return!xt(t,e)}))})),$t=_((function(e,t){return Ht(e,t)}));function zt(e,t,n,i){S(t)||(i=n,n=t,t=!1),null!=n&&(n=je(n,i));for(var r=[],o=[],s=0,a=Q(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t&&!n?(s&&o===c||r.push(l),o=c):n?xt(o,c)||(o.push(c),r.push(l)):xt(r,l)||r.push(l)}return r}var Wt=_((function(e){return zt(nt(e,!0,!0))}));function Gt(e){for(var t=e&&At(e,Q).length||0,n=Array(t),i=0;i<t;i++)n[i]=Pt(e,i);return n}var Kt=_(Gt);function Yt(e,t){return e._chain?ne(t).chain():t}function Xt(e){return vt(_e(e),(function(t){var n=ne[t]=e[t];ne.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),Yt(this,n.apply(ne,e))}})),ne}vt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=n[e];ne.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Yt(this,n)}})),vt(["concat","join","slice"],(function(e){var t=n[e];ne.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Yt(this,e)}}));var Jt=Xt({__proto__:null,VERSION:e,restArguments:_,isObject:w,isNull:function(e){return null===e},isUndefined:k,isBoolean:S,isElement:function(e){return!(!e||1!==e.nodeType)},isString:T,isNumber:x,isDate:C,isRegExp:P,isError:A,isSymbol:O,isArrayBuffer:I,isDataView:B,isArray:U,isFunction:R,isArguments:H,isFinite:function(e){return!O(e)&&g(e)&&!isNaN(parseFloat(e))},isNaN:$,isTypedArray:J,isEmpty:function(e){if(null==e)return!0;var t=Q(e);return"number"==typeof t&&(U(e)||T(e)||H(e))?0===t:0===Q(ee(e))},isMatch:te,isEqual:function(e,t){return oe(e,t)},isMap:fe,isWeakMap:me,isSet:ge,isWeakSet:ye,keys:ee,allKeys:se,values:ve,pairs:function(e){for(var t=ee(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},invert:be,functions:_e,methods:_e,extend:ke,extendOwn:Se,assign:Se,defaults:Ee,create:function(e,t){var n=Te(e);return t&&Se(n,t),n},clone:xe,tap:function(e,t){return t(e),e},get:Oe,has:function(e,t){for(var n=(t=Pe(t)).length,i=0;i<n;i++){var r=t[i];if(!q(e,r))return!1;e=e[r]}return!!n},mapObject:function(e,t,n){t=je(t,n);for(var i=ee(e),r=i.length,o={},s=0;s<r;s++){var a=i[s];o[a]=t(e[a],a,e)}return o},identity:Ie,constant:z,noop:Fe,toPath:Ce,property:De,propertyOf:function(e){return null==e?Fe:function(t){return Oe(e,t)}},matcher:Le,matches:Le,times:function(e,t,n){var i=Array(Math.max(0,e));t=Re(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},random:Be,now:Ue,escape:He,unescape:$e,templateSettings:ze,template:function(e,t,n){!t&&n&&(t=n),t=Ee({},t,ne.templateSettings);var i=RegExp([(t.escape||We).source,(t.interpolate||We).source,(t.evaluate||We).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,(function(t,n,i,s,a){return o+=e.slice(r,a).replace(Ke,Ye),r=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t})),o+="';\n";var s,a=t.variable;if(a){if(!Xe.test(a))throw new Error("variable is not a bare identifier: "+a)}else o="with(obj||{}){\n"+o+"}\n",a="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{s=new Function(a,"_",o)}catch(e){throw e.source=o,e}var l=function(e){return s.call(this,e,ne)};return l.source="function("+a+"){\n"+o+"}",l},result:function(e,t,n){var i=(t=Pe(t)).length;if(!i)return R(n)?n.call(e):n;for(var r=0;r<i;r++){var o=null==e?void 0:e[t[r]];void 0===o&&(o=n,r=i),e=R(o)?o.call(e):o}return e},uniqueId:function(e){var t=++Je+"";return e?e+t:t},chain:function(e){var t=ne(e);return t._chain=!0,t},iteratee:Ne,partial:Ze,bind:et,bindAll:it,memoize:function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return q(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},delay:rt,defer:ot,throttle:function(e,t,n){var i,r,o,s,a=0;n||(n={});var l=function(){a=!1===n.leading?0:Ue(),i=null,s=e.apply(r,o),i||(r=o=null)},c=function(){var c=Ue();a||!1!==n.leading||(a=c);var u=t-(c-a);return r=this,o=arguments,u<=0||u>t?(i&&(clearTimeout(i),i=null),a=c,s=e.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,u)),s};return c.cancel=function(){clearTimeout(i),a=0,i=r=o=null},c},debounce:function(e,t,n){var i,r,o,s,a,l=function(){var c=Ue()-r;t>c?i=setTimeout(l,t-c):(i=null,n||(s=e.apply(a,o)),i||(o=a=null))},c=_((function(c){return a=this,o=c,r=Ue(),i||(i=setTimeout(l,t),n&&(s=e.apply(a,o))),s}));return c.cancel=function(){clearTimeout(i),i=o=a=null},c},wrap:function(e,t){return Ze(t,e)},negate:st,compose:function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},after:function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},before:at,once:lt,findKey:ct,findIndex:ht,findLastIndex:dt,sortedIndex:pt,indexOf:mt,lastIndexOf:gt,find:yt,detect:yt,findWhere:function(e,t){return yt(e,Le(t))},each:vt,forEach:vt,map:bt,collect:bt,reduce:wt,foldl:wt,inject:wt,reduceRight:kt,foldr:kt,filter:St,select:St,reject:function(e,t,n){return St(e,st(je(t)),n)},every:Et,all:Et,some:Tt,any:Tt,contains:xt,includes:xt,include:xt,invoke:Ct,pluck:Pt,where:function(e,t){return St(e,Le(t))},max:At,min:function(e,t,n){var i,r,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=tt(e)?e:ve(e)).length;a<l;a++)null!=(i=e[a])&&i<o&&(o=i);else t=je(t,n),vt(e,(function(e,n,i){((r=t(e,n,i))<s||r===1/0&&o===1/0)&&(o=e,s=r)}));return o},shuffle:function(e){return Ot(e,1/0)},sample:Ot,sortBy:function(e,t,n){var i=0;return t=je(t,n),Pt(bt(e,(function(e,n,r){return{value:e,index:i++,criteria:t(e,n,r)}})).sort((function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index})),"value")},groupBy:Lt,indexBy:Dt,countBy:Rt,partition:Mt,toArray:function(e){return e?U(e)?s.call(e):T(e)?e.match(Nt):tt(e)?bt(e,Ie):ve(e):[]},size:function(e){return null==e?0:tt(e)?e.length:ee(e).length},pick:Ft,omit:Bt,first:qt,head:qt,take:qt,initial:Ut,last:function(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:Vt(e,Math.max(0,e.length-t))},rest:Vt,tail:Vt,drop:Vt,compact:function(e){return St(e,Boolean)},flatten:function(e,t){return nt(e,t,!1)},without:$t,uniq:zt,unique:zt,union:Wt,intersection:function(e){for(var t=[],n=arguments.length,i=0,r=Q(e);i<r;i++){var o=e[i];if(!xt(t,o)){var s;for(s=1;s<n&&xt(arguments[s],o);s++);s===n&&t.push(o)}}return t},difference:Ht,unzip:Gt,transpose:Gt,zip:Kt,object:function(e,t){for(var n={},i=0,r=Q(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},range:function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r},chunk:function(e,t){if(null==t||t<1)return[];for(var n=[],i=0,r=e.length;i<r;)n.push(s.call(e,i,i+=t));return n},mixin:Xt,default:ne});return Jt._=Jt,Jt}();var Ns=Ms.exports,js={defaultLanguage:"en",version:"7.21.0",supportedLanguages:["en","cs","da","de","el","es","fi","fr","hu","id","in","it","ja","ko","ms","nb","nl-NL","ok-PL","ok-SK","pl","pt-BR","ro","ru","sv","th","tr","uk","vi","zh-CN","zh-TW"]},Fs={AF:"Afghanistan",AX:"Ã…land Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia, Plurinational State of",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",VG:"Virgin Islands, British",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CO:"Colombia",KM:"Comoros",CG:"Congo",CK:"Cook Islands",CR:"Costa Rica",CI:"CÃ´te d'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",CD:"Congo, the Democratic Republic of the",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",TL:"Timor-Leste",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KR:"Korea, Republic of",XK:"Kosovo, Republic of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, the former Yugoslav Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",KP:"Korea, Democratic People's Republic of",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine, State of",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"RÃ©union",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",SH:"Saint Helena, Ascension and Tristan da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"SÃ£o TomÃ© and PrÃ­ncipe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",VI:"Virgin Islands, U.S.",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VA:"Holy See (Vatican City State)",VE:"Venezuela, Bolivarian Republic of",VN:"Viet Nam",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},Bs={signout:"Sign Out",signin:"Sign In",signup:"Sign Up",remember:"Remember me",rememberDevice:"Trust this device","rememberDevice.timebased":"Do not challenge me on this device for the next {0}","rememberDevice.devicebased":"Do not challenge me on this device again",autoPush:"Send push automatically",unlockaccount:"Unlock account?",haveaccount:"Already have an account?",needhelp:"Need help signing in?",forgotpassword:"Forgot password?",help:"Help",retry:"Retry",iphone:"iPhone",android:"Android",goback:"Back to sign in",closeWindow:"You can close this window","country.option.label":"{0} ({1})","phone.extention.label":"Extension","select.default_value":"Select an option","select.filter.no_match":'No results found for "{0}"',"sensitive.input.show":"Show","sensitive.input.hide":"Hide","processing.alt.text":"Processing...","logo.default.alt.text":"Logo","identifier.icon.alt.text":"User","icon.title.application":"Application","icon.title.browser":"Browser","icon.title.mobileBrowser":"Mobile browser","icon.title.location":"Location","icon.title.mobileDevice":"Mobile Device","skip.to.main.content":"Skip to main content","minutes.oneMinute":"minute",minutes:"{0} minutes",hours:"{0} hours",days:"{0} days","error.config":"There was a configuration error","error.required.authParams":'Missing parameters for the configured authentication scheme - "OAUTH2"',"error.required.baseUrl":'"baseUrl" is a required widget parameter',"error.required.success":"A success handler is required","error.required.el":'"el" is a required widget parameter',"error.invalid.colors.brand":'"colors.brand" must be in six-digit hex format',"error.unsupported.browser":"Unsupported browser","error.unsupported.cors":"Unsupported browser - missing CORS support","error.unsupported.localStorage":"Unsupported browser - missing localStorage support","error.enabled.cors":"There was an error sending the request - have you enabled CORS?","error.expired.session":"Your session has expired. Please try to sign in again.","error.mfa.only.expired.session":"Unable to authenticate at this time.","error.auth.lockedOut":"Your account is locked. Please contact your administrator.","error.oauth.idToken":"There was a problem generating the id_token for the user. Please try again.","error.network.connection":"Unable to connect to the server. Please check your network connection.","error.username.required":"Please enter a username","error.password.required":"Please enter a password","error.mfa.required":"The current sign on policy requires this client to redirect for re-authentication or MFA. Please contact your administrator.","error.unsupported.response":"There was an unsupported response from server.","error.jit_failure":"Unable to sign in, please try another sign in method.","error.unsynced.clock":"Unable to sign in. Please check that your device's clock is accurate and try again.","errors.E0000004":"Unable to sign in","errors.E0000069":"Your account is locked because of too many authentication attempts.","errors.E0000047":"You exceeded the maximum number of requests. Try again in a while.","errors.E0000079":"The operation is not allowed. Please refresh the page to proceed.","errors.E0000001":"Api validation failed: {0}","errors.E0000002":"The request was not valid: {0}","errors.E0000003":"The request body was not well-formed.","errors.E0000005":"Invalid session","errors.E0000006":"You do not have permission to perform the requested action","errors.E0000007":"Not found: {0}","errors.E0000008":"The requested path was not found","errors.E0000009":"Internal Server Error","errors.E0000010":"Service is in read only mode","errors.E0000011":"Invalid token provided","errors.E0000012":"Unsupported media type","errors.E0000013":"Invalid client app id","errors.E0000015":"You do not have permission to access the feature you are requesting","errors.E0000016":"Activation failed because the user is already active","errors.E0000017":"Password reset failed","errors.E0000018":"Bad request.  Accept and/or Content-Type headers are likely not set.","errors.E0000019":"Bad request.  Accept and/or Content-Type headers likely do not match supported values.","errors.E0000020":"Bad request.","errors.E0000021":"Bad request.  Accept and/or Content-Type headers likely do not match supported values.","errors.E0000022":"The endpoint does not support the provided HTTP method","errors.E0000023":"Operation failed because user profile is mastered under another system","errors.E0000024":"Bad request.  This operation on app metadata is not yet supported.","errors.E0000025":"App version assignment failed.","errors.E0000026":"This endpoint has been deprecated.","errors.E0000027":"Group push bad request : {0}","errors.E0000028":"The request is missing a required parameter.","errors.E0000029":"Invalid paging request.","errors.E0000030":"Bad request. Invalid date. Dates must be of the form yyyy-MM-dd''T''HH:mm:ss.SSSZZ, e.g. 2013-01-01T12:00:00.000-07:00.","errors.E0000031":"Invalid search criteria.","errors.E0000032":"Unlock is not allowed for this user.","errors.E0000033":"Bad request. Can't specify a search query and filter in the same request.","errors.E0000034":"Forgot password not allowed on specified user.","errors.E0000035":"Change password not allowed on specified user.","errors.E0000036":"Change recovery question not allowed on specified user.","errors.E0000037":"Type mismatch exception.","errors.E0000038":"This operation is not allowed in the user''s current status.","errors.E0000039":"Operation on application settings failed.","errors.E0000040":"Application label must not be the same as an existing application label.","errors.E0000041":"Credentials should not be set on this resource based on the scheme.","errors.E0000042":"Setting the error page redirect URL failed.","errors.E0000043":"Self service application assignment is not enabled.","errors.E0000044":"Self service application assignment is not supported.","errors.E0000045":"Field mapping bad request.","errors.E0000046":"Deactivate application for user forbidden.","errors.E0000048":"Entity not found exception.","errors.E0000049":"Invalid SCIM data from SCIM implementation.","errors.E0000050":"Invalid SCIM data from client.","errors.E0000051":"No response from SCIM implementation.","errors.E0000052":"Endpoint not implemented.","errors.E0000053":"Invalid SCIM filter.","errors.E0000054":"Invalid pagination properties.","errors.E0000055":"Duplicate group.","errors.E0000056":"Delete application forbidden.","errors.E0000057":"Access to this application is denied due to a policy.","errors.E0000058":"Access to this application requires MFA: {0}","errors.E0000059":"The connector configuration could not be tested. Make sure that the URL, Authentication Parameters are correct and that there is an implementation available at the URL provided.","errors.E0000060":"Unsupported operation.","errors.E0000061":"Tab error: {0}","errors.E0000062":"The specified user is already assigned to the application.","errors.E0000063":"Invalid combination of parameters specified.","errors.E0000064":"Password is expired and must be changed.","errors.E0000065":"Internal error processing app metadata.","errors.E0000066":"APNS is not configured, contact your admin","errors.E0000067":"Factors Service Error.","errors.E0000070":"Waiting for ACK","errors.E0000071":"Unsupported OS Version: {0}","errors.E0000072":"MIM policy settings have disallowed enrollment for this user","errors.E0000073":"User rejected authentication","errors.E0000074":"Factor Service Error","errors.E0000075":"Cannot modify the {0} attribute because it has a field mapping and profile push is enabled.","errors.E0000076":"Cannot modify the app user because it is mastered by an external app.","errors.E0000077":"Cannot modify the {0} attribute because it is read-only.","errors.E0000078":"Cannot modify the {0} attribute because it is immutable.","errors.E0000081":"Cannot modify the {0} attribute because it is a reserved attribute for this application.","errors.E0000082":"Each code can only be used once. Please wait for a new code and try again.","errors.E0000083":"PassCode is valid but exceeded time window.","errors.E0000084":"App evaluation error.","errors.E0000085":"You do not have permission to access your account at this time.","errors.E0000086":"This policy cannot be activated at this time.","errors.E0000087":"The recovery question answer did not match our records.","errors.E0000090":"The role specified is already assigned to the user.","errors.E0000091":"The provided role type was not the same as required role type.","errors.E0000092":"Access to this application requires re-authentication: {0}","errors.E0000093":"Target count limit exceeded","errors.E0000094":"The provided filter is unsupported.","errors.E0000095":"Recovery not allowed for unknown user.","errors.E0000096":"This certificate has already been uploaded with kid={0}.","errors.E0000097":"There is no verified phone number on file.","errors.E0000098":"This phone number is invalid.","errors.E0000099":"Only numbers located in US and Canada are allowed.  Contact your administrator if this is a problem.","errors.E0000100":"Unable to perform search query.","errors.E0000101":"Upload failed because of a problem with your ipa file, {0}","errors.E0000102":"YubiKey cannot be deleted while assigned to an user. Please deactivate YubiKey using reset MFA and try again","errors.E0000103":"Action on device already in queue or in progress","errors.E0000104":"Device is already locked and cannot be locked again","errors.E0000105":"You have accessed an account recovery link that has expired or been previously used.","errors.E0000106":"Wait for token to change, then enter the new tokencode.","errors.E0000107":"The entity is not in the expected state for the requested transition.","errors.E0000109":"An SMS message was recently sent. Please wait 30 seconds before trying again.","errors.E0000110":"You have accessed a link that has expired or has been previously used.","errors.E0000111":"Cannot modify the {0} object because it is read-only.","errors.E0000112":"Cannot update this user because they are still being activated. Please try again in a few minutes.","errors.E0000113":"{0}.","errors.E0000114":"A user with this login already exists in the current organization.","errors.E0000115":"Upload failed, {0}","errors.E0000116":"{0}","errors.E0000119":"Your account is locked. Please contact your administrator.","errors.E0000124":"Could not create user. To create a user and expire their password immediately, a password must be specified","errors.E0000125":'Could not create user. To create a user and expire their password immediately, "activate" must be true',"errors.E0000133":"A phone call was recently made. Please wait 30 seconds before trying again.","errors.E0000207":"The username and/or the password you entered is incorrect. Please try again.","oform.next":"Next","oform.verify":"Verify","oform.send":"Send","oform.back":"Back","oform.title.authenticate":"Authenticate","oform.save":"Save","oform.cancel":"Cancel","oform.edit":"Edit","oform.previous":"Previous","oform.error.icon.ariaLabel":"Error","oform.errorbanner.title":"We found some errors. Please review the form and make corrections.","oform.errormsg.title":"Please review the form to correct the following errors:","oform.error.unexpected":"There was an unexpected internal error. Please try again.","oform.error.webfinger":"Unable to determine user identification method. Please contact your administrator for assistance.","oform.selectInput.country":"{0} selected","model.validation.field.blank":"This field cannot be left blank","model.validation.field.wrong.type":"This field is of the wrong type","model.validation.field.invalid":"This field has an invalid value","model.validation.field.value.not.allowed":"This field value is not allowed","model.validation.field.array.minItems":"This array does not have enough items","model.validation.field.array.maxItems":"This array contains too many items","model.validation.field.array.unique":"This array can only have unique values","model.validation.field.string.minLength":"This field cannot be less than the minimum required characters","model.validation.field.string.maxLength":"This field cannot exceed the maximum allowed characters","model.validation.field.invalid.format.email":"This value is not a valid email address","model.validation.field.invalid.format.uri":"This value is not a valid URI","model.validation.field.invalid.format.ipv4":"This value is not a valid IPv4 address","model.validation.field.invalid.format.hostname":"This value is not a valid hostname","model.validation.field.username":"Please check your username","schema.validation.field.value.must.string":"Value must be a string","schema.validation.field.value.must.number":"Value must be a number","schema.validation.field.value.must.integer":"Value must be an integer","schema.validation.field.value.must.object":"Value must be an object","universal-directory.profiles.attribute.source.oktamastered":"Inherit from Okta","universal-directory.profiles.attribute.source.override":"Override profile source","universal-directory.profiles.attribute.form.union.disable.display":"Combine values across groups","universal-directory.profiles.attribute.source.inherit":"Inherit from profile source","universal-directory.profiles.attribute.enduser.permission.readonly":"Read Only","universal-directory.profiles.attribute.enduser.permission.hide":"Hide","universal-directory.profiles.attribute.enduser.permission.readwrite":"Read-Write","universal-directory.profiles.attribute.form.union.enable.display":"Use Group Priority","factor.totpSoft.oktaVerify":"Okta Verify","factor.totpSoft.googleAuthenticator":"Google Authenticator","factor.totpSoft.description":"Enter single-use code from the mobile app.","factor.totpHard.rsaSecurId":"RSA SecurID","factor.totpHard.symantecVip":"Symantec VIP","factor.totpHard.description":"Enter a single-use code from a hardware token.","factor.totpHard.yubikey":"YubiKey","factor.totpHard.yubikey.description":"Insert your YubiKey and tap it to get a verification code.","factor.totpHard.yubikey.placeholder":"Click here, then tap your YubiKey","factor.oktaVerifyPush":"Okta Verify","factor.push.description":"Use a push notification sent to the mobile app.","factor.duo":"Duo Security","factor.duo.description":"Use Push Notification, SMS, or Voice call to authenticate.","factor.sms":"SMS Authentication","factor.sms.description":"Enter a single-use code sent to your mobile phone.","factor.sms.time.warning":"Haven't received an SMS? To try again, click <$1>Re-send code</$1>.","factor.call":"Voice Call Authentication","factor.call.description":"Use a phone to authenticate by following voice instructions.","factor.call.time.warning":"Haven't received a voice call? To try again, click <$1>Redial</$1>.","factor.securityQuestion":"Security Question","factor.securityQuestion.description":"Use the answer to a security question to authenticate.","factor.windowsHello":"Windows Hello","factor.windowsHello.signin.description":"Sign in to Okta using Windows Hello.","factor.windowsHello.signin.description.generic":"Sign in using Windows Hello.","factor.windowsHello.signin.description.specific":"Sign in to {0} using Windows Hello.","factor.u2f":"Security Key (U2F)","factor.u2f.description":"Use a Universal 2nd Factor (U2F) security key to sign on to Okta.","factor.u2f.description.generic":"Use a Universal 2nd Factor (U2F) security key to sign in.","factor.u2f.description.specific":"Use a Universal 2nd Factor (U2F) security key to sign in to {0}.","factor.email":"Email Authentication","factor.email.description":"Enter a verification code sent to your email.","factor.password":"Password","factor.customFactor.description":"Redirect to a third party MFA provider to sign in to Okta.","factor.customFactor.description.generic":"Redirect to a third party MFA provider to sign in.","factor.customFactor.description.specific":"Redirect to a third party MFA provider to sign in to {0}.","factor.webauthn.biometric":"Security Key or Biometric Authenticator","factor.webauthn.biometric.description":"Use a security key (USB or bluetooth) or a biometric authenticator (Windows Hello, Touch ID, etc.)","factor.hotp.description":"Enter a single-use code from an authenticator.","mfa.challenge.verify":"Verify","mfa.challenge.answer.placeholder":"Answer","mfa.challenge.answer.tooltip":"Answer","mfa.challenge.answer.showAnswer":"Show","mfa.challenge.answer.hideAnswer":"Hide","mfa.challenge.enterCode.placeholder":"Enter Code","mfa.challenge.enterCode.tooltip":"Enter Code","mfa.challenge.password.placeholder":"Password","mfa.backToFactors":"Back to factor list","mfa.enroll":"Enroll","mfa.setupOptions":"Setup Options","mfa.country":"Country/region","mfa.phoneNumber.placeholder":"Phone number","mfa.phoneNumber.ext.placeholder":"Extension","mfa.sendCode":"Send code","mfa.sent":"Sent","mfa.resendCode":"Re-send code","mfa.call":"Call","mfa.calling":"Calling","mfa.redial":"Redial","mfa.sendEmail":"Send email","mfa.resendEmail":"Re-send email","mfa.scanBarcode":"Scan QR code","mfa.altQrCode":"QR code. If you can't scan, click on the link below to select an alternative activation method","mfa.noAccessToEmail":"Can't access email","password.reset":"Reset Password","password.oldPassword.placeholder":"Old password","password.oldPassword.tooltip":"Old password","password.newPassword.placeholder":"New password","password.newPassword.tooltip":"New password","password.confirmPassword.placeholder":"Repeat password","password.confirmPassword.tooltip":"Repeat password","password.error.match":"New passwords must match","password.enroll.error.match":"Passwords must match","recovery.sms.hint":"SMS can only be used if a mobile phone number has been configured.","recovery.mobile.hint":"{0} can only be used if a mobile phone number has been configured.","recovery.sms":"SMS","recovery.call":"Voice Call","recovery.smsOrCall":"SMS or Voice Call","verify.choices.description":"Verify with one of the following factors.","email.button.send":"Send me the code","email.button.resend":"Send again","email.code.label":"Verification code","email.code.not.received":"Haven't received an email?","email.enroll.title":"Set up Email Authentication","email.enroll.description":"Send a verification code to your registered email.","email.enroll.enterCode":"Enter code","email.link.terminal.msg":"To finish signing in, return to the screen where you requested the email link.","email.mfa.title":"Verify with Email Authentication","email.mfa.description":"Send a verification code to {0}.","email.mfa.email.sent.description":"A verification code was sent to {0}. Check your email and enter the code below.","email.mfa.email.sent.description.sentText":"A verification code was sent to","email.mfa.email.sent.description.emailCodeText":"Check your email and enter the code below.","email.unregistered_email.error":"Enter the email where you received the Welcome instructions from your administrator.","enroll.choices.title":"Set up multifactor authentication","enroll.choices.description":"Your company requires multifactor authentication to add an additional layer of security when signing in to your Okta account","enroll.choices.description.generic":"Your company requires multifactor authentication to add an additional layer of security when signing in to your account","enroll.choices.description.specific":"Your company requires multifactor authentication to add an additional layer of security when signing in to your {0} account","enroll.choices.description.gracePeriod.bold":"Your company recommends setting up additional factors for authentication. Set up will be required in: <b>{0} day(s)</b>.","enroll.choices.description.gracePeriod.oneDay.bold":"Your company recommends setting up additional factors for authentication. Set up will be required in: <b>less than 1 day</b>.","enroll.choices.optional":"You can configure any additional optional factor or click finish","enroll.choices.list.setup":"Setup required","enroll.choices.list.enrolled":"Enrolled factors","enroll.choices.list.optional":"Additional optional factors","enroll.choices.setup":"Setup","enroll.choices.setup.another":"Set up another","enroll.choices.submit.finish":"Finish","enroll.choices.submit.configure":"Configure factor","enroll.choices.submit.next":"Configure next factor","enroll.choices.cardinality.setup":"({0} set up)","enroll.choices.cardinality.setup.remaining":"({0} of {1} set up)","enroll.choices.setup.skip":"Skip set up","enroll.securityQuestion.setup":"Setup secret question authentication","security.disliked_food":"What is the food you least liked as a child?","security.name_of_first_plush_toy":"What is the name of your first stuffed animal?","security.first_award":"What did you earn your first medal or award for?","security.favorite_security_question":"What is your favorite security question?","security.favorite_toy":"What is the toy/stuffed animal you liked the most as a kid?","security.first_computer_game":"What was the first computer game you played?","security.favorite_movie_quote":"What is your favorite movie quote?","security.first_sports_team_mascot":"What was the mascot of the first sports team you played on?","security.first_music_purchase":"What music album or song did you first purchase?","security.favorite_art_piece":"What is your favorite piece of art?","security.grandmother_favorite_desert":"What was your grandmother's favorite dessert?","security.first_thing_cooked":"What was the first thing you learned to cook?","security.childhood_dream_job":"What was your dream job as a child?","security.first_kiss_location":"Where did you have your first kiss?","security.place_where_significant_other_was_met":"Where did you meet your spouse/significant other?","security.favorite_vacation_location":"Where did you go for your favorite vacation?","security.new_years_two_thousand":"Where were you on New Year's Eve in the year 2000?","security.favorite_speaker_actor":"Who is your favorite speaker/orator?","security.favorite_book_movie_character":"Who is your favorite book/movie character?","security.favorite_sports_player":"Who is your favorite sports player?","enroll.password.setup":"Select a password","save.password":"Save password","enroll.sms.setup":"Receive a code via SMS to authenticate","enroll.sms.try_again":"The number you entered seems invalid. If the number is correct, please try again.","enroll.call.setup":"Follow phone call instructions to authenticate","enroll.onprem.username.placeholder":"Enter {0} username","enroll.onprem.username.tooltip":"Enter {0} username","enroll.onprem.passcode.placeholder":"Enter {0} passcode","enroll.onprem.passcode.tooltip":"Enter {0} passcode","enroll.symantecVip.subtitle":"Enter Credential ID and two consecutive generated codes","enroll.symantecVip.credentialId.placeholder":"Enter credential ID","enroll.symantecVip.credentialId.tooltip":"Enter credential ID","enroll.symantecVip.passcode1.placeholder":"Security code 1","enroll.symantecVip.passcode1.tooltip":"Security code 1","enroll.symantecVip.passcode2.placeholder":"Security code 2","enroll.symantecVip.passcode2.tooltip":"Security code 2","enroll.yubikey.title":"Setup YubiKey","enroll.yubikey.subtitle":"Insert your YubiKey into a USB port and tap it to generate a verification code","enroll.totp.title":"Setup {0}","enroll.totp.selectDevice":"Select your device type","enroll.totp.downloadApp":'Download <a href="{0}" class="inline-link">{1} from the {2}</a> onto your mobile device.',"enroll.hotp.restricted":"Contact your administrator to continue enrollment.","enroll.duo.title":"Setup Duo Security","enroll.windowsHello.title":"Enroll Windows Hello","enroll.windowsHello.subtitle":"Click below to enroll Windows Hello as a second form of authentication","enroll.windowsHello.subtitle.loading":"Please wait while Windows Hello is loading...","enroll.windowsHello.save":"Enroll Windows Hello","enroll.windowsHello.error.notWindows":"Windows Hello can only be used on Windows Edge with Windows 10. Contact your admin for assistance.","enroll.windowsHello.error.notConfiguredHtml":"Windows Hello is not configured. Select the <b>Start</b> button, then select <b>Settings</b> - <b>Accounts</b> - <b>Sign-in</b> to configure Windows Hello.","verify.windowsHello.subtitle":"Verify your identity with Windows Hello","verify.windowsHello.subtitle.loading":"Please wait while Windows Hello is loading...","verify.windowsHello.subtitle.signingIn":"Signing in to Okta...","verify.windowsHello.subtitle.signingIn.generic":"Signing in...","verify.windowsHello.subtitle.signingIn.specific":"Signing in to {0}...","verify.windowsHello.save":"Verify with Windows Hello","verify.windowsHello.error.notFound":"Your Windows Hello enrollment does not match our records. Contact your administrator for assistance.","verify.windowsHello.error.notFound.selectAnother":"Your Windows Hello enrollment does not match our records. Select another factor or contact your administrator for assistance.","enroll.u2f.title":"Setup Security Key (U2F)","enroll.u2f.save":"Register Security Key","enroll.u2f.general2":"Make sure you have a Security Key. If already inserted, remove it now.<br>If you have a Bluetooth Security Key, turn on your computer's Bluetooth.","enroll.u2f.general3":"Click the button below to register","enroll.u2f.instructions":"Insert your Security Key into a USB port on this computer. If it has a button or gold disk, tap it.","enroll.u2f.instructionsBluetooth":"If you are using a Bluetooth Security Key, press the button.","u2f.error.factorNotSupported":"Security Key (U2F) is not supported on this browser. Select another factor or contact your admin for assistance.","u2f.error.factorNotSupported.oneFactor":"Security Key (U2F) is not supported on this browser. Contact your admin for assistance.","u2f.error.other":"An unknown error has occured. Try again or select another factor.","u2f.error.other.oneFactor":"An unknown error has occured. Try again or contact your admin for assistance.","u2f.error.badRequest":"There was an error with the U2F request. Try again or select another factor.","u2f.error.badRequest.oneFactor":"There was an error with the U2F request. Try again or contact your admin for assistance.","u2f.error.unsupported":"The security key is unsupported. Select another factor.","u2f.error.unsupported.oneFactor":"The security key is unsupported. Contact your admin for assistance.","u2f.error.timeout":"You have timed out of the authentication period. Please try again.","verify.u2f.instructions":"Insert your Security Key. If it has a button or gold disk, tapÂ it.","verify.u2f.instructionsBluetooth":"If you are using a Bluetooth Security Key, turn on your computer's Bluetooth and press the button.","verify.u2f.retry":"Retry","enroll.customFactor.subtitle":"Clicking below will redirect to MFA enrollment with {0}","enroll.customFactor.save":"Enroll","verify.customFactor.subtitle":"Clicking below will redirect to verification with {0}","verify.customFactor.subtitle.redirect":"Redirecting to {0}...","enroll.webauthn.biometric.title":"Set up security key or biometric authenticator","enroll.webauthn.save":"Enroll","enroll.webauthn.biometric.instructions":"Your browser will prompt to register a security key or biometric authenticator (Windows Hello, Touch ID, etc.). Follow the instructions to complete enrollment.","enroll.webauthn.biometric.instructions.edge":"Note: If you are enrolling a security key and Windows Hello or PIN is enabled, you will need to select '<b>Cancel</b>' in the prompt before continuing.","verify.webauthn.biometric.instructions":"Your browser or device will prompt you to verify with a security key or biometric authenticator. Follow the instructions to complete authentication.","webauthn.biometric.error.factorNotSupported":"Security key or biometric authenticator is not supported on this browser. Select another factor or contact your admin for assistance.","webauthn.biometric.error.factorNotSupported.oneFactor":"Security key or biometric authenticator is not supported on this browser. Contact your admin for assistance.","enroll.webauthn.instructions.noSupportForBiometric":"Note: Some browsers may not support biometric authenticators.","authfactor.webauthn.error":"You are currently unable to use a Security key or biometric authenticator. Try again.","enroll.totp.enterCode":"Enter code displayed from the application","enroll.totp.setupApp":"Launch {0} on your mobile device and select â€œAdd an accountâ€. Scan the QR code to continue.","enroll.totp.setupGoogleAuthApp":'Launch {0}, tap the "+" icon, then select "Scan a QR code".',"enroll.totp.cannotScan":"Can't scan?","enroll.totp.aria.cannotScan":"Setup without scanning a QR code.","enroll.totp.refreshBarcode":"Refresh code","enroll.totp.cannotScanBarcode":"Can't scan QR code?","enroll.totp.manualSetupInstructions":"To set up manually enter your Okta Account username and then input the following in the Secret Key Field","enroll.totp.manualSetupInstructions.generic":"To set up manually enter your Account username and then input the following in the Secret Key Field","enroll.totp.manualSetupInstructions.specific":"To set up manually enter your {0} Account username and then input the following in the Secret Key Field","enroll.totp.sharedSecretInstructions":"Enter your Okta Account username and enter the following in the Secret Key Field","enroll.totp.sharedSecretInstructions.generic":"Enter your Account username and enter the following in the Secret Key Field","enroll.totp.sharedSecretInstructions.specific":"Enter your {0} Account username and enter the following in the Secret Key Field","enroll.totp.sendSms":"Send activation link via SMS","enroll.totp.sendEmail":"Send activation link via email","enroll.totp.setupManually":"Setup manually without push notification","enroll.totp.sharedSecretInstructions.aria.secretKey":"setup key {0}","enroll.totp.enrollViaEmail.title":"Activation email sent!","enroll.totp.enrollViaEmail.msg":"Open the email from your mobile device.","enroll.totp.enrollViaSms.title":"SMS sent!","enroll.totp.enrollViaSms.msg":"View the SMS on your mobile device.","recoveryChallenge.sms.title":"Enter verification code sent via SMS","recoveryChallenge.call.title":"Enter verification code received via Voice Call","mfa.factors.dropdown.title":"Select an authentication factor","mfa.factors.dropdown.sr.text":"Select Authentication Factor - {0} Factor Selected","mfa.duoSecurity.push":"Push â€” {0}","mfa.duoSecurity.sms":"SMS â€” {0}","mfa.duoSecurity.call":"Call â€” {0}","mfa.switch":"Switch Factor","mfa.challenge.title":"Enter your {0} passcode","mfa.challenge.orEnterCode":"Or enter code","mfa.challenge.totp.subtitle.multiple":"Enter code from any registered {0} device.","mfa.emailVerification.checkEmail":"To finish signing in, click the link in your email.","mfa.emailVerification.title":"Sign in using a link sent to your email.","mfa.emailVerification.subtitle":"Emails will be sent to {0}","mfa.emailVerification.otc.finish":"To finish signing in, enter the code which was emailed to you.","oktaverify.send":"Send Push","oktaverify.resend":"Re-send Push","oktaverify.sent":"Push sent!","oktaverify.rejected":"You have chosen to reject this login.","oktaverify.rejected.upgradeRequired.ios":"Verification failed because your Okta Verify version is no longer supported. To sign in, please update Okta Verify on the App Store, then try again.","oktaverify.rejected.upgradeRequired.android":"Verification failed because your Okta Verify version is no longer supported. To sign in, please update Okta Verify on Google Play, then try again.","oktaverify.timeout":"Your push notification has expired.","oktaverify.warning":"Haven't received a push notification yet? Try opening the Okta Verify App on your phone.","oktaverify.numberchallenge.instruction":'On your phone, tap <span class="challenge-number">{0}</span> on Okta Verify prompt to continue.',"oktaverify.numberchallenge.explain":"This extra step helps us make sure it's really you signing in.","primaryauth.title":"Sign In","primaryauth.username.placeholder":"Username","primaryauth.username.tooltip":"Username","primaryauth.password.placeholder":"Password","primaryauth.password.tooltip":"Password","primaryauth.submit":"Sign In","primaryauth.newUser.tooltip":"This is the first time you are connecting to {0} from this browser","primaryauth.newUser.tooltip.close":"Close","oktaVerify.description":"To access this resource, your organization requires you to sign in with Okta FastPass.","oktaVerify.appDescription":"To access {0}, your organization requires you to sign in with Okta FastPass.","oktaVerify.button":"Sign in with Okta FastPass","signinWithWebAuthn.button":"Sign in with security key or biometrics","idpDiscovery.email.placeholder":"Email","password.forgot.email.or.username.placeholder":"Email or Username","password.forgot.email.or.username.tooltip":"Email or Username","password.forgot.sendText":"Reset via SMS","password.forgot.sendEmail":"Reset via Email","password.forgot.call":"Reset via Voice Call","password.forgot.emailSent.title":"Email sent!","password.forgot.emailSent.desc":"Email has been sent to {0} with instructions on resetting your password.","password.forgot.question.title":"Answer Forgotten Password Challenge","password.forgot.question.submit":"Reset Password","password.forgot.code.notReceived":"Didn't receive a code? Reset via email","password.forgot.noFactorsEnabled":"No password reset options available. Please contact your administrator.","password.reset.title":"Reset your Okta password","password.reset.title.generic":"Reset your password","password.reset.title.specific":"Reset your {0} password","password.complexity.requirements":"Password requirements: {0}.","password.complexity.history":"Your password cannot be any of your last {0} password(s).","password.complexity.minAgeMinutes":"At least {0} minute(s) must have elapsed since you last changed your password.","password.complexity.minAgeHours":"At least {0} hour(s) must have elapsed since you last changed your password.","password.complexity.minAgeDays":"At least {0} day(s) must have elapsed since you last changed your password.","password.reset.verification":"Verify with one of the following factors to reset your password.","password.reset.revokeSessions":"Sign me out of all other devices.","password.complexity.length":"at least {0} characters","password.complexity.list.element":", {0}","password.complexity.lowercase":"a lowercase letter","password.complexity.uppercase":"an uppercase letter","password.complexity.number":"a number","password.complexity.symbol":"a symbol","password.complexity.no_username":"no parts of your username","password.complexity.no_first_name":"does not include your first name","password.complexity.no_last_name":"does not include your last name","password.complexity.adRequirements":"at least 3 of the following: lowercase letter, uppercase letter, number, symbol","password.complexity.requirements.header":"Password requirements:","password.complexity.length.description":"At least {0} characters","password.complexity.lowercase.description":"A lowercase letter","password.complexity.uppercase.description":"An uppercase letter","password.complexity.number.description":"A number","password.complexity.symbol.description":"A symbol","password.complexity.no_username.description":"No parts of your username","password.complexity.no_first_name.description":"Does not include your first name","password.complexity.no_last_name.description":"Does not include your last name","password.complexity.history.one.description":"Password can't be the same as your last password","password.complexity.adRequirements.description":"At least 3 of the following: lowercase letter, uppercase letter, number, symbol","password.complexity.history.description":"Password can't be the same as your last {0} passwords","password.complexity.minAgeMinutes.description":"At least {0} minute(s) must have elapsed since you last changed your password","password.complexity.minAgeHours.description":"At least {0} hour(s) must have elapsed since you last changed your password","password.complexity.minAgeDays.description":"At least {0} day(s) must have elapsed since you last changed your password","password.expired.submit":"Change Password","password.expired.title":"Your Okta password has expired","password.expired.title.generic":"Your password has expired","password.expired.title.specific":"Your {0} password has expired","password.expiring.later":"Remind me later","password.expiring.title":"Your password will expire in {0} days","password.expiring.today":"Your password will expire later today","password.expiring.soon":"Your password is expiring soon","password.expiring.subtitle":"When password expires you may be locked out of Okta Mobile, mobile email, and other services.","password.expiring.subtitle.generic":"When password expires you will be locked out of your account.","password.expiring.subtitle.specific":"When password expires you will be locked out of your {0} account.","password.expired.custom.submit":"Go to {0}","password.expired.custom.subtitle":"This password is set on another website. Click the button below to go there and set a new password.","password.expiring.soon.subtitle.generic":"When password expires you will be locked out of your account. This password is set on another website. Click the button below to go there and set a new password.","password.expiring.soon.subtitle.specific":"When password expires you will be locked out of your {0} account. This password is set on another website. Click the button below to go there and set a new password.","hcaptcha.footer.label":"This site is protected by hCaptcha and its <$1>Privacy Policy</$1> and <$2>Terms of Service</$2> apply.","account.unlock.title":"Unlock account","account.unlock.email.or.username.placeholder":"Email or username","account.unlock.email.or.username.tooltip":"Email or username","account.unlock.sendText":"Send SMS","account.unlock.voiceCall":"Voice Call","account.unlock.sendEmail":"Send Email","account.unlock.emailSent.title":"Email sent!","account.unlock.emailSent.desc":"Email has been sent to {0} with instructions on unlocking your account.","account.unlock.question.title":"Answer Unlock Account Challenge","account.unlock.question.submit":"Unlock Account","account.unlock.unlocked.title":"Account successfully unlocked!","account.unlock.unlocked.desc":"You can log in using your existing username and password.","account.unlock.code.notReceived":"Didn't receive a code? Unlock via email","account.unlock.noFactorsEnabled":"No unlock options available. Please contact your administrator.","account.unlock.authenticatorRequired.single":"To unlock your account, select the following authenticator.","account.unlock.authenticatorRequired.multiple":"To unlock your account, select one of the following authenticators.","contact.support":"If you didn't provide a secondary email address or don't have access to email, please contact your administrator at {0}","customauth.sign.in.with.label":"Sign in with {0}","socialauth.divider.text":"OR","socialauth.facebook.label":"Sign in with Facebook","socialauth.google.label":"Sign in with Google","socialauth.linkedin.label":"Sign in with LinkedIn","socialauth.microsoft.label":"Sign in with Microsoft","socialauth.apple.label":"Sign in with Apple","socialauth.github.label":"Sign in with GitHub","socialauth.gitlab.label":"Sign in with GitLab","socialauth.yahoo.label":"Sign in with Yahoo","socialauth.line.label":"Sign in with LINE","socialauth.paypal.label":"Sign in with PayPal","socialauth.paypal_sandbox.label":"Sign in with PayPal Sandbox","socialauth.salesforce.label":"Sign in with Salesforce","socialauth.amazon.label":"Sign in with Amazon","socialauth.yahoojp.label":"Sign in with Yahoo Japan","socialauth.discord.label":"Sign in with Discord","socialauth.adobe.label":"Sign in with Adobe","socialauth.orcid.label":"Sign in with ORCiD","socialauth.spotify.label":"Sign in with Spotify","socialauth.xero.label":"Sign in with Xero","socialauth.quickbooks.label":"Sign in with Quickbooks","socialauth.popup.title":"External Identity Provider User Authentication","authbutton.divider.text":"or","registration.signup.label":"Don't have an account?","registration.signup.text":"Sign up","registration.complete.title":"Verification email sent","registration.complete.confirm.text":"To finish signing in, check your email.","registration.form.title":"Create Account","registration.form.submit":"Register","registration.passwordComplexity.minLength":"At least {0} character(s)","registration.passwordComplexity.minLower":"At least {0} lowercase letter(s)","registration.passwordComplexity.minUpper":"At least {0} uppercase letter(s)","registration.passwordComplexity.minNumber":"At least {0} number(s)","registration.passwordComplexity.minSymbol":"At least {0} symbol(s)","registration.passwordComplexity.excludeUsername":"Does not contain part of username","registration.passwordComplexity.excludeAttribute":"Does not contain '{0}'","registration.required.fields.label":"* indicates required field","registration.default.callbackhook.error":"We could not process your registration at this time. Please try again later.","registration.error.userName.invalidEmail":"Invalid email address","registration.error.password.passwordRequirementsNotMet":"Password requirements were not met","registration.error.password.passwordRequirementsNotMet.prefix":"Password requirements were not met:","registration.error.userName.notUniqueWithinOrg":"An account with that {0} already exists","registration.error.notUniqueWithinOrg.Email":"A user with this Email already exists","registration.error.notUniqueWithinOrg.custom":"A user with this {0} already exists","registration.error.invalidLoginEmail.Email":"'Email' must be in the form of an email address","registration.error.invalidLoginEmail.custom":"'{0}' must be in the form of an email address","registration.error.doesNotMatchPattern.Email":"Provided value for property 'Email' does not match required pattern","registration.error.doesNotMatchPattern.custom":"Provided value for property '{0}' does not match required pattern","registration.error.generic":"There was an error creating your account. Please try registering again.","registration.error.request.not.completed":"Your request could not be completed. Try again later.","registration.model.validation.field.string.too.short":"Please enter something at least {0} characters long","registration.model.validation.field.string.too.long":"Please enter something shorter than {0} characters","piv.card":"PIV Card","piv.card.insert":"Please insert your PIV card and select the user certificate.","piv.card.error":"Certificate authentication failed. Contact your admin.","piv.card.error.empty":"No certificate selected. Choose a certificate and try again.","piv.card.error.invalid":"Certificate validation failed. Choose another certificate and try again.","piv.cac.card":"Sign in with PIV / CAC card","piv.cac.title":"PIV / CAC card","piv.cac.card.insert":"Please insert your PIV / CAC card and select the user certificate.","piv.cac.error":"There was an error signing in. Click the button below to try again.","unsupported.oneDrive.title":"Your OneDrive version is not supported","unsupported.oneDrive.desc":"Upgrade now by installing the OneDrive for Business Next Generation Sync Client to login to Okta","unsupported.oneDrive.action":"Learn how to upgrade","unsupported.cookies.title":"Cookies are required","unsupported.cookies.desc":"Cookies are disabled on your browser. Please enable Cookies and refresh this page.","unsupported.cookies.action":"Refresh","deviceTrust.sso.text":"Sign in to access company resources","deviceTrust.sso.subtitle.2":"Your company uses Okta Mobile to get you approved to access this app.","deviceTrust.sso.button":"Sign in with Okta Mobile","deviceTrust.sso.expire.title":"Oops let's get you back on track","deviceTrust.sso.redirectText":"Verifying your identity","deviceTrust.sso.expire.subtitle":"Unfortunately the steps required to sign in took longer than expected and your attempt timed out.","deviceTrust.sso.expire.button":"Sign in using Okta Mobile","deviceTrust.universalLink.fallback.getOktaMobile.title":"Get Okta Mobile","deviceTrust.universalLink.fallback.getOktaMobile.subtitle":"Go to the {0}AppStore{1}, {0}search{1} for {0}Okta Mobile{1} and tap on {0}GET{1} Okta Mobile. Once installed, sign in to Okta Mobile and follow the instructions to secure your device.","core.auth.factor.signedNonce.error.invalidDevice":"Your device or account was invalidated. If this is unexpected, contact your administrator for help.","core.auth.factor.signedNonce.error":"Your device or account was invalidated. Re-enroll your account on Okta Verify and try again.","user.fail.verifyIdentity":"Couldnâ€™t verify your identity","loopback.polling.cancel.link":"Cancel and take me to sign in","loopback.polling.cancel.link.with.form.error":"Take me to sign in","customUri.subtitle":"Launching Okta Verify...","customUri.content":'<div class="skinny-content"> If nothing prompts from the browser, <a href="#" id="launch-ov" class="link">click here</a> to launch Okta Verify, or make sure Okta Verify is installed.</div>',"customUri.title":'Click "Open Okta Verify" on the browser prompt',"customUri.required.content.prompt":"Didnâ€™t get a prompt?","customUri.required.content.download.title":"Donâ€™t have Okta Verify?","customUri.required.content.download.linkText":"Download here","customUri.required.content.button":"Launch Okta Verify","universalLink.title":"Sign in with Okta FastPass","universalLink.content":"If Okta Verify did not open automatically, tap Open Okta Verify.","appLink.title":"Sign in with Okta FastPass","appLink.content":"If Okta Verify did not open automatically, tap Open Okta Verify.","oktaVerify.open.button":"Open Okta Verify","oktaVerify.reopen.button":"Reopen Okta Verify","consent.required.text":"<b>{0}</b> would like to access:","consent.required.description":"By clicking Allow Access, you allow the actions listed above.","consent.required.termsOfService":"Terms of Service","consent.required.privacyPolicy":"Privacy Policy","consent.required.consentButton":"Allow Access","consent.required.cancelButton":"Don't Allow","granular.consent.scopes.title":"<$1>{0}</$1> <$2>wants to access your account</$2>","granular.consent.scopes.description":"Allowing access will share","admin.consent.group.user.group":"User and groups","admin.consent.group.resource.policy":"Resource and policies","admin.consent.group.hook":"Hooks","admin.consent.group.system":"System","polling.title":"There are too many users trying to sign in right now. We will automatically retry in {0} seconds.","poll.form.title":"Unable to complete your request","poll.form.message":"We will automatically retry in <$1>{0}</$1> seconds.","cert.authentication.title":"Certificate authentication","common.logo.alt":"aria logo","oie.authenticator.enroll.error.fail":"Unable to enroll authenticator. Try again.","oie.authenticator.verify.error.fail":"Unable to verify authenticator. Try again.","oie.configuration.error":"Something went wrong. Potential misconfiguration detected. Please contact support.","oie.auth.logo.aria.label":"Authenticator logo","oie.challenge.answer.showAnswer":"Show answer","oie.challenge.answer.hideAnswer":"Hide answer","oie.form.field.optional":"Optional","oie.form.field.optional.description":"Fields are required unless marked optional.","oie.password.label":"Password","oie.password.newPasswordLabel":"New password","oie.password.authenticator.description":"Choose a password for your account","oie.password.challenge.title":"Verify with your password","oie.password.enroll.title":"Set up password","oie.password.passwordLabel":"Enter password","oie.password.confirmPasswordLabel":"Re-enter password","oie.password.showPassword":"Show password","oie.password.showConfirmPassword":"Show re-entered password","oie.password.hidePassword":"Hide password","oie.password.hideConfirmPassword":"Hide re-entered password","oie.password.reset.verification":"Verify with one of the following security methods to reset your password.","idx.password.expiring.message":"When your password expires, you will have to change your password before you can login to your {0} account.","oie.password.incorrect.message":"Password is incorrect","oie.selfservice.reset.password.not.allowed":"Reset password is not allowed at this time. Please contact support for assistance.","password.common":"This password was found in a list of commonly used passwords. Please try another password.","idx.recovery.completed":"You can now sign in with your existing username and new password.","oie.phone.label":"Phone","oie.phone.authenticator.description":"Verify with a code sent to your phone","oie.phone.enroll.sms.label":"SMS","oie.phone.enroll.voice.label":"Voice call","oie.phone.enroll.title":"Set up phone authentication","oie.phone.enroll.call.subtitle":"Enter your phone number to receive a verification code via voice call.","oie.phone.enroll.sms.subtitle":"Enter your phone number to receive a verification code via SMS.","oie.phone.sms.primaryButton":"Receive a code via SMS","oie.phone.sms.secondaryButton":"Receive an SMS instead","oie.phone.call.primaryButton":"Receive a code via voice call","oie.phone.call.secondaryButton":"Receive a voice call instead","oie.phone.verify.sms.resendText":"Haven't received an SMS?","oie.phone.verify.sms.codeSentText":"A code was sent to","oie.phone.verify.sms.sendText":"Send a code via SMS to","oie.phone.verify.call.sendText":"Send a code via voice call to","oie.phone.verify.call.resendText":"Haven't received a call?","oie.phone.verify.call.resendLinkText":"Call again","oie.phone.verify.sms.resendLinkText":"Send again","oie.phone.verify.enterCodeText":"Enter the code below to verify.","oie.phone.verify.title":"Verify with your phone","oie.phone.alternate.title":"your phone","oie.phone.carrier.charges":"Carrier messaging charges may apply","oie.phone.invalid":"Invalid Phone Number.","oie.phone.verify.sms.sendText.with.phone.with.nickname":"Send a code via SMS to <$1>{0}</$1> <$2>({1})</$2>.","oie.phone.verify.call.sendText.with.phone.with.nickname":"Send a code via voice call to <$1>{0}</$1> <$2>({1})</$2>.","oie.phone.verify.sms.sendText.with.phone.without.nickname":"Send a code via SMS to <$1>{0}</$1>.","oie.phone.verify.call.sendText.with.phone.without.nickname":"Send a code via voice call to <$1>{0}</$1>.","oie.phone.verify.sms.sendText.without.phone":"Send a code via SMS to your phone.","oie.phone.verify.call.sendText.without.phone":"Send a code via voice call to your phone.","oie.phone.verify.sms.codeSentText.with.phone.with.nickname":"A code was sent to <$1>{0}</$1> <$2>({1})</$2>. Enter the code below to verify.","oie.phone.verify.mfa.calling.with.phone.with.nickname":"Calling <$1>{0}</$1> <$2>({1})</$2>. Enter the code below to verify.","oie.phone.verify.sms.codeSentText.with.phone.without.nickname":"A code was sent to <$1>{0}</$1>. Enter the code below to verify.","oie.phone.verify.mfa.calling.with.phone.without.nickname":"Calling <$1>{0}</$1>. Enter the code below to verify.","oie.phone.verify.sms.codeSentText.without.phone":"A code was sent to your phone. Enter the code below to verify.","oie.phone.verify.mfa.calling.without.phone":"Calling your phone. Enter the code below to verify.","oie.email.label":"Email","oie.email.authenticator.description":"Verify with a link or code sent to your email","oie.email.mfa.title":"Verify with your email","oie.email.challenge.mfa.title":"Get a verification email","oie.email.verify.primaryButton":"Send me an email","oie.email.verify.subtitle.text.with.email":'Send a verification email to <$1>{0}</$1> by clicking on "Send me an email".',"oie.email.verify.subtitle.text.with.email.and.secondary.email":'Send a verification email to <$1>{0}</$1> and <$2>{1}</$2> by clicking on "Send me an email".',"oie.email.verify.subtitle.text.without.email":'Send a verification email by clicking on "Send me an email".',"oie.email.verify.alternate.magicLinkToEmailAddress":"We sent an email to <$1>{0}</$1>. ","oie.email.verify.alternate.magicLinkToEmailAddress.with.secondary.email":"We sent an email to <$1>{0}</$1> and <$2>{1}</$2>. ","oie.email.verify.alternate.magicLinkToYourEmail":"We sent you a verification email. ","oie.email.verify.alternate.instructions":"Click the verification link in your email to continue or enter the code below.","oie.email.verify.alternate.show.verificationCode.text":"Enter a verification code instead","oie.email.verify.alternate.verificationCode.instructions":"Enter the verification code in the text box.","oie.email.enroll.subtitle":"Please check your email and enter the code below.","oie.email.return.link.expired.title":"Verify with your email","oie.profile.additional.title":"Additional Profile information","oie.profile.additional.secondemail.subtitle":"Use a second email to <$1> recover your account </$1> in case you become locked out. This email must be verified after setup.","oie.webauthn.label":"Security Key or Biometric Authenticator","oie.webauthn.description":"Use a security key or a biometric authenticator to sign in","oie.enroll.webauthn.title":"Set up security key or biometric authenticator","oie.enroll.webauthn.instructions":"You will be prompted to register a security key or biometric authenticator (Windows Hello, Touch ID, Face ID, etc.). Follow the instructions to complete set up.","oie.enroll.webauthn.uv.required.instructions":"Biometric verification or a PIN is required to setup this authenticator.","oie.enroll.webauthn.instructions.edge":"Note: If you are enrolling a security key and Windows Hello or PIN is enabled, you will need to select 'Cancel' in the prompt before continuing.","oie.enroll.webauthn.save":"Set up","oie.webauthn.error.not.supported":"Security key or biometric authenticator is not supported on this browser. Contact your admin for assistance.","oie.verify.webauth.title":"Verify with Security Key or Biometric Authenticator","oie.verify.webauthn.instructions":"You will be prompted to use a security key or biometric verification (Windows Hello, Touch ID, etc.). Follow the instructions to complete verification.","oie.verify.webauthn.uv.required.instructions":"Biometric verification or a PIN is required to sign in with this authenticator.","oie.verify.webauthn.cant.verify":"Can't verify?","oie.verify.webauthn.cant.verify.biometric.authenticator.title":"Are you trying to use a biometric authenticator?","oie.verify.webauthn.cant.verify.biometric.authenticator.description1":"Biometric authenticators (fingerprint, face recognition, PIN) will only work on the same device on which they were set up.","oie.verify.webauthn.cant.verify.biometric.authenticator.description2":"If available, set up another security method on the device you used to set up your biometric authenticator.","oie.verify.webauthn.cant.verify.security.key.title":"Are you trying to use a security key?","oie.verify.webauthn.cant.verify.security.key.description":"If you have set up a security key, insert it in a USB port when prompted by the browser and tap on the button or gold disk. Security keys can work on multiple devices.","oie.verify.webauthn.cant.verify.enrollment.step1":"Open your Okta Dashboard (e.g. yourcompany.okta.com) on the device you used to setup your security key or biometric authenticator","oie.verify.webauthn.cant.verify.enrollment.step2":"Go to Settings > Security Methods","oie.verify.webauthn.cant.verify.enrollment.step3":'On Okta Verify, click "Set up"',"oie.verify.webauthn.cant.verify.enrollment.step4":"Scan the QR code using Okta Verify and follow instructions to finish enrolling your account","oie.enroll.webauthn.rk.link":'If you haven\'t set up your security key or biometric authentication, you can complete the process after you sign in using <a href="#" class="setup-webauthn-residentkey-link">this link</a>.',"oie.select.authenticator.verify.email.label":"Select Email.","oie.select.authenticator.verify.email.with.email.label":"Select Email - {0}.","oie.select.authenticator.verify.password.label":"Select Password.","oie.select.authenticator.verify.phone.label":"Select Phone.","oie.select.authenticator.verify.phone.with.phone.label":"Select Phone - {0}.","oie.select.authenticator.verify.webauthn.label":"Select Security Key or Biometric Authenticator.","oie.select.authenticator.verify.security.question.label":"Select Security Question.","oie.select.authenticator.okta_verify.totp.label":"Select to enter a code from the Okta Verify app.","oie.select.authenticator.okta_verify.push.label":"Select to get a push notification to the Okta Verify app.","oie.select.authenticator.okta_verify.signed_nonce.label":"Select Okta FastPass.","oie.select.authenticator.verify.okta_verify.label":"Select Okta Verify.","oie.select.authenticator.verify.named.authenticator.label":"Select {0}.","oie.select.authenticator.enroll.email.label":"Set up Email.","oie.select.authenticator.enroll.password.label":"Set up Password.","oie.select.authenticator.enroll.phone.label":"Set up Phone.","oie.select.authenticator.enroll.webauthn.label":"Set up Security Key or Biometric Authenticator.","oie.select.authenticator.enroll.security.question.label":"Set up Security Question.","oie.select.authenticator.enroll.okta_verify.authenticator.label":"Set up Okta Verify.","oie.select.authenticator.enroll.named.authenticator.label":"Set up {0}.","oie.security.question.label":"Security Question","oie.security.question.enroll.title":"Set up security question","oie.security.question.challenge.title":"Verify with your Security Question","oie.security.question.questionKey.label":"Choose a security question","oie.security.question.createQuestion.label":"Create my own security question","oie.security.question.authenticator.description":"Choose a security question and answer that will be used for signing in","securityQuestion.answer.tooShort.arg":"The security question answer must be at least {0} characters in length","oie.okta_verify.label":"Okta Verify","oie.enroll.okta_verify.setup.subtitle":"To continue, you'll need an Okta Verify account on this device.","oie.enroll.okta_verify.setup.download":"If you don't have Okta Verify installed, <$1>download the app</$1>.","oie.enroll.okta_verify.setup.openOv":"Open Okta Verify and follow the steps to add your account.","oie.enroll.okta_verify.setup.signInUrl":"When prompted, choose Sign In, then enter the sign-in URL:","oie.enroll.okta_verify.setup.instructions":"Follow the instructions to set up Okta Verify on this device, then return here and refresh this page.","oie.okta_verify.authenticator.description":"Okta Verify is an authenticator app, installed on your phone or computer, used to prove your identity","oie.enroll.okta_verify.setup.title":"Set up Okta Verify","oie.enroll.okta_verify.setup.email.title":"Check your email","oie.enroll.okta_verify.setup.sms.title":"Check your text messages","oie.enroll.okta_verify.setup.skipAuth.subtitle":"To set up Okta Verify on additional devices, you can copy an existing Okta Verify account onto a new device.","oie.enroll.okta_verify.setup.skipAuth.openOv":"Open Okta Verify on any of your other Okta Verify devices (<$1>{0}</$1>).","oie.enroll.okta_verify.setup.skipAuth.openOv.suchAs":"Open Okta Verify on any of your other Okta Verify devices (Such as your <$1>{0}</$1>).","oie.enroll.okta_verify.setup.skipAuth.selectAccount":"In the app, select your account.","oie.enroll.okta_verify.setup.skipAuth.addAccount":"Choose <$1>Add Account to Another Device.</$1>","oie.enroll.okta_verify.setup.skipAuth.followInstruction":"Follow the rest of the instructions shown in Okta Verify.","oie.enroll.okta_verify.setup.skipAuth.canBeClosed":"This screen can be closed at any time.","oie.enroll.okta_verify.setup.customUri.makeSureHaveOVToContinue":"To continue, make sure you have the Okta Verify app.","oie.enroll.okta_verify.setup.customUri.setup":"Once Okta Verify is installed, return to this page and tap <$1>Set up Okta Verify</$1>.","oie.enroll.okta_verify.setup.customUri.prompt":'Click <$1>"Open Okta Verify"</$1> on the browser prompt to set up Okta Verify.',"oie.enroll.okta_verify.setup.customUri.noPrompt":"<$1>Didn't see the prompt?</$1>","oie.enroll.okta_verify.setup.customUri.makeSureHaveOV":"Make sure you have Okta Verify installed.","oie.enroll.okta_verify.setup.customUri.orMobile":"Or <$1>set up Okta Verify on another mobile device</$1>","oie.enroll.okta_verify.setup.customUri.orOnMobile":"Or <$1>set up Okta Verify on a mobile device</$1>","oie.enroll.okta_verify.select.channel.description":"Which option do you want to try?","oie.enroll.okta_verify.select.channel.qrcode.label":"Scan a QR code","oie.enroll.okta_verify.select.channel.subtitle":"How would you like to set up Okta Verify?","oie.enroll.okta_verify.select.channel.email.label":"Email me a setup link","oie.enroll.okta_verify.select.channel.sms.label":"Text me a setup link","oie.enroll.okta_verify.select.channel.ovOnThisDevice":"Or <$1>set up Okta Verify on this device</$1>","oie.enroll.okta_verify.select.channel.title":"More options","oie.enroll.okta_verify.select.channel.title.updated":"Set up Okta Verify on another mobile device","oie.enroll.okta_verify.channel.email.label":"Email","oie.enroll.okta_verify.enroll.channel.email.title":"Set up Okta Verify via email link","oie.enroll.okta_verify.enroll.channel.email.subtitle":"Make sure you can access the email on the receiving device","oie.enroll.okta_verify.enroll.channel.sms.title":"Set up Okta Verify via SMS","oie.enroll.okta_verify.channel.email.description":"Make sure you can access the email on your mobile device.","oie.enroll.okta_verify.channel.sms.description":"Make sure you can access the text on your mobile device.","oie.enroll.okta_verify.channel.sms.description.updated":"Make sure you can access the text on the receiving device","oie.enroll.okta_verify.qrcode.title":"Set up Okta Verify via QR code","oie.enroll.okta_verify.qrcode.step1":"On your mobile device, download the Okta Verify app from the App Store (iPhone and iPad) or Google Play (Android devices).","oie.enroll.okta_verify.qrcode.step1.updated":"On your other device, download the Okta Verify app from the App StoreÂ® (iPhoneÂ® and iPadÂ®) or on Google Play (AndroidÂ® devices).","oie.enroll.okta_verify.qrcode.step2":"Open the app and follow the instructions to add your account","oie.enroll.okta_verify.qrcode.step3.updated":"When prompted, tap <$1>Scan a QR code</$1>, then scan the QR code below:","oie.enroll.okta_verify.qrcode.step3":"When prompted, tap Scan a QR code, then scan the QR code below:","oie.enroll.okta_verify.qrcode.cannotScan":"Can't scan?","oie.enroll.okta_verify.switch.channel.link.text":'Or <a href="#" class="switch-channel-link">try a different way</a> to set up Okta Verify.',"oie.enroll.okta_verify.email.info":'We sent an email to <span class="strong">{0}</span> with an Okta Verify setup link. To continue, open the link on your mobile device.',"oie.enroll.okta_verify.email.info.updated":"We sent an email to <$1>{0}</$1> with an Okta Verify setup link. To continue, open the link on your receiving device.","oie.enroll.okta_verify.email.notReceived":'Havenâ€™t received an email? Check your spam folder or <a href="#" class="resend-link">send again</a>',"oie.enroll.okta_verify.sms.info":'We sent an SMS to <span class="strong">{0}</span> with an Okta Verify setup link. To continue, open the link on your mobile device.',"oie.enroll.okta_verify.sms.info.updated":"We sent an SMS to <$1>{0}</$1> with an Okta Verify setup link. To continue, open the link on your receiving device.","oie.enroll.okta_verify.sms.notReceived":'Havenâ€™t received an SMS? <a href="#" class="resend-link">Send again</a>',"oie.enroll.okta_verify.setupLink":"Send me the setup link","oie.okta_verify.totp.title":"Enter a code","oie.okta_verify.totp.enterCodeText":"Enter code from Okta Verify app","oie.okta_verify.push.title":"Get a push notification","oie.okta_verify.push.sent":"Push notification sent","oie.okta_verify.push.resend":"Resend push notification","oie.okta_verify.sendPushButton":"Send push","oie.okta_verify.signed_nonce.label":"Use Okta FastPass","oie.okta_verify.enroll.force.upgrade.title":"Update Okta Verify","oie.authenticator.app.non_fips_compliant_enrollment_device_incompatible":"The device used to set up Okta Verify does not meet your organizationâ€™s security requirements because it is not FIPS compliant. Contact your administrator for help.","oie.authenticator.app.non_fips_compliant_enrollment_app_update_required":"The Okta Verify version on the device used does not meet your organizationâ€™s security requirements. To add your account, update Okta Verify to the latest version, then try again.","oie.authenticator.app.method.push.verify.enable.biometrics":"Your response was received, but your organization requires biometrics. Make sure your device supports biometrics, Okta Verify is up-to-date and biometrics are enabled for your account in Okta Verify, then try again.","oie.authenticator.app.method.push.verify.enable.biometrics.title":"Enable biometrics in Okta Verify","oie.authenticator.app.method.push.verify.enable.biometrics.description":"Your response was received, but your organization requires biometrics. Make sure you meet the following requirements, then try again:","oie.authenticator.app.method.push.verify.enable.biometrics.point1":"Your device supports biometrics","oie.authenticator.app.method.push.verify.enable.biometrics.point2":"Okta Verify is up-to-date","oie.authenticator.app.method.push.verify.enable.biometrics.point3":"In Okta Verify, biometrics are enabled for your account","oie.authenticator.app.method.push.enroll.enable.biometrics":"Your organization requires biometrics. To proceed, ensure your device supports biometrics, then add your account and enable biometrics when prompted.","oie.authenticator.app.method.push.enroll.enable.biometrics.title":"Enable biometrics to add an account in Okta Verify","oie.authenticator.oktaverify.method.totp.verify.enable.biometrics":"Your response was received, but your organization requires biometrics. Make sure your device supports biometrics, Okta Verify is up-to-date and biometrics are enabled for your account in Okta Verify, then try again.","oie.authenticator.oktaverify.method.totp.verify.enable.biometrics.title":"Enable biometrics in Okta Verify","oie.authenticator.oktaverify.method.totp.verify.enable.biometrics.description":"Your response was received, but your organization requires biometrics. Make sure you meet the following requirements, then try again:","oie.authenticator.oktaverify.method.totp.verify.enable.biometrics.point1":"Your device supports biometrics","oie.authenticator.oktaverify.method.totp.verify.enable.biometrics.point2":"Okta Verify is up-to-date","oie.authenticator.oktaverify.method.totp.verify.enable.biometrics.point3":"In Okta Verify, biometrics are enabled for your account","oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.mobile":"Your response was received, but your organization requires biometrics. Make sure your device supports biometrics, Okta Verify is up-to-date and biometrics are enabled for your account in Okta Verify, then try again.","oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.desktop":"Your response was received, but your organization requires biometrics. Make sure your device supports biometrics, Okta Verify is up-to-date, biometrics are enabled for your account in Okta Verify and your device's biometric sensors are accessible, then try again.","oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.title":"Biometrics needed for Okta Verify","oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.description":"Your response was received, but your organization requires biometrics. Make sure you meet the following requirements, then try again:","oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point1":"Your device supports biometrics","oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point2":"Okta Verify is up-to-date","oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point3":"In Okta Verify, biometrics are enabled for your account","oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point4":"Your device's biometric sensors are accessible","oie.google_authenticator.label":"Google Authenticator","oie.google_authenticator.authenticator.description":"Enter a temporary code generated from the Google Authenticator app.","oie.enroll.google_authenticator.setup.title":"Set up Google Authenticator","oie.enroll.google_authenticator.scanBarcode.title":"Scan QR code","oie.enroll.google_authenticator.scanBarcode.description":'Launch Google Authenticator, tap the "+" icon, then select "Scan a QR code".',"oie.enroll.google_authenticator.scanBarcode.cannotScan":"Can't scan?","oie.enroll.google_authenticator.cannotScanBarcode.title":"Can't scan QR code?","oie.enroll.google_authenticator.manualSetupInstructions":"To set up manually enter your Okta Account username and then input the following in the Secret Key Field","oie.enroll.google_authenticator.enterCode.title":"Enter code displayed from application","oie.verify.google_authenticator.otp.title":"Verify with Google Authenticator","oie.verify.google_authenticator.otp.description":"Enter the temporary code generated in your Google Authenticator app","oie.google_authenticator.otp.enterCodeText":"Enter code","oie.verify.custom_otp.title":"Verify with {0}","oie.verify.custom_otp.description":"Enter the code generated on your authenticator and verify.","oie.custom_otp.description":"Enter a temporary code generated from an authenticator device.","oie.custom_otp.authenticator.default.vendorName":"Custom OTP Authenticator","oie.custom_otp.verify.passcode.label":"Enter code","oie.verify.custom_app.title":"Verify with {0}","oie.custom_app.push.sent":"Push notification sent","oie.custom_app.push.resend":"Resend push notification","oie.custom_app.push.warning":"Haven't received a push notification yet? Try opening {0} on your phone.","oie.authenticator.custom_app.method.push.verify.enable.biometrics":"Your response was received, but your organization requires biometricsâ€”like a fingerprint or facial scanâ€”for access. Make sure your device meets the following requirements, then try again:","oie.authenticator.custom_app.method.push.verify.enable.biometrics.title":"Enable biometrics in {0}","oie.authenticator.custom_app.method.push.verify.enable.biometrics.description":"Your response was received, but your organization requires biometricsâ€”like a fingerprint or facial scanâ€”for access. Make sure your device meets the following requirements, then try again:","oie.authenticator.custom_app.method.push.verify.enable.biometrics.point1":"Your device supports biometrics","oie.authenticator.custom_app.method.push.verify.enable.biometrics.point2":"{0} is up-to-date","oie.authenticator.custom_app.method.push.verify.enable.biometrics.point3":"In {0}, biometrics are enabled for your account","oie.custom_app.sendPushButton":"Send push","oie.custom_app.push.title":"Get a push notification","oie.on_prem.authenticator.description":"Verify by entering a code generated by {0}.","oie.on_prem.authenticator.default.vendorName":"Custom On-prem Authenticator","oie.on_prem.enroll.title":"Set up {0}","oie.on_prem.verify.title":"Verify with {0}","oie.numberchallenge.warning":"Haven't received a push notification yet? Try opening the Okta Verify app on your device, or <$1>resend the push notification</$1>.","oie.numberchallenge.instruction":"On your mobile device, open the Okta Verify prompt, then tap <$1>{0}</$1> in Okta Verify to continue.","oie.numberchallenge.force.upgrade.title":"Update Okta Verify","oie.authenticator.app.method.push.force.upgrade.number_challenge":"Your response was received, but your Okta Verify version is no longer supported by your organization. To verify your identity with push notifications, update Okta Verify to the latest version, then try again.","oie.rsa.authenticator.description":"Verify by entering a code generated by RSA SecurID","oie.duo.authenticator.description":"Verify your identity using Duo Security.","oie.duo.enroll.title":"Set up Duo Security","oie.duo.verify.title":"Verify with Duo Security","oie.duo.iFrameError":"Error loading Duo. Try again or contact your admin for assistance.","oie.authenticator.duo.error":"We were unable to verify with Duo. Try again.","oie.idp.authenticator.description":"Redirect to verify with {0}.","oie.idp.enroll.title":"Set up {0}","oie.idp.enroll.description":"You will be redirected to enroll in {0}","oie.idp.challenge.title":"Verify with {0}","oie.idp.challenge.description":"You will be redirected to verify with {0}","idx.identity.provider.auth.error":"There was a problem signing you into your identity provider. Please contact your administrator for help.","oie.symantecVip.authenticator.description":"Verify by entering a temporary code from the {0} app.","oie.symantecVip.enroll.title":"Set up {0}","oie.symantecVip.enroll.description":"From the {0} app, enter your credential ID and two consecutive generated codes","oie.symantecVip.challenge.title":"Verify with {0}","oie.symantecVip.challenge.description":"Enter the generated security code from the {0} app.","oie.symantecVip.verify.passcode.label":"Enter security code","oie.yubikey.label":"YubiKey Authenticator","oie.yubikey.authenticator.description":"Verify your identity using YubiKey","oie.yubikey.enroll.title":"Set up YubiKey","oie.yubikey.challenge.title":"Verify with YubiKey","oie.yubikey.description":"Use your YubiKey to insert a verification code.","oie.yubikey.passcode.label":"Insert then tap your YubiKey","oie.custom.app.authenticator.title":"Get a push notification","oie.custom.app.authenticator.description":"{0} is an authenticator app, installed on your phone, used to prove your identity","oie.smartcard.authenticator.description":"Use a physical smart card, such as PIV or CAC, to sign in","oie.select.authenticators.enroll.title":"Set up security methods","oie.select.authenticators.enroll.subtitle":"Security methods help protect your account by ensuring only you have access.","oie.select.authenticators.enroll.subtitle.custom":"Security methods help protect your {0} account by ensuring only you have access.","oie.setup.required":"Set up required","oie.setup.optional":"Set up optional","oie.optional.authenticator.button.title":"Continue","oie.verify.authenticator.button.text":"Select","oie.enroll.authenticator.button.text":"Set up","oie.enroll.authenticator.usage.text.access.recovery":"Used for access or recovery","oie.enroll.authenticator.usage.text.recovery":"Used for recovery","oie.enroll.authenticator.usage.text.access":"Used for access","oie.select.authenticators.verify.title":"Verify it's you with a security method","oie.select.authenticators.verify.subtitle":"Select from the following options","oie.success.text.signingIn":"Signing in","oie.success.text.signingIn.with.ellipsis":"Signing in...","oie.success.text.signingIn.with.appName":"Signing in to {0}","oie.success.text.signingIn.with.appName.android.ov.enrollment":'To continue, tap "Open Okta Verify"',"oie.success.text.signingIn.with.appName.and.identifier":"Signing in to {0} as {1}","oie.go.back":"Go back","oie.enroll.switch.authenticator":"Return to authenticator list","oie.enroll.skip.setup":"Skip set up","oie.enroll.skip.profile":"Skip Profile","oie.verification.switch.authenticator":"Verify with something else","oie.remember":"Keep me signed in","oie.try.again":"Try again","enroll.title.oda":"Download Okta Verify","enroll.title.oda.with.account":"Additional setup required to use Okta FastPass","enroll.title.oda.without.account":"Set up an Okta Verify account","enroll.title.mdm":"Additional setup required","enroll.subtitle.fastpass":"On this device, do you already have an Okta Verify account for {0}?","enroll.option.noaccount.fastpass":"No, I donâ€™t have an account","enroll.option.account.fastpass":"Yes, I already have an account","enroll.explanation.p1":"To sign in using Okta Verify, you will need to set up Okta Verify on this device.","enroll.explanation.p2":'In the app, follow the instructions to add an organizational account. When prompted, choose <span class="semi-strong">Sign In</span>, then enter the <span class="semi-strong">sign-in URL</span>:',"enroll.oda.android.step1":"On Google Play, download the Okta Verify app.","enroll.oda.step1":"Open Okta Verify and follow the steps to add your account.","enroll.oda.step2":"When prompted, choose Sign In, then enter the sign-in URL:","enroll.oda.step3":"Download the Okta Verify app.","enroll.oda.step6":"Finish setting up your account in Okta Verify, then try accessing this app again.","enroll.oda.with.account.explanation":"Okta FastPass is a security method that can sign you in without needing your username.","enroll.oda.with.account.subtitile1":"Already have Okta FastPass enabled for your account?","enroll.oda.with.account.subtitile2":"Need to set up Okta FastPass for your account?","enroll.oda.with.account.step1":"Make sure your Okta Verify is up-to-date, then try signing in again.","enroll.oda.with.account.step2":"If your device has a work profile, make sure you are signing in from the same profile that Okta Verify is installed in.","enroll.oda.with.account.step3":"On certain browsers and applications, Okta FastPass is not supported.","enroll.oda.with.account.step4":"On this device, open the Okta Verify app.","enroll.oda.with.account.step5":"On the list of accounts, tap your account for {0}.","enroll.oda.with.account.step6":"Under the â€œOkta FastPassâ€ section, tap Setup, then follow the instructions.","enroll.oda.with.account.step7":"After your setup is complete, return here to try signing in again.","enroll.oda.without.account.explanation":"To sign in with Okta FastPass, youâ€™ll need to set up Okta Verify on this device.","enroll.oda.without.account.step1":'If you donâ€™t have Okta Verify installed, <a href="{0}" target="_blank" class="download-ov-link" id="download-ov">download the app.</a>',"enroll.oda.without.account.step4":"Finish setting up your account in Okta Verify, then try signing in again.","enroll.appleStore":"the App Store","enroll.googleStore":"Google Play","enroll.copy.ios":"AppleÂ®, App Store, and the Apple logo are trademarks of Apple Inc.","enroll.copy.android":"Google Play and the Google Play logo are trademarks of Google LLC.","enroll.explanation.mdm":"To access this app, your device needs to meet your organization's security requirements. Follow the instructions below to continue.","enroll.oda.org.copyLink":"Copy sign-in URL to clipboard","enroll.oda.org.copyLink.success":"Sign-in URL copied.","enroll.mdm.copyLink":"Copy link to clipboard","enroll.mdm.copyLink.success":"Link copied.","enroll.mdm.step.copyLink":"Tap the Copy Link button below.","enroll.mdm.step.pasteLink":"On this device, open your browser, then paste the copied link into the address bar.","enroll.mdm.step.followInstructions":"Follow the instructions in your browser to set up <$1>{0}</$1>.","enroll.mdm.step.relogin":"Logout and re-login and then try accessing the app again.","oie.safe.mode.title":"Authenticator set up unavailable","idx.error.server.safe.mode.enrollment.unavailable":"Set up is temporarily unavailable due to server maintenance. Try again later.","oie.primaryauth.submit":"Sign in","oie.registration.form.title":"Sign up","oie.registration.form.submit":"Sign Up","oie.registration.form.update.submit":"Submit","oie.registration.form.customize.label":"{0}","oie.registration.form.customize.buttonLabel":"{0}","oie.user.profile.login":"Username","oie.user.profile.lastname":"Last name","oie.user.profile.firstname":"First name","oie.user.profile.primary.email":"Email","oie.user.profile.secondary.email":"Secondary email","oie.user.profile.middleName":"Middle name","oie.user.profile.honorificPrefix":"Honorific prefix","oie.user.profile.honorificSuffix":"Honorific suffix","oie.user.profile.primaryEmail":"Primary email","oie.user.profile.title":"Title","oie.user.profile.displayName":"Display name","oie.user.profile.nickName":"Nickname","oie.user.profile.profileUrl":"Profile URL","oie.user.profile.mobilePhone":"Mobile phone","oie.user.profile.primaryPhone":"Primary phone","oie.user.profile.streetAddress":"Street address","oie.user.profile.city":"City","oie.user.profile.state":"State","oie.user.profile.zipCode":"ZIP Code","oie.user.profile.postalCode":"Postal code","oie.user.profile.countryCode":"Country code","oie.user.profile.postalAddress":"Postal address","oie.user.profile.preferredLanguage":"Preferred language","oie.user.profile.locale":"Locale","oie.user.profile.timezone":"Time zone","oie.user.profile.userType":"User type","oie.user.profile.employeeNumber":"Employee number","oie.user.profile.costCenter":"Cost center","oie.user.profile.organization":"Organization","oie.user.profile.division":"Division","oie.user.profile.department":"Department","oie.user.profile.managerId":"Manager ID","oie.user.profile.manager":"Manager","oie.selfservice.unlock_user.landing.to.app.success.message":"Account successfully unlocked! Verify your account with a security method to continue.","oie.selfservice.unlock_user.landing.to.app.signing.in.message":"Account successfully unlocked!","oie.selfservice.unlock_user.success.message":"You can log in using your existing username and password.","oie.selfservice.unlock_user.failed.message":"We are unable to unlock your account at this time, please contact your administrator","oie.selfservice.user.unlock.not.allowed":"Self Service Unlock is not allowed at this time. Please contact support for assistance.","oie.kmsi.title":"Keep me signed in","oie.kmsi.subtitle":"Sign in and enter security methods less frequently.","oie.kmsi.accept":"Stay signed in","oie.kmsi.reject":"Don't stay signed in","idx.session.expired":"You have been logged out due to inactivity. Refresh or return to the sign in screen.","oie.registration.is.not.enabled":"Sign up is not enabled for this organization.","oie.forgot.password.is.not.enabled":"Forgot password is not enabled for this organization.","idx.return.error":"Could not process this email link. Return to the screen where you requested it.","idx.return.stale":"This email link is out of date. Return to the screen where you requested it.","idx.invalid.forgot.password.token":"Your reset password token is no longer valid.","idx.invalid.reset.password.token":"Your reset password token is no longer valid. Contact your administrator to obtain a new token.","idx.reset.password.activating.user":"Reset password cannot be performed while the user is activating. Contact your administrator to obtain a new token.",tagsNotAllowed:"The field must not contain HTML tags","api.authn.error.PASSCODE_INVALID":"Invalid code. Try again.","oie.feature.disabled":"The requested feature is not enabled in this environment.","authfactor.challenge.suspended_factor":"This factor is suspended for your account due to too many failed attempts","oie.post.password.update.auth.failure.error":"Your password has been updated but there was a problem signing you in. Please try again or contact your administrator.","oie.assurance.unsatisfiable":'Unable to login to "{0}" at this time. For assistance, please contact your administrator.',"errors.E0000150":"You have reached the limit of sms requests, please try again later.","errors.E0000151":"You have reached the limit of call requests, please try again later.","oie.invalid.recovery.token":"The recovery token is invalid.","oie.consent.scopes.admin.title":"would like to access:","oie.consent.scopes.enduser.title":"would like to:","oie.consent.scopes.granular.title":"<$1>{0}</$1> <$2>wants to access</$2>","oie.consent.scopes.granular.description":"Allowing access will share","oie.consent.enduser.accept.label":"Yes, it's me","oie.consent.enduser.deny.label":"No, it's not me","oie.consent.enduser.title":"Did you just try to sign in?","oie.consent.enduser.email.allow.title":"Success! Return to the original tab or window","oie.consent.enduser.email.allow.description":"To continue, please return to the original browser tab or window you used to verify.","oie.consent.enduser.deny.description":"Close this window anytime.","oie.return.to.original.tab":"Close this window anytime.","idx.operation.cancelled.by.user":"Operation cancelled by user.","idx.transferred.to.new.tab":"Flow continued in a new tab.","idx.return.link.expired":"This email link has expired. To resend it, return to the screen where you requested it.","idx.return.link.otponly.your.verification.code":"Your verification code","idx.return.link.otponly.enter.code.on.page":"Enter this code on the {0} page.","idx.return.link.otponly.enter.code.on.page.sign.in":"sign-in","idx.return.link.otponly.enter.code.on.page.password.reset":"password reset","idx.return.link.otponly.enter.code.on.page.account.unlock":"account unlock","idx.return.link.otponly.enter.code.on.page.registration":"sign up","idx.return.link.otponly.enter.code.on.sign.in.page":"Enter this code on the sign-in page.","idx.return.link.otponly.enter.code.on.password.reset.page":"Enter this code on the password reset page.","idx.return.link.otponly.enter.code.on.account.unlock.page":"Enter this code on the account unlock page.","idx.return.link.otponly.enter.code.on.sign.up.page":"Enter this code on the sign up page.","idx.return.link.otponly.request":"Request from:","idx.return.link.otponly.warning.text":"If you didnâ€™t request this code, you can ignore this message. Your account is safe and can only be accessed with this code.","idx.enter.otp.in.original.tab":"Enter the OTP in your original authentication location.","idx.return.link.otponly.app":"{0}","idx.return.link.otponly.browser.on.os":"{0} on {1}","geolocation.formatting.all":"{0}, {1}, {2}","geolocation.formatting.partial":"{0}, {1}","consent.scopes.email.label":"View your email address.","consent.scopes.profile.label":"View your profile information.","consent.scopes.phone.label":"View your phone number.","consent.scopes.address.label":"View your address.","consent.scopes.offlineAccess.label":"Keep you signed in to the app.","consent.scopes.onlineAccess.label":"Keep you signed in to the app.","consent.scopes.deviceSSO.label":"Request device secret.","consent.scopes.openid.desc":"Signals that a request is an OpenID request.","consent.scopes.profile.desc":"The exact data varies based on what profile information you have provided, such as: name, time zone, picture, or birthday.","consent.scopes.email.desc":"This allows the app to view your email address.","consent.scopes.address.desc":"This allows the app to view your address, such as: street address, city, state, and zip code.","consent.scopes.phone.desc":"This allows the app to view your phone number.","consent.scopes.offlineAccess.desc":"This keeps you signed in to the app, even when you are not using it.","consent.scopes.onlineAccess.desc":"This allows the app to access your data only when you are logged in to the application.","consent.scopes.deviceSSO.desc":"This allows you to single sign on between native client applications on your device.","consent.scopes.okta.users.manage.desc":"Allows the app to create new users and to manage all users'' profile and credentials information.","consent.scopes.okta.users.manage.self.desc":"Allows the app to manage the signed-in user''s profile and credentials.","consent.scopes.okta.users.read.desc":"Allows the app to read the existing users'' profiles and credentials.","consent.scopes.okta.users.read.self.desc":"Allows the app to read the signed-in user''s profile and credentials.","consent.scopes.okta.linkedObjects.manage.desc":"Allows the app to manage linked object definitions in your Okta organization.","consent.scopes.okta.linkedObjects.read.desc":"Allows the app to read linked object definitions in your Okta organization.","consent.scopes.okta.myAccount.manage.desc":"Allows the end-user to manage their account profile.","consent.scopes.okta.myAccount.read.desc":"Allows the end-user to read their account profile.","consent.scopes.okta.riskEvents.manage.desc":"Allows the app to publish risk events to your Okta organization.","consent.scopes.okta.clients.manage.desc":"Allows the app to manage clients in your Okta organization.","consent.scopes.okta.clients.read.desc":"Allows the app to read information about clients in your Okta organization.","consent.scopes.okta.clients.register.desc":"Allows the app to create new clients in your Okta organization.","consent.scopes.okta.authorizationServers.manage.desc":"Allows the app to create and manage Authorization Servers in your Okta organization.","consent.scopes.okta.authorizationServers.read.desc":"Allows the app to read information about Authorization Servers in your Okta organization.","consent.scopes.okta.groups.manage.desc":"Allows the app to manage existing groups in your Okta organization.","consent.scopes.okta.groups.read.desc":"Allows the app to read information about groups and their members in your Okta organization.","consent.scopes.okta.groups.register.desc":"Allows the app to create new groups in your Okta organization.","consent.scopes.okta.events.read.desc":"Allows the app to read information about deprecated Events v1 API entries in your Okta organization.","consent.scopes.okta.logs.read.desc":"Allows the app to read information about System Log entries in your Okta organization.","consent.scopes.okta.inlineHooks.manage.desc":"Allows the app to create and manage Inline Hooks in your Okta organization.","consent.scopes.okta.inlineHooks.read.desc":"Allows the app to read information about Inline Hooks in your Okta organization.","consent.scopes.okta.eventHooks.manage.desc":"Allows the app to create and manage Event Hooks in your Okta organization.","consent.scopes.okta.eventHooks.read.desc":"Allows the app to read information about Event Hooks in your Okta organization.","consent.scopes.okta.apps.manage.desc":"Allows the app to create and manage Apps in your Okta organization.","consent.scopes.okta.apps.read.desc":"Allows the app to read information about Apps in your Okta organization.","consent.scopes.okta.schemas.manage.desc":"Allows the app to create and manage Schemas in your Okta organization.","consent.scopes.okta.schemas.read.desc":"Allows the app to read information about Schemas in your Okta organization.","consent.scopes.okta.idps.manage.desc":"Allows the app to create and manage Identity Providers in your Okta organization.","consent.scopes.okta.idps.read.desc":"Allows the app to read information about Identity Providers in your Okta organization.","consent.scopes.okta.roles.manage.desc":"Allows the app to manage administrative role assignments for users in your Okta organization.","consent.scopes.okta.roles.read.desc":"Allows the app to read administrative role assignments for users in your Okta organization.","consent.scopes.okta.policies.manage.desc":"Allows the app to manage policies in your Okta organization.","consent.scopes.okta.policies.read.desc":"Allows the app to read information about policies in your Okta organization.","consent.scopes.okta.orgs.manage.desc":"Allows the app to manage organization-specific details for your Okta organization.","consent.scopes.okta.orgs.read.desc":"Allows the app to read organization-specific details about your Okta organization.","consent.scopes.okta.captchas.manage.desc":"Allows the app to create and manage CAPTCHAs in your Okta organization.","consent.scopes.okta.captchas.read.desc":"Allows the app to read information about CAPTCHAs in your Okta organization.","consent.scopes.okta.sessions.manage.desc":"Allows the app to manage all sessions in your Okta organization.","consent.scopes.okta.sessions.read.desc":"Allows the app to read all sessions in your Okta organization.","consent.scopes.okta.trustedOrigins.manage.desc":"Allows the app to manage all Trusted Origins in your Okta organization.","consent.scopes.okta.trustedOrigins.read.desc":"Allows the app to read all Trusted Origins in your Okta organization.","consent.scopes.okta.templates.manage.desc":"Allows the app to manage all custom templates in your Okta organization.","consent.scopes.okta.templates.read.desc":"Allows the app to read all custom templates in your Okta organization.","consent.scopes.okta.factors.manage.desc":"Allows the app to manage all admin operations for org factors (e.g. activate, deactivate, read).","consent.scopes.okta.factors.read.desc":"Allows the app to read org factors information.","consent.scopes.okta.authenticators.manage.desc":"Allows the app to manage all security methods (e.g. enrollments, reset).","consent.scopes.okta.authenticators.read.desc":"Allows the app to read org security method information.","consent.scopes.okta.authenticators.manage.self.desc":"Allows the app to manage users own security methods (e.g. enrollments, reset).","consent.scopes.idSnapshot.read.desc":"Allows the app to read your identity snapshot attestation.","consent.scopes.idSnapshot.manage.desc":"Allows the app to create and manage your identity snapshot attestation.","logo.for.the.app.alt.text":"Logo for the app","device.code.activate.title":"Activate your device","device.code.activate.subtitle":"Follow the instructions on your device to get an activation code","device.code.activate.label":"Activation Code","device.code.activated.success.title":"Device activated","device.code.activated.error.title":"Device not activated","idx.device.activated":"Follow the instructions on your device for next steps","idx.device.not.activated.consent.denied":"Your device cannot be activated because you did not allow access","idx.device.not.activated.internal.error":"Your device cannot be activated because of an internal error","idx.invalid.device.code":"Invalid code. Try again.","idx.operation.cancelled.on.other.device":"Access denied on other device.","idx.expired.activation.token":"Your account activation link is no longer valid. Request a new activation email below.","idx.missing.activation.token":"This can happen if you have already activated your account, or if the URL you are trying to use is invalid. Contact your administrator for further assistance.","idx.activating.inactive.user":"Your account has been temporarily suspended. Contact your administrator for further assistance.","idx.request.activation.email":"New activation link requested. If your information matches our records, you will receive a new activation link in your inbox soon.","oie.activation.request.email.title.expire":"Activation link has expired","oie.activation.request.email.title.invalid":"Activation link no longer valid","oie.activation.request.email.title.suspended":"Account suspended","oie.activation.request.email.title.submitted":"Request submitted","oie.activation.request.email.button":"Request activation email","oie.browser.error.NotAllowedError":"The operation either timed out or was not allowed.","authfactor.challenge.soft_token.invalid_passcode":"Your code doesn't match our records. Please try again.","authfactor.challenge.soft_token.used_passcode":"Each code can only be used once. Please wait for a new code and try again.","oie.tooManyRequests":"Too many attempts. Try again later.",E0000010:"Server is unable to respond at the moment.","idx.error.registration.unavailable":"Registration is currently unavailable.","idx.error.user.not.assigned.to.app":"User is not assigned to this application.","idx.error.code.user_not_assigned":"You are not allowed to access this app. To request access, contact an admin.","idx.error.code.access_denied.device_assurance.remediation.title":"Your device doesn't meet the security requirements","idx.error.code.access_denied.device_assurance.remediation.explanation_one_rule":"To sign in, make the following updates. Then, access the app again.","idx.error.code.access_denied.device_assurance.remediation.explanation_multiple_rules":"To sign in, pick an option and make the updates. Then, access the app again.","idx.error.code.access_denied.device_assurance.remediation.option_index":"Option {0}:","idx.error.code.access_denied.device_assurance.remediation.android.upgrade_os_version":"Update to Android {0}","idx.error.code.access_denied.device_assurance.remediation.android.upgrade_os_version.at_least":"Update to at least Android {0}","idx.error.code.access_denied.device_assurance.remediation.android.upgrade_os_version.exactly":"Update to exactly Android {0}","idx.error.code.access_denied.device_assurance.remediation.android.upgrade_os_version.one_of_the_following":"Update to one of the following: Android {0}","idx.error.code.access_denied.device_assurance.remediation.android.upgrade_os_version.exactly_one_of_the_following":"Update to exactly one of the following: Android {0}","idx.error.code.access_denied.device_assurance.remediation.android.device_disk_encrypted":"Encrypt your device","idx.error.code.access_denied.device_assurance.remediation.android.use_lock_screen":"Enable lock screen","idx.error.code.access_denied.device_assurance.remediation.android.use_biometric_lock_screen":"Enable lock screen and biometrics","idx.error.code.access_denied.device_assurance.remediation.ios.upgrade_os_version":"Update to iOS {0}","idx.error.code.access_denied.device_assurance.remediation.ios.upgrade_os_version.at_least":"Update to at least iOS {0}","idx.error.code.access_denied.device_assurance.remediation.ios.upgrade_os_version.exactly":"Update to exactly iOS {0}","idx.error.code.access_denied.device_assurance.remediation.ios.upgrade_os_version.one_of_the_following":"Update to one of the following: iOS {0}","idx.error.code.access_denied.device_assurance.remediation.ios.upgrade_os_version.exactly_one_of_the_following":"Update to exactly one of the following: iOS {0}","idx.error.code.access_denied.device_assurance.remediation.ios.use_lock_screen":"Set a passcode for the lock screen","idx.error.code.access_denied.device_assurance.remediation.ios.use_biometric_lock_screen":"Set a passcode for the lock screen and enable Touch ID or Face ID","idx.error.code.access_denied.device_assurance.remediation.macos.upgrade_os_version":"Update to macOS {0}","idx.error.code.access_denied.device_assurance.remediation.macos.upgrade_os_version.at_least":"Update to at least macOS {0}","idx.error.code.access_denied.device_assurance.remediation.macos.upgrade_os_version.exactly":"Update to exactly macOS {0}","idx.error.code.access_denied.device_assurance.remediation.macos.upgrade_os_version.one_of_the_following":"Update to one of the following: macOS {0}","idx.error.code.access_denied.device_assurance.remediation.macos.upgrade_os_version.exactly_one_of_the_following":"Update to exactly one of the following: macOS {0}","idx.error.code.access_denied.device_assurance.remediation.macos.use_lock_screen":"Set a passcode for the lock screen","idx.error.code.access_denied.device_assurance.remediation.macos.device_disk_encrypted":"Turn on FileVault","idx.error.code.access_denied.device_assurance.remediation.windows.upgrade_os_version":"Update to Windows {0}","idx.error.code.access_denied.device_assurance.remediation.windows.upgrade_os_version.at_least":"Update to at least Windows {0}","idx.error.code.access_denied.device_assurance.remediation.windows.upgrade_os_version.exactly":"Update to exactly Windows {0}","idx.error.code.access_denied.device_assurance.remediation.windows.upgrade_os_version.one_of_the_following":"Update to one of the following: Windows {0}","idx.error.code.access_denied.device_assurance.remediation.windows.upgrade_os_version.exactly_one_of_the_following":"Update to exactly one of the following: Windows {0}","idx.error.code.access_denied.device_assurance.remediation.windows.device_disk_encrypted":"Encrypt all internal disks with BitLocker","idx.error.code.access_denied.device_assurance.remediation.windows.use_biometric_lock_screen":"Enable Windows Hello for the lock screen","idx.error.code.access_denied.device_assurance.remediation.additional_help_default":"For more information, follow the instructions on <$1>the help page</$1> or contact your administrator for help","idx.error.code.access_denied.device_assurance.remediation.additional_help_custom":"For more information, follow the instructions on <$1>your organization's help page</$1> or contact your administrator for help","idx.error.code.access_denied.device_assurance.remediation.chrome.disk_encrypted":"Turn on disk encryption","idx.error.code.access_denied.device_assurance.remediation.chrome.os_firewall":"Turn on your device's firewall","idx.error.code.access_denied.device_assurance.remediation.chrome.screen_lock_secured":"Turn on automatic screen saver and screen locking when idle","idx.error.code.access_denied.device_assurance.remediation.chrome.upgrade_browser_version":"Update Chrome browser to {0}","idx.error.code.access_denied.device_assurance.remediation.chrome.chromeos.upgrade_os_version":"Update to ChromeOS {0}","idx.error.code.access_denied.device_assurance.remediation.chrome.chromeos.key_trust_level.verified_mode":"Switch your device to verified mode","idx.error.code.access_denied.device_assurance.remediation.chrome.chromeos.key_trust_level.developer_mode":"Switch your device to developer mode","api.policy.okta.account.management.insufficient.authenticators.unable.to.sign.in":"Unable to sign in. Contact support for assistance."};const Us={},qs="withCredentials"in new window.XMLHttpRequest,Vs=void 0!==window.XDomainRequest;function Hs(e,t){var n,i,r;("error"===e||null!==(n=window)&&void 0!==n&&null!==(i=n.OktaSignInDebug)&&void 0!==i&&null!==(r=i.isEnabled)&&void 0!==r&&r.call(i))&&window.console[e].apply(window.console,t)}Us.corsIsNotSupported=function(){return!(qs||Vs)},Us.corsIsNotEnabled=function(e){return 0===e.status},Us.localStorageIsNotSupported=function(){const e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!1}catch(e){return!0}},Us.supportsPushState=function(e){return!(!(e=e||window).history||!e.history.pushState)},Us.isIE=function(){return/(msie|trident)/i.test(navigator.userAgent)},Us.isFirefox=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},Us.isEdge=function(){return navigator.userAgent.toLowerCase().indexOf("edge")>-1},Us.isSafari=function(){return navigator.userAgent.toLowerCase().indexOf("safari")>-1&&-1===navigator.userAgent.toLowerCase().indexOf("chrome")},Us.isMac=function(){return navigator.platform.toUpperCase().indexOf("MAC")>=0},Us.isAndroid=function(){return/android/i.test(navigator.userAgent)&&!/windows phone/i.test(navigator.userAgent)},Us.isIOS=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},Us.getUserLanguages=function(){if(navigator.languages)return[...navigator.languages];const e=[];return["language","userLanguage","browserLanguage","systemLanguage"].forEach((function(t){navigator[t]&&e.push(navigator[t])})),e};var $s=function(){return Hs("info",arguments)},zs=function(){return Hs("warn",arguments)},Ws=function(){return Hs("error",arguments)},Gs=function(e){return Hs("warn",["[okta-signin-widget] DEPRECATED:",e])};const Ks="osw.languages";function Ys(){let e=JSON.parse(localStorage.getItem(Ks));return e&&e.version===js.version||(e={version:js.version}),e}function Xs(e,t,n){const i=t.replace("-","_"),r=n.rewrite(encodeURI(`/labels/json/${e}_${i}.json`));return G()(n.baseUrl+r,{method:"GET",headers:{Accept:"application/json","Content-Type":"text/plain"},mode:"no-cors"}).then((e=>e.text())).then((e=>JSON.parse(e)))}var Js={login:Bs,country:Fs,courage:Bs,currentLanguage:null,isLoaded:function(e){return this.currentLanguage===e},remove:function(){this.currentLanguage=null},loadLanguage:async function(e,t,n,i){const r=function(e){if(!e)return{};const t={};return Ns.each(Ns.keys(e),(function(n){t[n.toLowerCase()]=e[n]})),Ns.mapObject(t,(function(e){const t={login:{},country:{}};if(!Ns.isObject(e))throw new Error('Invalid format for "i18n"');return Ns.each(e,(function(e,n){const i=n.split(/^country\./);i.length>1?t.country[i[1]]=e:t.login[i[0]]=e})),t}))}(t),o=e.toLowerCase(),s=await async function(e,t,n){if(e===js.defaultLanguage||!Ns.contains(n,e))return{};const i=!Us.localStorageIsNotSupported();if(i){const t=Ys();if(t[e])return t[e]}try{const[n,r]=await Promise.all([Xs("login",e,t),Xs("country",e,t)]);return i&&function(e,t,n){const i=Ys();i[e]={login:t,country:n},localStorage.setItem(Ks,JSON.stringify(i))}(e,n,r),{login:n,country:r}}catch(t){return zs("Unable to load language: "+e),{}}}(e,n,i);this.login=Ns.extend({},Bs,s.login),this.country=Ns.extend({},Fs,s.country),this.courage=Ns.extend({},Bs,s.login),r[o]&&(Ns.extend(this.login,r[o].login),Ns.extend(this.country,r[o].country),Ns.extend(this.courage,r[o].login)),this.currentLanguage=e}};const Qs=function(e,t="login",n=[],i=!1){const r=function(e){if(!e){const e=Object.keys(Js).filter((e=>"object"==typeof e))[0];return Js[e]}const t=Zs((null===(n=window)||void 0===n||null===(i=n.okta)||void 0===i?void 0:i.locale)||"en");var n,i;return Js[`${e}_${t}`]||Js[e]}(t);if(!r)return ea(e,t,"bundle"),"L10N_ERROR["+t+"]";let o=r[e];try{return o=function(e,t){function n(){throw new Error("Mismatch number of variables: "+e+", "+JSON.stringify(t))}let i=e,r=e;for(let e=0,o=t.length;e<o;e++){const o=String(t[e]),s=new RegExp("\\{"+e+"\\}","g");r=r.replace(s,o),null!=o&&r!==i||n(),i=r}return/\{[\d+]\}/.test(r)&&n(),r}(o,n=n&&n.slice?n.slice(0):[]),o||(ea(e,t,"key"),"L10N_ERROR["+e+"]")}catch(n){return i||ea(e,t,"parameters"),"L10N_ERROR["+e+"]"}},Zs=e=>{if(/-/.test(e)){const t=e.split("-");return t[1]=t[1].toUpperCase(),t.join("_")}return e};function ea(e,t,n){const i=ta("okta-i18n-error",{detail:{type:"l10n-error",key:e,bundleName:t,reason:n}});i&&document.dispatchEvent(i)}const ta=function(e,t){if("function"==typeof window.CustomEvent)return new CustomEvent(e,t);if(!window.CustomEvent){t=t||{bubbles:!1,cancelable:!1,detail:null};const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}};var na={API_RATE_LIMIT:3e4,WIDGET_LOGIN_CONTAINER_ID:"okta-login-container",WIDGET_CONTAINER_ID:"okta-sign-in",WIDGET_CONFIG_COLORS_ID:"okta-sign-in-config-colors",DIRECTION_BACK:"DIRECTION_BACK",RECOVERY_TYPE_PASSWORD:"PASSWORD",RECOVERY_TYPE_UNLOCK:"UNLOCK",RECOVERY_FACTOR_TYPE_SMS:"SMS",RECOVERY_FACTOR_TYPE_EMAIL:"EMAIL",RECOVERY_FACTOR_TYPE_CALL:"CALL",IOS:"ios",ANDROID:"android",ODA:"oda",MDM:"mdm",WS1:"ws1",SUCCESS:"SUCCESS",FORGOT_PASSWORD_EMAIL_SENT:"FORGOT_PASSWORD_EMAIL_SENT",UNLOCK_ACCOUNT_EMAIL_SENT:"UNLOCK_ACCOUNT_EMAIL_SENT",CONFIG_ERROR:"CONFIG_ERROR",UNSUPPORTED_BROWSER_ERROR:"UNSUPPORTED_BROWSER_ERROR",OAUTH_ERROR:"OAUTH_ERROR",AUTH_STOP_POLL_INITIATION_ERROR:"AUTH_STOP_POLL_INITIATION_ERROR",U2F_ERROR:"U2F_ERROR",WEB_AUTHN_ERROR:"WEB_AUTHN_ERROR",WEBAUTHN_ABORT_ERROR:"WEBAUTHN_ABORT_ERROR",CONFIGURED_FLOW_ERROR:"CONFIGURED_FLOW_ERROR",ALL_OPTIONAL_NONE_ENROLLED:"ALL_OPTIONAL_NONE_ENROLLED",ALL_OPTIONAL_SOME_ENROLLED:"ALL_OPTIONAL_SOME_ENROLLED",HAS_REQUIRED_NONE_ENROLLED:"HAS_REQUIRED_NONE_ENROLLED",HAS_REQUIRED_SOME_REQUIRED_ENROLLED:"HAS_REQUIRED_SOME_REQUIRED_ENROLLED",HAS_REQUIRED_ALL_REQUIRED_ENROLLED:"HAS_REQUIRED_ALL_REQUIRED_ENROLLED",PRIMARY_AUTH:"PRIMARY_AUTH",FORGOT_PASSWORD:"FORGOT_PASSWORD",UNLOCK_ACCOUNT:"UNLOCK_ACCOUNT",SESSION_SSO:"SESSION_SSO",SESSION_STEP_UP:"SESSION_STEP_UP",ACTIVATION_EMAIL_SENT:"ACTIVATION_EMAIL_SENT",REGISTRATION_COMPLETE:"REGISTRATION_COMPLETE",REGISTRATION_FAILED:"REGISTRATION_FAILED",IDP_DISCOVERY:"IDP_DISCOVERY",OKTA_VERIFY_APPLE_APP_STORE_URL:"https://apps.apple.com/us/app/okta-verify/id490179405",OKTA_VERIFY_GOOGLE_PLAY_STORE_URL:"https://play.google.com/store/apps/details?id=com.okta.android.auth",LOOPBACK_CHALLENGE:"LOOPBACK",CUSTOM_URI_CHALLENGE:"CUSTOM_URI",UNIVERSAL_LINK_CHALLENGE:"UNIVERSAL_LINK",APP_LINK_CHALLENGE:"APP_LINK",CHROME_DTC:"CHROME_DTC"};const ia={};function ra(e){const t=[e],n=e.split("-");for(;n.pop()&&n.length>0;)t.push(n.join("-"));return t}ia.transformErrorXHR=function(e){if(0===e.status&&Ns.isEmpty(e.responseJSON))return e.responseJSON={errorSummary:Qs("error.network.connection","login")},e;if(!e.responseJSON){if(!e.responseText)return e.responseJSON={errorSummary:Qs("error.unsupported.response","login")},e;if("string"==typeof e.responseText)try{e.responseJSON=JSON.parse(e.responseText)}catch(t){return e.responseJSON={errorSummary:Qs("error.unsupported.response","login")},e}else"object"==typeof e.responseText&&(e.responseJSON=e.responseText)}if(e.responseJSON&&e.responseJSON.errorCauses&&e.responseJSON.errorCauses.length&&(e.responseJSON.errorSummary=e.responseJSON.errorCauses[0].errorSummary),!Ns.isEmpty(e.responseJSON)){const{errorCode:t}=e.responseJSON,n=t&&!["E0000068","E0000014"].includes(t)?Qs("errors."+t,"login",[],!0):void 0;-1===(null==n?void 0:n.indexOf("L10N_ERROR["))&&(e.responseJSON.errorSummary=n,e.responseJSON&&e.responseJSON.errorCauses&&e.responseJSON.errorCauses.length&&delete e.responseJSON.errorCauses)}return e},ia.toLower=function(e){return Ns.map(e,(function(e){return e.toLowerCase()}))},ia.expandLanguages=function(e){return Ns.chain(e).map(ra).flatten().uniq().value()},ia.callAfterTimeout=function(e,t){return setTimeout(e,t)},ia.debugMessage=function(e){zs(`\n${e.replace(/^(\s)+/gm,"")}`)},ia.logConsoleError=function(e){Ws(e)},ia.triggerAfterError=function(e,t={}){!t.statusCode&&t.xhr&&t.xhr.status&&(t.statusCode=t.xhr.status);const n=Ns.isFunction(e.className)?e.className():e.className,i=Ns.pick(t,"name","message","statusCode","xhr");e.trigger("afterError",{controller:n},i),zs("controller: "+n+", error: "+i)},ia.redirect=function(e,t=window,n=!1){Us.isAndroid()&&!n?ia.redirectWithFormGet(e):ia.changeLocation(e,t)},ia.changeLocation=function(e,t=window){e?t.location.href=e:Ws(`Cannot redirect to empty URL: (${e})`)},ia.executeOnVisiblePage=function(e){if("hidden"===document.visibilityState){const t=()=>{"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",t),e())};document.addEventListener("visibilitychange",t)}else e()},ia.isAndroidOVEnrollment=function(){const e=decodeURIComponent(window.location.href).includes("redirect_uri=https://login.okta.com/oauth/callback");return Us.isAndroid()&&e},ia.redirectWithFormGet=function(e){ia.redirectWithForm(e,"get")},ia.redirectWithForm=function(e,t="post"){if(!e)return void Ws(`Cannot redirect to empty URL: (${e})`);const n=document.getElementById(na.WIDGET_CONTAINER_ID);if(!n)return void Ws("Cannot find okta-sign-in container append to which a form");const i=function(e="",t){const n=e.split("#"),i=n[1],r=(n[0]||"").split("?"),o=r[1];let s=r[0];i&&(s+="#"+i);const a=document.createElement("form");return a.method=t,a.style.display="none",a.action=s,o&&o.length&&o.split("&").forEach((e=>{const t=e.split("="),n=function(e,t){const n=document.createElement("input");return n.name=e,n.value=decodeURIComponent(t),n.type="hidden",n}(t[0],t[1]);a.appendChild(n)})),a.appendChild(function(){const e=document.createElement("input");return e.type="submit",e}()),a}(e,t);n.appendChild(i),i.querySelector('input[type="submit"]').click()},ia.createInputExplain=function(e,t,n,i,r){const o=i?Qs(e,n,i):Qs(e,n);return o!==(r?Qs(t,n,r):Qs(t,n))&&o},ia.isV1StateToken=function(e){return!!(e&&Ns.isString(e)&&e.startsWith("00"))},ia.getAutocompleteValue=function(e,t){return(null==e?void 0:e.get("features.disableAutocomplete"))?"off":t},ia.searchParamsToString=function(e){return Object.keys(e).filter((t=>null!=e[t])).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&")};var oa={exports:{}},sa={},aa={__esModule:!0};aa.extend=da,aa.indexOf=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},aa.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return ua.test(e)?e.replace(ca,ha):e},aa.isEmpty=function(e){return!e&&0!==e||!(!ma(e)||0!==e.length)},aa.createFrame=function(e){var t=da({},e);return t._parent=e,t},aa.blockParams=function(e,t){return e.path=t,e},aa.appendContextPath=function(e,t){return(e?e+".":"")+t};var la={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},ca=/[&<>"'`=]/g,ua=/[&<>"'`=]/;function ha(e){return la[e]}function da(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var pa=Object.prototype.toString;aa.toString=pa;var fa=function(e){return"function"==typeof e};fa(/x/)&&(aa.isFunction=fa=function(e){return"function"==typeof e&&"[object Function]"===pa.call(e)}),aa.isFunction=fa;var ma=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===pa.call(e)};aa.isArray=ma;var ga={exports:{}};!function(e,t){t.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function i(e,t){var r=t&&t.loc,o=void 0,s=void 0,a=void 0,l=void 0;r&&(o=r.start.line,s=r.end.line,a=r.start.column,l=r.end.column,e+=" - "+o+":"+a);for(var c=Error.prototype.constructor.call(this,e),u=0;u<n.length;u++)this[n[u]]=c[n[u]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{r&&(this.lineNumber=o,this.endLineNumber=s,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=a,this.endColumn=l))}catch(e){}}i.prototype=new Error,t.default=i,e.exports=t.default}(ga,ga.exports);var ya={},va={exports:{}};!function(e,t){t.__esModule=!0;var n=aa;t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,i){var r=i.inverse,o=i.fn;if(!0===t)return o(this);if(!1===t||null==t)return r(this);if(n.isArray(t))return t.length>0?(i.ids&&(i.ids=[i.name]),e.helpers.each(t,i)):r(this);if(i.data&&i.ids){var s=n.createFrame(i.data);s.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:s}}return o(t,i)}))},e.exports=t.default}(va,va.exports);var ba={exports:{}};!function(e,t){t.__esModule=!0;var n,i=aa,r=(n=ga.exports)&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new r.default("Must pass iterator to #each");var n,o=t.fn,s=t.inverse,a=0,l="",c=void 0,u=void 0;function h(t,n,r){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!r,u&&(c.contextPath=u+t)),l+=o(e[t],{data:c,blockParams:i.blockParams([e[t],t],[u+t,null])})}if(t.data&&t.ids&&(u=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),i.isFunction(e)&&(e=e.call(this)),t.data&&(c=i.createFrame(t.data)),e&&"object"==typeof e)if(i.isArray(e))for(var d=e.length;a<d;a++)a in e&&h(a,a,a===e.length-1);else if(Ds.Symbol&&e[Ds.Symbol.iterator]){for(var p=[],f=e[Ds.Symbol.iterator](),m=f.next();!m.done;m=f.next())p.push(m.value);for(d=(e=p).length;a<d;a++)h(a,a,a===e.length-1)}else n=void 0,Object.keys(e).forEach((function(e){void 0!==n&&h(n,a-1),n=e,a++})),void 0!==n&&h(n,a-1,!0);return 0===a&&(l=s(this)),l}))},e.exports=t.default}(ba,ba.exports);var _a={exports:{}};!function(e,t){t.__esModule=!0;var n,i=(n=ga.exports)&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default}(_a,_a.exports);var wa={exports:{}};!function(e,t){t.__esModule=!0;var n,i=aa,r=(n=ga.exports)&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new r.default("#if requires exactly one argument");return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new r.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},e.exports=t.default}(wa,wa.exports);var ka={exports:{}};!function(e,t){t.__esModule=!0,t.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),t[0]=r,e.log.apply(e,t)}))},e.exports=t.default}(ka,ka.exports);var Sa={exports:{}};!function(e,t){t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))},e.exports=t.default}(Sa,Sa.exports);var Ea={exports:{}};function Ta(e){return e&&e.__esModule?e:{default:e}}!function(e,t){t.__esModule=!0;var n,i=aa,r=(n=ga.exports)&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new r.default("#with requires exactly one argument");i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var o=t.data;return t.data&&t.ids&&((o=i.createFrame(t.data)).contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:o,blockParams:i.blockParams([e],[o&&o.contextPath])})}))},e.exports=t.default}(Ea,Ea.exports),ya.__esModule=!0,ya.registerDefaultHelpers=function(e){xa.default(e),Ca.default(e),Pa.default(e),Aa.default(e),Oa.default(e),Ia.default(e),La.default(e)},ya.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var xa=Ta(va.exports),Ca=Ta(ba.exports),Pa=Ta(_a.exports),Aa=Ta(wa.exports),Oa=Ta(ka.exports),Ia=Ta(Sa.exports),La=Ta(Ea.exports),Da={},Ra={exports:{}};!function(e,t){t.__esModule=!0;var n=aa;t.default=function(e){e.registerDecorator("inline",(function(e,t,i,r){var o=e;return t.partials||(t.partials={},o=function(r,o){var s=i.partials;i.partials=n.extend({},s,t.partials);var a=e(r,o);return i.partials=s,a}),t.partials[r.args[0]]=r.fn,o}))},e.exports=t.default}(Ra,Ra.exports),Da.__esModule=!0,Da.registerDefaultDecorators=function(e){Na.default(e)};var Ma,Na=(Ma=Ra.exports)&&Ma.__esModule?Ma:{default:Ma},ja={exports:{}};!function(e,t){t.__esModule=!0;var n=aa,i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=n.indexOf(i.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=i.lookupLevel(e),"undefined"!=typeof console&&i.lookupLevel(i.level)<=e){var t=i.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];console[t].apply(console,r)}}};t.default=i,e.exports=t.default}(ja,ja.exports);var Fa={},Ba={__esModule:!0,createNewLookupObject:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ua.extend.apply(void 0,[Object.create(null)].concat(t))}},Ua=aa;Fa.__esModule=!0,Fa.createProtoAccessControl=function(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:qa.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:qa.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},Fa.resultIsAllowed=function(e,t,n){return function(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==Ha[e]&&(Ha[e]=!0,Va.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}("function"==typeof e?t.methods:t.properties,n)},Fa.resetLoggedProperties=function(){Object.keys(Ha).forEach((function(e){delete Ha[e]}))};var qa=Ba,Va=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(ja.exports),Ha=Object.create(null);function $a(e){return e&&e.__esModule?e:{default:e}}sa.__esModule=!0,sa.HandlebarsEnvironment=Qa;var za=aa,Wa=$a(ga.exports),Ga=ya,Ka=Da,Ya=$a(ja.exports),Xa=Fa;sa.VERSION="4.7.7",sa.COMPILER_REVISION=8,sa.LAST_COMPATIBLE_COMPILER_REVISION=7,sa.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var Ja="[object Object]";function Qa(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},Ga.registerDefaultHelpers(this),Ka.registerDefaultDecorators(this)}Qa.prototype={constructor:Qa,logger:Ya.default,log:Ya.default.log,registerHelper:function(e,t){if(za.toString.call(e)===Ja){if(t)throw new Wa.default("Arg not supported with multiple helpers");za.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(za.toString.call(e)===Ja)za.extend(this.partials,e);else{if(void 0===t)throw new Wa.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(za.toString.call(e)===Ja){if(t)throw new Wa.default("Arg not supported with multiple decorators");za.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){Xa.resetLoggedProperties()}};var Za=Ya.default.log;sa.log=Za,sa.createFrame=za.createFrame,sa.logger=Ya.default;var el={exports:{}};!function(e,t){function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default}(el,el.exports);var tl={},nl={__esModule:!0,wrapHelper:function(e,t){return"function"!=typeof e?e:function(){return arguments[arguments.length-1]=t(arguments[arguments.length-1]),e.apply(this,arguments)}}};tl.__esModule=!0,tl.checkRevision=function(e){var t=e&&e[0]||1,n=ol.COMPILER_REVISION;if(!(t>=ol.LAST_COMPATIBLE_COMPILER_REVISION&&t<=ol.COMPILER_REVISION)){if(t<ol.LAST_COMPATIBLE_COMPILER_REVISION){var i=ol.REVISION_CHANGES[n],r=ol.REVISION_CHANGES[t];throw new rl.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new rl.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},tl.template=function(e,t){if(!t)throw new rl.default("No environment passed to template");if(!e||!e.main)throw new rl.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0],i={strict:function(e,t,n){if(!e||!(t in e))throw new rl.default('"'+t+'" not defined in '+e,{loc:n});return i.lookupProperty(e,t)},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||ll.resultIsAllowed(n,i.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,r=0;r<n;r++)if(null!=(e[r]&&i.lookupProperty(e[r],t)))return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:il.escapeExpression,invokePartial:function(n,i,r){r.hash&&(i=il.extend({},i,r.hash),r.ids&&(r.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,r);var o=il.extend({},r,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),s=t.VM.invokePartial.call(this,n,i,o);if(null==s&&t.compile&&(r.partials[r.name]=t.compile(n,e.compilerOptions,t),s=r.partials[r.name](i,o)),null!=s){if(r.indent){for(var a=s.split("\n"),l=0,c=a.length;l<c&&(a[l]||l+1!==c);l++)a[l]=r.indent+a[l];s=a.join("\n")}return s}throw new rl.default("The partial "+r.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,r){var o=this.programs[e],s=this.fn(e);return t||r||i||n?o=cl(this,e,s,t,n,i,r):o||(o=this.programs[e]=cl(this,e,s)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=il.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function r(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=n.data;r._setup(n),!n.partial&&e.useData&&(o=function(e,t){return t&&"root"in t||((t=t?ol.createFrame(t):{}).root=e),t}(t,o));var s=void 0,a=e.useBlockParams?[]:void 0;function l(t){return""+e.main(i,t,i.helpers,i.partials,o,a,s)}return e.useDepths&&(s=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(l=hl(e.main,l,i,n.depths||[],o,a))(t,n)}return r.isTop=!0,r._setup=function(r){if(r.partial)i.protoAccessControl=r.protoAccessControl,i.helpers=r.helpers,i.partials=r.partials,i.decorators=r.decorators,i.hooks=r.hooks;else{var o=il.extend({},t.helpers,r.helpers);!function(e,t){Object.keys(e).forEach((function(n){var i=e[n];e[n]=function(e,t){var n=t.lookupProperty;return al.wrapHelper(e,(function(e){return il.extend({lookupProperty:n},e)}))}(i,t)}))}(o,i),i.helpers=o,e.usePartial&&(i.partials=i.mergeIfNeeded(r.partials,t.partials)),(e.usePartial||e.useDecorators)&&(i.decorators=il.extend({},t.decorators,r.decorators)),i.hooks={},i.protoAccessControl=ll.createProtoAccessControl(r);var s=r.allowCallsToHelperMissing||n;sl.moveHelperToHooks(i,"helperMissing",s),sl.moveHelperToHooks(i,"blockHelperMissing",s)}},r._child=function(t,n,r,o){if(e.useBlockParams&&!r)throw new rl.default("must pass block params");if(e.useDepths&&!o)throw new rl.default("must pass parent depths");return cl(i,t,e[t],n,0,r,o)},r},tl.wrapProgram=cl,tl.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e},tl.invokePartial=function(e,t,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;if(n.fn&&n.fn!==ul&&function(){n.data=ol.createFrame(n.data);var e=n.fn;r=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=ol.createFrame(n.data),n.data["partial-block"]=i,e(t,n)},e.partials&&(n.partials=il.extend({},n.partials,e.partials))}(),void 0===e&&r&&(e=r),void 0===e)throw new rl.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},tl.noop=ul;var il=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(aa),rl=function(e){return e&&e.__esModule?e:{default:e}}(ga.exports),ol=sa,sl=ya,al=nl,ll=Fa;function cl(e,t,n,i,r,o,s){function a(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return!s||t==s[0]||t===e.nullContext&&null===s[0]||(a=[t].concat(s)),n(e,t,e.helpers,e.partials,r.data||i,o&&[r.blockParams].concat(o),a)}return(a=hl(n,a,e,s,i,o)).program=t,a.depth=s?s.length:0,a.blockParams=r||0,a}function ul(){return""}function hl(e,t,n,i,r,o){if(e.decorator){var s={};t=e.decorator(t,s,n,i&&i[0],r,o,i),il.extend(t,s)}return t}var dl={exports:{}};!function(e,t){t.__esModule=!0,t.default=function(e){var t=void 0!==Ds?Ds:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}},e.exports=t.default}(dl,dl.exports),function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var r=i(sa),o=n(el.exports),s=n(ga.exports),a=i(aa),l=i(tl),c=n(dl.exports);function u(){var e=new r.HandlebarsEnvironment;return a.extend(e,r),e.SafeString=o.default,e.Exception=s.default,e.Utils=a,e.escapeExpression=a.escapeExpression,e.VM=l,e.template=function(t){return l.template(t,e)},e}var h=u();h.create=u,c.default(h),h.default=h,t.default=h,e.exports=t.default}(oa,oa.exports);var pl=Rs(oa.exports);Ns.mixin({resultCtx:function(e,t,n,i){let r=Ns.isObject(e)?e[t]:void 0;return Ns.isFunction(r)&&(r=r.call(n||e)),r||(Ns.isUndefined(i)?r:i)},isInteger:function(e){return Ns.isNumber(e)&&e%1==0},template:function(e,t){const n=pl.compile(e);if(t)return n(t);const i=function(e){return n(e)};return i.source="",i}});const fl=Ns;var ml={},gl=__webpack_require__(6386),yl=__webpack_require__.n(gl);!function(e,t){const n=yl();!function(){var e,i="object"==typeof self&&self.self===self&&self||"object"==typeof Ds&&Ds.global===Ds&&Ds,r=Ms.exports;try{e=n}catch(e){}!function(e,t,n,i){var r=e.Backbone,o=Array.prototype.slice;t.VERSION="1.4.0",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s,a=t.Events={},l=/\s+/,c=function(e,t,i,r,o){var s,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(s=n.keys(i);a<s.length;a++)t=c(e,t,s[a],i[s[a]],o)}else if(i&&l.test(i))for(s=i.split(l);a<s.length;a++)t=e(t,s[a],r,o);else t=e(t,i,r,o);return t};a.on=function(e,t,n){return this._events=c(u,this._events||{},e,t,{context:n,ctx:this,listening:s}),s&&((this._listeners||(this._listeners={}))[s.id]=s,s.interop=!1),this},a.listenTo=function(e,t,i){if(!e)return this;var r=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=s=o[r];a||(this._listenId||(this._listenId=n.uniqueId("l")),a=s=o[r]=new g(this,e));var l=h(e,t,i,this);if(s=void 0,l)throw l;return a.interop&&a.on(t,i),this};var u=function(e,t,n,i){if(n){var r=e[t]||(e[t]=[]),o=i.context,s=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:o,ctx:o||s,listening:a})}return e},h=function(e,t,n,i){try{e.on(t,n,i)}catch(e){return e}};a.off=function(e,t,n){return this._events?(this._events=c(d,this._events,e,t,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(e,t,i){var r=this._listeningTo;if(!r)return this;for(var o=e?[e._listenId]:n.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(t,i,this),a.interop&&a.off(t,i)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var d=function(e,t,i,r){if(e){var o,s=r.context,a=r.listeners,l=0;if(t||s||i){for(o=t?[t]:n.keys(e);l<o.length;l++){var c=e[t=o[l]];if(!c)break;for(var u=[],h=0;h<c.length;h++){var d=c[h];if(i&&i!==d.callback&&i!==d.callback._callback||s&&s!==d.context)u.push(d);else{var p=d.listening;p&&p.off(t,i)}}u.length?e[t]=u:delete e[t]}return e}for(o=n.keys(a);l<o.length;l++)a[o[l]].cleanup()}};a.once=function(e,t,n){var i=c(p,{},e,t,this.off.bind(this));return"string"==typeof e&&null==n&&(t=void 0),this.on(i,t,n)},a.listenToOnce=function(e,t,n){var i=c(p,{},t,n,this.stopListening.bind(this,e));return this.listenTo(e,i)};var p=function(e,t,i,r){if(i){var o=e[t]=n.once((function(){r(t,o),i.apply(this,arguments)}));o._callback=i}return e};a.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+1];return c(f,this._events,e,void 0,n),this};var f=function(e,t,n,i){if(e){var r=e[t],o=e.all;r&&o&&(o=o.slice()),r&&m(r,i),o&&m(o,[t].concat(i))}return e},m=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}},g=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};g.prototype.on=a.on,g.prototype.off=function(e,t){var n;this.interop?(this._events=c(d,this._events,e,t,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},g.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(t,a);var y=t.Model=function(e,t){var i=e||{};t||(t={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{});var r=n.result(this,"defaults");i=n.defaults(n.extend({},r,i),r),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(null==e)return this;var r;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,s=i.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,u=this.changed,h=this._previousAttributes;for(var d in r)t=r[d],n.isEqual(c[d],t)||a.push(d),n.isEqual(h[d],t)?delete u[d]:u[d]=t,o?delete c[d]:c[d]=t;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=i);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,c[a[p]],i)}if(l)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,i=this._changing?this._previousAttributes:this.attributes,r={};for(var o in e){var s=e[o];n.isEqual(i[o],s)||(r[o]=s,t=!0)}return!!t&&r},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,i=e.success;return e.success=function(n){var r=e.parse?t.parse(n,e):n;if(!t.set(r,e))return!1;i&&i.call(e.context,t,n,e),t.trigger("sync",t,n,e)},$(this,e),this.sync("read",this,e)},save:function(e,t,i){var r;null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t;var o=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var s=this,a=i.success,l=this.attributes;i.success=function(e){s.attributes=l;var t=i.parse?s.parse(e,i):e;if(o&&(t=n.extend({},r,t)),t&&!s.set(t,i))return!1;a&&a.call(i.context,s,e,i),s.trigger("sync",s,e,i)},$(this,i),r&&o&&(this.attributes=n.extend({},l,r));var c=this.isNew()?"create":i.patch?"patch":"update";"patch"!==c||i.attrs||(i.attrs=r);var u=this.sync(c,this,i);return this.attributes=l,u},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){r&&o(),i&&i.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var s=!1;return this.isNew()?n.defer(e.success):($(this,e),s=this.sync("delete",this,e)),r||o(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||H();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1)}});var v=t.Collection=function(e,t){t||(t={}),this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},_={add:!0,remove:!1},w=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var i,r=Array(e.length-n),o=t.length;for(i=0;i<r.length;i++)r[i]=e[i+n];for(i=0;i<o;i++)e[i+n]=t[i];for(i=0;i<r.length;i++)e[i+o+n]=r[i]};n.extend(v.prototype,a,{model:y,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,_))},remove:function(e,t){t=n.extend({},t);var i=!n.isArray(e);e=i?[e]:e.slice();var r=this._removeModels(e,t);return!t.silent&&r.length&&(t.changes={added:[],merged:[],removed:r},this.trigger("update",this,t)),i?r[0]:r},set:function(e,t){if(null!=e){(t=n.extend({},b,t)).parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var i=!n.isArray(e);e=i?[e]:e.slice();var r=t.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var o,s,a=[],l=[],c=[],u=[],h={},d=t.add,p=t.merge,f=t.remove,m=!1,g=this.comparator&&null==r&&!1!==t.sort,y=n.isString(this.comparator)?this.comparator:null;for(s=0;s<e.length;s++){o=e[s];var v=this.get(o);if(v){if(p&&o!==v){var _=this._isModel(o)?o.attributes:o;t.parse&&(_=v.parse(_,t)),v.set(_,t),c.push(v),g&&!m&&(m=v.hasChanged(y))}h[v.cid]||(h[v.cid]=!0,a.push(v)),e[s]=v}else d&&(o=e[s]=this._prepareModel(o,t))&&(l.push(o),this._addReference(o,t),h[o.cid]=!0,a.push(o))}if(f){for(s=0;s<this.length;s++)h[(o=this.models[s]).cid]||u.push(o);u.length&&this._removeModels(u,t)}var k=!1,S=!g&&d&&f;if(a.length&&S?(k=this.length!==a.length||n.some(this.models,(function(e,t){return e!==a[t]})),this.models.length=0,w(this.models,a,0),this.length=this.models.length):l.length&&(g&&(m=!0),w(this.models,l,null==r?this.length:r),this.length=this.models.length),m&&this.sort({silent:!0}),!t.silent){for(s=0;s<l.length;s++)null!=r&&(t.index=r+s),(o=l[s]).trigger("add",o,this,t);(m||k)&&this.trigger("sort",this,t),(l.length||u.length||c.length)&&(t.changes={added:l,removed:u,merged:c},this.trigger("update",this,t))}return i?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;return n.isFunction(t)&&(t=t.bind(this)),1===i||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t.call(e.context,i,n,e),i.trigger("sync",i,n,e)},$(this,e),this.sync("read",this,e)},create:function(e,t){var i=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;i||this.add(e,t);var r=this,o=t.success;return t.success=function(e,t,n){i&&r.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},values:function(){return new S(this,E)},keys:function(){return new S(this,T)},entries:function(){return new S(this,x)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=this.get(e[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var s=this.modelId(r.attributes);null!=s&&delete this._byId[s],t.silent||(t.index=o,r.trigger("remove",r,this,t)),n.push(r),this._removeReference(r,t)}}return n},_isModel:function(e){return e instanceof y},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,i),"change"===e){var r=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=t))}}this.trigger.apply(this,arguments)}});var k="function"==typeof Symbol&&Symbol.iterator;k&&(v.prototype[k]=v.prototype.values);var S=function(e,t){this._collection=e,this._kind=t,this._index=0},E=1,T=2,x=3;k&&(S.prototype[k]=function(){return this}),S.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e,t=this._collection.at(this._index);if(this._index++,this._kind===E)e=t;else{var n=this._collection.modelId(t.attributes);e=this._kind===T?n:[n,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var C=t.View=function(e){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(e,A)),this._ensureElement(),this.initialize.apply(this,arguments)},P=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];n.extend(C.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var i=e[t];if(n.isFunction(i)||(i=this[i]),i){var r=t.match(P);this.delegate(r[1],r[2],i.bind(this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});var O=function(e,t,i,r){n.each(i,(function(n,i){t[i]&&(e.prototype[i]=function(e,t,n,i){switch(t){case 1:return function(){return e[n](this[i])};case 2:return function(t){return e[n](this[i],t)};case 3:return function(t,r){return e[n](this[i],I(t,this),r)};case 4:return function(t,r,o){return e[n](this[i],I(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),e[n].apply(e,t)}}}(t,n,i,r))}))},I=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?L(e):n.isString(e)?function(t){return t.get(e)}:e},L=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}};n.each([[v,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],(function(e){var t=e[0],i=e[1],r=e[2];t.mixin=function(e){var i=n.reduce(n.functions(e),(function(e,t){return e[t]=0,e}),{});O(t,e,i,r)},O(t,n,i,r)})),t.sync=function(e,i,r){var o=D[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||H()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var l=r.error;r.error=function(e,t,n){r.textStatus=t,r.errorThrown=n,l&&l.call(r.context,e,t,n)};var c=r.xhr=t.ajax(n.extend(s,r));return i.trigger("request",i,c,r),c};var D={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var R=t.Router=function(e){e||(e={}),this.preinitialize.apply(this,arguments),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},M=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,j=/\*\w+/g,F=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(R.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return t.history.route(e,(function(n){var s=o._extractParameters(e,n);!1!==o.execute(r,s,i)&&(o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),t.history.trigger("route",o,i,s))})),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(F,"\\$&").replace(M,"(?:$1)?").replace(N,(function(e,t){return t?e:"([^/?]+)"})).replace(j,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,(function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null}))}});var B=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},U=/^[#\/]|\s+$/g,q=/^\/+|\/+$/g,V=/#.*$/;B.started=!1,n.extend(B.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(U,"")},start:function(e){if(B.started)throw new Error("Backbone.history has already been started");if(B.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(q,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),B.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0})))},navigate:function(e,t){if(!B.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+e;e=e.replace(V,"");var r=this.decodeFragment(e);if(this.fragment!==r){if(this.fragment=r,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;t.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new B;y.extend=v.extend=R.extend=C.extend=B.extend=function(e,t){var i,r=this;return i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t),i.prototype=n.create(r.prototype,e),i.prototype.constructor=i,i.__super__=r.prototype,i};var H=function(){throw new Error('A "url" property or function must be specified')},$=function(e,t){var n=t.error;t.error=function(i){n&&n.call(t.context,e,i,t),e.trigger("error",e,i,t)}}}(i,t,r,e)}()}(0,ml);var vl=ml,bl="__STATE__",_l="FETCH_DATA",wl="PAGINATION_DATA",kl="DEFAULT_PARAMS",Sl="LINK_BY_HEADER";const El={params:{},preinitialize:function(e,t){const n=new vl.Model,i=fl.defaults(t&&t.params||{},fl.result(this,"params")||{});n.set(kl,i),this[bl]=n,fl.isFunction(this.model)&&0===this.model.length&&!0!==this.model.isCourageModel&&(this.model=fl.result(this,"model")),vl.Collection.prototype.preinitialize.apply(this,arguments)},sync:function(e,t,n){var i=this,r=n.success;return n.success=function(e,t,n){!function(e,t){try{var n=function(e){for(var t,n=/[^()<>@,;:"/[\]?={} \t]+=(([^()<>@,;:"/[\]?={} \t]+)|("[^"]*"))/g,i=e.match(/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^()<>@,;:"/[\]?={} \t]+)|("[^"]*")))*(,|$)/g),r={},o=0;o<i.length;o++){var s=i[o].split(">"),a=s[0].substring(1),l={href:void 0,rel:void 0};l.href=a;for(var c=s[1].match(n),u=0;u<c.length;u++){var h=c[u].split("=");l[h[0]]='"'===(t=h[1]).charAt(0)&&'"'===t.charAt(t.length-1)?t.substring(1,t.length-1):t}void 0!==l.rel&&(r[l.rel]=l)}return r}(t.getResponseHeader("link"));e[bl].set(Sl,!0),e.setPagination(n.next.href)}catch(t){e[bl].get(Sl)&&e.setPagination(null)}}(i,n),r.apply(null,arguments)},vl.Collection.prototype.sync.call(this,e,t,n)},fetch:function(e){e||(e={});var t=this[bl],n=t.get("XHR");return e.data=fl.extend({},t.get(kl),e.data||{}),e.fromFetch=!0,t.set(_l,e.data),n&&n.abort&&!1!==e.abort&&n.abort(),n=vl.Collection.prototype.fetch.call(this,e),t.set("XHR",n),n},setPagination:function(e,t){fl.isString(e)&&e&&(e=function(e){for(var t={},n=e&&e.split("?")[1],i=n&&decodeURIComponent(n.split("#")[0]).replace(/\+/g," "),r=i?i.split("&"):[],o=0;o<r.length;o++){var s=r[o].split("=");t[s.shift()]=s.join("=")}return t}(e)),fl.isObject(e)&&!fl.isArray(e)&&fl.size(e)?t&&t.fromFetch&&(e=fl.extend({},this.getFetchData(),e)):e=null,this[bl].set(wl,e)},getFetchData:function(){return this[bl].get(_l)||{}},getPaginationData:function(){return this[bl].get(wl)||{}},hasMore:function(){return fl.size(this.getPaginationData())>0},fetchMore:function(){if(!this.hasMore())throw new Error("Invalid Request");return this.fetch({data:this.getPaginationData(),add:!0,remove:!1,update:!0})},reset:function(e,t){return t||(t={}),t.fromFetch||this.setPagination(null),vl.Collection.prototype.reset.apply(this,arguments)},where:function(e,t){return fl.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"]((function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0}))},create:function(e,t){return t||(t={}),fl.result(e,"urlRoot")||(t.url=fl.result(this,"url")),vl.Collection.prototype.create.call(this,e,t)},_reset:function(){vl.Collection.prototype._reset.call(this),this._byId=Object.create(null)}},Tl=vl.Collection.extend(El);Tl.isCourageCollection=!0;const xl={secureJSON:!1,constructor:function(){Tl.apply(this,arguments),fl.result(this,"secureJSON")&&(this.sync=fl.wrap(this.sync,(function(e,t,n,i){return e.call(this,t,n,fl.extend({dataType:"secureJSON"},i))})))}};var Cl=Tl.extend(xl);function Pl(e,...t){window.console&&window.okta&&window.okta.debug&&window.console[e](...t)}var Al={trace:function(...e){return Pl("trace",...e)},dir:function(...e){return Pl("dir",...e)},time:function(...e){return Pl("time",...e)},timeEnd:function(...e){return Pl("timeEnd",...e)},group:function(...e){return Pl("group",...e)},groupEnd:function(...e){return Pl("groupEnd",...e)},assert:function(...e){return Pl("assert",...e)},log:function(...e){return Pl("log",...e)},info:function(...e){return Pl("info",...e)},warn:function(...e){return Pl("warn",...e)},error:function(...e){return Pl("error",...e)}};let Ol;function Il(e,t,n,i){var r=fl.contains(t,n);return i||(i={}),r||!fl.isObject(e)||fl.isArray(e)||fl.isFunction(e)?void 0!==n&&(i[n]=e):fl.each(e,(function(e,r){Il(e,t,n?n+"."+r:r,i)})),i}function Ll(e,t){var n={};return n[e.name]=t,n}function Dl(e,t){var n;return n=fl.isString(e)?{type:e}:fl.isArray(e)?{type:e[0],required:e[1],value:e[2]}:fl.clone(e),fl.defaults(n,{required:!1,name:t}),n}function Rl(e,t,n){if(!t.test(e))return n}var Ml={email:function(e){return Rl(e,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ol.ERROR_INVALID_FORMAT_EMAIL)},uri:function(e){return Rl(e,/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/i,Ol.ERROR_INVALID_FORMAT_URI)},ipv4:function(e){return Rl(e,/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,Ol.ERROR_INVALID_FORMAT_IPV4)},hostname:function(e){return Rl(e,/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/,Ol.ERROR_INVALID_FORMAT_HOSTNAME)}};function Nl(e,t){var n,i,r,o=fl.partial(Ll,e),s=!fl.isUndefined(t)&&!fl.isNull(t);if(Array.isArray(e.validate)){const n=[];let i,r=!1;return e.validate.forEach((e=>{i=!!t&&("regex"===e.type.toLowerCase()&&new RegExp(e.value.pattern,e.value.flags||"").test(t)),r=r||!i,n.push({message:e.hasOwnProperty("message")?e.message:"",passed:i})})),r?o(n):void 0}if(e.required&&(!s||fl.isNull(t)||""===t))return o(Ol.ERROR_BLANK);if(n=fl["is"+(r=e.type,r.toLowerCase().replace(/\b[a-z]/g,(function(e){return e.toUpperCase()})))],s&&"any"!==e.type&&(!fl.isFunction(n)||!n(t)))return o(Ol.ERROR_WRONG_TYPE);if(t&&"string"===e.type){var a=function(e,t){var n=fl.partial(Ll,e),i=function(e,t){var n=Ml[e.format];if(e.format&&!n)throw new TypeError(e.format+" is not a supported string format");return n&&n(t)}(e,t);return i?n(i):t&&e.minLength&&t.length<e.minLength?n(Ol.ERROR_STRING_STRING_MIN_LENGTH):t&&e.maxLength&&t.length>e.maxLength?n(Ol.ERROR_STRING_STRING_MAX_LENGTH):void 0}(e,t);if(a)return a}if(s&&e.values&&!fl.contains(e.values,t))return o(Ol.ERROR_NOT_ALLOWED);if(fl.isFunction(e.validate)){var l=e.validate(t);if(fl.isString(l)&&l)return o(l);if(!1===l)return o(Ol.ERROR_INVALID)}return s&&"array"===e.type&&(i=function(e,t){if(e.minItems&&t.length<e.minItems)return"model.validation.field.array.minItems";if(e.maxItems&&t.length>e.maxItems)return"model.validation.field.array.maxItems";if(e.uniqueItems&&t.length>fl.uniq(t).length)return Ol.ERROR_IARRAY_UNIQUE;if(e.items)for(var n=Dl(e.items,"placeholder"),i=0;i<t.length;i++){var r=Nl(n,t[i]);if(r)return r.placeholder}}(e,t))?o(i):void 0}const jl={props:{},derived:{},local:{},flat:!0,defaults:{},preinitialize:function(e,...t){this.options=e||{};var n=this.__schema__={},i=[];n.computedProperties={},n.props=fl.clone(fl.result(this,"props")||{}),n.derived=fl.clone(fl.result(this,"derived")||{}),n.local=fl.clone(fl.result(this,"local")||{});var r={};if(fl.each(fl.extend({},n.props,n.local),(function(e,t){var n=Dl(e,t);fl.isUndefined(n.value)||(r[t]=n.value),"object"===n.type&&i.push(t)}),this),fl.size(r)){var o=fl.result(this,"defaults");this.defaults=function(){return fl.defaults({},r,o)}}this.validate=fl.wrap(this.validate,(function(e){var t=fl.rest(arguments),n=fl.extend(this._validateSchema.apply(this,t),e.apply(this,t));return fl.size(n)&&n||void 0})),this.parse=fl.wrap(this.parse,(function(e){var t=e.apply(this,fl.rest(arguments));return fl.result(this,"flat")&&(t=Il(t,i)),t})),vl.Model.prototype.preinitialize.call(this,e,...t)},constructor:function(){vl.Model.apply(this,arguments);var e=this.__schema__;fl.each(e.derived,(function(t,n){e.computedProperties[n]=this.__getDerivedValue(n);var i=function(e){return e&&e.type||e.deps}(t)&&t.deps||[];i.length&&this.on("cache:clear change:"+i.join(" change:"),(function(){var t=this.__getDerivedValue(n);t!==e.computedProperties[n]&&(e.computedProperties[n]=t,this.trigger("change:"+n,this,t))}),this)}),this),this.on("sync",(function(){this.__syncedData=this.toJSON()}),this)},validate:function(){},allows:function(e){var t=this.__schema__,n=fl.extend({},t.props,t.local);return fl.has(n,e)||Al.warn("Field not defined in schema",e),!0},getPropertySchema:function(e){var t=this.__schema__;return fl.reduce([t.props,t.local],(function(t,n){return t||Dl(n[e],e)}),null)},set:function(e,t){var n;"object"==typeof e?n=e:(n={})[e]=t,fl.each(n,(function(e,t){if(fl.has(this.__schema__.derived,t))throw new Error(`overriding derived properties is not supported: ${t}`)}),this);var i=[];if(fl.each(n,(function(e,t){this.allows(t)||i.push(t)}),this),i.length)throw new Error(`field not allowed: ${i.join(", ")}`);return vl.Model.prototype.set.apply(this,arguments)},get:function(e){var t=this.__schema__;return fl.has(t.derived,e)?!1!==t.derived[e].cache?t.computedProperties[e]:this.__getDerivedValue(e):vl.Model.prototype.get.apply(this,arguments)},toJSON:function(e){e||(e={});var t,n=fl.clone(vl.Model.prototype.toJSON.apply(this,arguments)),i=this.__schema__;return e.verbose?fl.each(i.derived,(function(e,t){n[t]=this.get(t)}),this):n=fl.omit(n,fl.keys(i.local)),this.flat&&(t=n,fl.each(t,(function(e,t,n){if(-1!==t.indexOf(".")){for(var i,r=n,o=t.split(".");void 0!==(i=o.shift());)r[i]||(r[i]=o.length?{}:e),r=r[i];delete n[t]}})),n=t),n},reset:function(e){this.clear(e),this.set(fl.result(this,"defaults"),e)},isSynced:function(){return fl.isEqual(this.__syncedData,this.toJSON())},validateField:function(e){var t=e&&this.getPropertySchema(e);return t&&Nl(t,this.get(e))},_validateSchema:function(){var e=this.__schema__;return fl.reduce(fl.extend({},e.props,e.local),(function(e,t,n){return fl.extend(e,this.validateField(n)||{})}),{},this)},__getDerivedValue:function(e){var t=this.__schema__.derived[e];if(fl.isString(t)){var n=t;t={deps:[n],fn:function(){return this.get(n)}}}var i=t.deps||[];return t.fn.apply(this,fl.map(i,this.get,this))}};Ol=vl.Model.extend(jl,{ERROR_BLANK:"model.validation.field.blank",ERROR_WRONG_TYPE:"model.validation.field.wrong.type",ERROR_NOT_ALLOWED:"model.validation.field.value.not.allowed",ERROR_INVALID:"model.validation.field.invalid",ERROR_IARRAY_UNIQUE:"model.validation.field.array.unique",ERROR_INVALID_FORMAT_EMAIL:"model.validation.field.invalid.format.email",ERROR_INVALID_FORMAT_URI:"model.validation.field.invalid.format.uri",ERROR_INVALID_FORMAT_IPV4:"model.validation.field.invalid.format.ipv4",ERROR_INVALID_FORMAT_HOSTNAME:"model.validation.field.invalid.format.hostname",ERROR_STRING_STRING_MIN_LENGTH:"model.validation.field.string.minLength",ERROR_STRING_STRING_MAX_LENGTH:"model.validation.field.string.maxLength"}),Ol.isCourageModel=!0;var Fl=Ol,Bl=Fl.extend({secureJSON:!1,_builtInLocalProps:{__edit__:"boolean",__pending__:"boolean"},preinitialize:function(){this.local=fl.defaults({},fl.result(this,"local"),this._builtInLocalProps),Fl.prototype.preinitialize.apply(this,arguments)},constructor:function(){Fl.apply(this,arguments),fl.result(this,"secureJSON")&&(this.sync=fl.wrap(this.sync,(function(e,t,n,i){return e.call(this,t,n,fl.extend({dataType:"secureJSON"},i))})))}});const Ul={flat:!1,constructor:function(){Bl.apply(this,arguments),this.on("sync",this._setSynced)},allows:function(){return!function(e){const t=fl.omit(e.local,fl.keys(e._builtInLocalProps));return fl.size(e.props)+fl.size(t)>0}(this)||Bl.prototype.allows.apply(this,arguments)},set:function(e,t){let n;return"object"==typeof e?n=e:(n={})[e]=t,fl(n).each((function(e,t){e&&fl.isArray(e.__attributes)&&this.on("change:"+e.__attributes.join(" change:"),(function(){const e=this.get(t);e!==this.__schema__.computedProperties[t]&&(this.__schema__.computedProperties[t]=e,this.trigger("change:"+t,e))}),this)}),this),Bl.prototype.set.apply(this,arguments)},get:function(){const e=Bl.prototype.get.apply(this,arguments);return fl.isFunction(e)?e.apply(this,fl.map(e.__attributes||[],this.get,this)):e},toJSON:function(e){e||(e={});const t=Bl.prototype.toJSON.apply(this,arguments);return fl(t).each((function(n,i){"function"==typeof n&&(e.verbose?t[i]=this.get(i):delete t[i])}),this),e.verbose||fl(t).each((function(e,n){/^__\w+__$/.test(n)&&delete t[n]})),t},sanitizeAttributes:function(e){const t={};return fl.each(e,(function(e,n){fl.isFunction(e)||(t[n]=e)})),t},reset:function(e){this.clear(e),this.set(this.sanitizeAttributes(this.defaults),e)},clear:function(e){const t={};return fl.each(this.sanitizeAttributes(this.attributes),(function(e,n){t[n]=void 0})),this.set(t,fl.extend({},e,{unset:!0}))},_setSynced:function(e){this._syncedData=e&&fl.isFunction(e.toJSON)?e.toJSON():{}},_getSynced:function(){return this._syncedData},isSynced:function(){return fl.isEqual(this._getSynced(),this.toJSON())}};var ql=Bl.extend(Ul,{ComputedProperty:function(e,t){return t||"function"!=typeof e?t.__attributes=e:t=e,t}});yl().ajaxSetup({beforeSend:function(e){e.setRequestHeader("X-Okta-XsrfToken",yl()("#_xsrfToken").text())},converters:{"text secureJSON":function(e){return"while(1){};"===e.substring(0,11)&&(e=e.substring(11)),JSON.parse(e)}}});const Vl=yl();window.jQueryCourage=Vl;const Hl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#039;":"'","&#x2F;":"/"},$l=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@(?!-)((\[?[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\]?)|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,zl=e=>{if(/-/.test(e)){const t=e.split("-");return t[1]=t[1].toUpperCase(),t.join("_")}return e};function Wl(){return window&&window.okta&&window.okta.locale?window.okta.isEnableBcp47OktaUi?window.okta.locale:window.okta.locale.toLowerCase():"en"}function Gl(e){if(!e)return Js[fl.keys(Js)[0]];const t=zl(Wl());return Js[`${e}_${t}`]||Js[e]}function Kl(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}function Yl(e,t,n){if(window.CustomEvent||(window.CustomEvent=Kl),"function"==typeof window.CustomEvent){const i=new CustomEvent("okta-i18n-error",{detail:{type:"l10n-error",key:e,bundleName:t,reason:n}});document.dispatchEvent(i)}}const Xl={getRawLocale:function(){return Wl()},getParsedLocale:function(){return zl(Wl())},isLocaleBundleExist:function(e,t){const n=zl(t);return!!Js[`${e}_${n}`]},sprintf:function(){const e=Array.prototype.slice.apply(arguments);let t=e.shift(),n=t;function i(){throw new Error("Mismatch number of variables: "+arguments[0]+", "+JSON.stringify(e))}for(var r=0,o=e.length;r<o;r++){const o=e[r],s=new RegExp("\\{"+r+"\\}","g");t=t.replace(s,o),null!=o&&t!==n||i(),n=t}return/\{[\d+]\}/.test(t)&&i(),t},parseQuery:function(e){const t={},n=decodeURIComponent(e.replace(/\+/g," ")).split("&");for(var i=0;i<n.length;i++){const e=n[i].split("=");t[e.shift()]=e.join("=")}return t},encodeJSObject:function(e){return encodeURIComponent(JSON.stringify(e))},decodeJSObject:function(e){try{return JSON.parse(decodeURIComponent(e))}catch(e){return null}},unescapeHtml:function(e){return String(e).replace(/&[\w#\d]{2,};/g,(function(e){return Hl[e]||e}))},getTemplate:function(e,t){const n=Gl(t);return n?n[e]?n[e]:(Yl(e,t,"key"),"L10N_ERROR["+e+"]"):(Yl(e,t,"bundle"),"L10N_ERROR["+t+"]")},localize:function(e,t,n){const i=Gl(t);if(!i)return Yl(e,t,"bundle"),"L10N_ERROR["+t+"]";let r=i[e];try{return(n=n&&n.slice?n.slice(0):[]).unshift(r),r=Xl.sprintf.apply(null,n),r||(Yl(e,t,"key"),"L10N_ERROR["+e+"]")}catch(n){return Yl(e,t,"parameters"),"L10N_ERROR["+e+"]"}},parseFloat:function(e){const t=+e;return"string"==typeof e&&t===parseFloat(e)?t:e},parseInt:function(e){const t=+e;return fl.isString(e)&&t===parseInt(e,10)?t:e},parseObject:function(e){if(!fl.isString(e))return e;try{const t=JSON.parse(e);return Vl.isPlainObject(t)?t:e}catch(t){return e}},randomString:function(e){if(void 0===e)e=fl.random(61);else if(0===e)return"";const t=[];for(;e--;)t.push("0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz"[fl.random(60)]);return t.join("")},endsWith:function(e,t){return(e+="").length>=(t+="").length&&e.substring(e.length-t.length)===t},isEmail:function(e){const t=Vl.trim(e);return!fl.isEmpty(t)&&$l.test(t)}},Jl=Xl.localize,Ql={STRING:"string",NUMBER:"number",INTEGER:"integer",BOOLEAN:"boolean",OBJECT:"object",FORMATDISPLAYTYPE:{"date-time":"date",uri:"uri",email:"email","country-code":"country-code","language-code":"language-code",country_code:"country_code",language_code:"language_code",locale:"locale",timezone:"timezone","ref-id":"reference"},ARRAYDISPLAYTYPE:{arrayofobject:"arrayofobject",arrayofstring:"arrayofstring",arrayofnumber:"arrayofnumber",arrayofinteger:"arrayofinteger","arrayofref-id":"arrayofref-id"},DISPLAYTYPES:{date:{type:"string",format:"date-time"},uri:{type:"string",format:"uri"},email:{type:"string",format:"email"},"country-code":{type:"string",format:"country-code"},"language-code":{type:"string",format:"language-code"},country_code:{type:"string"},language_code:{type:"string"},locale:{type:"string",format:"locale"},timezone:{type:"string",format:"timezone"},string:{type:"string"},number:{type:"number"},boolean:{type:"boolean"},integer:{type:"integer"},reference:{type:"string",format:"ref-id"},arrayofobject:{type:"array",items:{type:"object"}},arrayofstring:{type:"array",items:{type:"string"}},arrayofnumber:{type:"array",items:{type:"number"}},arrayofinteger:{type:"array",items:{type:"integer"}},"arrayofref-id":{type:"array",items:{type:"string",format:"ref-id"}},image:{type:"image"},password:{type:"string"}},SUPPORTSMINMAX:["string","number","integer","password"],SUPPORTENUM:["string","number","integer","object","arrayofstring","arrayofnumber","arrayofinteger","arrayofobject"],DATATYPE:{string:"string",number:"number",boolean:"boolean",integer:"integer",date:"datetime",object:"object",arrayofobject:"object array",arrayofstring:"string array",arrayofnumber:"number array",arrayofinteger:"integer array","arrayofref-id":"reference array","country-code":"country code","language-code":"language code",country_code:"country code",language_code:"language code",reference:"reference",timezone:"timezone",image:"image"},MUTABILITY:{READONLY:"READ_ONLY",WRITEONLY:"WRITE_ONLY",READWRITE:"READ_WRITE",IMMUTABLE:"IMMUTABLE"},SCOPE:{NONE:"NONE",SELF:"SELF",SYSTEM:"SYSTEM"},DISPLAYSCOPE:{SELF:"User personal",SYSTEM:"System",NA:"None"},UNION:{DISABLE:"DISABLE",ENABLE:"ENABLE"},UNION_OPTIONS:{DISABLE:Jl("universal-directory.profiles.attribute.form.union.enable.display","courage"),ENABLE:Jl("universal-directory.profiles.attribute.form.union.disable.display","courage")},PERMISSION:{HIDE:"HIDE",READ_ONLY:"READ_ONLY",WRITE_ONLY:"WRITE_ONLY",READ_WRITE:"READ_WRITE"},ENDUSER_ATTRIBUTE_PERMISSION_OPTIONS:{HIDE:Jl("universal-directory.profiles.attribute.enduser.permission.hide","courage"),READ_ONLY:Jl("universal-directory.profiles.attribute.enduser.permission.readonly","courage"),READ_WRITE:Jl("universal-directory.profiles.attribute.enduser.permission.readwrite","courage")},ATTRIBUTE_LEVEL_MASTERING_OPTIONS:{INHERIT:Jl("universal-directory.profiles.attribute.source.inherit","courage"),OKTA_MASTERED:Jl("universal-directory.profiles.attribute.source.oktamastered","courage"),OVERRIDE:Jl("universal-directory.profiles.attribute.source.override","courage")},USERNAMETYPE:{NONE:"non-username",OKTA_TO_APP:"okta-to-app-username",OKTA_TO_AD:"okta-to-ad-username",APP_TO_OKTA:"app-to-okta-username",IDP_TO_OKTA:"idp-to-okta-username"},LOGINPATTERNFORMAT:{EMAIL:"EMAIL",CUSTOM:"CUSTOM",NONE:"NONE"},UNIQUENESS:{NOT_UNIQUE:"NOT_UNIQUE",PENDING_UNIQUENESS:"PENDING_UNIQUENESS",UNIQUE_VALIDATED:"UNIQUE_VALIDATED"},getDisplayType:function(e,t,n,i){let r;return e&&(r=t?this.FORMATDISPLAYTYPE[t]:n?this.ARRAYDISPLAYTYPE[e+"of"+n]:e),r||(r=void 0===i?"":i),r},getSourceUsernameType:function(e,t,n){let i=this.USERNAMETYPE.NONE;return"oktaToApp"===e?"userName"===t?i=this.USERNAMETYPE.OKTA_TO_APP:"cn"===t&&(i=this.USERNAMETYPE.OKTA_TO_AD):"appToOkta"===e&&"login"===t&&(i="saml_idp"===n?this.USERNAMETYPE.IDP_TO_OKTA:this.USERNAMETYPE.APP_TO_OKTA),i},isArrayDataType:function(e){return fl.contains(fl.values(this.ARRAYDISPLAYTYPE),e)},isObjectDataType:function(e){return this.DATATYPE.object===e}},Zl="name",ec="_enum_";function tc(e){return ic(e)?fl.reduce(e,(function(e,t,n){return e[sc(n)]=t.title,e}),{}):{}}function nc(e){return fl.all(e,Vl.isPlainObject)?ic(e)?e:function(e){const t=fl.partial(fl.has,fl,Zl);return fl.all(e,t)?fl.chain(e).filter((function(e){return Vl.isPlainObject(e)&&fl.has(e,Zl)})).map((function(e){return{const:e,title:e[Zl]}})).value():rc(e)}(e):rc(e)}function ic(e){return fl.isArray(e)&&fl.all(e,(function(e){return fl.has(e,"const")&&fl.has(e,"title")}))}function rc(e){return fl.map(e,(function(e){return{const:e,title:oc(e)}}))}function oc(e){return fl.isObject(e)?JSON.stringify(e):fl.isNumber(e)?e+"":e}function sc(e){return`${ec}${e}`}function ac(e){const t=fl.findIndex(this.options.params.enumOneOf,(function(t){return fl.isObject(e)?fl.isEqual(t.const,e):t.const===e}));return t>-1?sc(t):e}function lc(e){if(!fl.isString(e)||0!==e.indexOf(ec))return e;const t=e.replace(ec,""),n=this.options.params&&fl.isArray(this.options.params.enumOneOf)?this.options.params.enumOneOf[t]:null;return fl.has(n,"const")?n.const:n}function cc(e){return fl.map(e,lc.bind(this))}function uc(e){return fl.map(e,ac.bind(this))}var hc={getEnumInputOptions:function(e){const t=nc(e.enumValues),n={name:e.name,label:e.title,readOnly:e.readOnly,customExplain:e.explain,params:{enumOneOf:t},options:tc(t)};return Ql.isArrayDataType(e.displayType)?(n.type="checkboxset",n.to=cc,n.from=uc):(n.type="select",n.to=lc,n.from=ac),n.input=null,n},getDropdownOptions:function(e){return fl.isArray(e)?tc(nc(e)):{}},convertToOneOf:nc,isConstraintValueMatchType:function(e,t){switch(t){case Ql.STRING:return function(e){return fl.isString(e)}(e);case Ql.NUMBER:return function(e){return fl.isNumber(e)||fl.isNumber(Xl.parseFloat(Vl.trim(e)))}(e);case Ql.INTEGER:return function(e){const t=fl.isNumber(e)?e:Xl.parseInt(Vl.trim(e));return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}(e);case Ql.OBJECT:return function(e){if(fl.isObject(e)&&!fl.isArray(e))return!0;const t=Xl.parseObject(Vl.trim(e));return fl.isObject(t)&&!fl.isArray(t)}(e)}}};const dc=Xl.localize,pc=Ql.STRING,fc=Ql.NUMBER,mc=Ql.INTEGER,gc=Ql.OBJECT,yc=ql.extend({defaults:{description:void 0,minLength:void 0,maxLength:void 0,format:void 0},parse:function(e){if(fl.isString(e.format)){const t=/^\/(.+)\/$/.exec(e.format);t&&(e.format=t[1])}return e}}),vc=Cl.extend({model:yc}),bc=vc.extend({_type:"allOf"}),_c=vc.extend({_type:"oneOf"}),wc=vc.extend({_type:"noneOf"}),kc={string:dc("schema.validation.field.value.must.string","courage"),number:dc("schema.validation.field.value.must.number","courage"),integer:dc("schema.validation.field.value.must.integer","courage"),object:dc("schema.validation.field.value.must.object","courage")},Sc=/[^a-zA-Z0-9-]/,Ec={between:"_checkBetweenConstraints",greaterThan:"_checkGreaterThanConstraint",lessThan:"_checkLessThanConstraint",equals:"_checkEqualsConstraint"},Tc=ql.extend({idAttribute:"name",local:{__oneOf__:{type:"array",minItems:1}},defaults:{name:"",title:void 0,type:void 0,description:void 0,required:!1,format:void 0,union:void 0,subSchemas:void 0,settings:{permissions:{SELF:Ql.PERMISSION.READ_ONLY}},unique:void 0,__metadata__:void 0,__isSensitive__:ql.ComputedProperty(["settings"],(function(e){return!(!e||!e.sensitive||"NOT_SENSITIVE"===e.sensitive)})),__isPendingSensitive__:ql.ComputedProperty(["settings"],(function(e){return!(!e||!e.sensitive||"PENDING_SENSITIVE"!==e.sensitive)})),__unique__:!1,__isUniqueValidated__:ql.ComputedProperty(["unique"],(function(e){return e===Ql.UNIQUENESS.UNIQUE_VALIDATED})),__isPendingUniqueness__:ql.ComputedProperty(["unique"],(function(e){return e===Ql.UNIQUENESS.PENDING_UNIQUENESS})),__isUniqueness__:ql.ComputedProperty(["__isUniqueValidated__","__isPendingUniqueness__"],(function(e,t){return e||t})),__canBeSensitive__:ql.ComputedProperty(["__metadata__"],(function(e){return!(!e||!e.sensitivizable)})),__userPermission__:Ql.PERMISSION.READ_ONLY,__displayType__:void 0,__displayTypeLabel__:ql.ComputedProperty(["__displayType__"],(function(e){return Ql.DATATYPE[e]||e})),__supportsMinMax__:!1,__isReadOnly__:ql.ComputedProperty(["mutability"],(function(e){return e===Ql.MUTABILITY.READONLY})),__isWriteOnly__:ql.ComputedProperty(["mutability"],(function(e){return e===Ql.MUTABILITY.WRITEONLY})),__displayScope__:void 0,__isScopeSelf__:ql.ComputedProperty(["scope"],(function(e){return e===Ql.SCOPE.SELF})),__isNoneScopeArrayType__:ql.ComputedProperty(["__isScopeSelf__","__displayType__"],(function(e,t){return!e&&Ql.isArrayDataType(t)})),__isImported__:ql.ComputedProperty(["externalName"],(function(e){return!!e})),__isFromBaseSchema__:ql.ComputedProperty(["__schemaMeta__"],(function(e){return e&&"base"===e.name})),__enumDefined__:!1,__supportEnum__:ql.ComputedProperty(["__displayType__"],(function(e){return fl.contains(Ql.SUPPORTENUM,e)})),__isNumberTypeEnum__:ql.ComputedProperty(["__displayType__"],(function(e){return fl.contains([Ql.NUMBER,Ql.ARRAYDISPLAYTYPE.arrayofnumber],e)})),__isIntegerTypeEnum__:ql.ComputedProperty(["__displayType__"],(function(e){return fl.contains([Ql.INTEGER,Ql.ARRAYDISPLAYTYPE.arrayofinteger],e)})),__isObjectTypeEnum__:ql.ComputedProperty(["__displayType__"],(function(e){return fl.contains([Ql.OBJECT,Ql.ARRAYDISPLAYTYPE.arrayofobject],e)})),__isStringTypeEnum__:ql.ComputedProperty(["__displayType__"],(function(e){return fl.contains([Ql.STRING,Ql.ARRAYDISPLAYTYPE.arrayofstring],e)})),__enumConstraintType__:ql.ComputedProperty(["__isStringTypeEnum__","__isNumberTypeEnum__","__isIntegerTypeEnum__","__isObjectTypeEnum__"],(function(e,t,n,i){return e?pc:t?fc:n?mc:i?gc:void 0})),__isEnumDefinedAndSupported__:ql.ComputedProperty(["__enumDefined__","__supportEnum__"],(function(e,t){return e&&t})),__isLoginOfBaseSchema__:ql.ComputedProperty(["__isFromBaseSchema__","name"],(function(e,t){return e&&"login"===t})),__isLoginFormatRestrictionToEmail__:ql.ComputedProperty(["__loginFormatRestriction__"],(function(e){return e===Ql.LOGINPATTERNFORMAT.EMAIL}))},initialize:function(){ql.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:__displayType__",this._updateTypeFormatConstraints),this.listenTo(this,"change:type change:format change:items",this._updateDisplayType),this.listenTo(this,"change:__minVal__ change:__maxVal__",this._updateMinMax),this.listenTo(this,"change:__equals__",this._convertEqualsToMinMax),this.listenTo(this,"change:__constraint__",this._setConstraintText),this._setConstraintText(),this._setLoginPattern()},parse:function(e){return"object"===(e=fl.clone(e)).type&&"image"===e.extendedType&&(e.type="image"),e.__displayType__=Ql.getDisplayType(e.type,e.format,e.items?e.items.format?e.items.format:e.items.type:void 0),this._setRangeConstraints(e),e.__supportsMinMax__=-1!==Ql.SUPPORTSMINMAX.indexOf(e.__displayType__),e.__displayScope__=Ql.DISPLAYSCOPE[e.scope]||Ql.DISPLAYSCOPE.NA,e.settings&&e.settings.permissions&&e.settings.permissions.SELF&&(e.__userPermission__=e.settings.permissions.SELF),this._setMasterOverride(e),this._setSubSchemas(e),this._setUniqueness(e),e},validate:function(){const e=this._validateEnumOneOf();if(e)return e;if(!this.get("__supportsMinMax__")||!this.get("__constraint__"))return;const t=this.get("__constraint__"),n=this[Ec[t]];return fl.isFunction(n)?n.call(this):void Al.warn("No constraint handler found for: "+t)},_checkBetweenConstraints:function(){const e=this.get("__minVal__"),t=this.get("__maxVal__");if(!e&&!t)return;if(!e)return{__minVal__:dc("schema.validation.field.enter.minimum.number","courage")};if(!t)return{__maxVal__:dc("schema.validation.field.enter.maximum.number","courage")};let n=this._checkIntegerConstraints("__minVal__","Min value");return n||(n=this._checkIntegerConstraints("__maxVal__","Max value"),n||(+e>=+t?{__maxVal__:dc("schema.validation.field.maximum.must.be.greater.than.minimum","courage")}:void 0))},_checkGreaterThanConstraint:function(){if(!this.get("__minVal__"))return;return this._checkIntegerConstraints("__minVal__","Constraint")||void 0},_checkLessThanConstraint:function(){if(!this.get("__maxVal__"))return;return this._checkIntegerConstraints("__maxVal__","Constraint")||void 0},_checkEqualsConstraint:function(){if(!this.get("__equals__"))return;return this._checkIntegerConstraints("__equals__","Constraint")||void 0},_checkIntegerConstraints:function(e,t){const n=this.get(e),i={};return isNaN(n)?("Min value"===t?i[e]=dc("schema.validation.field.minimum.value.must.be.number","courage"):"Max value"===t?i[e]=dc("schema.validation.field.maximum.value.must.be.number","courage"):"Constraint"===t&&(i[e]=dc("schema.validation.field.constraint.must.be.number","courage")),i):+n<0?("Min value"===t?i[e]=dc("schema.validation.field.minimum.number.must.be.greater.than.zero","courage"):"Max value"===t?i[e]=dc("schema.validation.field.maximum.number.must.be.greater.than.zero","courage"):"Constraint"===t&&(i[e]=dc("schema.validation.field.number.must.be.greater.than.zero","courage")),i):void 0},_setMasterOverride:function(e){if(e.settings&&e.settings.masterOverride&&e.settings.masterOverride){const t=e.settings.masterOverride.value;fl.isArray(t)&&!fl.isEmpty(t)?(e.__masterOverrideType__="OVERRIDE",e.__masterOverrideValue__=t||[]):e.__masterOverrideType__=e.settings.masterOverride.type}else e.__masterOverrideType__="INHERIT"},_setRangeConstraints:function(e){e.__displayType__===pc?(e.__minVal__=e.minLength,e.__maxVal__=e.maxLength):e.__displayType__!==mc&&e.__displayType__!==fc||(e.__minVal__=e.minimum,e.__maxVal__=e.maximum),e.__minVal__&&e.__maxVal__?e.__minVal__===e.__maxVal__?(e.__constraint__="equals",e.__equals__=e.__minVal__):e.__constraint__="between":!e.__minVal__&&e.__maxVal__?e.__constraint__="lessThan":!e.__maxVal__&&e.__minVal__&&(e.__constraint__="greaterThan")},_setSubSchemas:function(e){e.allOf?e.subSchemas=new bc(e.allOf,{parse:!0}):e.oneOf?e.subSchemas=new _c(e.oneOf,{parse:!0}):e.noneOf&&(e.subSchemas=new wc(e.noneOf,{parse:!0}))},_setUniqueness:function(e){const t=e&&e.unique;e.__unique__=!(!t||t!==Ql.UNIQUENESS.UNIQUE_VALIDATED&&t!==Ql.UNIQUENESS.PENDING_UNIQUENESS)},_setLoginPattern:function(){if(!this.get("__isLoginOfBaseSchema__"))return;const e=this.get("pattern");".+"===e?this.set("__loginFormatRestriction__",Ql.LOGINPATTERNFORMAT.NONE):e?(this.set("__loginFormatRestriction__",Ql.LOGINPATTERNFORMAT.CUSTOM),this.set("__loginFormatRestrictionCustom__",this._extractLoginPattern(e))):this.set("__loginFormatRestriction__",Ql.LOGINPATTERNFORMAT.EMAIL)},_updateDisplayType:function(){const e=this.get("type");if(e===pc&&this.get("format"))this.set("__displayType__",Ql.FORMATDISPLAYTYPE[this.get("format")]);else{const t=this.get("items"),n=t&&(t.format?t.format:t.type);e&&n?this.set("__displayType__",Ql.ARRAYDISPLAYTYPE[function(e,t){return e+"of"+t}(e,n)]):this.set("__displayType__",e)}},_validateEnumOneOf:function(){if(!this.get("__isEnumDefinedAndSupported__"))return;const e=this.get("__oneOf__")||[];if(fl.isEmpty(e))return{__oneOf__:dc("model.validation.field.blank","courage")};if(!this._isValidateOneOfConstraint(e)){const e=this.get("__enumConstraintType__");return{__oneOf__:kc[e]}}},_isValidateOneOfConstraint:function(e){const t=this.get("__enumConstraintType__");return fl.all(e,(function(e){return hc.isConstraintValueMatchType(e.const,t)}))},toJSON:function(){let e=ql.prototype.toJSON.apply(this,arguments);return e.settings={permissions:{}},e.settings.permissions.SELF=this.get("__userPermission__"),this.get("__isSensitive__")&&(e.settings.sensitive=this.get("__isSensitive__")),"image"===this.get("type")&&(e.type="object",e.extendedType="image"),e=this._enumAssignment(e),e=this._attributeOverrideToJson(e),e=this._normalizeUnionValue(e),e=this._patternAssignment(e),e=this._uniquenessAssignment(e),e},_attributeOverrideToJson:function(e){const t=this.get("__masterOverrideType__"),n=this.get("__masterOverrideValue__");return"OKTA_MASTERED"===t?e.settings.masterOverride={type:"OKTA_MASTERED"}:"OVERRIDE"===t&&(e.settings.masterOverride={type:"ORDERED_LIST",value:[]},n instanceof Cl?fl.each(n.toJSON(),(function(t){e.settings.masterOverride.value.push(t.id)})):n instanceof Array&&(e.settings.masterOverride.value=n),fl.isEmpty(e.settings.masterOverride.value)&&delete e.settings.masterOverride),"INHERIT"===t&&delete e.settings.masterOverride,e},_normalizeUnionValue:function(e){return this.get("__isNoneScopeArrayType__")||(e.union=void 0),e},_enumAssignment:function(e){if(!this.get("__isEnumDefinedAndSupported__"))return e;const t=this._getEnumOneOfWithTitleCheck();return"array"===this.get("type")?(delete e.items.enum,e.items.oneOf=t):(delete e.enum,e.oneOf=t),e},_patternAssignment:function(e){if(!this.get("__isLoginOfBaseSchema__")||!this.get("__loginFormatRestriction__"))return e;switch(this.get("__loginFormatRestriction__")){case Ql.LOGINPATTERNFORMAT.EMAIL:delete e.pattern;break;case Ql.LOGINPATTERNFORMAT.CUSTOM:e.pattern=this._buildLoginPattern(this.get("__loginFormatRestrictionCustom__"));break;case Ql.LOGINPATTERNFORMAT.NONE:e.pattern=".+"}return e},_uniquenessAssignment:function(e){return this.get("__unique__")?this.get("__isUniqueness__")||(e.unique=Ql.UNIQUENESS.UNIQUE_VALIDATED):delete e.unique,e},_escapedRegexChar:function(e,t){const n=e.charAt(t);return Sc.test(n)?"\\"+n:n},_buildLoginPattern:function(e){let t="";for(var n=0;n<e.length;n++)t+=this._escapedRegexChar(e,n);return"["+t+"]+"},_extractLoginPattern:function(e){const t=e.match(/^\[(.*)\]\+/);return t?t[1].replace(/\\(.)/g,"$1"):e},_getEnumOneOfWithTitleCheck:function(){const e=this.get("__oneOf__");return fl.map(e,(function(e){return""!==Vl.trim(e.title)||(e.title=fl.isString(e.const)?e.const:JSON.stringify(e.const)),e}))},_updateTypeFormatConstraints:function(){const e=this.get("__displayType__");this.unset("format",{silent:!0}),this.unset("items",{silent:!0}),this.set(Ql.DISPLAYTYPES[e]),e!==fc&&e!==mc&&(this.unset("minimum"),this.unset("maximum")),e!==pc&&(this.unset("minLength"),this.unset("maxLength")),this.unset("__minVal__"),this.unset("__maxVal__"),this.unset("__equals__"),this.set("__supportsMinMax__",-1!==Ql.SUPPORTSMINMAX.indexOf(this.get("__displayType__")))},_updateMinMax:function(){let e,t;const n=this.get("__displayType__");n===pc?(e="minLength",t="maxLength"):n!==mc&&n!==fc||(e="minimum",t="maximum"),this.get("__minVal__")?this.set(e,parseInt(this.get("__minVal__"),10)):this.unset(e),this.get("__maxVal__")?this.set(t,parseInt(this.get("__maxVal__"),10)):this.unset(t)},_convertEqualsToMinMax:function(){const e=this.get("__equals__");e&&(this.set("__minVal__",e),this.set("__maxVal__",e))},_setConstraintText:function(){const e=this.get("__constraint__"),t=this.get("__minVal__"),n=this.get("__maxVal__"),i=this.get("__equals__");switch(e){case"between":this.set("__constraintText__","Between "+t+" and "+n);break;case"greaterThan":this.set("__constraintText__","Greater than "+t);break;case"lessThan":this.set("__constraintText__","Less than "+n);break;case"equals":this.set("__constraintText__","Equals "+i);break;default:this.set("__constraintText__","")}},cleanup:function(){"lessThan"===this.get("__constraint__")?this.unset("__minVal__"):"greaterThan"===this.get("__constraint__")&&this.unset("__maxVal__"),this.get("scope")!==Ql.SCOPE.SYSTEM&&(!0===this.get("__isScopeSelf__")?this.set({scope:Ql.SCOPE.SELF},{silent:!0}):this.unset("scope")),this.get("__unique__")||this.unset("unique")},isEnumType:function(){return!!this.getEnumValues()},getEnumValues:function(){return this.get("oneOf")||this.get("enum")||this.get("items")&&this.get("items").oneOf||this.get("items")&&this.get("items").enum},detectHasEnumDefined:function(){const e=this.getEnumValues();e&&(this.set("__oneOf__",hc.convertToOneOf(e)),this.set("__enumDefined__",!0))}});var xc={Model:Tc,Collection:Cl.extend({model:Tc,clone:function(){return new this.constructor(this.toJSON({verbose:!0}),{parse:!0})},areAllReadOnly:function(){return fl.all(this.pluck("__isReadOnly__"))},createModelProperties:function(){return this.reduce((function(e,t){const n=t.get("type");return e[t.id]=fl.clone(Ql.DISPLAYTYPES[n]),-1!==Ql.SUPPORTSMINMAX.indexOf(n)&&(e[t.id].minLength=t.get("minLength"),e[t.id].maxLength=t.get("maxLength")),"string"===n&&(e[t.id].format=t.get("format")),e}),{})}})};const Cc=function(e){const t=fl.pick(e,"id","name","displayName"),n=fl.map(e.schema.properties,(function(e,t){return fl.extend({name:t},e)}));return fl.each(n,(function(e){e.__schemaMeta__=t,e.__metadata&&(e.__metadata__=e.__metadata,delete e.__metadata)})),n},Pc=ql.extend({defaults:{id:void 0,displayName:void 0,name:void 0},constructor:function(){this.properties=new xc.Collection,ql.apply(this,arguments)},getProperties:function(){return this.properties},clone:function(){const e=ql.prototype.clone.apply(this,arguments);return e.getProperties().set(this.getProperties().toJSON({verbose:!0})),e},parse:function(e){const t=Cc(e);return this.properties.set(t,{parse:!0}),fl.omit(e,"schema")},trimProperty:function(e){return fl.omit(e,"name")},toJSON:function(){const e=ql.prototype.toJSON.apply(this,arguments);return e.schema={properties:{}},this.getProperties().each((function(t){const n=t.toJSON();e.schema.properties[n.name]=this.trimProperty(n)}),this),e},save:function(){return this.getProperties().each((function(e){e.cleanup()})),ql.prototype.save.apply(this,arguments)}}),Ac=Cl.extend({model:Pc});var Oc={parseProperties:Cc,Model:Pc,Collection:Ac};const Ic={local:function(){const e=window.okta&&window.okta.settings||{},t=window.okta&&window.okta.theme||"";return{orgId:["string",!1,e.orgId],orgName:["string",!1,e.orgName],serverStatus:["string",!1,e.serverStatus],persona:["string",!1,e.persona],isDeveloperConsole:["boolean",!1,e.isDeveloperConsole],isPreview:["boolean",!1,e.isPreview],permissions:["array",!0,e.permissions||[]],theme:["string",!1,t]}},constructor:function(){Bl.apply(this,arguments),this.features=window._features||[]},hasFeature:function(e){return fl.contains(this.features,e)},hasAnyFeature:function(e){return fl.some(e,this.hasFeature,this)},hasPermission:function(e){return fl.contains(this.get("permissions"),e)},isDsTheme:function(){return"dstheme"===this.get("theme")}};var Lc=Bl.extend(Ic),Dc="__children__",Rc="__rendered__",Mc="__parent__",Nc="__children_definitions__",jc="__add_to_container__";function Fc(e,t){for(var n=0;n<e[Dc].length;n++)if(t.cid===e[Dc][n].cid)return n}function Bc(){}let Uc;const qc={preinitialize:function(e){this.options=e||{},fl.extend(this,fl.pick(this.options,"state","settings")),this[Dc]=[],this[Rc]=!1,this[Mc]=null,this[Nc]=this.children,this.__original_initialize__=this.initialize,this.initialize=Bc},constructor:function(e,...t){vl.View.call(this,e),fl.each(fl.result(this,Nc),(function(e){this.add.apply(this,fl.isArray(e)?e:[e])}),this),delete this[Nc];const n=fl.result(this,"autoRender");if(n&&this.model){var i=fl.isArray(n)?fl.map(n,(function(e){return"change:"+e})).join(" "):"change";this.listenTo(this.model,i,(function(){this.render()}))}var r,o;this.initialize=this.__original_initialize__,this.initialize.call(this,e,...t),r=this,o=/^(?!(?:delegate|undelegate|_))([a-zA-Z0-9]+)(?:Events)$/,fl.each(fl.allKeys(r),(function(e){var t=e.match(o);if(t){var n=fl.result(r,e),i=r.options[t[1]]||r[t[1]];i&&fl.isObject(n)&&fl.isFunction(i.trigger)&&fl.each(n,(function(e,t){var n=fl.isFunction(e)?[e]:fl.reduce(e.split(/\s+/),((e,t)=>(fl.isFunction(r[t])&&e.push(r[t]),e)),[]);fl.each(n,(function(e){r.listenTo(i,t,e)}))}))}}))},unregister:function(e){this.stopListening(e);var t=Fc(this,e);fl.isNumber(t)&&this[Dc].splice(t,1)},autoRender:!1,template:null,children:[],add:function(e,t,n,i,r){var o,s={},a=fl.toArray(arguments);if(fl.isFunction(e)&&(!e.prototype||!e.prototype.render))throw new Error("Type passed to add() is not a View");if(fl.isObject(t)?(t=(s=t).selector,n=s.bubble,i=s.prepend,r=s.options):fl.isObject(n)&&(n=(s=n).bubble,i=s.prepend,r=s.options),fl.isString(e)&&(o=e,e=Uc.extend({constructor:function(){try{var e=vl.$(o);if(1!==e.length)throw new Error("invalid Element");var t=/&(\w+|#x\d+);/g;if(e.prop("outerHTML").replace(t," ").length!==o.replace(t," ").length)throw new Error("invalid Element");this.template=e.html(),this.el=e.empty()[0]}catch(e){this.template=o}Uc.apply(this,arguments)}})),e.prototype&&e.prototype instanceof Uc){var l=fl.omit(fl.extend({},this.options,r),"el");return a[0]=new e(l),this.add.apply(this,a)}if(fl.isNumber(Fc(this,e)))throw new Error("Duplicate child");return e[Mc]=this,e[jc]=function(t){return function(){if(t&&1!==e[Mc].$(t).length)throw new Error("Invalid selector: "+t);var n=t?this[Mc].$(t):this[Mc].$el;this.render(),this.delegateEvents(),i?n.prepend(this.el):n.append(this.el)}}.call(e,t),n&&this.listenTo(e,"all",(function(){this.trigger.apply(this,arguments)})),this.rendered()&&e[jc](),this[Dc].push(e),this},removeChildren:function(){return this.each((function(e){e.remove()})),this},remove:function(){return this.removeChildren(),this[Mc]&&this[Mc].unregister(this),vl.View.prototype.remove.apply(this,arguments)},compileTemplate:function(e){return fl.template(e,void 0)},renderTemplate:function(e){if(fl.isString(e)&&(e=this.compileTemplate(e)),fl.isFunction(e))return e(this.getTemplateData())},getTemplateData:function(){var e=this.model&&this.model.toJSON({verbose:!0})||{},t=fl.omit(this.options,["state","settings","model","collection"]);return fl.defaults({},e,t)},render:function(){return this.preRender(),function(e){e[Rc]=!0;var t=e.renderTemplate(e.template);t?e.$el.html(t):e.length&&e.$el.empty(),e.each((function(e){e[jc]()}))}(this),this.postRender(),this},preRender:Bc,postRender:Bc,rendered:function(){return this[Rc]},getChildren:function(){return this.toArray()},at:function(e){return this.getChildren()[e]},invoke:function(e){var t=fl.toArray(arguments);return this.each((function(n){n.size()&&n.invoke.apply(n,t),fl.isFunction(n[e])&&n[e].apply(n,t.slice(1))})),this}};Uc=vl.View.extend(qc),fl.each(["each","map","reduce","reduceRight","find","filter","reject","every","some","contains","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain","where","findWhere"],(function(e){Uc.prototype[e]=function(){var t=fl.toArray(arguments);return t.unshift(fl.toArray(this[Dc])),fl[e].apply(fl,t)}})),Uc.isCourageView=!0;var Vc=Uc,Hc={tpl:fl.memoize((function(e){return function(t){return pl.compile(e)(t)}}))};const $c=fl.clone(vl.Events),zc={constructor:function(e,...t){Vc.call(this,e,...t),this.module&&this.$el.attr("data-view",this.module.id)},empty:function(){return this.removeChildren()},compileTemplate:Hc.tpl,broadcast:function(){return $c.trigger.apply($c,arguments),this},listen:function(e,t){return $c.off(e,t),this.listenTo($c,e,t),this},notify:function(e,t,n){return this.broadcast("notification",fl.defaults({message:t,level:e},n)),this},confirm:function(e,t,n,i){let r;return r="object"==typeof e?e:2===arguments.length&&fl.isFunction(t)?{title:"Okta",subtitle:e,ok:t}:{title:e,subtitle:t,ok:n,cancelFn:i},fl.isFunction(r.ok)&&(r.ok=fl.bind(r.ok,this)),fl.isFunction(r.cancelFn)&&(r.cancelFn=fl.bind(r.cancelFn,this)),this.broadcast("confirmation",r),this},alert:function(e){return fl.isString(e)&&(e={subtitle:e}),this.confirm(fl.extend({},e,{noCancelButton:!0})),this}};var Wc=Vc.extend(zc,{decorate:function(e){const t=e.extend({});return fl.defaults(t.prototype,zc),t}});const Gc={level:"success",hide:!0,fade:400,delay:3e3,width:0,dismissable:!1};var Kc=Wc.extend({className:"infobox infobox-confirm infobox-confirm-fixed",events:{"click .infobox-dismiss-link":function(e){e.preventDefault(),this.fadeOut()}},template:pl.template({1:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a class="infobox-dismiss-link" title="'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"courage",code:"component.dismiss"},data:r,loc:{start:{line:1,column:58},end:{line:1,column:108}}}))+'" href="#"><span class="dismiss-icon"></span></a>'},3:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<h3>"+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"title")||(null!=t?s(t,"title"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:r,loc:{start:{line:1,column:220},end:{line:1,column:229}}}):o)+"</h3>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=h(n,"if").call(a,null!=t?h(t,"dismissable"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:164}}}))?o:"")+'<span class="icon '+u(typeof(s=null!=(s=h(n,"level")||(null!=t?h(t,"level"):t))?s:l)===c?s.call(a,{name:"level",hash:{},data:r,loc:{start:{line:1,column:182},end:{line:1,column:191}}}):s)+'-16"></span>'+(null!=(o=h(n,"if").call(a,null!=t?h(t,"title"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:203},end:{line:1,column:241}}}))?o:"")+"<p>"+u(typeof(s=null!=(s=h(n,"message")||(null!=t?h(t,"message"):t))?s:l)===c?s.call(a,{name:"message",hash:{},data:r,loc:{start:{line:1,column:244},end:{line:1,column:255}}}):s)+"</p>"},useData:!0}),initialize:function(){if(this.options=fl.defaults({},this.options,Gc),!this.options.message)switch(this.options.level){case"success":this.options.message=Xl.localize("notification.default.message.success","courage");break;case"error":this.options.message=Xl.localize("notification.default.message.error","courage");break;case"warning":this.options.message=Xl.localize("notification.default.message.warning","courage")}this.$el.addClass("infobox-"+this.options.level),this.options.width&&this.$el.width(this.options.width)},getTemplateData:function(){return fl.extend(fl.pick(this.options,"level","message","title"),{dismissable:!1===this.options.hide||!0===this.options.dismissable})},postRender:function(){this.options.hide&&fl.delay(fl.bind(this.fadeOut,this),this.options.delay)},fadeOut:function(){this.$el.fadeOut(this.options.fade,fl.bind(this.remove,this))}});function Yc(e,t){const n=fl.result(e,"root")||"";return n&&fl.isString(t)?[n,t].join("/").replace(/\/{2,}/g,"/"):t}const Xc={root:"",listen:Kc.prototype.listen,constructor:function(e={}){this.el=e.el,this.settings=new Lc(fl.omit(e,"el")),e.root&&(this.root=e.root),vl.Router.apply(this,arguments),this.listen("notification",this._notify),this.listen("confirmation",this._confirm)},_confirm:function(e={}){const t=new(void fl.pick(e,"title","subtitle","save","ok","cancel","cancelFn","noCancelButton","noSubmitButton","content","danger","type","closeOnOverlayClick","buttonOrder"))({model:this.settings});return t.render(),t},_notify:function(e){const t=new Kc(e);return Vl("#content").prepend(t.render().el),t},render:function(e,t){this.unload(),t=fl.extend(fl.pick(this,"settings","el"),t||{}),this.controller=new e(t),this.controller.render()},start:function(...e){Vl((function(){vl.History.started?Al.error("History has already been started"):vl.history.start(...e)}))},unload:function(){this.controller&&(this.stopListening(this.controller),this.stopListening(this.controller.state),this.controller.remove())},route:function(e,t,n){return vl.Router.prototype.route.call(this,Yc(this,e),t,n)},navigate:function(e,t){return vl.Router.prototype.navigate.call(this,Yc(this,e),t)}};var Jc=vl.Router.extend(Xc),Qc=Bl.extend({invoke:function(){const e=fl.toArray(arguments);e.unshift("__invoke__"),this.trigger.apply(this,e)}});const Zc={preinitialize:function(e={}){if(this.state=fl.result(this,"state"),!(this.state instanceof Qc||e.state instanceof Qc)){const t=fl.defaults(function(e){const t={};return fl.each(e,(function(e,n){fl.isNull(e)||(t[n]=e)})),t}(e.state),this.state||{});this.state=new Qc(t),delete e.state}e.settings||(e.settings=new Lc(fl.omit(e||{},"el")),this.listen("notification",Jc.prototype._notify),this.listen("confirmation",Jc.prototype._confirm)),Wc.prototype.preinitialize.call(this,e)},constructor:function(e={}){let t;Wc.call(this,e),this.listenTo(this.state,"__invoke__",(function(){const e=fl.toArray(arguments),t=e.shift();fl.isFunction(this[t])&&this[t].apply(this,e)})),this.View&&this.View.isCourageView?t=this.View:fl.result(this,"View")&&fl.result(this,"View").isCourageView&&(t=fl.result(this,"View")),t&&this.add(new t(this.toJSON()))},state:{},View:null,render:function(){const e=arguments,t=this;return Vl((function(){Wc.prototype.render.apply(t,e)})),this},toJSON:function(e){return fl.extend(fl.pick(this,"state","settings","collection","model"),e||{})},remove:function(){return this.removeChildren(),this.stopListening(),this.$el.empty(),this}};var eu=Wc.extend(Zc);function tu(e,t){const n=this.model.get(t);return fl.isFunction(e)?e.call(this,n):e===n}var nu=function(e,t,n){e.model&&fl.isObject(t)&&fl.size(t)&&fl.isFunction(n)&&function(e,t,n){const i=fl.bind(n,e,e,t);e.render=fl.wrap(e.render,(function(t){const n=t.call(e);return i({animate:!1}),n})),e.listenTo(e.model,function(e){return"change:"+fl.keys(e).join(" change:")}(t),(function(){i({animate:!0})}))}(e,t,(function(e,t,i){const r=fl.every(fl.map(t,tu,e));n.call(e,r,i)}))};const iu={click:function(e){e.preventDefault(),e.stopPropagation()}};var ru=Wc.extend({attributes:function(){const e=this.__getAttribute("attrs");return fl.extend({"data-se":"button"},e)},tagName:"a",template:pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="icon '+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"icon")||(null!=t?s(t,"icon"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"icon",hash:{},data:r,loc:{start:{line:1,column:30},end:{line:1,column:38}}}):o)+'"></span>'},3:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(o=null!=(o=s(n,"title")||(null!=t?s(t,"title"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:r,loc:{start:{line:1,column:67},end:{line:1,column:76}}}):o)},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"icon"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:54}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"title"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:54},end:{line:1,column:83}}}))?o:"")},useData:!0}),visible:!0,enabled:!0,enableWhen:{},showWhen:{},constructor:function(e){this.options=e||{};const t=this.getTemplateData();this.disabled=!1,Wc.apply(this,arguments),this.$el.addClass("link-button"),t.icon&&(this.$el.addClass("link-button-icon"),t.title||this.$el.addClass("icon-only"))},getTemplateData:function(){return{href:this.__getAttribute("href"),title:this.__getAttribute("title"),icon:this.__getAttribute("icon")}},initialize:function(){nu(this,fl.resultCtx(this,"enableWhen",this),this.toggle),nu(this,fl.resultCtx(this,"showWhen",this),this.toggleVisible)},render:function(){Wc.prototype.render.apply(this,arguments),fl.result(this,"enabled")||this.toggle(!1),fl.result(this,"visible")||this.toggleVisible(!1);const e=this.getTemplateData();return this.$el.attr("href",e.href||"#"),this},__getAttribute:function(e,t){let n=fl.resultCtx(this.options,e,this);return fl.isUndefined(n)&&(n=fl.result(this,e)),fl.isUndefined(n)?t:n},enable:function(){this.toggle(!0)},disable:function(){this.toggle(!1)},show:function(){this.toggleVisible(!0)},hide:function(){this.toggleVisible(!1)},toggle:function(e){const t=!!e&&fl.result(this,"enabled");this.disabled=!t,this.$el.toggleClass("link-button-disabled btn-disabled disabled",this.disabled),this.delegateEvents(this.disabled?iu:null)},toggleVisible:function(e){const t=!e||!fl.result(this,"visible");this.$el.toggleClass("hide",t)}});function ou(e){const t=fl.extend(e.click?{click:e.click}:{},e.events||{}),n={};return fl.each(t,(function(t,i){n[i]=function(n){e.href||(n.preventDefault(),n.stopPropagation()),this.disabled&&"click"===i||t.apply(this,arguments)}})),n}var su=function(e){return(e=fl.clone(e)).attrs=e.attributes,delete e.attributes,ru.extend(fl.extend(e,{events:ou(e)}))};function au(e){this.options=fl.clone(e||{}),this.cid=fl.uniqueId("class"),this.initialize.apply(this,arguments)}fl.extend(au.prototype,vl.Events,{initialize:function(){}}),au.extend=vl.Model.extend;var lu={exports:{}};lu.exports=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}return function t(n){function i(t,r,o){var s;if(arguments.length>1){if("number"==typeof(o=e({path:"/"},i.defaults,o)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}try{s=JSON.stringify(r),/^[\{\[]/.test(s)&&(r=s)}catch(e){}return r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",r,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}t||(s={});for(var l=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,u=0;u<l.length;u++){var h=l[u].split("="),d=h[0].replace(c,decodeURIComponent),p=h.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{if(p=n.read?n.read(p,d):n(p,d)||p.replace(c,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(t===d){s=p;break}t||(s[d]=p)}catch(e){}}return s}return i.get=i.set=i,i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}((function(){}))}();var cu=lu.exports;const uu=/^https/.test(window.location.href);var hu={setCookie:function(e,t,n){cu.set(e,t,fl.defaults(n||{},{secure:uu,path:"/"}))},getCookie:function(){return cu.get.apply(cu,arguments)},removeCookie:function(){return cu.remove.apply(cu,arguments)}},du=__webpack_require__(4987);const pu=__webpack_require__.n(du)(),fu=["success","error","target","text"],mu=au.extend({initialize:function(e,t){let n,i,r;t=fl.pick(t||{},fu),fl.isString(e)&&(n=e),fl.isElement(e)&&(n=e),e instanceof Vl&&(n=e.selector),e instanceof Vc&&(n=e.el),fl.isFunction(t.target)&&(i=t.target),fl.isElement(t.target)&&(i=fl.constant(t.target)),fl.isString(t.text)?r=fl.constant(t.text):fl.isFunction(t.text)&&(r=t.text),this.__instance=new pu(n,{target:i,text:r}),this.done=fl.partial(this.__setCallback,"success"),this.error=fl.partial(this.__setCallback,"error"),this.done(t.success),this.error(t.error)},__setCallback:function(e,t){if(fl.isFunction(t))return this.__instance.on(e,t),this.__instance}});var gu={attach:function(e,t){return new mu(e,t)}},yu={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ENTER:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,SPACE:32,BACKSPACE:8,__isKey:function(e,t){return(e.which||e.keyCode)===this[t]},isEnter:function(e){return this.__isKey(e,"ENTER")},isEsc:function(e){return this.__isKey(e,"ESC")},isSpaceBar:function(e){return this.__isKey(e,"SPACE")}},vu={redirect:function(e){window.location=e},reloadPage:function(){window.location.reload()},constantError:function(e){return function(){throw new Error(e)}},getUrlQueryString:function(e){fl.isObject(e)||(e={});const t=fl.without(fl.map(e,(function(e,t){if(null!=e)return t+"="+encodeURIComponent(e)})),void 0).join("&");return fl.isEmpty(t)?"":"?"+t},isABaseView:function(e){return e instanceof Wc||e.prototype instanceof Wc||e===Wc},isSafari:function(){return/^((?!chrome|android|crios).)*safari/i.test(navigator.userAgent)}};const bu=pl.Utils.escapeExpression;pl.Utils.escapeExpression=function(e){return bu(e).replace(/&#x3D;/g,"=")};const _u=pl.Utils.escapeExpression;function wu(e){return e&&e.replace(/^\s+|\s+$/g,"")}pl.registerHelper("i18n",(function(e){let t;const n=wu(e.hash.code),i=wu(e.hash.bundle),r=wu(e.hash.arguments),o=Object.keys(e.hash).filter((e=>e.match(/^\$\d+/))).map((t=>({tag:t,value:e.hash[t]})));r&&(t=fl.map(wu(r).split(";"),(function(e){let t;return e=wu(e),fl.each(e.split("."),(e=>{t=t?t[e]:this[e]})),t}),this));const s=Xl.localize(n,i,t);if(o.length<1)return s;let a=_u(s);try{return o.forEach((e=>{a=function(e,t,n){const i=_u(`<${t}>`),r=_u(`</${t}>`),[o,s]=n.split(t);if(!e.includes(i)&&!e.includes(r))throw Error(`Parsed tag "${t}" is not present in "${e}"`);if(!n.includes(t))throw Error(`Parsed tag "${t}" is not present in "${n}"`);if(!o||!s)throw Error(`Template value "${n}" must contain beginning and closing tags`);return e.replace(i,o).replace(r,s)}(a,e.tag,e.value)})),new pl.SafeString(a)}catch(e){return Al.error(e.toString()),s}}));var ku=Vc.extend({constructor:function(){if(Vc.apply(this,arguments),!this.collection)throw new Error("Missing collection");this.listenTo(this.collection,"reset sort",this.reset),this.listenTo(this.collection,"add",this.addItem),this.fetchCollection?this.collection.fetch():this.collection.each(this.addItem,this)},item:null,itemSelector:null,reset:function(){return this.removeChildren(),this.collection.each(((e,t)=>{this.addItem(e,t)})),this},addItem:function(e){var t=this.add(this.item,this.itemSelector,{options:{model:e}}).last();return this.state&&this.state.get("trackItemAdded")&&this.state.trigger("itemAdded",t),t.listenTo(e,"destroy remove",t.remove),this},addShowMore:fl.noop}),Su=Wc.decorate(ku);const Eu=pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="icon '+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"icon")||(null!=t?s(t,"icon"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"icon",hash:{},data:r,loc:{start:{line:1,column:96},end:{line:1,column:104}}}):o)+'"></span>'},3:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(o=null!=(o=s(n,"title")||(null!=t?s(t,"title"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:r,loc:{start:{line:1,column:133},end:{line:1,column:142}}}):o)},5:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="option-subtitle">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"subtitle")||(null!=t?s(t,"subtitle"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"subtitle",hash:{},data:r,loc:{start:{line:1,column:192},end:{line:1,column:204}}}):o)+"</p>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="" class="icon-16 '+u(typeof(s=null!=(s=h(n,"className")||(null!=t?h(t,"className"):t))?s:l)===c?s.call(a,{name:"className",hash:{},data:r,loc:{start:{line:1,column:26},end:{line:1,column:39}}}):s)+'" data-se="'+u(typeof(s=null!=(s=h(n,"seleniumId")||(null!=t?h(t,"seleniumId"):t))?s:l)===c?s.call(a,{name:"seleniumId",hash:{},data:r,loc:{start:{line:1,column:50},end:{line:1,column:64}}}):s)+'">'+(null!=(o=h(n,"if").call(a,null!=t?h(t,"icon"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:66},end:{line:1,column:120}}}))?o:"")+(null!=(o=h(n,"if").call(a,null!=t?h(t,"title"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:120},end:{line:1,column:149}}}))?o:"")+(null!=(o=h(n,"if").call(a,null!=t?h(t,"subtitle"):t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:149},end:{line:1,column:215}}}))?o:"")+"</a>"},useData:!0}),Tu=Wc.extend({tagName:"li",events:{click:function(e){e.preventDefault(),this.action&&this.action.call(this)}},constructor:function(){Wc.apply(this,arguments),this.$el.addClass("okta-dropdown-option option")},render:function(){return this.$el.html(Eu({icon:fl.result(this,"icon"),className:fl.result(this,"className")||"",title:fl.result(this,"title"),subtitle:fl.result(this,"subtitle"),seleniumId:fl.result(this,"seleniumId")})),fl.result(this,"disabled")&&this.disable(),this},disable:function(){this.$el.addClass("option-disabled"),this.$el.find("a").attr("tabindex","-1")}});var xu=Wc.extend({events:{"click a.option-selected":function(e){e.preventDefault(),fl.result(this,"disabled")&&e.stopPropagation()},"click .dropdown-disabled":function(e){e.preventDefault(),e.stopPropagation()}},items:[],constructor:function(){const e=this.className;this.className=null,Wc.apply(this,arguments),this.className=e,this.$el.addClass("dropdown more-actions float-l"),fl.each(fl.result(this,"items"),(function(e){this.addOption(e,this.options)}),this)},template:pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="icon '+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"icon")||(null!=t?s(t,"icon"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"icon",hash:{},data:r,loc:{start:{line:1,column:176},end:{line:1,column:184}}}):o)+'"></span>'},3:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="off-screen">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"screenReaderText")||(null!=t?s(t,"screenReaderText"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"screenReaderText",hash:{},data:r,loc:{start:{line:1,column:249},end:{line:1,column:269}}}):o)+"</span>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link-button '+u(typeof(s=null!=(s=h(n,"className")||(null!=t?h(t,"className"):t))?s:l)===c?s.call(a,{name:"className",hash:{},data:r,loc:{start:{line:1,column:31},end:{line:1,column:44}}}):s)+' link-button-icon option-selected center" aria-expanded="false" aria-controls="okta-dropdown-options">'+(null!=(o=h(n,"if").call(a,null!=t?h(t,"icon"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:146},end:{line:1,column:200}}}))?o:"")+(null!=(o=h(n,"if").call(a,null!=t?h(t,"screenReaderText"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:200},end:{line:1,column:283}}}))?o:"")+'<span class="option-selected-text">'+u(typeof(s=null!=(s=h(n,"title")||(null!=t?h(t,"title"):t))?s:l)===c?s.call(a,{name:"title",hash:{},data:r,loc:{start:{line:1,column:318},end:{line:1,column:327}}}):s)+'</span><span class="icon-dm"></span></a><div id="okta-dropdown-options" class="options clearfix"><ul class="okta-dropdown-list options-wrap clearfix"></ul></div>'},useData:!0}),getTemplateData:function(){const e=[fl.result(this,"className")||"",fl.result(this,"disabled")?"dropdown-disabled":""];return{icon:fl.result(this,"icon"),className:Vl.trim(e.join(" ")),title:fl.result(this,"title"),screenReaderText:fl.result(this,"screenReaderText")}},addOption:function(e,t){this.add(Tu.extend(e),"ul.options-wrap",{options:t||{}})}});const Cu=["model","id","inputId","type","label","sublabel","tooltip","name","group"],Pu=["wide","multi","input","label-top","explain","explain-top","customExplain","model","name","type","autoRender","multirowError"],Au=["model","name","label-top","readOnly","events","initialize","showWhen","bindings","render","className","data-se","toggleWhen","group"],Ou=["model","name","inputId","type","input","placeholder","label","readOnly","read","disabled","readModeString","options","deps","from","to","autoRender","inlineValidation","validateOnlyIfDirty","ariaLabel","params","autoComplete","sortByKey"],Iu=fl.uniq(fl.union(Cu,Pu,Au,Ou,["errorField"])),Lu=["â€¢         ","â€¢  â€¢      ","â€¢  â€¢  â€¢   ","â€¢  â€¢  â€¢  â€¢","   â€¢  â€¢  â€¢","      â€¢  â€¢","         â€¢","          ","          ","          "];function Du(e){if(e&&!e.__edit__)return fl.extend({__edit__:fl.constant(!0)},e)}var Ru={LABEL_OPTIONS:Cu,CONTAINER_OPTIONS:Pu,WRAPPER_OPTIONS:Au,INPUT_OPTIONS:Ou,generateInputOptions:function e(t,n,i){t=fl.clone(t),fl.contains(["list","group"],t.type)&&(t.params=fl.defaults({create:i,inputs:fl.map(fl.isArray(t.input)?t.input:[t.input],(function(t){return fl.first(e(t,n,i))}))},t.params||{}),delete t.input);const r=fl.isArray(t.input)?fl.clone(t.input):[t];return fl.map(r,(function(e){const i=fl.defaults({model:n.model},e,fl.omit(t,"input","inputs"),n.options,{id:fl.uniqueId("input"),readOnly:n.isReadOnly(),read:n.hasReadMode()});return n.isReadOnly()&&(i.read=i.readOnly=!0),i}))},changeEventString:function(e){return"change:"+e.join(" change:")},createReadFormButton:function(e){let t,n,i;return"cancel"===e.type?(n=i=Xl.localize("oform.cancel","courage"),t=function(){this.model.trigger("form:cancel")}):(n=Xl.localize("oform.edit","courage"),i=n+" "+e.formTitle,t=function(){this.model.set("__edit__",!0)}),Wc.extend({tagName:"a",className:e.className,attributes:{href:"#","aria-label":i},template:function(){return fl.escape(n)},events:{click:function(e){e.preventDefault(),t.call(this)}}})},createButton:function(e){switch((e=fl.clone(e)).type){case"save":fl.defaults(e,{className:"button-primary"});break;case"cancel":fl.defaults(e,{className:"button-clear",text:Xl.localize("oform.cancel","courage"),action:function(){this.model.trigger("form:cancel")}});break;case"previous":fl.defaults(e,{text:Xl.localize("oform.previous","courage"),action:function(){this.model.trigger("form:previous")}})}return function(e){let t,n,i;return e=fl.pick(e||{},"action","id","className","text","type"),Wc.extend({tagName:"input",className:"button",events:{click:function(){e.action&&!this.disabled()&&e.action.call(this)},keyup:function(t){yu.isEnter(t)&&e.action&&!this.disabled()&&e.action.call(this)}},disabled:function(){return!0===this.$el.prop("disabled")},disable:function(){this.$el.prop("disabled",!0),this.$el.addClass("btn-disabled")},enable:function(){this.$el.prop("disabled",!1),this.$el.removeClass("btn-disabled")},initialize:function(){const i=this;this.$el.attr("type","save"===e.type?"submit":"button"),this.$el.val(e.text),e.id&&this.$el.attr("id",e.id),e.className&&this.$el.addClass(e.className),e.type&&this.$el.attr("data-type",e.type),this.$el.mousedown((function(){i.model.set("__pending__",!0)})),this.$el.mouseup((function(){i.model.set("__pending__",!1)})),this.listenTo(this.model,"form:set-saving-state",(function(){this.disable(),"save"===e.type&&(t=setTimeout(fl.bind(this.__changeSaveText,this),1e3))})),this.listenTo(this.model,"form:clear-saving-state",(function(){this.enable(),"save"===e.type&&(clearTimeout(t),clearInterval(n),this.$el.val(e.text))}))},__changeSaveText:function(){i=0,n=setInterval(fl.bind(this.__showLoadingText,this),200)},__showLoadingText:function(){this.$el.val(Lu[i++%Lu.length])}})}(e)},validateInput:function e(t,n){if(t||(t={}),"label"===t.type)return void(t.label||Al.warn('A label input must have a "label" parameter',t));if("button"===t.type)return t.title||t.icon||Al.warn('A button input must have a "title" and/or an "icon" parameter',t),void(t.click||t.href||Al.warn('A button input must have a "click" and/or an "href" parameter',t));if(t.name||t.input||Al.warn('Missing "name" or "input" parameters',t),fl.isArray(t.name)&&fl.isArray(t.input))throw new Error('Not allowed to have both "name" and "input" defined as array.');if("list"!==t.type&&t.name&&n&&n.allows){let e=[];fl.isArray(t.name)?e=t.name:e.push(t.name),fl.each(e,(function(e){if(!n.allows(e))throw new Error("field not allowed: "+t.name)}))}fl.isArray(t.input)&&"list"!==t.type&&fl.each(t.input,(function(t){e(t,n)}));const i=fl.keys(t),r=fl.intersection(i,Iu);if(fl.size(r)!==fl.size(t)){const e=fl.clone(Iu);Al.warn("Invalid input parameters",fl.without(i,...e),t)}},applyShowWhen:function(e,t){nu(e,Du(t),(function(t,n){n.animate?e.$el["slide"+(t?"Down":"Up")](200,function(t){return function(){e.$el.toggle(t),e.model.trigger("form:resize")}}(t)):e.$el.toggle(t)}))},applyToggleWhen:function(e,t){nu(e,Du(t),(function(t,n){e.$el.toggle(t),e.model.trigger("form:resize"),n.animate&&e.render()}))}},Mu=Wc.extend({el:'<span class="o-form-toggle" data-type="header-btn"></span>',formTitle:"",modelEvents:{"change:__edit__":"toggle"},initialize:function(){this.addButton()},addButton:function(){this.model.get("__edit__")?this.add(Ru.createReadFormButton({type:"cancel"})):this.add(Ru.createReadFormButton({type:"edit",formTitle:this.formTitle,className:"disable-in-read-only"}))},toggle:function(){this.removeChildren(),this.addButton()}});const Nu={className:function(){return"o-form-button-bar"},buttonOrder:["previous","save","cancel"],initialize:function(e){const t={previous:{type:"previous"},save:{type:"save",text:fl.resultCtx(e,"save",this),id:fl.resultCtx(e,"saveId",this),className:fl.resultCtx(e,"saveClassName",this)},cancel:{type:"cancel",text:fl.resultCtx(e,"cancel",this)}};this.__getButtonOrder(e).forEach((e=>{this.addButton(t[e])}))},addButton:function(e,t){return this.add(Ru.createButton(e),t)},__getButtonOrder:function(e){const t=fl.resultCtx(e,"buttonOrder",this,this.buttonOrder),n=[];return e.noSubmitButton&&n.push("save"),e.noCancelButton&&n.push("cancel"),e.hasPrevStep||n.push("previous"),fl.without(t,...n)}};var ju=Wc.extend(Nu),Fu=Wc.extend({template:pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"errorSummary")||(null!=t?s(t,"errorSummary"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"errorSummary",hash:{},data:r,loc:{start:{line:1,column:130},end:{line:1,column:146}}}):o)+"</p>"},3:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"courage",code:"oform.errorbanner.title"},data:r,loc:{start:{line:1,column:161},end:{line:1,column:217}}}))+"</p>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="okta-form-infobox-error infobox infobox-error" role="alert"><span class="icon error-16"></span>'+(null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"errorSummary"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r,loc:{start:{line:1,column:107},end:{line:1,column:228}}}))?o:"")+"</div>"},useData:!0}),modelEvents:{"form:clear-errors":"remove"}});const Bu=/^([\S]+): (.+)$/;var Uu={getResponseJSON:function(e){try{return e.responseJSON||JSON.parse(e.responseText)}catch(e){}},parseErrorSummary:function(e){const t=e.match(Bu);if(t)return[t[1],t[2]]},parseErrorCauseObject:function(e){if(e.property&&e.errorSummary){const t=e.reason?Xl.localize(e.reason):void 0,n=e.errorSummary;return[e.property,-1===(null==t?void 0:t.indexOf("L10N_ERROR["))?t:n]}},parseErrors:function(e){const t=this.getResponseJSON(e);return fl.map(t&&t.errorCauses||[],(function(e){return(""+e.errorSummary).replace(Bu,"$2")}))},parseFieldErrors:function(e){const t=this.getResponseJSON(e),n={};return t?fl.each(t.errorCauses||[],(function(e){let t=[];if(t=e.property&&e.errorSummary?this.parseErrorCauseObject(e):e.location&&e.errorSummary?[e.location,e.errorSummary]:this.parseErrorSummary(e&&e.errorSummary||""),t){const e=t[0],i=t[1];n[e]||(n[e]=[]),n[e].push(i)}}),this):fl.isObject(e)&&fl.size(e)&&fl.each(e,(function(e,t){n[t]=[e]})),fl.size(n)?n:void 0}};const qu=vu.isABaseView;var Vu=Wc.extend({attributes:function(){return{"data-se":"o-form-input-container"}},className:function(){let e="o-form-input";return this.options.wide&&(e+=" o-form-wide"),fl.contains([1,2,3,4],this.options.multi)&&(e+=" o-form-multi-input-"+this.options.multi,fl.isArray(this.options.input))&&fl.find(this.options.input,(function(e){return fl.contains(["text+select","select+text"],e.options.type)}))&&(e+=" o-form-multi-input-group-"+this.options.multi),e},_getNames:function(){const e=fl.isArray(this.options.name)?this.options.name:[this.options.name];return"group"===this.options.type?e.push.apply(e,fl.pluck(this.options.input[0].options.params.inputs,"name")):fl.isArray(this.options.name)?this.options.input&&this.options.input.options&&this.options.input.options.name&&e.push(this.options.input.options.name):this.options.input&&(fl.isArray(this.options.input)?fl.each(this.options.input,(function(t){e.push(t.options.name)})):e.push(this.options.input.options.name)),fl.uniq(fl.compact(e))},_getInputElement:function(){const e=Array.isArray(this.options.input)?fl.last(this.options.input):this.options.input,t=e&&e.options&&e.options.inputId,n=t?this.$("#"+t):null;return n&&n.length?n:null},constructor:function(){Wc.apply(this,arguments);const e=this.options["explain-top"]&&this.options["label-top"];this.options.input&&(fl.isArray(this.options.input)?fl.each(this.options.input,(function(t){this.add(t,{prepend:!e})}),this):this.add(this.options.input,{prepend:!e})),this.__setExplain(this.options);const t=this._getNames();this.listenTo(this.model,"form:field-error",(function(n,i){fl.contains(t,n)&&this.__setError(i,e)})),this.listenTo(this.model,"form:clear-errors change:"+t.join(" change:"),this.__clearError),this.listenTo(this.model,"form:clear-error:"+t.join(" form:clear-error:"),this.__clearError),fl.resultCtx(this.options,"autoRender",this)&&this.listenTo(this.model,"change:"+this.options.name,this.render),this.__errorState=!1},__setExplain:function(e){let t;if(e.customExplain)return Al.warn("Deprecated - use explain instead of customExplain"),void this.add(this.options.customExplain);t=e.explain,fl.isFunction(t)&&!qu(t)&&(t=fl.resultCtx(this.options,"explain",this)),t&&(qu(t)?(this.template=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){return'<p class="o-form-explain"></p>'},useData:!0}),this.add(t," > .o-form-explain")):this.template=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="o-form-explain">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"explain")||(null!=t?s(t,"explain"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"explain",hash:{},data:r,loc:{start:{line:1,column:26},end:{line:1,column:37}}}):o)+"</p>"},useData:!0}))},__setError:function(e,t){this.__errorState=!0,this.$el.addClass("o-form-has-errors");const n=fl.uniqueId("input-container-error"),i=this.__getHTMLForError(fl.flatten(e),n),r=this.$(".o-form-explain").not(".o-form-input-error").first();r.length&&!t?r.before(i):this.$el.append(i);const o=this._getInputElement()||this.$el;o.attr("aria-describedby",n),o.attr("aria-invalid",!0)},__getHTMLForError:function(e,t){const n=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p id="'+c(typeof(o=null!=(o=u(n,"errorId")||(null!=t?u(t,"errorId"):t))?o:a)===l?o.call(s,{name:"errorId",hash:{},data:r,loc:{start:{line:1,column:7},end:{line:1,column:18}}}):o)+'" class="okta-form-input-error o-form-input-error o-form-explain" role="alert"><span class="icon icon-16 error-16-small" role="img" aria-label="'+c(typeof(o=null!=(o=u(n,"iconLabel")||(null!=t?u(t,"iconLabel"):t))?o:a)===l?o.call(s,{name:"iconLabel",hash:{},data:r,loc:{start:{line:1,column:162},end:{line:1,column:175}}}):o)+'"></span>'+c(typeof(o=null!=(o=u(n,"text")||(null!=t?u(t,"text"):t))?o:a)===l?o.call(s,{name:"text",hash:{},data:r,loc:{start:{line:1,column:184},end:{line:1,column:192}}}):o)+"</p>"},useData:!0}),i=Xl.localize("oform.error.icon.ariaLabel","courage");if(this.options.multirowError){let r="";return e.forEach((e=>{r+=n({errorId:t,iconLabel:i,text:e})})),r}return n({errorId:t,iconLabel:i,text:e.join(", ")})},__clearError:function(){if(this.__errorState){this.$(".o-form-input-error").remove();const e=this._getInputElement()||this.$el;e.attr("aria-describedby",null),e.attr("aria-invalid",null),this.$el.removeClass("o-form-has-errors"),this.__errorState=!1,fl.defer((()=>{this.model.trigger("form:resize")}))}},focus:function(){return this.each((function(e){if(e.focus)return e.focus()})),this}});const Hu={};function $u(e){return fl.isFunction(e)?fl.isFunction(e.prototype.editMode)&&fl.isFunction(e.prototype.readMode):fl.isObject(e)&&fl.isFunction(e.editMode)&&fl.isFunction(e.readMode)}var zu={isBaseInput:$u,register:function(e,t){Hu[e]=t},get:function(e){const t=Hu[e.type];return t&&($u(t)?t:t(e))},unregister:function(e){delete Hu[e]}};function Wu(e,t){return zu.isBaseInput(e)&&e.prototype?new e(fl.omit(t,"input")):e}var Gu=function(e){if((e=fl.clone(e)).input)return Wu(e.input,e);const t=zu.get(e);if(!t)throw new Error("unknown input: "+e.type);return Wu(t,e)},Ku=function(e){return!!e.input||!!zu.get(e)};!function(e,t,n){yl().fn.qtip||function(i){var r,o,s,a,l,c=!0,u=!1,h=null,d="x",p="y",f="width",m="height",g="top",y="left",v="bottom",b="right",_="center",w="shift",k={},S="qtip",E="data-hasqtip",T="data-qtip-id",x=["ui-widget","ui-tooltip"],C="."+S,P="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),A=S+"-fixed",O=S+"-default",I=S+"-focus",L=S+"-hover",D=S+"-disabled",R="_replacedByqTip",M="oldtitle",N={ie:function(){var e,n;for(e=4,n=t.createElement("div");(n.innerHTML="\x3c!--[if gt IE "+e+"]><i></i><![endif]--\x3e")&&n.getElementsByTagName("i")[0];e+=1);return e>4?e:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||u};function j(e,t,n,r){this.id=n,this.target=e,this.tooltip=h,this.elements={target:e},this._id=S+"-"+n,this.timers={img:{}},this.options=t,this.plugins={},this.cache={event:{},target:i(),disabled:u,attr:r,onTooltip:u,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=u}function F(e){return e===h||"object"!==i.type(e)}function B(e){return!(i.isFunction(e)||e&&e.attr||e.length||"object"===i.type(e)&&(e.jquery||e.then))}function U(e){var t,n,r,o;return F(e)?u:(F(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&(F(t=e.content)||t.jquery||t.done?(n=B(t)?u:t,t=e.content={text:n}):n=t.text,"ajax"in t&&(r=t.ajax,o=r&&r.once!==u,delete t.ajax,t.text=function(e,t){var s=n||i(this).attr(t.options.content.attr)||"Loading...",a=i.ajax(i.extend({},r,{context:t})).then(r.success,h,r.error).then((function(e){return e&&o&&t.set("content.text",e),e}),(function(e,n,i){t.destroyed||0===e.status||t.set("content.text",n+": "+i)}));return o?s:(t.set("content.text",s),a)}),"title"in t&&(i.isPlainObject(t.title)&&(t.button=t.title.button,t.title=t.title.text),B(t.title||u)&&(t.title=u))),"position"in e&&F(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&F(e.show)&&(e.show=e.show.jquery?{target:e.show}:e.show===c?{ready:c}:{event:e.show}),"hide"in e&&F(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&F(e.style)&&(e.style={classes:e.style}),i.each(k,(function(){this.sanitize&&this.sanitize(e)})),e)}function q(e,t){for(var n,i=0,r=e,o=t.split(".");r=r[o[i++]];)i<o.length&&(n=r);return[n||e,o.pop()]}function V(e,t){var n,i,r;for(n in this.checks)if(this.checks.hasOwnProperty(n))for(i in this.checks[n])this.checks[n].hasOwnProperty(i)&&(r=new RegExp(i,"i").exec(e))&&(t.push(r),("builtin"===n||this.plugins[n])&&this.checks[n][i].apply(this.plugins[n]||this,t))}(o=j.prototype)._when=function(e){return i.when.apply(i,e)},o.render=function(e){if(this.rendered||this.destroyed)return this;var t=this,n=this.options,o=this.cache,s=this.elements,a=n.content.text,l=n.content.title,h=n.content.button,d=n.position,p=[];return i.attr(this.target[0],"aria-describedby",this._id),o.posClass=this._createPosClass((this.position={my:d.my,at:d.at}).my),this.tooltip=s.tooltip=i("<div/>",{id:this._id,class:[S,O,n.style.classes,o.posClass].join(" "),width:n.style.width||"",height:n.style.height||"",tracking:"mouse"===d.target&&d.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":u,"aria-describedby":this._id+"-content","aria-hidden":c}).toggleClass(D,this.disabled).attr(T,this.id).data(S,this).appendTo(d.container).append(s.content=i("<div />",{class:S+"-content",id:this._id+"-content","aria-atomic":c})),this.rendered=-1,this.positioning=c,l&&(this._createTitle(),i.isFunction(l)||p.push(this._updateTitle(l,u))),h&&this._createButton(),i.isFunction(a)||p.push(this._updateContent(a,u)),this.rendered=c,this._setWidget(),i.each(k,(function(e){var n;"render"===this.initialize&&(n=this(t))&&(t.plugins[e]=n)})),this._unassignEvents(),this._assignEvents(),this._when(p).then((function(){t._trigger("render"),t.positioning=u,t.hiddenDuringWait||!n.show.ready&&!e||t.toggle(c,o.event,u),t.hiddenDuringWait=u})),r.api[this.id]=this,this},o.destroy=function(e){if(this.destroyed)return this.target;function t(){if(!this.destroyed){this.destroyed=c;var e,t=this.target,n=t.attr(M);for(e in this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),i.each(this.plugins,(function(){this.destroy&&this.destroy()})),this.timers)this.timers.hasOwnProperty(e)&&clearTimeout(this.timers[e]);t.removeData(S).removeAttr(T).removeAttr(E).removeAttr("aria-describedby"),this.options.suppress&&n&&t.attr("title",n).removeAttr(M),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=h,delete r.api[this.id]}}return e===c&&"hide"!==this.triggering||!this.rendered?t.call(this):(this.tooltip.one("tooltiphidden",i.proxy(t,this)),!this.triggering&&this.hide()),this.target},a=o.checks={builtin:{"^id$":function(e,t,n,o){var s=n===c?r.nextid:n,a=S+"-"+s;s!==u&&s.length>0&&!i("#"+a).length?(this._id=a,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):e[t]=o},"^prerender":function(e,t,n){n&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(e,t,n){this._updateContent(n)},"^content.attr$":function(e,t,n,i){this.options.content.text===this.target.attr(i)&&this._updateContent(this.target.attr(n))},"^content.title$":function(e,t,n){if(!n)return this._removeTitle();n&&!this.elements.title&&this._createTitle(),this._updateTitle(n)},"^content.button$":function(e,t,n){this._updateButton(n)},"^content.title.(text|button)$":function(e,t,n){this.set("content."+t,n)},"^position.(my|at)$":function(e,t,n){"string"==typeof n&&(this.position[t]=e[t]=new s(n,"at"===t))},"^position.container$":function(e,t,n){this.rendered&&this.tooltip.appendTo(n)},"^show.ready$":function(e,t,n){n&&(!this.rendered&&this.render(c)||this.toggle(c))},"^style.classes$":function(e,t,n,i){this.rendered&&this.tooltip.removeClass(i).addClass(n)},"^style.(width|height)":function(e,t,n){this.rendered&&this.tooltip.css(t,n)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(e,t,n){this.rendered&&this.tooltip.toggleClass(O,!!n)},"^events.(render|show|move|hide|focus|blur)$":function(e,t,n){this.rendered&&this.tooltip[(i.isFunction(n)?"":"un")+"bind"]("tooltip"+t,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var e=this.options.position;this.tooltip.attr("tracking","mouse"===e.target&&e.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},o.get=function(e){if(this.destroyed)return this;var t=q(this.options,e.toLowerCase()),n=t[0][t[1]];return n.precedance?n.string():n};var H=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,$=/^prerender|show\.ready/i;o.set=function(e,t){if(this.destroyed)return this;var n,r=this.rendered,o=u,s=this.options;return"string"==typeof e?(n=e,(e={})[n]=t):e=i.extend({},e),i.each(e,(function(t,n){if(r&&$.test(t))delete e[t];else{var a,l=q(s,t.toLowerCase());a=l[0][l[1]],l[0][l[1]]=n&&n.nodeType?i(n):n,o=H.test(t)||o,e[t]=[l[0],l[1],n,a]}})),U(s),this.positioning=c,i.each(e,i.proxy(V,this)),this.positioning=u,this.rendered&&this.tooltip[0].offsetWidth>0&&o&&this.reposition("mouse"===s.position.target?h:this.cache.event),this},o._update=function(e,t){var n=this,r=this.cache;return this.rendered&&e?(i.isFunction(e)&&(e=e.call(this.elements.target,r.event,this)||""),i.isFunction(e.then)?(r.waiting=c,e.then((function(e){return r.waiting=u,n._update(e,t)}),h,(function(e){return n._update(e,t)}))):e===u||!e&&""!==e?u:(e.jquery&&e.length>0?t.empty().append(e.css({display:"block",visibility:"visible"})):t.html(e),this._waitForContent(t).then((function(e){n.rendered&&n.tooltip[0].offsetWidth>0&&n.reposition(r.event,!e.length)})))):u},o._waitForContent=function(e){var t=this.cache;return t.waiting=c,(i.fn.imagesLoaded?e.imagesLoaded():(new i.Deferred).resolve([])).done((function(){t.waiting=u})).promise()},o._updateContent=function(e,t){this._update(e,this.elements.content,t)},o._updateTitle=function(e,t){this._update(e,this.elements.title,t)===u&&this._removeTitle(u)},o._createTitle=function(){var e=this.elements,t=this._id+"-title";e.titlebar&&this._removeTitle(),e.titlebar=i("<div />",{class:S+"-titlebar "+(this.options.style.widget?W("header"):"")}).append(e.title=i("<div />",{id:t,class:S+"-title","aria-atomic":c})).insertBefore(e.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",(function(e){i(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))})).delegate(".qtip-close","mouseover mouseout",(function(e){i(this).toggleClass("ui-state-hover","mouseover"===e.type)})),this.options.content.button&&this._createButton()},o._removeTitle=function(e){var t=this.elements;t.title&&(t.titlebar.remove(),t.titlebar=t.title=t.button=h,e!==u&&this.reposition())},o._createPosClass=function(e){return S+"-pos-"+(e||this.options.position.my).abbrev()},o.reposition=function(n,r){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=c;var o,s,a,l,h=this.cache,d=this.tooltip,p=this.options.position,f=p.target,m=p.my,w=p.at,S=p.viewport,E=p.container,T=p.adjust,x=T.method.split(" "),C=d.outerWidth(u),P=d.outerHeight(u),A=0,O=0,I=d.css("position"),L={left:0,top:0},D=d[0].offsetWidth>0,R=n&&"scroll"===n.type,M=i(e),j=E[0].ownerDocument,F=this.mouse;if(i.isArray(f)&&2===f.length)w={x:y,y:g},L={left:f[0],top:f[1]};else if("mouse"===f)w={x:y,y:g},(!T.mouse||this.options.hide.distance)&&h.origin&&h.origin.pageX?n=h.origin:!n||n&&("resize"===n.type||"scroll"===n.type)?n=h.event:F&&F.pageX&&(n=F),"static"!==I&&(L=E.offset()),j.body.offsetWidth!==(e.innerWidth||j.documentElement.clientWidth)&&(s=i(t.body).offset()),L={left:n.pageX-L.left+(s&&s.left||0),top:n.pageY-L.top+(s&&s.top||0)},T.mouse&&R&&F&&(L.left-=(F.scrollX||0)-M.scrollLeft(),L.top-=(F.scrollY||0)-M.scrollTop());else{if("event"===f?n&&n.target&&"scroll"!==n.type&&"resize"!==n.type?h.target=i(n.target):n.target||(h.target=this.elements.target):"event"!==f&&(h.target=i(f.jquery?f:this.elements.target)),f=h.target,0===(f=i(f).eq(0)).length)return this;f[0]===t||f[0]===e?(A=N.iOS?e.innerWidth:f.width(),O=N.iOS?e.innerHeight:f.height(),f[0]===e&&(L={top:(S||f).scrollTop(),left:(S||f).scrollLeft()})):k.imagemap&&f.is("area")?o=k.imagemap(this,f,w,k.viewport?x:u):k.svg&&f&&f[0].ownerSVGElement?o=k.svg(this,f,w,k.viewport?x:u):(A=f.outerWidth(u),O=f.outerHeight(u),L=f.offset()),o&&(A=o.width,O=o.height,s=o.offset,L=o.position),L=this.reposition.offset(f,L,E),(N.iOS>3.1&&N.iOS<4.1||N.iOS>=4.3&&N.iOS<4.33||!N.iOS&&"fixed"===I)&&(L.left-=M.scrollLeft(),L.top-=M.scrollTop()),(!o||o&&o.adjustable!==u)&&(L.left+=w.x===b?A:w.x===_?A/2:0,L.top+=w.y===v?O:w.y===_?O/2:0)}return L.left+=T.x+(m.x===b?-C:m.x===_?-C/2:0),L.top+=T.y+(m.y===v?-P:m.y===_?-P/2:0),k.viewport?(a=L.adjusted=k.viewport(this,L,p,A,O,C,P),s&&a.left&&(L.left+=s.left),s&&a.top&&(L.top+=s.top),a.my&&(this.position.my=a.my)):L.adjusted={left:0,top:0},h.posClass!==(l=this._createPosClass(this.position.my))&&(h.posClass=l,d.removeClass(h.posClass).addClass(l)),this._trigger("move",[L,S.elem||S],n)?(delete L.adjusted,r===u||!D||isNaN(L.left)||isNaN(L.top)||"mouse"===f||!i.isFunction(p.effect)?d.css(L):i.isFunction(p.effect)&&(p.effect.call(d,this,i.extend({},L)),d.queue((function(e){i(this).css({opacity:"",height:""}),N.ie&&this.style.removeAttribute("filter"),e()}))),this.positioning=u,this):this},o.reposition.offset=function(e,n,r){if(!r[0])return n;var o,s,a,l,c=i(e[0].ownerDocument),u=!!N.ie&&"CSS1Compat"!==t.compatMode,h=r[0];function d(e,t){n.left+=t*e.scrollLeft(),n.top+=t*e.scrollTop()}do{"static"!==(s=i.css(h,"position"))&&("fixed"===s?(a=h.getBoundingClientRect(),d(c,-1)):((a=i(h).position()).left+=parseFloat(i.css(h,"borderLeftWidth"))||0,a.top+=parseFloat(i.css(h,"borderTopWidth"))||0),n.left-=a.left+(parseFloat(i.css(h,"marginLeft"))||0),n.top-=a.top+(parseFloat(i.css(h,"marginTop"))||0),o||"hidden"===(l=i.css(h,"overflow"))||"visible"===l||"BODY"===i.prop(h,"tagName")||(o=i(h)))}while(h=h.offsetParent);return o&&(o[0]!==c[0]||u)&&d(o,1),n};var z=(s=o.reposition.Corner=function(e,t){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,_).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!t;var n=e.charAt(0);this.precedance="t"===n||"b"===n?p:d}).prototype;function W(e){return x.concat("").join(e?"-"+e+" ":" ")}function G(e,t){if(t>0)return setTimeout(i.proxy(e,this),t);e.call(this)}function K(e){this.tooltip.hasClass(D)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=G.call(this,(function(){this.toggle(c,e)}),this.options.show.delay))}function Y(e){if(!this.tooltip.hasClass(D)&&!this.destroyed){var t=i(e.relatedTarget),n=t.closest(C)[0]===this.tooltip[0],r=t[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==t[0]&&"mouse"===this.options.position.target&&n||this.options.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(n||r))try{e.preventDefault(),e.stopImmediatePropagation()}catch(e){}else this.timers.hide=G.call(this,(function(){this.toggle(u,e)}),this.options.hide.delay,this)}}function X(e){!this.tooltip.hasClass(D)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=G.call(this,(function(){this.hide(e)}),this.options.hide.inactive))}function J(e){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(e)}function Q(e,n,o){i(t.body).delegate(e,(n.split?n:n.join("."+S+" "))+"."+S,(function(){var e=r.api[i.attr(this,T)];e&&!e.disabled&&o.apply(e,arguments)}))}z.invert=function(e,t){this[e]=this[e]===y?b:this[e]===b?y:t||this[e]},z.string=function(e){var t=this.x,n=this.y,i=t!==n?"center"===t||"center"!==n&&(this.precedance===p||this.forceY)?[n,t]:[t,n]:[t];return!1!==e?i.join(" "):i},z.abbrev=function(){var e=this.string(!1);return e[0].charAt(0)+(e[1]&&e[1].charAt(0)||"")},z.clone=function(){return new s(this.string(),this.forceY)},o.toggle=function(e,n){var r=this.cache,o=this.options,s=this.tooltip;if(n){if(/over|enter/.test(n.type)&&r.event&&/out|leave/.test(r.event.type)&&o.show.target.add(n.target).length===o.show.target.length&&s.has(n.relatedTarget).length)return this;r.event=i.event.fix(n)}if(this.waiting&&!e&&(this.hiddenDuringWait=c),!this.rendered)return e?this.render(1):this;if(this.destroyed||this.disabled)return this;var a,d,p,f=e?"show":"hide",m=this.options[f],g=this.options.position,y=this.options.content,v=this.tooltip.css("width"),b=this.tooltip.is(":visible"),_=e||1===m.target.length,w=!n||m.target.length<2||r.target[0]===n.target;return(typeof e).search("boolean|number")&&(e=!b),d=(a=!s.is(":animated")&&b===e&&w)?h:!!this._trigger(f,[90]),this.destroyed||(d!==u&&e&&this.focus(n),!d||a||(i.attr(s[0],"aria-hidden",!e),e?(this.mouse&&(r.origin=i.event.fix(this.mouse)),i.isFunction(y.text)&&this._updateContent(y.text,u),i.isFunction(y.title)&&this._updateTitle(y.title,u),!l&&"mouse"===g.target&&g.adjust.mouse&&(i(t).bind("mousemove."+S,this._storeMouse),l=c),v||s.css("width",s.outerWidth(u)),this.reposition(n,arguments[2]),v||s.css("width",""),m.solo&&("string"==typeof m.solo?i(m.solo):i(C,m.solo)).not(s).not(m.target).qtip("hide",new i.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete r.origin,l&&!i(C+'[tracking="true"]:visible',m.solo).not(s).length&&(i(t).unbind("mousemove."+S),l=u),this.blur(n)),p=i.proxy((function(){e?(N.ie&&s[0].style.removeAttribute("filter"),s.css("overflow",""),"string"==typeof m.autofocus&&i(this.options.show.autofocus,s).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):s.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(e?"visible":"hidden")}),this),m.effect===u||_===u?(s[f](),p()):i.isFunction(m.effect)?(s.stop(1,1),m.effect.call(s,this),s.queue("fx",(function(e){p(),e()}))):s.fadeTo(90,e?1:0,p),e&&m.target.trigger("qtip-"+this.id+"-inactive"))),this},o.show=function(e){return this.toggle(c,e)},o.hide=function(e){return this.toggle(u,e)},o.focus=function(e){if(!this.rendered||this.destroyed)return this;var t=i(C),n=this.tooltip,o=parseInt(n[0].style.zIndex,10),s=r.zindex+t.length;return n.hasClass(I)||this._trigger("focus",[s],e)&&(o!==s&&(t.each((function(){this.style.zIndex>o&&(this.style.zIndex=this.style.zIndex-1)})),t.filter("."+I).qtip("blur",e)),n.addClass(I)[0].style.zIndex=s),this},o.blur=function(e){return!this.rendered||this.destroyed||(this.tooltip.removeClass(I),this._trigger("blur",[this.tooltip.css("zIndex")],e)),this},o.disable=function(e){return this.destroyed||("toggle"===e?e=!(this.rendered?this.tooltip.hasClass(D):this.disabled):"boolean"!=typeof e&&(e=c),this.rendered&&this.tooltip.toggleClass(D,e).attr("aria-disabled",e),this.disabled=!!e),this},o.enable=function(){return this.disable(u)},o._createButton=function(){var e=this,t=this.elements,n=t.tooltip,r=this.options.content.button,o="string"==typeof r?r:"Close tooltip";t.button&&t.button.remove(),r.jquery?t.button=r:t.button=i("<a />",{class:"qtip-close "+(this.options.style.widget?"":S+"-icon"),title:o,"aria-label":o}).prepend(i("<span />",{class:"ui-icon ui-icon-close",html:"&times;"})),t.button.appendTo(t.titlebar||n).attr("role","button").click((function(t){return n.hasClass(D)||e.hide(t),u}))},o._updateButton=function(e){if(!this.rendered)return u;var t=this.elements.button;e?this._createButton():t.remove()},o._setWidget=function(){var e=this.options.style.widget,t=this.elements,n=t.tooltip,i=n.hasClass(D);n.removeClass(D),D=e?"ui-state-disabled":"qtip-disabled",n.toggleClass(D,i),n.toggleClass("ui-helper-reset "+W(),e).toggleClass(O,this.options.style.def&&!e),t.content&&t.content.toggleClass(W("content"),e),t.titlebar&&t.titlebar.toggleClass(W("header"),e),t.button&&t.button.toggleClass(S+"-icon",!e)},o._storeMouse=function(e){return(this.mouse=i.event.fix(e)).type="mousemove",this},o._bind=function(e,t,n,r,o){if(e&&n&&t.length){var s="."+this._id+(r?"-"+r:"");return i(e).bind((t.split?t:t.join(s+" "))+s,i.proxy(n,o||this)),this}},o._unbind=function(e,t){return e&&i(e).unbind("."+this._id+(t?"-"+t:"")),this},o._trigger=function(e,t,n){var r=new i.Event("tooltip"+e);return r.originalEvent=n&&i.extend({},n)||this.cache.event||h,this.triggering=e,this.tooltip.trigger(r,[this].concat(t||[])),this.triggering=u,!r.isDefaultPrevented()},o._bindEvents=function(e,t,n,r,o,s){var a=n.filter(r).add(r.filter(n)),l=[];a.length&&(i.each(t,(function(t,n){var r=i.inArray(n,e);r>-1&&l.push(e.splice(r,1)[0])})),l.length&&(this._bind(a,l,(function(e){(this.rendered&&this.tooltip[0].offsetWidth>0?s:o).call(this,e)})),n=n.not(a),r=r.not(a))),this._bind(n,e,o),this._bind(r,t,s)},o._assignInitialEvents=function(e){var t=this.options,n=t.show.target,r=t.hide.target,o=t.show.event?i.trim(""+t.show.event).split(" "):[],s=t.hide.event?i.trim(""+t.hide.event).split(" "):[];function a(e){if(this.disabled||this.destroyed)return u;this.cache.event=e&&i.event.fix(e),this.cache.target=e&&i(e.target),clearTimeout(this.timers.show),this.timers.show=G.call(this,(function(){this.render("object"==typeof e||t.show.ready)}),t.prerender?0:t.show.delay)}this._bind(this.elements.target,["remove","removeqtip"],(function(){this.destroy(!0)}),"destroy"),/mouse(over|enter)/i.test(t.show.event)&&!/mouse(out|leave)/i.test(t.hide.event)&&s.push("mouseleave"),this._bind(n,"mousemove",(function(e){this._storeMouse(e),this.cache.onTarget=c})),this._bindEvents(o,s,n,r,a,(function(){if(!this.timers)return u;clearTimeout(this.timers.show)})),(t.show.ready||t.prerender)&&a.call(this,e)},o._assignEvents=function(){var n=this,o=this.options,s=o.position,a=this.tooltip,l=o.show.target,c=o.hide.target,h=s.container,d=s.viewport,p=i(t),f=i(e),m=o.show.event?i.trim(""+o.show.event).split(" "):[],g=o.hide.event?i.trim(""+o.hide.event).split(" "):[];i.each(o.events,(function(e,t){n._bind(a,"toggle"===e?["tooltipshow","tooltiphide"]:["tooltip"+e],t,null,a)})),/mouse(out|leave)/i.test(o.hide.event)&&"window"===o.hide.leave&&this._bind(p,["mouseout","blur"],(function(e){/select|option/.test(e.target.nodeName)||e.relatedTarget||this.hide(e)})),o.hide.fixed?c=c.add(a.addClass(A)):/mouse(over|enter)/i.test(o.show.event)&&this._bind(c,"mouseleave",(function(){clearTimeout(this.timers.show)})),(""+o.hide.event).indexOf("unfocus")>-1&&this._bind(h.closest("html"),["mousedown","touchstart"],(function(e){var t=i(e.target),n=this.rendered&&!this.tooltip.hasClass(D)&&this.tooltip[0].offsetWidth>0,r=t.parents(C).filter(this.tooltip[0]).length>0;t[0]===this.target[0]||t[0]===this.tooltip[0]||r||this.target.has(t[0]).length||!n||this.hide(e)})),"number"==typeof o.hide.inactive&&(this._bind(l,"qtip-"+this.id+"-inactive",X,"inactive"),this._bind(c.add(a),r.inactiveEvents,X)),this._bindEvents(m,g,l,c,K,Y),this._bind(l.add(a),"mousemove",(function(e){if("number"==typeof o.hide.distance){var t=this.cache.origin||{},n=this.options.hide.distance,i=Math.abs;(i(e.pageX-t.pageX)>=n||i(e.pageY-t.pageY)>=n)&&this.hide(e)}this._storeMouse(e)})),"mouse"===s.target&&s.adjust.mouse&&(o.hide.event&&this._bind(l,["mouseenter","mouseleave"],(function(e){if(!this.cache)return u;this.cache.onTarget="mouseenter"===e.type})),this._bind(p,"mousemove",(function(e){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(D)&&this.tooltip[0].offsetWidth>0&&this.reposition(e)}))),(s.adjust.resize||d.length)&&this._bind(i.event.special.resize?d:f,"resize",J),s.adjust.scroll&&this._bind(f.add(s.container),"scroll",J)},o._unassignEvents=function(){var n=this.options,r=n.show.target,o=n.hide.target,s=i.grep([this.elements.target[0],this.rendered&&this.tooltip[0],n.position.container[0],n.position.viewport[0],n.position.container.closest("html")[0],e,t],(function(e){return"object"==typeof e}));r&&r.toArray&&(s=s.concat(r.toArray())),o&&o.toArray&&(s=s.concat(o.toArray())),this._unbind(s)._unbind(s,"destroy")._unbind(s,"inactive")},i((function(){Q(C,["mouseenter","mouseleave"],(function(e){var t="mouseenter"===e.type,n=i(e.currentTarget),r=i(e.relatedTarget||e.target),o=this.options;t?(this.focus(e),n.hasClass(A)&&!n.hasClass(D)&&clearTimeout(this.timers.hide)):"mouse"===o.position.target&&o.position.adjust.mouse&&o.hide.event&&o.show.target&&!r.closest(o.show.target[0]).length&&this.hide(e),n.toggleClass(L,t)})),Q("["+T+"]",P,X)})),r=i.fn.qtip=function(e,o,a){var l=(""+e).toLowerCase(),d=h,p=i.makeArray(arguments).slice(1),f=p[p.length-1],m=this[0]?i.data(this[0],S):h;return!arguments.length&&m||"api"===l?m:"string"==typeof e?(this.each((function(){var e=i.data(this,S);if(!e)return c;if(f&&f.timeStamp&&(e.cache.event=f),!o||"option"!==l&&"options"!==l)e[l]&&e[l].apply(e,p);else{if(a===n&&!i.isPlainObject(o))return d=e.get(o),u;e.set(o,a)}})),d!==h?d:this):"object"!=typeof e&&arguments.length?void 0:(m=U(i.extend(c,{},e)),this.each((function(e){var n,o;if(o=!(o=i.isArray(m.id)?m.id[e]:m.id)||o===u||o.length<1||r.api[o]?r.nextid++:o,(n=function(e,n,o){var a,l,d,p,f,m=i(t.body),g=e[0]===t?m:e,y=e.metadata?e.metadata(o.metadata):h,v="html5"===o.metadata.type&&y?y[o.metadata.name]:h,b=e.data(o.metadata.name||"qtipopts");try{b="string"==typeof b?i.parseJSON(b):b}catch(e){}if(l=(p=i.extend(c,{},r.defaults,o,"object"==typeof b?U(b):h,U(v||y))).position,p.id=n,"boolean"==typeof p.content.text){if(d=e.attr(p.content.attr),p.content.attr===u||!d)return u;p.content.text=d}if(l.container.length||(l.container=m),l.target===u&&(l.target=g),p.show.target===u&&(p.show.target=g),p.show.solo===c&&(p.show.solo=l.container.closest("body")),p.hide.target===u&&(p.hide.target=g),p.position.viewport===c&&(p.position.viewport=l.container),l.container=l.container.eq(0),l.at=new s(l.at,c),l.my=new s(l.my),e.data(S))if(p.overwrite)e.qtip("destroy",!0);else if(p.overwrite===u)return u;return e.attr(E,n),p.suppress&&(f=e.attr("title"))&&e.removeAttr("title").attr(M,f).attr("title",""),a=new j(e,p,n,!!d),e.data(S,a),a}(i(this),o,m))===u)return c;r.api[o]=n,i.each(k,(function(){"initialize"===this.initialize&&this(n)})),n._assignInitialEvents(f)})))},i.qtip=j,r.api={},i.each({attr:function(e,t){if(this.length){var n=this[0],r="title",o=i.data(n,"qtip");if(e===r&&o&&o.options&&"object"==typeof o&&"object"==typeof o.options&&o.options.suppress)return arguments.length<2?i.attr(n,M):(o&&o.options.content.attr===r&&o.cache.attr&&o.set("content.text",t),this.attr(M,t))}return i.fn["attr"+R].apply(this,arguments)},clone:function(e){var t=i.fn["clone"+R].apply(this,arguments);return e||t.filter("["+M+"]").attr("title",(function(){return i.attr(this,M)})).removeAttr(M),t}},(function(e,t){if(!t||i.fn[e+R])return c;var n=i.fn[e+R]=i.fn[e];i.fn[e]=function(){return t.apply(this,arguments)||n.apply(this,arguments)}})),i.ui||(i["cleanData"+R]=i.cleanData,i.cleanData=function(e){for(var t,n=0;(t=i(e[n])).length;n++)if(t.attr(E))try{t.triggerHandler("removeqtip")}catch(e){}i["cleanData"+R].apply(this,arguments)}),r.version="3.0.3-5-g",r.nextid=0,r.inactiveEvents=P,r.zindex=15e3,r.defaults={prerender:u,id:u,overwrite:c,suppress:c,content:{text:c,attr:"title",title:u,button:u},position:{my:"top left",at:"bottom right",target:u,container:u,viewport:u,adjust:{x:0,y:0,mouse:c,scroll:c,resize:c,method:"flipinvert flipinvert"},effect:function(e,t){i(this).animate(t,{duration:200,queue:u})}},show:{target:u,event:"mouseenter",effect:c,delay:90,solo:u,ready:u,autofocus:u},hide:{target:u,event:"mouseleave",effect:c,delay:0,fixed:u,inactive:u,leave:"window",distance:u},style:{classes:"",widget:u,width:u,height:u,def:c},events:{render:h,move:h,show:h,hide:h,toggle:h,visible:h,hidden:h,focus:h,blur:h}};var Z,ee,te,ne,ie,re="margin",oe="border",se="color",ae="background-color",le="transparent",ce=" !important",ue=!!t.createElement("canvas").getContext,he=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i;function de(e){return e.charAt(0).toUpperCase()+e.slice(1)}var pe,fe={},me=["Webkit","O","Moz","ms"];function ge(e,t){return Math.ceil(parseFloat(function(e,t){var i,r,o=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+me.join(o+" ")+o).split(" "),a=0;if(fe[t])return e.css(fe[t]);for(;i=s[a++];)if((r=e.css(i))!==n)return fe[t]=i,r}(e,t)))}function ye(e,t){this._ns="tip",this.options=t,this.offset=t.offset,this.size=[t.width,t.height],this.qtip=e,this.init(e)}ue?(ne=e.devicePixelRatio||1,ie=(pe=t.createElement("canvas").getContext("2d")).backingStorePixelRatio||pe.webkitBackingStorePixelRatio||pe.mozBackingStorePixelRatio||pe.msBackingStorePixelRatio||pe.oBackingStorePixelRatio||1,te=ne/ie):ee=function(e,t,n){return"<qtipvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(n||"")+'" />'},i.extend(ye.prototype,{init:function(e){var t,n;n=this.element=e.elements.tip=i("<div />",{class:S+"-tip"}).prependTo(e.tooltip),ue?((t=i("<canvas />").appendTo(this.element)[0].getContext("2d")).lineJoin="miter",t.miterLimit=1e5,t.save()):(t=ee("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(t+t),e._bind(i("*",n).add(n),["click","mousedown"],(function(e){e.stopPropagation()}),this._ns)),e._bind(e.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(e){var t=this.qtip.elements.titlebar;return t&&(e.y===g||e.y===_&&this.element.position().top+this.size[1]/2+this.options.offset<t.outerHeight(c))},_parseCorner:function(e){var t=this.qtip.options.position.my;return e===u||t===u?e=u:e===c?e=new s(t.string()):e.string||((e=new s(e)).fixed=c),e},_parseWidth:function(e,t,n){var i=this.qtip.elements,r=oe+de(t)+"Width";return(n?ge(n,r):ge(i.content,r)||ge(this._useTitle(e)&&i.titlebar||i.content,r)||ge(i.tooltip,r))||0},_parseRadius:function(e){var t=this.qtip.elements,n=oe+de(e.y)+de(e.x)+"Radius";return N.ie<9?0:ge(this._useTitle(e)&&t.titlebar||t.content,n)||ge(t.tooltip,n)||0},_invalidColour:function(e,t,n){var i=e.css(t);return!i||n&&i===e.css(n)||he.test(i)?u:i},_parseColours:function(e){var t=this.qtip.elements,n=this.element.css("cssText",""),r=oe+de(e[e.precedance])+de(se),o=this._useTitle(e)&&t.titlebar||t.content,s=this._invalidColour,a=[];return a[0]=s(n,ae)||s(o,ae)||s(t.content,ae)||s(t.tooltip,ae)||n.css(ae),a[1]=s(n,r,se)||s(o,r,se)||s(t.content,r,se)||s(t.tooltip,r,se)||t.tooltip.css(r),i("*",n).add(n).css("cssText",ae+":"+le+ce+";"+oe+":0"+ce+";"),a},_calculateSize:function(e){var t,n,i=e.precedance===p,r=this.options.width,o=this.options.height,s="c"===e.abbrev(),a=(i?r:o)*(s?.5:1),l=Math.pow,c=Math.round,u=Math.sqrt(l(a,2)+l(o,2)),h=[this.border/a*u,this.border/o*u];return h[2]=Math.sqrt(l(h[0],2)-l(this.border,2)),h[3]=Math.sqrt(l(h[1],2)-l(this.border,2)),n=[c((t=(u+h[2]+h[3]+(s?0:h[0]))/u)*r),c(t*o)],i?n:n.reverse()},_calculateTip:function(e,t,n){n=n||1;var i=(t=t||this.size)[0]*n,r=t[1]*n,o=Math.ceil(i/2),s=Math.ceil(r/2),a={br:[0,0,i,r,i,0],bl:[0,0,i,0,0,r],tr:[0,r,i,0,i,r],tl:[0,0,0,r,i,r],tc:[0,r,o,0,i,r],bc:[0,0,i,0,o,r],rc:[0,0,i,s,0,r],lc:[i,0,i,r,0,s]};return a.lt=a.br,a.rt=a.bl,a.lb=a.tr,a.rb=a.tl,a[e.abbrev()]},_drawCoords:function(e,t){e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.lineTo(t[4],t[5]),e.closePath()},create:function(){var e=this.corner=(ue||N.ie)&&this._parseCorner(this.options.corner);return this.enabled=!!this.corner&&"c"!==this.corner.abbrev(),this.enabled&&(this.qtip.cache.corner=e.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(t,n){if(!this.enabled)return this;var r,o,a,l,h,w,k,S,E=this.qtip.elements,T=this.element,x=T.children(),C=this.options,P=this.size,A=C.mimic,O=Math.round;t||(t=this.qtip.cache.corner||this.corner),A===u?A=t:((A=new s(A)).precedance=t.precedance,"inherit"===A.x?A.x=t.x:"inherit"===A.y?A.y=t.y:A.x===A.y&&(A[t.precedance]=t[t.precedance])),o=A.precedance,t.precedance===d?this._swapDimensions():this._resetDimensions(),(r=this.color=this._parseColours(t))[1]!==le?(S=this.border=this._parseWidth(t,t[t.precedance]),C.border&&S<1&&!he.test(r[1])&&(r[0]=r[1]),this.border=S=C.border!==c?C.border:S):this.border=S=0,k=this.size=this._calculateSize(t),T.css({width:k[0],height:k[1],lineHeight:k[1]+"px"}),w=t.precedance===p?[O(A.x===y?S:A.x===b?k[0]-P[0]-S:(k[0]-P[0])/2),O(A.y===g?k[1]-P[1]:0)]:[O(A.x===y?k[0]-P[0]:0),O(A.y===g?S:A.y===v?k[1]-P[1]-S:(k[1]-P[1])/2)],ue?((a=x[0].getContext("2d")).restore(),a.save(),a.clearRect(0,0,6e3,6e3),l=this._calculateTip(A,P,te),h=this._calculateTip(A,this.size,te),x.attr(f,k[0]*te).attr(m,k[1]*te),x.css(f,k[0]).css(m,k[1]),this._drawCoords(a,h),a.fillStyle=r[1],a.fill(),a.translate(w[0]*te,w[1]*te),this._drawCoords(a,l),a.fillStyle=r[0],a.fill()):(l="m"+(l=this._calculateTip(A))[0]+","+l[1]+" l"+l[2]+","+l[3]+" "+l[4]+","+l[5]+" xe",w[2]=S&&/^(r|b)/i.test(t.string())?8===N.ie?2:1:0,x.css({coordsize:k[0]+S+" "+k[1]+S,antialias:""+(A.string().indexOf(_)>-1),left:w[0]-w[2]*Number(o===d),top:w[1]-w[2]*Number(o===p),width:k[0]+S,height:k[1]+S}).each((function(e){var t=i(this);t[t.prop?"prop":"attr"]({coordsize:k[0]+S+" "+k[1]+S,path:l,fillcolor:r[0],filled:!!e,stroked:!e}).toggle(!(!S&&!e)),!e&&t.html(ee("stroke",'weight="'+2*S+'px" color="'+r[1]+'" miterlimit="1000" joinstyle="miter"'))}))),e.opera&&setTimeout((function(){E.tip.css({display:"inline-block",visibility:"visible"})}),1),n!==u&&this.calculate(t,k)},calculate:function(e,t){if(!this.enabled)return u;var n,r,o=this,s=this.qtip.elements,a=this.element,l=this.options.offset,c={};return e=e||this.corner,n=e.precedance,t=t||this._calculateSize(e),r=[e.x,e.y],n===d&&r.reverse(),i.each(r,(function(i,r){var a,u,h;r===_?(c[a=n===p?y:g]="50%",c[re+"-"+a]=-Math.round(t[n===p?0:1]/2)+l):(a=o._parseWidth(e,r,s.tooltip),u=o._parseWidth(e,r,s.content),h=o._parseRadius(e),c[r]=Math.max(-o.border,i?u:l+(h>a?h:-a)))})),c[e[n]]-=t[n===d?0:1],a.css({margin:"",top:"",bottom:"",left:"",right:""}).css(c),c},reposition:function(e,t,i){if(this.enabled){var r,o,s=t.cache,a=this.corner.clone(),l=i.adjusted,h=t.options.position.adjust.method.split(" "),f=h[0],m=h[1]||h[0],k={left:u,top:u,x:0,y:0},S={};this.corner.fixed!==c&&(E(f,d,p,y,b),E(m,p,d,g,v),a.string()===s.corner.string()&&s.cornerTop===l.top&&s.cornerLeft===l.left||this.update(a,u)),(r=this.calculate(a)).right!==n&&(r.left=-r.right),r.bottom!==n&&(r.top=-r.bottom),r.user=this.offset,k.left=f===w&&!!l.left,k.left&&T(d,y,b),k.top=m===w&&!!l.top,k.top&&T(p,g,v),this.element.css(S).toggle(!(k.x&&k.y||a.x===_&&k.y||a.y===_&&k.x)),i.left-=r.left.charAt?r.user:f!==w||k.top||!k.left&&!k.top?r.left+this.border:0,i.top-=r.top.charAt?r.user:m!==w||k.left||!k.left&&!k.top?r.top+this.border:0,s.cornerLeft=l.left,s.cornerTop=l.top,s.corner=a.clone()}function E(e,t,n,i,r){e===w&&a.precedance===t&&l[i]&&a[n]!==_?a.precedance=a.precedance===d?p:d:e!==w&&l[i]&&(a[t]=a[t]===_?l[i]>0?i:r:a[t]===i?r:i)}function T(e,t,s){a[e]===_?S[re+"-"+t]=k[e]=r[re+"-"+t]-l[t]:(o=r[s]!==n?[l[t],-r[t]]:[-l[t],r[t]],(k[e]=Math.max(o[0],o[1]))>o[0]&&(i[t]-=l[t],k[t]=u),S[r[s]!==n?s:t]=k[e])}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),Z=k.tip=function(e){return new ye(e,e.options.style.tip)},Z.initialize="render",Z.sanitize=function(e){if(e.style&&"tip"in e.style){var t=e.style.tip;"object"!=typeof t&&(t=e.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=c)}},a.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(e){this.size=[e.width,e.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},i.extend(c,r.defaults,{style:{tip:{corner:c,mimic:u,width:6,height:6,border:c,offset:0}}});var ve,be,_e="qtip-modal",we="."+_e;function ke(e,t){this.options=t,this._ns="-modal",this.qtip=e,this.init(e)}be=function(){var e,n,r,o=this,s={};function a(e){s.length<1&&e.length?e.not("body").blur():s.first().focus()}function l(t){if(r.is(":visible")){var n=i(t.target),o=e.tooltip,s=n.closest(C);(s.length<1?u:parseInt(s[0].style.zIndex,10)>parseInt(o[0].style.zIndex,10))||n.closest(C)[0]===o[0]||a(n)}}i.extend(o,{init:function(){return r=o.elem=i("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return u}}).hide(),i(t.body).bind("focusin"+we,l),i(t).bind("keydown"+we,(function(t){e&&e.options.show.modal.escape&&27===t.keyCode&&e.hide(t)})),r.bind("click"+we,(function(t){e&&e.options.show.modal.blur&&e.hide(t)})),o},update:function(t){e=t,s=t.options.show.modal.stealfocus!==u?t.tooltip.find("*").filter((function(){return function(e){if(i.expr[":"].focusable)return i.expr[":"].focusable;var t,n,r,o=!isNaN(i.attr(e,"tabindex")),s=e.nodeName&&e.nodeName.toLowerCase();return"area"===s?(n=(t=e.parentNode).name,!(!e.href||!n||"map"!==t.nodeName.toLowerCase())&&!!(r=i("img[usemap=#"+n+"]")[0])&&r.is(":visible")):/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s&&e.href||o}(this)})):[]},toggle:function(s,l,d){var p=s.tooltip,f=s.options.show.modal,m=f.effect,g=l?"show":"hide",y=r.is(":visible"),v=i(we).filter(":visible:not(:animated)").not(p);return o.update(s),l&&f.stealfocus!==u&&a(i(":focus")),r.toggleClass("blurs",f.blur),l&&r.appendTo(t.body),r.is(":animated")&&y===l&&n!==u||!l&&v.length||(r.stop(c,u),i.isFunction(m)?m.call(r,l):m===u?r[g]():r.fadeTo(parseInt(d,10)||90,l?1:0,(function(){l||r.hide()})),l||r.queue((function(e){r.css({left:"",top:""}),i(we).length||r.detach(),e()})),n=l,e.destroyed&&(e=h)),o}}),o.init()},be=new be,i.extend(ke.prototype,{init:function(e){var t=e.tooltip;if(!this.options.on)return this;e.elements.overlay=be.elem,t.addClass(_e).css("z-index",r.modal_zindex+i(we).length),e._bind(t,["tooltipshow","tooltiphide"],(function(e,n,r){var o=e.originalEvent;if(e.target===t[0])if(o&&"tooltiphide"===e.type&&/mouse(leave|enter)/.test(o.type)&&i(o.relatedTarget).closest(be.elem[0]).length)try{e.preventDefault()}catch(e){}else(!o||o&&"tooltipsolo"!==o.type)&&this.toggle(e,"tooltipshow"===e.type,r)}),this._ns,this),e._bind(t,"tooltipfocus",(function(e,n){if(!e.isDefaultPrevented()&&e.target===t[0]){var o=i(we),s=r.modal_zindex+o.length,a=parseInt(t[0].style.zIndex,10);be.elem[0].style.zIndex=s-1,o.each((function(){this.style.zIndex>a&&(this.style.zIndex-=1)})),o.filter("."+I).qtip("blur",e.originalEvent),t.addClass(I)[0].style.zIndex=s,be.update(n);try{e.preventDefault()}catch(e){}}}),this._ns,this),e._bind(t,"tooltiphide",(function(e){e.target===t[0]&&i(we).filter(":visible").not(t).last().qtip("focus",e)}),this._ns,this)},toggle:function(e,t,n){if(e&&e.isDefaultPrevented())return this;be.toggle(this.qtip,!!t,n)},destroy:function(){this.qtip.tooltip.removeClass(_e),this.qtip._unbind(this.qtip.tooltip,this._ns),be.toggle(this.qtip,u),delete this.qtip.elements.overlay}}),ve=k.modal=function(e){return new ke(e,e.options.show.modal)},ve.sanitize=function(e){e.show&&("object"!=typeof e.show.modal?e.show.modal={on:!!e.show.modal}:void 0===e.show.modal.on&&(e.show.modal.on=c))},r.modal_zindex=r.zindex-200,ve.initialize="render",a.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},i.extend(c,r.defaults,{show:{modal:{on:u,effect:c,blur:c,stealfocus:c,escape:c}}}),k.viewport=function(n,i,r,o,s,a,l){var c,h,k,S,E,T,x,C,P=r.target,A=n.elements.tooltip,O=r.my,I=r.at,L=r.adjust,D=L.method.split(" "),R=D[0],M=D[1]||D[0],N=r.viewport,j=r.container,F={left:0,top:0};if(!N.jquery||P[0]===e||P[0]===t.body||"none"===L.method)return F;function B(e,t,n,r,o,s,a,l,c){var u=i[o],d=O[e],p=I[e],m=n===w,g=d===o?c:d===s?-c:-c/2,y=p===o?l:p===s?-l:-l/2,v=x[o]+C[o]-(S?0:k[o]),b=v-u,P=u+c-(a===f?E:T)-v,A=g-(O.precedance===e||d===O[t]?y:0)-(p===_?l/2:0);return m?(A=(d===o?1:-1)*g,i[o]+=b>0?b:P>0?-P:0,i[o]=Math.max(-k[o]+C[o],u-A,Math.min(Math.max(-k[o]+C[o]+(a===f?E:T),u+A),i[o],"center"===d?u-g:1e9))):(r*="flipinvert"===n?2:0,b>0&&(d!==o||P>0)?(i[o]-=A+r,h.invert(e,o)):P>0&&(d!==s||b>0)&&(i[o]-=(d===_?-A:A)+r,h.invert(e,s)),i[o]<x[o]&&-i[o]>P&&(i[o]=u,h=O.clone())),i[o]-u}return k=j.offset()||F,S="static"===j.css("position"),c="fixed"===A.css("position"),E=N[0]===e?N.width():N.outerWidth(u),T=N[0]===e?N.height():N.outerHeight(u),x={left:c?0:N.scrollLeft(),top:c?0:N.scrollTop()},C=N.offset()||F,"shift"===R&&"shift"===M||(h=O.clone()),{left:"none"!==R?B(d,p,R,L.x,y,b,f,o,a):0,top:"none"!==M?B(p,d,M,L.y,g,v,m,s,l):0,my:h}},k.polys={polygon:function(e,t){var n,i,r,o={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:u},s=0,a=[],l=1,c=1,h=0,d=0;for(s=e.length;s--;)(n=[parseInt(e[--s],10),parseInt(e[s+1],10)])[0]>o.position.right&&(o.position.right=n[0]),n[0]<o.position.left&&(o.position.left=n[0]),n[1]>o.position.bottom&&(o.position.bottom=n[1]),n[1]<o.position.top&&(o.position.top=n[1]),a.push(n);if(i=o.width=Math.abs(o.position.right-o.position.left),r=o.height=Math.abs(o.position.bottom-o.position.top),"c"===t.abbrev())o.position={left:o.position.left+o.width/2,top:o.position.top+o.height/2};else{for(;i>0&&r>0&&l>0&&c>0;)for(i=Math.floor(i/2),r=Math.floor(r/2),t.x===y?l=i:t.x===b?l=o.width-i:l+=Math.floor(i/2),t.y===g?c=r:t.y===v?c=o.height-r:c+=Math.floor(r/2),s=a.length;s--&&!(a.length<2);)h=a[s][0]-o.position.left,d=a[s][1]-o.position.top,(t.x===y&&h>=l||t.x===b&&h<=l||t.x===_&&(h<l||h>o.width-l)||t.y===g&&d>=c||t.y===v&&d<=c||t.y===_&&(d<c||d>o.height-c))&&a.splice(s,1);o.position={left:a[0][0],top:a[0][1]}}return o},rect:function(e,t,n,i){return{width:Math.abs(n-e),height:Math.abs(i-t),position:{left:Math.min(e,n),top:Math.min(t,i)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:1/4,bl:3/4,rc:2,lc:1,c:0},ellipse:function(e,t,n,i,r){var o=k.polys._angles[r.abbrev()],s=0===o?0:n*Math.cos(o*Math.PI),a=i*Math.sin(o*Math.PI);return{width:2*n-Math.abs(s),height:2*i-Math.abs(a),position:{left:e+s,top:t+a},adjustable:u}},circle:function(e,t,n,i){return k.polys.ellipse(e,t,n,n,i)}},k.svg=function(e,n,r){for(var o,s,a,l,c,h,d,p,f,m=n[0],g=i(m.ownerSVGElement),y=m.ownerDocument,v=(parseInt(n.css("stroke-width"),10)||0)/2;!m.getBBox;)m=m.parentNode;if(!m.getBBox||!m.parentNode)return u;switch(m.nodeName){case"ellipse":case"circle":p=k.polys.ellipse(m.cx.baseVal.value,m.cy.baseVal.value,(m.rx||m.r).baseVal.value+v,(m.ry||m.r).baseVal.value+v,r);break;case"line":case"polygon":case"polyline":for(p=[],h=-1,l=(d=m.points||[{x:m.x1.baseVal.value,y:m.y1.baseVal.value},{x:m.x2.baseVal.value,y:m.y2.baseVal.value}]).numberOfItems||d.length;++h<l;)c=d.getItem?d.getItem(h):d[h],p.push.apply(p,[c.x,c.y]);p=k.polys.polygon(p,r);break;default:p={width:(p=m.getBBox()).width,height:p.height,position:{left:p.x,top:p.y}}}return f=p.position,(g=g[0]).createSVGPoint&&(s=m.getScreenCTM(),(d=g.createSVGPoint()).x=f.left,d.y=f.top,a=d.matrixTransform(s),f.left=a.x,f.top=a.y),y!==t&&"mouse"!==e.position.target&&(o=i((y.defaultView||y.parentWindow).frameElement).offset())&&(f.left+=o.left,f.top+=o.top),y=i(y),f.left+=y.scrollLeft(),f.top+=y.scrollTop(),p},k.imagemap=function(e,t,n){t.jquery||(t=i(t));var r,o,s,a,l,c=(t.attr("shape")||"rect").toLowerCase().replace("poly","polygon"),h=i('img[usemap="#'+t.parent("map").attr("name")+'"]'),d=i.trim(t.attr("coords")).replace(/,$/,"").split(",");if(!h.length)return u;if("polygon"===c)a=k.polys.polygon(d,n);else{if(!k.polys[c])return u;for(s=-1,l=d.length,o=[];++s<l;)o.push(parseInt(d[s],10));a=k.polys[c].apply(this,o.concat(n))}return(r=h.offset()).left+=Math.ceil((h.outerWidth(u)-h.width())/2),r.top+=Math.ceil((h.outerHeight(u)-h.height())/2),a.position.left+=r.left,a.position.top+=r.top,a};var Se;function Ee(e){this._ns="ie6",this.qtip=e,this.init(e)}i.extend(Ee.prototype,{_scroll:function(){var t=this.qtip.elements.overlay;t&&(t[0].style.top=i(e).scrollTop()+"px")},init:function(n){var r=n.tooltip;i("select, object").length<1&&(this.bgiframe=n.elements.bgiframe=i('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>').appendTo(r),n._bind(r,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=i("<div/>",{id:S+"-rcontainer"}).appendTo(t.body),n.elements.overlay&&n.elements.overlay.addClass("qtipmodal-ie6fix")&&(n._bind(e,["scroll","resize"],this._scroll,this._ns,this),n._bind(r,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var e,t,n=this.qtip.tooltip,i={height:n.outerHeight(u),width:n.outerWidth(u)},r=this.qtip.plugins.tip,o=this.qtip.elements.tip;t={left:-(t=parseInt(n.css("borderLeftWidth"),10)||0),top:-t},r&&o&&(t[(e="x"===r.corner.precedance?[f,y]:[m,g])[1]]-=o[e[0]]()),this.bgiframe.css(t).css(i)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var e,t,n,i,r=this.qtip.tooltip,o=this.qtip.options.style,s=this.qtip.options.position.container;return this.qtip.drawing=1,o.height&&r.css(m,o.height),o.width?r.css(f,o.width):(r.css(f,"").appendTo(this.redrawContainer),(t=r.width())%2<1&&(t+=1),e=((n=r.css("maxWidth")||"")+(i=r.css("minWidth")||"")).indexOf("%")>-1?s.width()/100:0,t=(n=(n.indexOf("%")>-1?e:1*parseInt(n,10))||t)+(i=(i.indexOf("%")>-1?e:1*parseInt(i,10))||0)?Math.min(Math.max(t,i),n):t,r.css(f,Math.round(t)).appendTo(s)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([e,this.qtip.tooltip],this._ns)}}),Se=k.ie6=function(e){return 6===N.ie?new Ee(e):u},Se.initialize="render",a.ie6={"^content|style$":function(){this.redraw()}}}(yl())}(window,document);var Yu=Wc.extend({className:"okta-form-label o-form-label",attributes:{"data-se":"o-form-label"},constructor:function(e){fl.defaults(e,{inputId:e.id}),delete e.id,Wc.apply(this,arguments)},template:pl.template({1:function(e,t,n,i,r){return"<legend>"},3:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<label for="'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"inputId")||(null!=t?s(t,"inputId"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"inputId",hash:{},data:r,loc:{start:{line:1,column:61},end:{line:1,column:72}}}):o)+'"></label>'},5:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(o=null!=(o=s(n,"label")||(null!=t?s(t,"label"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"label",hash:{},data:r,loc:{start:{line:1,column:116},end:{line:1,column:125}}}):o)},7:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<label for="'+c(typeof(o=null!=(o=u(n,"inputId")||(null!=t?u(t,"inputId"):t))?o:a)===l?o.call(s,{name:"inputId",hash:{},data:r,loc:{start:{line:1,column:167},end:{line:1,column:178}}}):o)+'">'+c(typeof(o=null!=(o=u(n,"label")||(null!=t?u(t,"label"):t))?o:a)===l?o.call(s,{name:"label",hash:{},data:r,loc:{start:{line:1,column:180},end:{line:1,column:189}}}):o)+"&nbsp;</label>"},9:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="o-form-explain">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"sublabel")||(null!=t?s(t,"sublabel"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"sublabel",hash:{},data:r,loc:{start:{line:1,column:256},end:{line:1,column:268}}}):o)+"</span>"},11:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="o-form-tooltip icon-16 icon-only form-help-16" title="'+e.escapeExpression(e.lambda(null!=(o=null!=t?s(t,"tooltip"):t)?s(o,"text"):o,t))+'"></span>'},13:function(e,t,n,i,r){return"</legend>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"group"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:28}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"_isLabelView"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:28},end:{line:1,column:89}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"_isRadioOrCheckbox"):t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:89},end:{line:1,column:132}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"_standardLabel"):t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:132},end:{line:1,column:210}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"sublabel"):t,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:210},end:{line:1,column:282}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"tooltip"):t,{name:"if",hash:{},fn:e.program(11,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:282},end:{line:1,column:397}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"group"):t,{name:"if",hash:{},fn:e.program(13,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:397},end:{line:1,column:426}}}))?o:"")},useData:!0}),getTemplateData:function(){const e={label:""};return fl.each(["inputId","label","sublabel","tooltip","group"],(function(t){e[t]=fl.resultCtx(this.options,t,this)}),this),this._isLabelView(e.label)?e._isLabelView=!0:fl.contains(["radio","checkbox"],this.options.type)||!e.label?e._isRadioOrCheckbox=!0:e._standardLabel=!0,e.tooltip&&fl.isString(e.tooltip)&&(e.tooltip={text:e.tooltip}),e},_isLabelView:function(e){return!fl.isUndefined(e)&&e instanceof Wc},postRender:function(){const e=this.getTemplateData();this._isLabelView(e.label)&&(this.removeChildren(),this.add(e.label,"label")),e.tooltip&&this.$(".o-form-tooltip").qtip(fl.extend({style:{classes:"qtip-custom qtip-shadow"},position:{my:window.okta&&"dstheme"===window.okta.theme?"bottom center":"bottom left",at:"top center"},hide:{fixed:!0},show:{delay:0}},e.tooltip.options))}});function Xu(e,t){e.apply(this,fl.map(t.split(/\s+/),(function(e){return this.model.get(e)}),this))}function Ju(e,t){fl.isFunction(e)&&e.call(t)}var Qu=Wc.extend({tagName:function(){return this.options.group?"fieldset":"div"},className:function(){let e="o-form-fieldset";return this.options["label-top"]&&(e+=" o-form-label-top"),this.options.readOnly&&(e+=" o-form-read-mode"),e},attributes:function(){return{"data-se":this.options["data-se"]||"o-form-fieldset"}},constructor:function(e){e.className&&(this.inputWrapperClassName=this.className,this.optionsClassName=e.className,e.className=function(){return fl.result(this,"inputWrapperClassName","")+" "+fl.result(this,"optionsClassName")}),Wc.apply(this,arguments),fl.each(e.events||{},(function(e,t){this.listenTo(this.model,t,e)}),this),fl.each(e.bindings||{},(function(e,t){this.listenTo(this.model,Ru.changeEventString(t.split(/\s+/)),fl.bind(Xu,this,e,t))}),this),Ru.applyShowWhen(this,e.showWhen),Ru.applyToggleWhen(this,e.toggleWhen),Ju(e.initialize,this)},postRender:function(){fl.each(this.options.bindings||{},Xu,this),Ju(this.options.render,this)},getLabel:function(){return this.size()>1?this.at(0):null},getInput:function(){return this.getInputContainer()},getInputContainer:function(){return this.at(this.size()>1?1:0)},getInputs:function(){return this.getInputContainer().toArray()},focus:function(){return this.getInput().focus()}});const Zu=pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h2 class="o-form-title-bar" data-se="o-form-title-bar">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"title")||(null!=t?s(t,"title"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:r,loc:{start:{line:1,column:75},end:{line:1,column:84}}}):o)+"</h2>"},3:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"title"):t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:192},end:{line:1,column:288}}}))?o:""},4:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h2 data-se="o-form-head" class="okta-form-title o-form-head">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"title")||(null!=t?s(t,"title"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:r,loc:{start:{line:1,column:267},end:{line:1,column:276}}}):o)+"</h2>"},6:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="okta-form-subtitle o-form-explain" data-se="o-form-explain">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"subtitle")||(null!=t?s(t,"subtitle"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"subtitle",hash:{},data:r,loc:{start:{line:1,column:385},end:{line:1,column:397}}}):o)+"</p>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=l(n,"if").call(a,null!=t?l(t,"hasReadMode"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:96}}}))?o:"")+'<div data-se="o-form-content" class="o-form-content '+e.escapeExpression("function"==typeof(s=null!=(s=l(n,"layout")||(null!=t?l(t,"layout"):t))?s:e.hooks.helperMissing)?s.call(a,{name:"layout",hash:{},data:r,loc:{start:{line:1,column:148},end:{line:1,column:158}}}):s)+' clearfix">'+(null!=(o=l(n,"unless").call(a,null!=t?l(t,"hasReadMode"):t,{name:"unless",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:169},end:{line:1,column:299}}}))?o:"")+(null!=(o=l(n,"if").call(a,null!=t?l(t,"subtitle"):t,{name:"if",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:299},end:{line:1,column:408}}}))?o:"")+'<div class="o-form-error-container" data-se="o-form-error-container"></div><div class="o-form-fieldset-container" data-se="o-form-fieldset-container"></div></div>'},useData:!0}),eh=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h2 class="o-form-head">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"title")||(null!=t?s(t,"title"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:r,loc:{start:{line:1,column:24},end:{line:1,column:33}}}):o)+"</h2>"},useData:!0}),th="auto"===Vl("<div>").css({"pointer-events":"auto"})[0].style.pointerEvents;function nh(e){if(!th&&this.$el.hasClass("o-form-saving")){const t=Vl(e.currentTarget);t.css("display","none");const n=document.elementFromPoint(e.clientX,e.clientY);return t.css("display","block"),e.target=n,Vl(n).trigger(e),!1}}const ih={submit:function(e){e.preventDefault(),this.__save()}};fl.each(["click","dblclick","mousedown","mouseup"],(function(e){ih[e+" .o-form-input"]=nh}));const rh=function(e,t){e||(e="");let n=[];return fl.isString(e)&&(n=e.split(" ")),n=fl.union(n,t),n.join(" ")};var oh=Wc.extend({constructor:function(e){e||(e={}),this.options=e,e.settings?this.settings=e.settings:this.settings=e.settings=new Lc,this.id=fl.uniqueId("form"),this.tagName="form",fl.defaults(this.events,ih),fl.defaults(this.attributes,function(e){e||(e={});const t=e&&e.collection||{};return{method:"POST",action:fl.result(e,"urlRoot")||fl.result(t,"url")||window.location.pathname,"data-se":"o-form",slot:"content"}}(e.model)),this.__buttons=[],this.__errorFields={},this.__saveModelState(e.model);const t=fl.result(this,"step");if(t){if(!this.save){const e=fl.result(this,"totalSteps");this.save=e&&t!==e?Xl.localize("oform.button.next","courage"):Xl.localize("oform.button.finish","courage")}this.className=fl.result(this,"className")+" wizard"}this.className=fl.result(this,"className")+" o-form",this.__toolbar=this.__createToolbar(e),Wc.call(this,e),fl.each(fl.result(this,"inputs")||[],(function(e){this.__addLayoutItem(e)}),this),this.add(this.__toolbar,""),this.listenTo(this.model,"change:__edit__",this.__applyMode),this.listenTo(this.model,"invalid error",fl.throttle((function(e,t,n){this.__showErrors(e,t,!1!==n)}),100,{trailing:!1})),this.listenTo(this.model,"form:resize",(function(){this.trigger("resize")})),this.listenTo(this.model,"form:cancel",fl.throttle(this.__cancel,100,{trailing:!1})),this.listenTo(this.model,"form:previous",fl.throttle(this.__previous,100,{trailing:!1})),this.__save=fl.throttle(this.__save,200,{trailing:!1}),this.listenTo(this.model,"form:save",(function(){this.$el.submit()})),this.listenTo(this.model,"sync",(function(){this.model.get("__edit__")&&this.model.set("__edit__",!1,{silent:!0}),this.__saveModelState(this.model),this.render()}));let n=this.getAttribute("hasSavingState");if(this.getAttribute("autoSave")&&(this.listenTo(this,"save",(function(e){const t=e.save();t&&t.done&&t.done((()=>{this.trigger("saved",e)}))})),fl.isUndefined(n)&&(n=!0)),n){const e=this.getAttribute("customSavingState",{});this.listenTo(this.model,rh(e.start||"",["request"]),this.__setSavingState),this.listenTo(this.model,rh(e.stop||"",["error","sync"]),this.__clearSavingState)}},__createToolbar:function(e){const t=!0===this.getAttribute("danger")?"button-error":"button-primary",n=fl.result(this,"step"),i=new ju(fl.extend({save:this.save||Xl.localize("oform.save","courage"),saveId:this.saveId,saveClassName:t,cancel:this.cancel||Xl.localize("oform.cancel","courage"),noCancelButton:this.noCancelButton||!1,noSubmitButton:this.noSubmitButton||!1,buttonOrder:this.buttonOrder,hasPrevStep:n&&n>1},e||this.options));return fl.each(this.__buttons,(function(e){i.addButton.apply(i,e)})),i},className:"",attributes:{},events:{},inputs:[],template:null,read:!1,readOnly:!1,noButtonBar:!1,noCancelButton:!1,noSubmitButton:!1,buttonOrder:["previous","save","cancel"],save:null,cancel:null,danger:!1,layout:"",step:void 0,totalSteps:void 0,title:null,subtitle:null,autoSave:!1,scrollOnError:!0,showErrors:!0,resizeSelector:".o-form-content",getAttribute:function(e,t){let n=fl.resultCtx(this.options,e,this);return fl.isUndefined(n)&&(n=fl.result(this,e)),fl.isUndefined(n)?t:n},hasReadMode:function(){return!!this.getAttribute("read")},isReadOnly:function(){return!!this.getAttribute("readOnly")},hasButtonBar:function(){return!(this.getAttribute("noButtonBar")||this.isReadOnly())},render:function(){if(this.__readModeBar&&this.__readModeBar.remove(),this.hasReadMode()&&!this.isReadOnly()){const e=Mu.extend({formTitle:this.getAttribute("title","")});this.__readModeBar=this.add(e,".o-form-title-bar").last()}const e=Zu({layout:this.getAttribute("layout",""),title:this.getAttribute("title","",!0),subtitle:this.getAttribute("subtitle","",!0),hasReadMode:this.hasReadMode()});return this.$el.html(e),delete this.template,Wc.prototype.render.apply(this,arguments),this.__applyMode(),this},__setSavingState:function(){this.model.trigger("form:set-saving-state"),this.$el.addClass("o-form-saving")},__clearSavingState:function(){this.model.trigger("form:clear-saving-state"),this.$el.removeClass("o-form-saving")},__toggleToolbar:function(){this.__toolbar&&this.__toolbar.remove(),this.hasButtonBar()&&this._editMode()&&(this.__toolbar=this.__createToolbar(),this.add(this.__toolbar,"")),this.trigger("resize")},__cancel:function(){const e=this.model.get("__edit__");let t;this.model.clear({silent:!0}),t=this.model.sanitizeAttributes?this.model.sanitizeAttributes(this.__originalModel):fl.clone(this.__originalModel),this.model.set(t,{silent:!0}),this.trigger("cancel",this.model),this.model.trigger("cache:clear"),e&&(this.model.set("__edit__",!1,{silent:!0}),this.model.trigger("change:__edit__",this.model,!1)),this.clearErrors()},isValid:function(){let e;const t=this;function n(e){return fl.reduce(e,(function(e,n){return fl.extend(e,t.model.validateField(n))}),{})}return fl.isUndefined(this.validate)?this.model.isValid():(fl.isFunction(this.validate)?e=this.validate():fl.isArray(this.validate)?e=n(this.validate):"local"===this.validate&&(e=n(this.getInputs().map((function(e){return e.options.name})))),!!fl.isEmpty(e)||(this.model.trigger("invalid",this.model,e),!1))},__save:function(){this.clearErrors(),this.isValid()&&this.trigger("save",this.model)},__previous:function(){this.trigger("previous",this.model)},__applyMode:function(){this.clearErrors(),this.__toggleToolbar(),this._editMode()?(this.$el.addClass("o-form-edit-mode"),this.$el.removeClass("o-form-read-mode"),this.$(".o-form-content").removeClass("rounded-btm-4"),this.focus()):(this.$el.removeClass("o-form-edit-mode"),this.$el.addClass("o-form-read-mode"),this.$(".o-form-content").addClass("rounded-btm-4"))},_editMode:function(){return this.model.get("__edit__")||!this.hasReadMode()},parseErrorMessage:fl.identity,_handleErrorScroll:function(){if(!this.getAttribute("scrollOnError"))return;const e=Vl("#"+this.id+" .o-form-error-container");if(e.length){let t,n=e.scrollParent();n[0]===document?(n=Vl("html, body"),t=e.offset().top):t=n.scrollTop()+e.offset().top-n.offset().top,n.animate({scrollTop:t},400)}},__showErrors:function(e,t,n){if(this.trigger("error",e),!this.getAttribute("showErrors"))return;let i,r=Uu.getResponseJSON(t);const o=Uu.parseFieldErrors(t);fl.size(o)?fl.each(o,(function(e,t){this.model.trigger("form:field-error",this.__errorFields[t]||t,fl.map(e,(function(e){return/^model\.validation/.test(e)?Xl.localize(e,"courage"):e})))}),this):(r=this.parseErrorMessage(r),i=function(e={}){return Array.isArray(e.errorCauses)&&e.errorCauses.length>0?e.errorCauses[0].errorSummary:e.errorSummary}(r)),n&&(this.$(".o-form-error-container").addClass("o-form-has-errors"),this.add(Fu,".o-form-error-container",{options:{errorSummary:i}})),this._handleErrorScroll(),this.model.trigger("form:resize")},clearErrors:function(){this.$(".o-form-error-container").removeClass("o-form-has-errors"),this.model.trigger("form:clear-errors"),this.model.trigger("form:resize")},toggle:function(){return this.model.set("__edit__",!this.hasReadMode()||!this.model.get("__edit__")),this},__addLayoutItem:function(e){Ku(e)?this.addInput(e):this.__addNonInputLayoutItem(e)},__addNonInputLayoutItem:function(e){const t=fl.omit(e,"type");switch(e.type){case"sectionTitle":this.addSectionTitle(e.title,fl.omit(t,"title"));break;case"divider":this.addDivider(t);break;default:throw new Error("unknown input: "+e.type)}},addButton:function(e,t){this.__toolbar&&this.__toolbar.addButton(e,t),this.__buttons.push([e,t])},addDivider:function(e){return this.add('<div class="okta-form-divider form-divider"></div>'),Ru.applyShowWhen(this.last(),e&&e.showWhen),Ru.applyToggleWhen(this.last(),e&&e.toggleWhen),this},addSectionTitle:function(e,t){return this.add(eh({title:e})),Ru.applyShowWhen(this.last(),t&&t.showWhen),Ru.applyToggleWhen(this.last(),t&&t.toggleWhen),this},addInput:function(e){e=fl.clone(e),Ru.validateInput(e,this.model);const t=Ru.generateInputOptions(e,this,this.__createInput).reverse();fl.isEmpty(this.getInputs().toArray())&&fl.extend(t[0],{validateOnlyIfDirty:!0});const n=fl.map(t,this.__createInput,this);fl.each(t,(function(e){e.errorField&&(this.__errorFields[e.errorField]=e.name)}),this);const i={inputId:fl.last(n).options.inputId,input:n,multi:t.length>1?t.length:void 0};fl.extend(i,fl.omit(this.options,"input"),fl.omit(e,"input"));const r=this.__createWrapper(i);!1!==i.label&&r.add(this.__createLabel(i)),r.add(this._createContainer(i)),r.type=i.type||i.input.type||"custom";const o=[r].concat(fl.rest(arguments));return this.add.apply(this,o)},__createInput:function(e){return e=fl.pick(e,Ru.INPUT_OPTIONS),Gu(e)},__createWrapper:function(e){return e=fl.pick(e,Ru.WRAPPER_OPTIONS),new Qu(e)},__createLabel:function(e){return e=fl.pick(e,Ru.LABEL_OPTIONS),new Yu(e)},_createContainer:function(e){return e=fl.pick(e,Ru.CONTAINER_OPTIONS),new Vu(e)},__saveModelState:function(e){this.__originalModel=Vl.extend(!0,{},e.attributes)},add:function(...e){return void 0===e[1]&&(e[1]="> div.o-form-content > .o-form-fieldset-container"),Wc.prototype.add.apply(this,e)},focus:function(){const e=this.getInputs().first();return e&&e.focus&&e.focus(),this},disable:function(){return this.invoke("disable"),this},enable:function(){this.invoke("enable")},contentHeight:function(e){const t=this.$(".o-form-content");if(!fl.isNumber(e))return t.height();t.css("max-height",e)},getInputs:function(){return fl(this.filter((function(e){return e instanceof Qu})))}});(function(){var e;(e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,i,r,o,s;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),s=[],i=0,r=(o=e.childNodes).length;i<r;i++)n=o[i],s.push(this.add_option(n,t,e.disabled));return s},e.prototype.add_option=function(e,t,n){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:!0===n?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e}()).select_to_array=function(t){var n,i,r,o,s;for(i=new e,r=0,o=(s=t.childNodes).length;r<o;r++)n=s[r],i.add_node(n);return i.parsed},this.SelectParser=e}).call(yl()),function(){var e;e=function(){function e(t,n){this.form_field=t,this.options=null!=n?n:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout((function(){return t.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(e){var t=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout((function(){return t.blur_test()}),100)},e.prototype.result_add_option=function(e){var t,n;return e.dom_id=this.container_id+"_o_"+e.array_index,t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),n=""!==e.style.cssText&&""!==e.style?' style="'+e.style+'"':"",'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+n+">"+e.html+"</li>"},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.choices_count=function(){var e,t,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,e=0,t=(n=this.form_field.options).length;e<t;e++)n[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){if(e.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},e.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.generate_field_id=function(){var e;return e=this.generate_random_id(),this.form_field.id=e,e},e.prototype.generate_random_char=function(){var e;return e=Math.floor(36*Math.random()),"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".substring(e,e+1)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},e.browser_is_supported=function(){var e;return"Microsoft Internet Explorer"!==window.navigator.appName||null!==(e=document.documentMode)&&e>=8},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),this.AbstractChosen=e}.call(yl()),function(){var e,t,n,i={}.hasOwnProperty,r=(n=this).AbstractChosen;(e=yl()).fn.extend({chosen:function(n){return r.browser_is_supported()?this.each((function(i){var r;if(!(r=e(this)).hasClass("chzn-done"))return r.data("chosen",new t(this,n))})):this}}),t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(r,t),r.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},r.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},r.prototype.set_up_html=function(){var t,n;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",(t=["chzn-container"]).push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chzn-rtl"),n={id:this.container_id,class:t.join(" "),title:this.form_field.title},this.container=e("<div></div>",n),this.container[0].style.width=this.container_width(),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="#" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},r.prototype.register_observers=function(){var e=this;return this.container.mousedown((function(t){e.container_mousedown(t)})),this.container.mouseup((function(t){e.container_mouseup(t)})),this.container.mouseenter((function(t){e.mouse_enter(t)})),this.container.mouseleave((function(t){e.mouse_leave(t)})),this.search_results.mouseup((function(t){e.search_results_mouseup(t)})),this.search_results.mouseover((function(t){e.search_results_mouseover(t)})),this.search_results.mouseout((function(t){e.search_results_mouseout(t)})),this.search_results.bind("mousewheel DOMMouseScroll",(function(t){e.search_results_mousewheel(t)})),this.form_field_jq.bind("liszt:updated",(function(t){e.results_update_field(t)})),this.form_field_jq.bind("liszt:activate",(function(t){e.activate_field(t)})),this.form_field_jq.bind("liszt:open",(function(t){e.container_mousedown(t)})),this.search_field.blur((function(t){e.input_blur(t)})),this.search_field.keyup((function(t){e.keyup_checker(t)})),this.search_field.keydown((function(t){e.keydown_checker(t)})),this.search_field.focus((function(t){e.input_focus(t)})),this.is_multiple?this.search_choices.click((function(t){e.choices_click(t)})):this.container.click((function(e){e.preventDefault()}))},r.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},r.prototype.container_mousedown=function(t){if(!this.is_disabled&&(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null==t||!e(t.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chzn-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field()},r.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},r.prototype.search_results_mousewheel=function(e){var t,n,i;if(null!=(t=-(null!=(n=e.originalEvent)?n.wheelDelta:void 0)||(null!=(i=e.originialEvent)?i.detail:void 0)))return e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},r.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chzn-container-active"))return this.close_field()},r.prototype.close_field=function(){return e(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},r.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},r.prototype.test_active_click=function(t){return e(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},r.prototype.results_build=function(){var e,t,i,r,o;for(this.parsing=!0,this.selected_option_count=null,this.results_data=n.SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chzn-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chzn-container-single-nosearch"))),e="",i=0,r=(o=this.results_data).length;i<r;i++)(t=o[i]).group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},r.prototype.result_add_group=function(t){return t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+e("<div></div>").text(t.label).html()+"</li>"},r.prototype.result_do_highlight=function(e){var t,n,i,r,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),r=(i=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop()),(t=(n=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=r)return this.search_results.scrollTop(t-i>0?t-i:0);if(n<o)return this.search_results.scrollTop(n)}},r.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},r.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},r.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this})),this.results_showing=!1},r.prototype.set_tab_index=function(e){var t;if(this.form_field_jq.attr("tabindex"))return t=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",t)},r.prototype.set_label_behavior=function(){var t=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.click((function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}))},r.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},r.prototype.search_results_mouseup=function(t){var n;if((n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first()).length)return this.result_highlight=n,this.result_select(t),this.search_field.focus()},r.prototype.search_results_mouseover=function(t){var n;if(n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first())return this.result_do_highlight(n)},r.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result"))return this.result_clear_highlight()},r.prototype.choice_build=function(t){var n,i,r=this;return n=e("<li></li>",{class:"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?n.addClass("search-choice-disabled"):((i=e("<a></a>",{href:"#",class:"search-choice-close",rel:t.array_index})).click((function(e){return r.choice_destroy_link_click(e)})),n.append(i)),this.search_container.before(n)},r.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(e(t.target))},r.prototype.choice_destroy=function(e){if(this.result_deselect(e.attr("rel")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},r.prototype.results_reset=function(){if(this.form_field.options[0].selected=!0,this.selected_option_count=null,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},r.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},r.prototype.result_select=function(e){var t,n,i,r;if(this.result_highlight)return n=(t=this.result_highlight).attr("id"),this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t,this.selected_item.removeClass("chzn-default")),t.addClass("result-selected"),r=n.substr(n.lastIndexOf("_")+1),(i=this.results_data[r]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):(this.selected_item.find("span").first().text(i.text),this.allow_single_deselect&&this.single_deselect_control_build()),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())},r.prototype.result_activate=function(e,t){return t.disabled?e.addClass("disabled-result"):this.is_multiple&&t.selected?e.addClass("result-selected"):e.addClass("active-result")},r.prototype.result_deactivate=function(e){return e.removeClass("active-result result-selected disabled-result")},r.prototype.result_deselect=function(t){var n;return n=this.results_data[t],!this.form_field.options[n.options_index].disabled&&(n.selected=!1,this.form_field.options[n.options_index].selected=!1,this.selected_option_count=null,e("#"+this.container_id+"_o_"+t).removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[n.options_index].value}),this.search_field_scale(),!0)},r.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chzn-single-with-deselect")},r.prototype.winnow_results=function(){var t,n,i,r,o,s,a,l,c,u,h,d,p,f,m,g,y,v;for(this.no_results_clear(),c=0,u=this.search_field.val()===this.default_text?"":e("<div></div>").text(e.trim(this.search_field.val())).html(),s=this.search_contains?"":"^",o=new RegExp(s+u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),p=new RegExp(u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),f=0,g=(v=this.results_data).length;f<g;f++)if(!(n=v[f]).empty)if(n.group)e("#"+n.dom_id).css("display","none");else{if(t=!1,l=n.dom_id,a=e("#"+l),o.test(n.html))t=!0,c+=1;else if(this.enable_split_word_search&&(n.html.indexOf(" ")>=0||0===n.html.indexOf("["))&&(r=n.html.replace(/\[|\]/g,"").split(" ")).length)for(m=0,y=r.length;m<y;m++)i=r[m],o.test(i)&&(t=!0,c+=1);t?(u.length?(h=n.html.search(p),d=(d=n.html.substr(0,h+u.length)+"</em>"+n.html.substr(h+u.length)).substr(0,h)+"<em>"+d.substr(h)):d=n.html,a.html(d),this.result_activate(a,n),null!=n.group_array_index&&e("#"+this.results_data[n.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return c<1&&u.length?this.no_results(u):this.winnow_results_set_highlight()},r.prototype.winnow_results_set_highlight=function(){var e,t;if(!this.result_highlight&&null!=(e=(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?t.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(e)},r.prototype.no_results=function(t){var n;return(n=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(t),this.search_results.append(n)},r.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},r.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},r.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},r.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},r.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},r.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},r.prototype.search_field_scale=function(){var t,n,i,r,o,s,a;if(this.is_multiple){for(o=0,i="position:absolute; left: -1000px; top: -1000px; display:none;",s=0,a=(r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;s<a;s++)i+=(n=r[s])+":"+this.search_field.css(n)+";";return(t=e("<div></div>",{style:i})).text(this.search_field.val()),e("body").append(t),o=t.width()+25,t.remove(),this.f_width||(this.f_width=this.container.outerWidth()),o>this.f_width-10&&(o=this.f_width-10),this.search_field.css({width:o+"px"})}},r.prototype.generate_random_id=function(){var t;for(t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+t).length>0;)t+=this.generate_random_char();return t},r}(r),n.Chosen=t}.call(yl());function sh(e,t){return fl.resultCtx(e.options,t,e)||fl.result(e,t)}const ah={"click .infobox-dismiss-link":function(e){e.preventDefault(),this.$el.fadeOut(400,(()=>{this.trigger("dismissed"),this.remove()}))}},lh=pl.template({1:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a data-se="dismiss-link" class="infobox-dismiss-link" title="'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"courage",code:"component.dismiss"},data:r,loc:{start:{line:1,column:81},end:{line:1,column:131}}}))+'" href="#"><span data-se="icon" class="dismiss-icon"></span></a>'},3:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h3 data-se="header">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"title")||(null!=t?s(t,"title"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:r,loc:{start:{line:1,column:286},end:{line:1,column:295}}}):o)+"</h3>"},5:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p data-se="sub-header">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"subtitle")||(null!=t?s(t,"subtitle"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"subtitle",hash:{},data:r,loc:{start:{line:1,column:347},end:{line:1,column:359}}}):o)+"</p>"},7:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<ul data-se="list" class="bullets">'+(null!=(o=s(n,"each").call(null!=t?t:e.nullContext||{},null!=t?s(t,"bullets"):t,{name:"each",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:420},end:{line:1,column:483}}}))?o:"")+"</ul>"},8:function(e,t,n,i,r){return'<li data-se="list-item">'+e.escapeExpression(e.lambda(t,t))+"</li>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=l(n,"if").call(a,null!=t?l(t,"dismissible"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:202}}}))?o:"")+'<span data-se="icon" class="icon '+e.escapeExpression("function"==typeof(s=null!=(s=l(n,"icon")||(null!=t?l(t,"icon"):t))?s:e.hooks.helperMissing)?s.call(a,{name:"icon",hash:{},data:r,loc:{start:{line:1,column:235},end:{line:1,column:243}}}):s)+'"></span>'+(null!=(o=l(n,"if").call(a,null!=t?l(t,"title"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:252},end:{line:1,column:307}}}))?o:"")+(null!=(o=l(n,"if").call(a,null!=t?l(t,"subtitle"):t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:307},end:{line:1,column:370}}}))?o:"")+(null!=(o=l(n,"if").call(a,null!=t?l(t,"bullets"):t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:370},end:{line:1,column:495}}}))?o:"")},useData:!0}),ch=Wc.extend({attributes:{"data-se":"callout"},content:null,size:"standard",type:"info",dismissible:!1,title:null,subtitle:null,bullets:null,constructor:function(){this.events=fl.defaults(this.events||{},ah),Wc.apply(this,arguments),this.$el.addClass(function(e){let t="infobox clearfix infobox-"+sh(e,"type");switch(sh(e,"size")){case"standard":t+="";break;case"slim":t+=" infobox-slim";break;case"compact":t+=" infobox-compact";break;case"large":t+=" infobox-md"}return sh(e,"dismissible")&&(t+=" infobox-dismiss"),t}(this)),this.template=lh;const e=sh(this,"content");e&&this.add(e)},getTemplateData:function(){let e=sh(this,"type");switch("tip"===e&&(e="light-bulb"),sh(this,"size")){case"slim":e="";break;case"large":e=[e,"-","24"].join("");break;default:e=[e,"-","16"].join("")}return{icon:e,title:sh(this,"title"),subtitle:sh(this,"subtitle"),bullets:sh(this,"bullets"),dismissible:sh(this,"dismissible")}}});var uh=function(e){return new ch(e)};const hh={tagName:"span",attributes:function(){return{"data-se":"o-form-input-"+this.getNameString()}},defaultPlaceholder:"",constructor:function(e){delete(e=fl.defaults(e||{},{inputId:e.id||fl.uniqueId("input"),placeholder:this.defaultPlaceholder,inlineValidation:!0,validateOnlyIfDirty:!1})).id;const t=this;fl.each({enable:"removeClass",disable:"addClass"},(function(e,n){t[n]=fl.wrap(t[n],(function(n){n.apply(t,arguments),t.$el[e]("o-form-disabled")}))})),Wc.call(this,e),!0!==fl.result(e,"readOnly")&&!0===fl.result(e,"read")&&this.listenTo(this.model,"change:__edit__",this.render),fl.isFunction(this.focus)&&(this.focus=fl.debounce(fl.bind(this.focus,this),50)),fl.result(e,"validateOnlyIfDirty")||this.addInlineValidation(),this.addModelListeners(),this.$el.addClass("o-form-input-name-"+this.getNameString())},addAriaLabel:function(){const e=this.options.ariaLabel;e&&this.$(":input").attr("aria-label",e)},addInlineValidation:function(){fl.result(this.options,"inlineValidation")&&this.$el.on("focusout",":input",fl.bind(this.validate,this))},toModelValue:function(){let e=this.val();return fl.isFunction(this.to)&&(e=this.to.call(this,e)),fl.isFunction(this.options.to)&&(e=this.options.to.call(this,e)),e},__getDependencyCalloutBtn:function(e){const t=this,n=fl.clone(e),i=n.click||function(){};return n.click=function(){Vl(window).one("focus.dependency",(function(){t.__showInputDependencies()})),i.call(t)},new(Wc.extend({children:[su(n)]}))},getCalloutParent:function(){return this.$('input[value="'+this.getModelValue()+'"]').parent()},__getCalloutMsgContainer:function(e){return Wc.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="o-form-explain">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"msg")||(null!=t?s(t,"msg"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"msg",hash:{},data:r,loc:{start:{line:1,column:29},end:{line:1,column:36}}}):o)+"</span>"},useData:!0}),getTemplateData:function(){return{msg:e}}})},showCallout:function(e,t){const n=fl.clone(e);n.className="dependency-callout",n.btn&&(n.content=this.__getDependencyCalloutBtn(n.btn),delete n.btn);const i=uh(n);t||i.add(this.__getCalloutMsgContainer(Xl.localize("dependency.callout.msg","courage"))),this.getCalloutParent().append(i.render().el),"success"===n.type&&fl.delay((function(){i.$el.fadeOut(800)}),1e3)},removeCallout:function(){this.$el.find(".dependency-callout").remove()},__evaluateCalloutObject:function(e,t){let n;return n=e?{title:Xl.localize("dependency.action.completed","courage"),size:"large",type:"success"}:{title:Xl.localize("dependency.action.required","courage",[t]),size:"large",type:"warning"},n},__handleDependency:function(e,t){const n=this,i=fl.isFunction(t)?t(e):fl.extend({},t,n.__evaluateCalloutObject(e.resolved,t.title));n.removeCallout(),n.showCallout(i,e.resolved)},__showInputDependencies:function(){const e=this,t=e.options.deps[e.getModelValue()];t&&fl.isFunction(t.func)?t.func().done((function(n){e.__handleDependency({resolved:!0,data:n},t.callout)})).fail((function(n){e.__handleDependency({resolved:!1,data:n},t.callout)})):e.removeCallout()},_isEdited:!1,hasIMESupport:!1,update:function(e){var t,n;if(!this._isEdited&&fl.result(this.options,"validateOnlyIfDirty")&&(this._isEdited=!0,this.addInlineValidation()),this.model.set(this.options.name,this.toModelValue()),this.options.deps&&this.__showInputDependencies(),this.hasIMESupport&&null!==(t=window)&&void 0!==t&&null!==(n=t.okta)&&void 0!==n&&n.enableIMESupport){if(this.isComposing)return;e&&yu.isEnter(e)&&this.model.trigger("form:save")}},isEditMode:function(){return!fl.result(this.options,"readOnly")&&(!0!==fl.result(this.options,"read")||!0===this.model.get("__edit__"))},render:function(){this.preRender();const e=this.options.params;return this.options.params=fl.resultCtx(this.options,"params",this),this.isEditMode()?(this.editMode(),this.applyEnabledState()):this.readMode(),this.options.params=e,this.addAriaLabel(),this.postRender(),this},applyEnabledState:function(){fl.resultCtx(this.options,"disabled",this)?this.disable():this.enable()},validate:function(){if(!this.model.get("__pending__")&&this.isEditMode()&&fl.isFunction(this.model.validateField)){const e=this.model.validateField(this.options.name);e&&fl.delay(function(){this.model.trigger("form:clear-error:"+this.options.name),this.model.trigger("invalid",this.model,e,!1)}.bind(this),100)}},addModelListeners:function(){this.listenTo(this.model,"form:field-error",(function(e){this.options.name===e&&this.__markError()})),this.listenTo(this.model,"form:clear-errors change:"+this.options.name,this.__clearError),this.listenTo(this.model,"form:clear-error:"+this.options.name,this.__clearError)},val:function(){throw new Error("val() is an abstract method")},focus:function(){throw new Error("focus() is an abstract method")},defaultValue:function(){return""},editMode:function(){const e=fl.extend({},this.options,{value:this.getModelValue()});return this.$el.html(this.template(e)),this.options.multi&&this.$el.removeClass("margin-r"),this},readMode:function(){return this.$el.text(this.getReadModeString()),this.$el.removeClass("error-field"),this.options.multi&&this.$el.addClass("margin-r"),this},getReadModeString:function(){return fl.resultCtx(this.options,"readModeString",this)||this.toStringValue()},getModelValue:function(){let e=this.model.get(this.options.name);return fl.isFunction(this.from)&&(e=this.from.call(this,e)),fl.isFunction(this.options.from)&&(e=this.options.from.call(this,e)),e},toStringValue:function(){let e=this.getModelValue();return this.options.options&&(e=this.options.options[e]),(Number.isInteger(e)||"boolean"==typeof e)&&(e=String(e)),e||this.defaultValue()},resize:function(){this.model.trigger("form:resize")},disable:function(){this.$(":input").prop("disabled",!0)},enable:function(){this.$(":input").prop("disabled",!1)},changeType:function(e){this.$(":input").prop("type",e),this.options.type=e},getNameString:function(){return fl.isArray(this.options.name)?this.options.name.join("-"):this.options.name},getParams:function(e){const t=e||this.options||{};return fl.clone(fl.resultCtx(t,"params",this)||{})},getParam:function(e,t){const n=fl.resultCtx(this.getParams(),e,this);return fl.isUndefined(n)?t:n},getParamOrAttribute:function(e){return this.getParam(e)||fl.result(this,e)},__markError:function(){this.$el.addClass("o-form-has-errors")},__clearError:function(){this.$el.removeClass("o-form-has-errors")}};var dh=Wc.extend(hh);const ph=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<select id="'+c(typeof(o=null!=(o=u(n,"inputId")||(null!=t?u(t,"inputId"):t))?o:a)===l?o.call(s,{name:"inputId",hash:{},data:r,loc:{start:{line:1,column:12},end:{line:1,column:23}}}):o)+'" name="'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:a)===l?o.call(s,{name:"name",hash:{},data:r,loc:{start:{line:1,column:31},end:{line:1,column:39}}}):o)+'"></select>'},useData:!0}),fh=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<option value="'+c(typeof(o=null!=(o=u(n,"key")||(null!=t?u(t,"key"):t))?o:a)===l?o.call(s,{name:"key",hash:{},data:r,loc:{start:{line:1,column:15},end:{line:1,column:22}}}):o)+'">'+c(typeof(o=null!=(o=u(n,"value")||(null!=t?u(t,"value"):t))?o:a)===l?o.call(s,{name:"value",hash:{},data:r,loc:{start:{line:1,column:24},end:{line:1,column:33}}}):o)+"</option>"},useData:!0}),mh=20,gh=vu.isSafari,yh=240;function vh(e){return this.params.autoWidth?e.call(this):fl.defer(fl.bind(e,this))}function bh(e,t,n){const i=n.offset();e.css({left:i.left,top:i.top});const r=Vl(window),o=t.outerHeight(),s=o+t.offset().top-r.scrollTop(),a=r.height()-mh,l=Math.min(o+a-s,yh);t.css("max-height",l)}var _h=dh.extend({className:"o-form-select",events:{"change select":"update","keyup .chzn-search > :text":function(e){yu.isEsc(e)&&(this.$(".chzn-search > :text").val(""),e.stopPropagation())}},constructor:function(){this.template=ph,this.option=this.option||fh,dh.apply(this,arguments),this.params=this.options.params||{}},editMode:function(){this.$el.html(ph(this.options)),this.$select=this.$("select"),this.appendOptions();const e=this.getModelValue();return e?this.$select.val(e):this.$("option:first-child").prop("selected",!0),this.$el.addClass("o-form-control"),!1!==this.params.chosen&&this.__applyChosen(),this},appendOptions:function(){if(!this.getOptions())return;const e=this.getOptions(),t=Object.keys(e);this.applySortByKey(t),t.forEach((t=>{this.$select.append(this.option({key:t,value:e[t]}))}))},applySortByKey:function(e){const t=this.options.sortByKey;t&&(t instanceof Function&&e.sort(t),"asc"===t&&e.sort(),"desc"===t&&(e.sort(),e.reverse()))},__applyChosen:function(e){let t=this.options.wide?"100%":this.params.width||"62%";this.params.autoWidth&&(t=function(e){e.$select.hide();const t=Vl(e.$select[0]).hide();Vl("body").append(t);const n=e.params.width=1.2*t.width()+"px";return e.$el.append(t.show()),n}(this)),vh.call(this,(function(){const n=this.getParam("searchThreshold",10);fl.result(this.options,"autoRender")||!1===e||this.update(),this.$select.chosen({width:t,disable_search_threshold:n,placeholder_text:this.options.placeholder,search_contains:!0});const i=this.options&&this.options.options&&Object.keys(this.options.options).length>n;this.accessibilityUpdate(i,this.params),function(e,t){const n=e.next(".chzn-container"),i=n.clone(),r=n.find(".chzn-results"),o=n.find(".chzn-search input[type=text]");o.on("keyup",(()=>{!function(e,t,n){const i=n.find(".active-result.highlighted");if(t.find("#"+e.attr("id")+"_txt").attr("aria-activedescendant",i.attr("id")),n.find("[aria-selected=true]").attr("aria-selected","false"),i.attr("aria-selected","true"),gh()){const t=Xl.localize("oform.selectInput.country","courage",[i.text()]),n=e.attr("id");""!==t&&Vl(`#${n}_aria_div_id`).text(t)}const r=n.find("li.no-results");r.length&&r.attr("role","alert")}(e,n,r)})),n.addClass("closed"),i.css("visibility","hidden"),i.removeAttr("id"),i.find("li").removeAttr("id");const s={left:n.css("left"),top:n.css("top"),position:n.css("position"),float:n.css("float"),"z-index":n.css("z-index")};r.hide();const a=fl.debounce((function(){bh(n,r,i)}),10);e.off(".fixChosen"),e.on("liszt:showing_dropdown.fixChosen",(function(){n.width(n.width()),e.after(i),n.css({position:"absolute",float:"none","z-index":5e4,top:-999999}),Vl("body").append(n),Vl(".chzn-search > :text").prop("placeholder",t),r.show(),bh(n,r,i),e.parents().scroll(a),Vl(window).on("resize scroll",a)})),e.on("liszt:showing_dropdown",(function(){n.removeClass("closed")})),e.on("liszt:hiding_dropdown.fixChosen remove.fixChosen",(function(){e.parents().off("scroll",a),Vl(window).off("resize scroll",a),n.css(s),r.hide(),n.addClass("closed"),r.css("max-height",yh),i.remove(),e.after(n)})),e.on("liszt:hiding_dropdown.fixChosen",(function(){o.focus()}))}(this.$select,this.searchPlaceholder),this.params.autoWidth&&this.$el.width(0),this.model.trigger("form:resize")}))},val:function(){return this.$select&&this.$select.val()},focus:function(){if(this.$select)return this.$select.focus()},toStringValue:function(){const e=this.getModelValue();let t=e;const n=this.getOptions();return fl.isEmpty(n)||(t=n[e]),fl.isUndefined(t)&&(t=this.defaultValue()),t||""},getOptions:function(){let e=this.options.options;return fl.isFunction(e)&&(e=e.call(this)),fl.isObject(e)?e:{}},remove:function(){return this.$select&&this.$select.trigger("remove"),dh.prototype.remove.apply(this,arguments)},createAriaLiveNode:function(e){const t=this.$select.next(".chzn-container");Vl("<div></div>").attr("role","log").attr("aria-live","polite").attr("id",e).attr("aria-relevant","additions").attr("aria-atomic","false").attr("class","off-screen").insertAfter(t)},accessibilityUpdate:function(e,t){const n=this.$select.attr("id")+"_txt",i=this.$select.attr("id")+"_aria_div_id",r=this.$select.attr("id")+"_ul";if(gh()&&this.createAriaLiveNode(i),this.$("ul[class=chzn-results]").attr("role","listbox").attr("id",r),e?this.$("input[type=text]").attr("id",n).attr("aria-autocomplete","list").attr("aria-activedescendant","").attr("role","combobox").attr("aria-expanded","true").attr("aria-controls",r):this.$("input[type=text]").attr("id",n).attr("role","listbox"),t&&t.aria&&t.aria.label){const e=t.aria.label.trim();this.$("input[type=text]").attr("id",n).attr("aria-label",e),this.$("ul[class=chzn-results]").attr("aria-label",e)}else{const e=this.$el.parent().prev(".o-form-label").find("label").text().trim();this.$("input[type=text]").attr("id",n).attr("aria-label",e),this.$("ul[class=chzn-results]").attr("aria-label",e)}this.$(".chzn-results .active-result").attr("role","option").attr("aria-selected","false")}});const wh={undefined:"undefined",true:"true",false:"false"},kh=function(e){return e?"true":!1===e?"false":"undefined"},Sh=function(e){switch(e){case"undefined":default:return null;case"true":return!0;case"false":return!1}};var Eh=_h.extend({initialize:function(){this.options.options=wh,this.options.from=kh,this.options.to=Sh}});const Th=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="o-form-input-group-controls"><span class="input-fix o-form-control"><input type="text" class="o-form-text" name="'+c(typeof(o=null!=(o=u(n,"key")||(null!=t?u(t,"key"):t))?o:a)===l?o.call(s,{name:"key",hash:{},data:r,loc:{start:{line:1,column:125},end:{line:1,column:132}}}):o)+'" id="'+c(typeof(o=null!=(o=u(n,"key")||(null!=t?u(t,"key"):t))?o:a)===l?o.call(s,{name:"key",hash:{},data:r,loc:{start:{line:1,column:138},end:{line:1,column:145}}}):o)+'" value="'+c(typeof(o=null!=(o=u(n,"value")||(null!=t?u(t,"value"):t))?o:a)===l?o.call(s,{name:"value",hash:{},data:r,loc:{start:{line:1,column:154},end:{line:1,column:163}}}):o)+'" placeholder="'+c(typeof(o=null!=(o=u(n,"placeholder")||(null!=t?u(t,"placeholder"):t))?o:a)===l?o.call(s,{name:"placeholder",hash:{},data:r,loc:{start:{line:1,column:178},end:{line:1,column:193}}}):o)+'"/></span><a href="#" class="link-button link-button-icon icon-only"><span class="icon clear-input-16 "></span></a></div><p class="o-form-input-error o-form-explain"><span class="icon icon-16 error-16-small"></span>'+c(typeof(o=null!=(o=u(n,"errorExplain")||(null!=t?u(t,"errorExplain"):t))?o:a)===l?o.call(s,{name:"errorExplain",hash:{},data:r,loc:{start:{line:1,column:408},end:{line:1,column:424}}}):o)+"</p>"},useData:!0}),xh="o-form-has-errors",Ch="updateArray";var Ph=Wc.extend({tagName:"div",className:"o-form-input-group",events:{"click a":function(e){e.preventDefault(),this.remove()},"keyup input":function(){this.update()}},isEditMode:function(){return!this.options.readOnly&&(!0!==this.options.read||!0===this.model.get("__edit__"))},initialize:function(){this.template=Th(fl.extend(this.options,{placeholder:this.getPlaceholderText(),errorExplain:this.getErrorExplainText()})),this.update=fl.debounce(this.update,this.options.debounceDelay||200)},render:function(){return this.isEditMode()?this.$el.html(this.template):(this.$el.text(this.options.value),this.$("a").hide()),this},remove:function(){this.trigger(Ch,null),this.$el.slideUp((()=>{Wc.prototype.remove.call(this,arguments)}))},update:function(){let e=this.$("input").val();const t=fl.object([Ql.DATATYPE.number,Ql.DATATYPE.integer],[Xl.parseFloat,this.parseInt]);fl.has(t,this.options.itemType)&&(e=t[this.options.itemType](e),fl.isNumber(e)?this.clearInvalid():this.markInvalid()),this.trigger(Ch,e)},markInvalid:function(){this.$el.addClass(xh)},clearInvalid:function(){this.$el.removeClass(xh)},getPlaceholderText:function(){let e;switch(this.options.itemType.toLowerCase()){case"string":e=Xl.localize("placeholder.text.string","courage");break;case"number":e=Xl.localize("placeholder.text.number","courage");break;case"integer":e=Xl.localize("placeholder.text.integer","courage");break;default:e=""}return e},getErrorExplainText:function(){let e;switch(this.options.itemType.toLowerCase()){case"string":e=Xl.localize("string.item.type.error.message","courage");break;case"number":e=Xl.localize("number.item.type.error.message","courage");break;case"integer":e=Xl.localize("integer.item.type.error.message","courage");break;default:e=""}return e},parseInt:function(e){if(/^-?\d+$/.test(e)){const t=parseInt(e,10);return fl.isNaN(t)?e:t}return e}}),Ah=dh.extend({className:"array-input",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="array-inputs-button link-button">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"courage",code:"oform.add.another"},data:r,loc:{start:{line:1,column:52},end:{line:1,column:102}}}))+"</a>"},useData:!0}),params:{itemType:"string"},events:{"click .array-inputs-button":function(e){e.preventDefault(),this.isEditMode()&&this.addNewElement()}},initialize:function(e){e||(e={}),this.params=fl.defaults(e.params||{},this.params),this.uniqueIdPrefix="array"},from:function(e){return fl.isArray(e)?e:[]},editMode:function(){return this._setArrayObject(),this.$el.html(this.template),fl.each(this.arrayObject,fl.bind(this._addDeletableBox,this)),this},readMode:function(){this.editMode(),this.$(".array-inputs-button").addClass("link-button-disabled")},val:function(){let e=fl.values(this.arrayObject);return fl.contains([Ql.DATATYPE.number,Ql.DATATYPE.integer],this.params.itemType)&&(e=fl.filter(e,fl.isNumber)),e},focus:function(){},addNewElement:function(){const e=fl.uniqueId(this.uniqueIdPrefix);this.arrayObject[e]="",this._addDeletableBox("",e),this.update()},_addDeletableBox:function(e,t){const n=new Ph(fl.extend(fl.pick(this.options,"read","readOnly","model"),{key:t,value:e,itemType:this.params.itemType}));return this.listenTo(n,"updateArray",(function(e){fl.isNull(e)?(delete this.arrayObject[t],this.stopListening(n)):this.arrayObject[t]=e,this.update()})),n.render().$el.hide(),this.$(".array-inputs-button").before(n.el),n.$el.slideDown(),n},_setArrayObject:function(){const e=this.model.get(this.options.name);if(this.arrayObject={},fl.isArray(e)&&!fl.isEmpty(e)){const t=[],n=this;fl(e.length).times((function(){t.push(fl.uniqueId(n.uniqueIdPrefix))})),this.arrayObject=fl.object(t,e)}}});function Oh(e){const t=Xl.parseFloat(e);return""===e?null:t}function Ih(e){return fl.object(e,e)}function Lh(e){const t=e.get("items");return t?t.objectName:e.get("objectName")}function Dh(e,t,n){const i=e.get("name"),r=n.__nestedProperty__;let o=t[i];const s=n.get(i);let a;r&&e.set("__fieldNamePrefix__",r);const l=t[Lh(e)];o&&s&&(o=fl.union(o,s)),l&&l.length?a=l:o&&o.length&&(a=o),e.set("__possibleValues__",a)}function Rh(e,t,n){return e.each((function(e){Dh(e,t,n)})),e}function Mh(e,t){return e.filter((function(e){return function(e,t){const n=Lh(e),i=t[n];return!n||!fl(i).isEmpty()}(e,t)}))}var Nh,jh,Fh={createInputOptions:function(e){const t=function(e){let t={};const n=e.get("name"),i=e.get("__displayType__"),r=e.get("__possibleValues__"),o=e.get("__fieldNamePrefix__");if(o&&(t.name=o+n,t.errorField=n),e.isEnumType()){const n={displayType:i,title:e.get("title"),enumValues:e.getEnumValues()};t=fl.extend({},hc.getEnumInputOptions(n),t)}else(function(e){return e&&e.indexOf("array")>=0})(i)&&r&&(t.type="checkboxset",t.input=null,t.options=Ih(r));return t}(e),n=function(e){const t=e.get("__displayType__"),n=e.get("__possibleValues__"),i=e.get("name"),r={type:"text",name:i,label:e.get("title")||i};switch(t){case"arrayofstring":r.input=Ah,r.params={itemType:"string"};break;case"arrayofnumber":r.input=Ah,r.params={itemType:"number"};break;case"arrayofinteger":r.input=Ah,r.params={itemType:"integer"};break;case"arrayofobject":r.input=Ah,r.params={itemType:e.get("items").type};break;case"arrayofref-id":r.input=Ah,r.params={itemType:e.get("items").format};break;case"boolean":r.input=Eh;break;case"integer":case"number":r.to=Oh;break;case"reference":r.type="select",r.options=Ih(n);break;case"image":r.readOnly=!0,r.from=function(e){return fl.isEmpty(e)?"":Xl.localize("user.profile.image.image_set","courage")};break;case"password":r.type="password";break;case"date":r.type="date";break;case"uri":case"country-code":case"country_code":case"language-code":case"language_code":case"email":case"locale":case"timezone":case"string":case"object":break;default:throw new Error(`unknown type: ${t}`)}return r}(e);return t.params&&n.params&&(t.params=fl.defaults(t.params,n.params)),fl.defaults(t,n)},hasValidSchemaProps:function(e,t){return!fl.isEmpty(e)&&!!Mh(e,t).length},prepareSchema:function(e,t,n){return e.reset(Mh(e,t)),Rh(e,t,n)},augmentSchemaProps:Rh,augmentSchemaProp:Dh};Nh=yl(),jh=Nh,Nh.fn.customInput=function(){return jh(this).each((function(){if(jh(this).is("[type=checkbox],[type=radio]")){var e=jh(this),t=e.siblings('label[for="'+e.attr("id")+'"]:first');t.length||(t=e.closest('label[for="'+e.attr("id")+'"]:first')),e.add(t).wrapAll('<div class="custom-'+e.attr("type")+'"></div>'),t.hover((function(){jh(this).addClass("hover")}),(function(){jh(this).removeClass("hover")})),e.bind("updateState",(function(){e.is(":checked")?t.addClass("checked"):t.removeClass("checked checkedHover checkedFocus")})).trigger("updateState").click((function(){jh('input[name="'+jh(this).attr("name")+'"]').trigger("updateState")})).focus((function(){t.addClass("focus"),e.is(":checked")&&jh(this).addClass("checkedFocus")})).blur((function(){t.removeClass("focus checkedFocus")}))}}))};var Bh=dh.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<input type="checkbox" name="'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:a)===l?o.call(s,{name:"name",hash:{},data:r,loc:{start:{line:1,column:29},end:{line:1,column:37}}}):o)+'" id="'+c(typeof(o=null!=(o=u(n,"inputId")||(null!=t?u(t,"inputId"):t))?o:a)===l?o.call(s,{name:"inputId",hash:{},data:r,loc:{start:{line:1,column:43},end:{line:1,column:54}}}):o)+'"/><label for="'+c(typeof(o=null!=(o=u(n,"inputId")||(null!=t?u(t,"inputId"):t))?o:a)===l?o.call(s,{name:"inputId",hash:{},data:r,loc:{start:{line:1,column:69},end:{line:1,column:80}}}):o)+'" data-se-for-name="'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:a)===l?o.call(s,{name:"name",hash:{},data:r,loc:{start:{line:1,column:100},end:{line:1,column:108}}}):o)+'">'+c(typeof(o=null!=(o=u(n,"placeholder")||(null!=t?u(t,"placeholder"):t))?o:a)===l?o.call(s,{name:"placeholder",hash:{},data:r,loc:{start:{line:1,column:110},end:{line:1,column:125}}}):o)+"</label>"},useData:!0}),events:{"change :checkbox":"update",keyup:function(e){e.preventDefault(),yu.isSpaceBar(e)?this.$(":checkbox").click():yu.isEnter(e)&&this.model.trigger("form:save")}},editMode:function(){let e=fl.resultCtx(this.options,"placeholder",this);return""===e?e=fl.resultCtx(this.options,"label",this):!1===e&&(e=""),this.$el.html(this.template(fl.extend(fl.omit(this.options,"placeholder"),{placeholder:e}))),this.$(":checkbox").prop("checked",this.getModelValue()||!1),this.$("input").customInput(),this.model.trigger("form:resize"),this},readMode:function(){return this.editMode(),this.$(":checkbox").prop("disabled",!0),this},val:function(){return this.$(":checkbox").prop("checked")},focus:function(){return this.$(":checkbox").focus()}});!function(){var e,t,n=yl(),i="placeholder"in document.createElement("input"),r="placeholder"in document.createElement("textarea"),o=n.fn,s=n.valHooks;function a(e,t){var i=this,r=n(i);if(i.value==r.attr("placeholder")&&r.hasClass("placeholder"))if(r.data("placeholder-password")){if(r=r.hide().next().show().attr("id",r.removeAttr("id").data("placeholder-id")),!0===e)return r[0].value=t;r.focus()}else i.value="",r.removeClass("placeholder"),i==document.activeElement&&i.select()}function l(){var e,t,i,r=this,o=n(r),s=this.id;if(""==r.value){if("password"==r.type){if(!o.data("placeholder-textinput")){try{e=o.clone().attr({type:"text"})}catch(r){e=n("<input>").attr(n.extend((t={},i=/^jQuery\d+$/,n.each(this.attributes,(function(e,n){n.specified&&!i.test(n.name)&&(t[n.name]=n.value)})),t),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":s}).bind("focus.placeholder",a),o.data({"placeholder-textinput":e,"placeholder-id":s}).before(e)}o=o.removeAttr("id").hide().prev().attr("id",s).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}i&&r?(t=o.placeholder=function(){return this}).input=t.textarea=!0:((t=o.placeholder=function(){return this.filter((i?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":a,"blur.placeholder":l}).data("placeholder-enabled",!0).trigger("blur.placeholder"),this}).input=i,t.textarea=r,e={get:function(e){var t=n(e);return t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var i=n(e);return i.data("placeholder-enabled")?(""==t?(e.value=t,e!=document.activeElement&&l.call(e)):i.hasClass("placeholder")&&a.call(e,!0,t)||(e.value=t),i):e.value=t}},i||(s.input=e),r||(s.textarea=e),n((function(){n(document).delegate("form","submit.placeholder",(function(){var e=n(".placeholder",this).each(a);setTimeout((function(){e.each(l)}),10)}))})),n(window).bind("beforeunload.placeholder",(function(){n(".placeholder").each((function(){this.value=""}))})))}();const Uh="okta-form-input-field input-fix";var qh=dh.extend({template:pl.template({1:function(e,t,n,i,r){return'<span class="input-tooltip icon form-help-16"></span>'},3:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="icon input-icon '+e.escapeExpression(e.lambda(null!=(o=null!=t?s(t,"params"):t)?s(o,"icon"):o,t))+'"></span>'},5:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(o=null!=(o=s(n,"autoComplete")||(null!=t?s(t,"autoComplete"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"autoComplete",hash:{},data:r,loc:{start:{line:1,column:333},end:{line:1,column:349}}}):o)},7:function(e,t,n,i,r){return"off"},9:function(e,t,n,i,r){return'<span class="input-icon-divider"></span>'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=h(n,"if").call(a,null!=(o=null!=t?h(t,"params"):t)?h(o,"innerTooltip"):o,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:87}}}))?o:"")+(null!=(o=h(n,"if").call(a,null!=(o=null!=t?h(t,"params"):t)?h(o,"icon"):o,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:87},end:{line:1,column:166}}}))?o:"")+'<input type="'+u(typeof(s=null!=(s=h(n,"type")||(null!=t?h(t,"type"):t))?s:l)===c?s.call(a,{name:"type",hash:{},data:r,loc:{start:{line:1,column:179},end:{line:1,column:187}}}):s)+'" placeholder="'+u(typeof(s=null!=(s=h(n,"placeholder")||(null!=t?h(t,"placeholder"):t))?s:l)===c?s.call(a,{name:"placeholder",hash:{},data:r,loc:{start:{line:1,column:202},end:{line:1,column:217}}}):s)+'" name="'+u(typeof(s=null!=(s=h(n,"name")||(null!=t?h(t,"name"):t))?s:l)===c?s.call(a,{name:"name",hash:{},data:r,loc:{start:{line:1,column:225},end:{line:1,column:233}}}):s)+'" id="'+u(typeof(s=null!=(s=h(n,"inputId")||(null!=t?h(t,"inputId"):t))?s:l)===c?s.call(a,{name:"inputId",hash:{},data:r,loc:{start:{line:1,column:239},end:{line:1,column:250}}}):s)+'" value="'+u(typeof(s=null!=(s=h(n,"value")||(null!=t?h(t,"value"):t))?s:l)===c?s.call(a,{name:"value",hash:{},data:r,loc:{start:{line:1,column:259},end:{line:1,column:268}}}):s)+'" aria-label="'+u(typeof(s=null!=(s=h(n,"placeholder")||(null!=t?h(t,"placeholder"):t))?s:l)===c?s.call(a,{name:"placeholder",hash:{},data:r,loc:{start:{line:1,column:282},end:{line:1,column:297}}}):s)+'" autocomplete="'+(null!=(o=h(n,"if").call(a,null!=t?h(t,"autoComplete"):t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.program(7,r,0),data:r,loc:{start:{line:1,column:313},end:{line:1,column:367}}}))?o:"")+'" />'+(null!=(o=h(n,"if").call(a,null!=(o=null!=t?h(t,"params"):t)?h(o,"iconDivider"):o,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:371},end:{line:1,column:444}}}))?o:"")},useData:!0}),events:{"input input":"update","change input":"update","keydown input":"update","compositionend input":function(){this.isComposing=!1},"compositionstart input":function(){this.isComposing=!0},"keyup input":function(e){!yu.isEnter(e)||window.okta&&window.okta.enableIMESupport?yu.isEsc(e)&&this.model.trigger("form:cancel"):this.model.trigger("form:save")}},hasIMESupport:!0,constructor:function(){dh.apply(this,arguments),this.$el.addClass("o-form-control")},editMode:function(){this.$el.addClass(Uh),dh.prototype.editMode.apply(this,arguments),this.$("input").placeholder()},readMode:function(){dh.prototype.readMode.apply(this,arguments),this.$el.addClass("no-translate"),"password"===this.options.type&&this.$el.text("********"),this.$el.removeClass(Uh)},val:function(){let e=this.$('input[type="'+this.options.type+'"]').val();return"password"!==this.options.type&&(e=Vl.trim(e)),e},focus:function(){return this.$("input").focus()},postRender:function(){const{params:e}=this.options;if(e&&e.innerTooltip){const t=function(e){return function(e){const t=e.title,n=e.text;return t&&n&&t!==n}(e)?e:{text:e.text||e}}(e.innerTooltip);this.$(".input-tooltip").qtip({content:t,style:{classes:"okta-tooltip qtip-custom qtip-shadow"},position:{my:"bottom left",target:"mouse",adjust:{method:"flip",mouse:!0,y:-5,x:5},viewport:Vl("body")}})}}});const Vh=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){return'<span class="password-toggle"><span class="eyeicon visibility-16 button-show"></span><span class="eyeicon visibility-off-16 button-hide"></span></span>'},useData:!0});var Hh=qh.extend({initialize:function(){this.__showPasswordToggle()&&(this.events["click .password-toggle .button-show"]="__showPassword",this.events["click .password-toggle .button-hide"]="__hidePassword"),this.delegateEvents()},postRender:function(){this.isEditMode()&&this.__showPasswordToggle()&&(this.$el.append(Vh),this.$el.find('input[type="password"]').addClass("password-with-toggle")),qh.prototype.postRender.apply(this,arguments)},val:function(){return this.$('input[type="'+this.options.type+'"]').val()},__showPasswordToggle:function(){return this.options.params&&this.options.params.showPasswordToggle},__showPassword:function(){this.$("input").attr("spellcheck",!1),qh.prototype.changeType.apply(this,["text"]),this.$(".password-toggle .button-show").hide(),this.$(".password-toggle .button-hide").show(),this.passwordToggleTimer=fl.delay((()=>{this.__hidePassword()}),3e4)},__hidePassword:function(){qh.prototype.changeType.apply(this,["password"]),this.$(".password-toggle .button-show").show(),this.$(".password-toggle .button-hide").hide(),this.passwordToggleTimer&&clearTimeout(this.passwordToggleTimer)}});const $h=vu.isABaseView,zh=Wc.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<input type="radio" name="'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:a)===l?o.call(s,{name:"name",hash:{},data:r,loc:{start:{line:1,column:26},end:{line:1,column:34}}}):o)+'" data-se-name="'+c(typeof(o=null!=(o=u(n,"realName")||(null!=t?u(t,"realName"):t))?o:a)===l?o.call(s,{name:"realName",hash:{},data:r,loc:{start:{line:1,column:50},end:{line:1,column:62}}}):o)+'" value="'+c(typeof(o=null!=(o=u(n,"value")||(null!=t?u(t,"value"):t))?o:a)===l?o.call(s,{name:"value",hash:{},data:r,loc:{start:{line:1,column:71},end:{line:1,column:80}}}):o)+'" id="'+c(typeof(o=null!=(o=u(n,"optionId")||(null!=t?u(t,"optionId"):t))?o:a)===l?o.call(s,{name:"optionId",hash:{},data:r,loc:{start:{line:1,column:86},end:{line:1,column:98}}}):o)+'"><label for="'+c(typeof(o=null!=(o=u(n,"optionId")||(null!=t?u(t,"optionId"):t))?o:a)===l?o.call(s,{name:"optionId",hash:{},data:r,loc:{start:{line:1,column:112},end:{line:1,column:124}}}):o)+'" data-se-for-name="'+c(typeof(o=null!=(o=u(n,"realName")||(null!=t?u(t,"realName"):t))?o:a)===l?o.call(s,{name:"realName",hash:{},data:r,loc:{start:{line:1,column:144},end:{line:1,column:156}}}):o)+'" class="radio-label">'+c(typeof(o=null!=(o=u(n,"label")||(null!=t?u(t,"label"):t))?o:a)===l?o.call(s,{name:"label",hash:{},data:r,loc:{start:{line:1,column:178},end:{line:1,column:187}}}):o)+"</label>"},useData:!0}),initialize:function(e){let t;t=e.explain,fl.isFunction(t)&&!$h(t)&&(t=fl.resultCtx(this.options,"explain",this)),t&&($h(t)?(this.add('<p class="o-form-explain"></p>',".radio-label"),this.add(t,".o-form-explain")):this.add(Wc.extend({className:"o-form-explain",tagName:"p",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(o=null!=(o=s(n,"explain")||(null!=t?s(t,"explain"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"explain",hash:{},data:r,loc:{start:{line:1,column:0},end:{line:1,column:11}}}):o)},useData:!0})}),".radio-label"))}});var Wh=dh.extend({events:{"change :radio":"update",keyup:function(e){yu.isSpaceBar(e)?Vl(e.target).click():yu.isEnter(e)&&this.model.trigger("form:save")}},editMode:function(){const e=[];this.$el.empty(),fl.each(this.options.options,(function(t,n){const i={optionId:fl.uniqueId("option"),name:this.options.inputId,realName:this.options.name,value:n};fl.isObject(t)||(t={label:t}),fl.extend(i,t),e.push(new zh(i).render().el)}),this),this.$el.append(e);let t=this.getModelValue();return t&&this.$(":radio[value="+t+"]").prop("checked",!0),this.$("input").customInput(),this.model.trigger("form:resize"),!0===this.getParam("inline")&&this.$("div.custom-radio").addClass("inline"),this},readMode:function(){return this.editMode(),this.$(":radio").prop("disabled",!0),this},val:function(){return this.$(":radio:checked").val()},focus:function(){return this.$("label:eq(0)").focus()}});const Gh=dh.extend({tagName:"span",initialize:function(){this.$el.text(this.getModelValue())},editMode:function(){this.toggle(!0)},readMode:function(){this.toggle(!1)},getModelValue:function(){return this.options.label},toggle:function(e){this.$el.toggleClass("o-form-label-inline",e),this.$el.toggleClass("o-form-control",!e)},focus:fl.noop}),Kh=Wc.extend({getParams:dh.prototype.getParams,getParam:dh.prototype.getParam,className:function(){let e;return this.getParam("noBaseClasses")?"":(e="text"===this.getParam("display")?"o-form-input-group-subtle":"o-form-input-group",t=this.getParam("inputs"),fl.filter(t||[],(function(e){return!fl.contains(["label","button","select"],e.type)})).length>1&&(e+=" o-form-input-group-2"),e);var t},initialize:function(){fl.each(this.getParam("inputs"),(function(e){switch(e.type){case"label":this.add(Gh,{options:e});break;case"button":this.add(function(e){return su(fl.defaults({getReadModeString:fl.constant(" "),focus:fl.noop},fl.pick(e,"click","title","href","icon")))}(e));break;default:e=fl.defaults({model:this.model,params:fl.extend({autoWidth:!0},e.params||{})},e),this.add(this.getParams().create(e))}}),this)},focus:function(){this.first().focus()}});var Yh=dh.extend({constructor:function(e){this.inputGroupView=new Kh(e),dh.apply(this,arguments)},editMode:function(){this.inputGroupView.remove(),this.inputGroupView=new Kh(this.options),this.$el.html(this.inputGroupView.render().el)},readMode:function(){this.getParam("useChildInputsReadMode")?this.editMode():dh.prototype.readMode.apply(this,arguments)},toStringValue:function(){const e=this.inputGroupView.map((function(e){return e.getReadModeString()}));return e.length&&fl.every(e)?e.join(" "):" "},focus:function(){this.inputGroupView.focus()}},{LabelInput:Gh,InputGroupView:Kh});Vl.fn.scrollParent=function(e){const t=this.css("position"),n="absolute"===t,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter((function(){const e=Vl(this);return(!n||"static"!==e.css("position"))&&i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==t&&r.length?r:Vl(this[0].ownerDocument||document)};const Xh=eu.extend({render:function(...e){return Wc.prototype.render.apply(this,e),this}});_h.prototype.remove=function(){return dh.prototype.remove.apply(this,arguments)},Vc.prototype.compileTemplate=function(e){const t=function(){return e};return t.source="",t};const Jh={"input input":"update","change input":"update","keydown input":"update","keyup input":function(e){yu.isEsc(e)&&this.model.trigger("form:cancel")}},Qh=qh.extend({events:Jh}),Zh=Hh.extend({events:Jh}),ed=oh.extend({scrollOnError:function(){const{settings:e}=this.options;return!1!==e.get("features.scrollOnError")}}),td=Xl.localize,nd=su,id=uh,rd=zu.register,od=Cl,sd=Wc,ad=Jc,ld={util:{Util:vu,Cookie:hu,Clipboard:gu,Logger:Al,Class:au,Keys:yu},views:{components:{BaseDropDown:xu,Notification:Kc},forms:{helpers:{FormUtil:Ru,SchemaFormFactory:Fh},components:{Toolbar:ju},inputs:{TextBox:Qh,PasswordBox:Zh,CheckBox:Bh,Radio:Wh,Select:_h,InputGroup:Yh}}},models:{BaseSchema:Oc,SchemaProperty:xc}};rd("text",Qh),rd("password",Zh),rd("checkbox",Bh),rd("radio",Wh),rd("select",_h),rd("group",Yh);var cd=__webpack_require__(2871),ud=__webpack_require__.n(cd);const hd=["OAuthError","AuthSdkError","AuthPollStopError","AuthApiError"];var dd=Bl.extend({doTransaction:function(e,t){const n=this;return e.call(this,this.appState.get("transaction")).then((function(e){return n.trigger("setTransaction",e),e})).catch((function(e){if("AuthPollStopError"!==e.name&&e.name!==na.AUTH_STOP_POLL_INITIATION_ERROR&&e.name!==na.WEBAUTHN_ABORT_ERROR&&(n.trigger("error",n,e.xhr),n.trigger("setTransactionError",e),t||-1===fl.indexOf(hd,e.name)))throw e}))},manageTransaction:function(e){const t=this,n=e.call(this,this.appState.get("transaction"),fl.bind(this.setTransaction,this));return ud().isPromiseAlike(n)?n.catch((function(e){"AuthPollStopError"!==e.name&&e.name!==na.AUTH_STOP_POLL_INITIATION_ERROR&&e.name!==na.WEBAUTHN_ABORT_ERROR&&(t.trigger("error",t,e.xhr),t.trigger("setTransactionError",e))})):ud().resolve(n)},startTransaction:function(e){const t=this,n=e.call(this,this.settings.getAuthClient());return ud().isPromiseAlike(n)?n.then((function(e){return t.trigger("setTransaction",e),e})).catch((function(e){throw t.trigger("error",t,e.xhr),t.trigger("setTransactionError",e),e})):ud().resolve(n)},setTransaction:function(e){this.appState.set("transaction",e)}}),pd=Xh.extend({addListeners:function(){this.listenTo(this.model,"save",(function(){const e=fl.find(this.getChildren(),(function(e){return e instanceof ed}));e.disableSubmitButton&&!e.disableSubmitButton()||this.toggleButtonState(!0)})),this.listenTo(this.model,"error",(function(){this.toggleButtonState(!1)})),this.addModelListeners(this.model)},addModelListeners:function(e){const t=e=>{this.options.appState.set("transaction",e)},n=e=>{this.options.appState.set("transactionError",e)};this.listenTo(e,"setTransaction",t),this.listenTo(e,"setTransactionError",n);const i=e.get("backupFactor");i&&(this.listenTo(i,"setTransaction",t),this.listenTo(i,"setTransactionError",n))},fetchInitialData:function(){return ud()()},trapAuthResponse:function(){return!1},toJSON:function(){const e=Xh.prototype.toJSON.apply(this,arguments);return fl.extend(fl.pick(this.options,"appState"),e)},toggleButtonState:function(e){this.$el.find(".button").toggleClass("link-button-disabled",e).prop("disabled",e)},postRenderAnimation:function(){this.trigger("pageRendered",{page:this.className}),this.trigger("afterRender",{controller:this.className})}});const fd="INPUT",md="BUTTON",gd="DIVIDER",yd="TOOLBAR",vd="VIEW";function bd(e){return function(t,n){return{type:e,viewOptions:t,addOptions:n}}}var _d={Input:bd(fd),Button:bd(md),Divider:bd(gd),Toolbar:bd(yd),View:bd(vd),INPUT:fd,BUTTON:md,DIVIDER:gd,TOOLBAR:yd,VIEW:vd};let{Toolbar:wd}=ld.views.forms.components,{FormUtil:kd}=ld.views.forms.helpers;const Sd=ed.extend({layout:"o-form-theme",noCancelButton:!0,constructor:function(e){ed.call(this,e),fl.each(fl.result(this,"formChildren")||[],(function(e){switch(e.type){case _d.INPUT:this.addInput(fl.extend({label:!1,"label-top":!0},e.viewOptions));break;case _d.BUTTON:this.add(nd(fl.extend({model:this.model},e.viewOptions)),e.addOptions),kd.applyShowWhen(this.last(),e.viewOptions&&e.viewOptions.showWhen);break;case _d.DIVIDER:this.addDivider(e.viewOptions);break;case _d.TOOLBAR:this.add(wd,{options:e.viewOptions}),kd.applyShowWhen(this.last(),e.viewOptions&&e.viewOptions.showWhen);break;case _d.VIEW:this.add(e.viewOptions.View,e.addOptions),kd.applyShowWhen(this.last(),e.viewOptions.showWhen);break;default:throw new Error("Unrecognized child type: "+e.type)}}),this)}});var Ed=pd.extend({constructor:function(){const e=this.initialize;if(this.initialize=function(){},pd.apply(this,arguments),this.Model&&this.Form){const e=dd.extend(fl.extend({parse:function(e){return this.settings=e.settings,this.appState=e.appState,fl.omit(e,["settings","appState"])}},fl.result(this,"Model")));this.model=new e({settings:this.settings,appState:this.options.appState},{parse:!0});const t=Sd.extend(fl.result(this,"Form",this));this.form=new t(this.toJSON()),this.add(this.form)}this.Footer&&this.addFooter(this.Footer),this.addListeners(),e.apply(this,arguments)},addFooter:function(e,t){this.footer=new e(fl.extend(this.toJSON(),t||{})),this.add(this.footer)},toJSON:function(){const e=pd.prototype.toJSON.apply(this,arguments);return fl.extend(fl.pick(this.options,"appState"),e)},back:function(){this.footer&&this.footer.back&&this.footer.back()}}),Td=Ed.extend({className:"account-unlocked",Model:function(){return{local:{userFullName:["string",!1,this.options.appState.get("userFullName")]}}},Form:{title:fl.partial(td,"account.unlock.unlocked.title","login"),subtitle:fl.partial(td,"account.unlock.unlocked.desc","login"),noButtonBar:!0,attributes:{"data-se":"account-unlocked"},formChildren:function(){return[_d.Button({title:td("goback","login"),className:"button button-primary button-wide",attributes:{"data-se":"back-button"},click:function(){this.state.set("navigateDir",na.DIRECTION_BACK),this.options.appState.trigger("navigate","")}})]}}}),xd=__webpack_require__(4327),Cd=__webpack_require__.n(xd),Pd=__webpack_require__(1455),Ad=__webpack_require__.n(Pd);const Od={MILLISECOND:"milliseconds",SECOND:"seconds",MINUTE:"minutes",HOUR:"hours",DAY:"days"},Id=Object.keys(Od),Ld=function(e){const t=Id.filter((t=>Od[t]===e));return 1===t.length?t[0]:e};const Dd={},Rd={OKTA_VERIFY:{label:"factor.totpSoft.oktaVerify",description:"factor.totpSoft.description",iconClassName:"mfa-okta-verify",sortOrder:1},OKTA_VERIFY_PUSH:{label:"factor.oktaVerifyPush",description:"factor.push.description",iconClassName:"mfa-okta-verify",sortOrder:1},U2F:{label:"factor.u2f",description:e=>e?"factor.u2f.description.specific":"factor.u2f.description.generic",iconClassName:"mfa-u2f",sortOrder:2},WEBAUTHN:{label:"factor.webauthn.biometric",description:"factor.webauthn.biometric.description",iconClassName:"mfa-webauthn",sortOrder:2},WINDOWS_HELLO:{label:"factor.windowsHello",description:e=>e?"factor.windowsHello.signin.description.specific":"factor.windowsHello.signin.description.generic",iconClassName:"mfa-windows-hello",sortOrder:3},YUBIKEY:{label:"factor.totpHard.yubikey",description:"factor.totpHard.yubikey.description",iconClassName:"mfa-yubikey",sortOrder:4},GOOGLE_AUTH:{label:"factor.totpSoft.googleAuthenticator",description:"factor.totpSoft.description",iconClassName:"mfa-google-auth",sortOrder:5},CUSTOM_HOTP:{label:"",description:"factor.hotp.description",iconClassName:"mfa-hotp",sortOrder:6},SMS:{label:"factor.sms",description:"factor.sms.description",iconClassName:"mfa-okta-sms",sortOrder:7},CALL:{label:"factor.call",description:"factor.call.description",iconClassName:"mfa-okta-call",sortOrder:8},EMAIL:{label:"factor.email",description:"factor.email.description",iconClassName:"mfa-okta-email",sortOrder:9},QUESTION:{label:"factor.securityQuestion",description:"factor.securityQuestion.description",iconClassName:"mfa-okta-security-question",sortOrder:10},DUO:{label:"factor.duo",description:"factor.duo.description",iconClassName:"mfa-duo",sortOrder:11},SYMANTEC_VIP:{label:"factor.totpHard.symantecVip",description:"factor.totpHard.description",iconClassName:"mfa-symantec",sortOrder:12},RSA_SECURID:{label:"factor.totpHard.rsaSecurId",description:"factor.totpHard.description",iconClassName:"mfa-rsa",sortOrder:13},ON_PREM:{label:"",description:"factor.totpHard.description",iconClassName:"mfa-onprem",sortOrder:14},PASSWORD:{label:"factor.password",description:"",iconClassName:"mfa-okta-password",sortOrder:15},CUSTOM_CLAIMS:{label:"",description:"factor.customFactor.description",iconClassName:"mfa-custom-factor",sortOrder:16},GENERIC_SAML:{label:"",description:e=>e?"factor.customFactor.description.specific":"factor.customFactor.description.generic",iconClassName:"mfa-custom-factor",sortOrder:17},GENERIC_OIDC:{label:"",description:e=>e?"factor.customFactor.description.specific":"factor.customFactor.description.generic",iconClassName:"mfa-custom-factor",sortOrder:18}},Md=function(e,t){return e.age&&e.age.minAgeMinutes>0?function(e){let n;switch(e.unit){case"DAY":n=t.age.days.i18n;break;case"HOUR":n=t.age.hours.i18n;break;case"MINUTE":n=t.age.minutes.i18n}return Qs(n,"login",[e.time])}(function(e,t){const n={days:0,hours:0,minutes:0,seconds:0,milliseconds:0},i=Od[t]||t;let r;try{const t=Cd()(Object.assign(n,{[i]:e}));r=Ad()(t)}catch(e){r={}}const o=Object.keys(r).reduce(((e,t)=>(0!==r[t]&&(e[t]=r[t]),e)),{});let s,a;return 1===Object.keys(o).length?Object.keys(o).forEach((e=>{a=o[e],s=e})):(a=e,s=i),{time:a,unit:Ld(s)}}(e.age.minAgeMinutes,"MINUTE")):null},Nd=function(e,t,n){const i={complexity:[],history:[],age:[]};i.complexity=function(e,t){if(e.complexity){const n=t.complexity,i=function(e){const t=e.excludeAttributes;return e.excludeFirstName=Ns.contains(t,"firstName"),e.excludeLastName=Ns.contains(t,"lastName"),Ns.omit(e,"excludeAttributes")}(e.complexity);let r=i;if(i.useADComplexityRequirements){const e=["minLength","useADComplexityRequirements","excludeUsername","excludeFirstName","excludeLastName","excludeAttributes"];r=Ns.pick(i,e)}const o=Ns.map(r,(function(e,t){if(e<=0)return;const i=n[t];return i.args?Qs(i.i18n,"login",[e]):Qs(i.i18n,"login")}));return Ns.compact(o)}return[]}(e,t);const r=function(e,t,n){return e.age&&e.age.historyCount>0?n?1===e.age.historyCount?Qs(t.history.one.i18n,"login"):Qs(t.history.many.i18n,"login",[e.age.historyCount]):Qs(t.history.i18n,"login",[e.age.historyCount]):null}(e,t,n);r&&i.history.push(r);const o=Md(e,t);return o&&i.age.push(o),i};Dd.getFactorName=function(e,t){return"OKTA"===e&&"token:software:totp"===t?"OKTA_VERIFY":"OKTA"===e&&"push"===t?"OKTA_VERIFY_PUSH":"GOOGLE"===e?"GOOGLE_AUTH":"SYMANTEC"===e&&"token"===t?"SYMANTEC_VIP":"RSA"===e&&"token"===t?"RSA_SECURID":"DEL_OATH"===e&&"token"===t?"ON_PREM":"DUO"===e&&"web"===t?"DUO":"YUBICO"===e&&"token:hardware"===t?"YUBIKEY":"OKTA"===e&&"sms"===t?"SMS":"OKTA"===e&&"call"===t?"CALL":"OKTA"===e&&"question"===t?"QUESTION":"OKTA"===e&&"email"===t?"EMAIL":"OKTA"===e&&"password"===t?"PASSWORD":"GENERIC_SAML"===e&&"assertion:saml2"===t?"GENERIC_SAML":"GENERIC_OIDC"===e&&"assertion:oidc"===t?"GENERIC_OIDC":Dd.getFactorNameForFactorType.call(this,t)},Dd.getFactorNameForFactorType=function(e){return"u2f"===e?"U2F":"token:software:totp"===e?"OKTA_VERIFY":"webauthn"===e?this.settings.get("features.webauthn")?"WEBAUTHN":"WINDOWS_HELLO":"token:hotp"===e?"CUSTOM_HOTP":"claims_provider"===e?"CUSTOM_CLAIMS":void 0},Dd.isOktaVerify=function(e,t){return"OKTA"===e&&("token:software:totp"===t||"push"===t)},Dd.getFactorLabel=function(e,t){const n=Rd[Dd.getFactorName.apply(this,[e,t])].label;return Qs(n,"login")},Dd.getFactorDescription=function(e,t){const n=Rd[Dd.getFactorName.apply(this,[e,t])].description;if(Ns.isFunction(n)){const e=this.settings.get("brandName"),t=n(e);return e?Qs(t,"login",[e]):Qs(t,"login")}return n?Qs(n,"login"):""},Dd.getFactorIconClassName=function(e,t){return Rd[Dd.getFactorName.apply(this,[e,t])].iconClassName},Dd.getFactorSortOrder=function(e,t){return Rd[Dd.getFactorName.apply(this,[e,t])].sortOrder},Dd.getRememberDeviceValue=function(e){return e&&e.get("rememberDeviceByDefault")},Dd.getSecurityQuestionLabel=function(e){const t=Qs("security."+e.question);return t.indexOf("L10N_ERROR")<0?t:e.questionText},Dd.removeRequirementsFromError=function(e,t){const n=this.getPasswordComplexityDescription(t);return e.errorCauses&&e.errorCauses.length>0&&Ns.isString(e.errorCauses[0].errorSummary)&&(e.errorCauses[0].errorSummary=e.errorCauses[0].errorSummary.replace(n,"").trim()),e},Dd.getPasswordComplexityDescriptionForHtmlList=function(e){const t=Nd(e,{complexity:{minLength:{i18n:"password.complexity.length.description",args:!0},minLowerCase:{i18n:"password.complexity.lowercase.description"},minUpperCase:{i18n:"password.complexity.uppercase.description"},minNumber:{i18n:"password.complexity.number.description"},minSymbol:{i18n:"password.complexity.symbol.description"},excludeUsername:{i18n:"password.complexity.no_username.description"},excludeFirstName:{i18n:"password.complexity.no_first_name.description"},excludeLastName:{i18n:"password.complexity.no_last_name.description"},useADComplexityRequirements:{i18n:"password.complexity.adRequirements.description"}},history:{one:{i18n:"password.complexity.history.one.description"},many:{i18n:"password.complexity.history.description"}},age:{minutes:{i18n:"password.complexity.minAgeMinutes.description"},hours:{i18n:"password.complexity.minAgeHours.description"},days:{i18n:"password.complexity.minAgeDays.description"}}},!0);return Ns.union(t.complexity,t.history,t.age)},Dd.getPasswordComplexityDescription=function(e){const t=[],n=Nd(e,{complexity:{minLength:{i18n:"password.complexity.length",args:!0},minLowerCase:{i18n:"password.complexity.lowercase"},minUpperCase:{i18n:"password.complexity.uppercase"},minNumber:{i18n:"password.complexity.number"},minSymbol:{i18n:"password.complexity.symbol"},excludeUsername:{i18n:"password.complexity.no_username"},excludeFirstName:{i18n:"password.complexity.no_first_name"},excludeLastName:{i18n:"password.complexity.no_last_name"},useADComplexityRequirements:{i18n:"password.complexity.adRequirements"}},history:{i18n:"password.complexity.history"},age:{minutes:{i18n:"password.complexity.minAgeMinutes"},hours:{i18n:"password.complexity.minAgeHours"},days:{i18n:"password.complexity.minAgeDays"}}},!1);let i=n.complexity;return i.length>0&&(i=Ns.reduce(i,(function(e,t){return e?e+Qs("password.complexity.list.element","login",[t]):t})),t.push(Qs("password.complexity.requirements","login",[i]))),t.push(n.history[0]),t.push(n.age[0]),Ns.compact(t).join(" ")},Dd.getCardinalityText=function(e,t,n){if(n){if(e)return 1===n.enrolled?"":Qs("enroll.choices.cardinality.setup","login",[n.enrolled]);if(t&&n.maximum>1)return Qs("enroll.choices.cardinality.setup.remaining","login",[n.enrolled,n.minimum])}return""},Dd.findFactorInFactorsArray=function(e,t,n){let i=e.findWhere({provider:t,factorType:n});return void 0===i&&(i=e.findWhere({factorType:n})),i};const{TextBox:jd}=ld.views.forms.inputs;var Fd=jd.extend({postRender:function(){"number"===this.options.type&&this.$("input").attr({pattern:"[0-9]*",inputmode:"numeric"}),jd.prototype.postRender.apply(this,arguments)},focus:function(){if(!Us.isIE())return jd.prototype.focus.apply(this,arguments)}});const Bd={title:function(){const e=Dd.getFactorLabel(this.model.get("__provider__"),this.model.get("__factorType__"));return td("enroll.totp.title","login",[e])},subtitle:fl.partial(td,"enroll.totp.enterCode","login"),autoSave:!0,noButtonBar:!0,attributes:{"data-se":"step-sendcode"},formChildren:function(){return[_d.Input({label:td("mfa.challenge.enterCode.placeholder","login"),"label-top":!0,explain:ia.createInputExplain("mfa.challenge.enterCode.tooltip","mfa.challenge.enterCode.placeholder","login"),"explain-top":!0,name:"passCode",input:Fd,type:"tel"}),_d.Toolbar({noCancelButton:!0,save:td("oform.verify","login")})]}};var Ud=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link help js-back" data-se="back-link">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"mfa.backToFactors"},data:r,loc:{start:{line:1,column:58},end:{line:1,column:106}}}))+"</a>"},useData:!0}),className:"auth-footer",events:{"click .js-back":function(e){e.preventDefault(),this.options.appState.trigger("backToFactors"),this.back()}},back:function(){this.state.set("navigateDir",na.DIRECTION_BACK),this.options.appState.get("prevLink")?this.model.doTransaction((function(e){return e.prev()})):this.options.appState.trigger("navigate","signin/enroll")}}),qd=Ed.extend({className:"activate-totp",Model:function(){return{props:{factorId:["string",!0,this.options.appState.get("activatedFactorId")],passCode:["string",!0]},local:{__factorType__:["string",!1,this.options.factorType],__provider__:["string",!1,this.options.provider]},save:function(){return this.doTransaction((function(e){return e.activate({passCode:this.get("passCode")})}))}}},Form:Bd,Footer:Ud}),Vd=sd.extend({className:"scope-item",template:pl.template({1:function(e,t,n,i,r){return'<span class="scope-item-tooltip icon form-help-16" />'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="scope-item-text no-translate">'+e.escapeExpression("function"==typeof(s=null!=(s=l(n,"name")||(null!=t?l(t,"name"):t))?s:e.hooks.helperMissing)?s.call(a,{name:"name",hash:{},data:r,loc:{start:{line:1,column:40},end:{line:1,column:48}}}):s)+"</p>"+(null!=(o=l(n,"if").call(a,null!=t?l(t,"description"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:52},end:{line:1,column:131}}}))?o:"")},useData:!0}),postRender:function(){this.$(".scope-item-tooltip").qtip({content:{text:fl.escape(this.options.description)},style:{classes:"okta-tooltip qtip-custom qtip-shadow"},position:{my:"bottom left",target:"mouse"}})}});const Hd={groups:"user",myAccount:"user",users:"user",apps:"resource",authenticators:"resource",authorizationServers:"resource",clients:"resource",domains:"resource",factors:"resource",idps:"resource",linkedObjects:"resource",policies:"resource",templates:"resource",eventHooks:"hook",inlineHooks:"hook",events:"system",logs:"system",orgs:"system",roles:"system",schemas:"system",sessions:"system",trustedOrigins:"system"},$d=({name:e=""})=>{const t=e.split(".")[1];return Hd[t]||"system"},zd=sd.extend({className:"scope-group",events:{click:"expandScopes"},template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="scope-group--header"><h3>'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"groupName")||(null!=t?s(t,"groupName"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"groupName",hash:{},data:r,loc:{start:{line:1,column:37},end:{line:1,column:50}}}):o)+'</h3><span class="scope-group--toggle"><svg class="caret" width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path class="path" fill-rule="evenodd" clip-rule="evenodd" d="M5.99967 4.66663L10.2663 8.66663L11.333 7.66663L5.99967 2.66663L0.666342 7.73636L1.73301 8.66663L5.99967 4.66663Z" fill="#A0A7AC"></path></svg></span></div>'},useData:!0}),expandScopes:function(){this.$el.toggleClass("scope-group--is-expanded"),this.$(".caret").toggleClass("caret--is-rotated")},preRender:function(){fl.chain(this.options.scopes).sortBy((({name:e})=>e)).each((({name:e,displayName:t,description:n})=>{this.add(Vd,{options:{name:t||e,description:n}})}))}});var Wd=sd.extend({className:"scope-list detail-row",postRender:function(){const e=this.model.get("scopes"),t=fl.groupBy(e,$d),n={user:td("admin.consent.group.user.group","login"),resource:td("admin.consent.group.resource.policy","login"),hook:td("admin.consent.group.hook","login"),system:td("admin.consent.group.system","login")};fl.each(n,((e,n)=>{const i=t[n];Array.isArray(i)&&this.add(zd,{options:{groupName:e,scopes:i}})}))}});const Gd=pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"clientURI")||(null!=t?s(t,"clientURI"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"clientURI",hash:{},data:r,loc:{start:{line:1,column:26},end:{line:1,column:39}}}):o)+'" class="client-logo-link" target="_blank">'},3:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<img class="client-logo custom-logo" src="'+l("function"==typeof(o=null!=(o=c(n,"customLogo")||(null!=t?c(t,"customLogo"):t))?o:a)?o.call(s,{name:"customLogo",hash:{},data:r,loc:{start:{line:1,column:149},end:{line:1,column:163}}}):o)+'" alt="'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"common.logo.alt"},data:r,loc:{start:{line:1,column:170},end:{line:1,column:216}}}))+'" aria-hidden="true" />'},5:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<img class="client-logo default-logo" src="'+l("function"==typeof(o=null!=(o=c(n,"defaultLogo")||(null!=t?c(t,"defaultLogo"):t))?o:a)?o.call(s,{name:"defaultLogo",hash:{},data:r,loc:{start:{line:1,column:290},end:{line:1,column:305}}}):o)+'" alt="'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"common.logo.alt"},data:r,loc:{start:{line:1,column:312},end:{line:1,column:358}}}))+'" aria-hidden="true" />'},7:function(e,t,n,i,r){return"</a>"},9:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="issuer"><span>'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"issuer")||(null!=t?s(t,"issuer"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"issuer",hash:{},data:r,loc:{start:{line:1,column:566},end:{line:1,column:576}}}):o)+"</span></div>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"clientURI"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:89}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"customLogo"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.program(5,r,0),data:r,loc:{start:{line:1,column:89},end:{line:1,column:388}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"clientURI"):t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:388},end:{line:1,column:416}}}))?o:"")+'<h1><span class="title-text">'+(null!=(o=(a(n,"i18n")||t&&a(t,"i18n")||e.hooks.helperMissing).call(s,{name:"i18n",hash:{arguments:"appName",bundle:"login",code:"consent.required.text"},data:r,loc:{start:{line:1,column:445},end:{line:1,column:519}}}))?o:"")+"</span>"+(null!=(o=a(n,"if").call(s,null!=t?a(t,"issuer"):t,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:526},end:{line:1,column:596}}}))?o:"")+"</h1>"},useData:!0}),Kd={props:{scopes:["array",!0]},save:function(){return this.doTransaction((function(e){return e.consent({consent:{scopes:fl.pluck(this.get("scopes"),"name")}})}))},cancel:function(){var e=this;return this.doTransaction((function(e){return e.cancel()})).then((function(){var t=e.settings.get("consent.cancel");fl.isFunction(t)&&t()}))}},Yd=sd.extend({className:"consent-title detail-row",template:Gd,getTemplateData:function(){var e=this.options.appState;return{appName:e.escape("targetLabel"),customLogo:e.get("targetLogo")&&e.get("targetLogo").href,defaultLogo:e.get("defaultAppLogo"),clientURI:e.get("targetClientURI")&&e.get("targetClientURI").href,issuer:e.get("issuer")}}}),Xd={noCancelButton:!1,buttonOrder:["cancel","save"],autoSave:!0,save:fl.partial(td,"consent.required.consentButton","login"),cancel:fl.partial(td,"consent.required.cancelButton","login"),formChildren:[_d.View({View:Yd}),_d.View({View:Wd})]},Jd=Ed.extend({Model:Kd,Form:Xd,className:"admin-consent-required",initialize:function(){this.model.set("scopes",this.options.appState.get("scopes")),this.listenTo(this.form,"cancel",(()=>{this.model.cancel()}))}});class Qd extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class Zd extends Qd{constructor(e){super(e||Qs("error.config")),this.name=na.CONFIG_ERROR}}class ep extends Qd{constructor(e){super(e||Qs("error.unsupported.browser")),this.name=na.UNSUPPORTED_BROWSER_ERROR}}class tp extends Qd{constructor(...e){super(...e),this.name=na.OAUTH_ERROR}}class np extends Qd{constructor(...e){super(...e),this.name=na.REGISTRATION_FAILED}}class ip extends Qd{constructor(...e){super(...e),this.name=na.AUTH_STOP_POLL_INITIATION_ERROR}}class rp extends Qd{constructor(e){var t,n;super(null===(t=e.xhr)||void 0===t||null===(n=t.responseJSON)||void 0===n?void 0:n.errorSummary),this.xhr=void 0,this.name=na.U2F_ERROR,this.xhr=e.xhr}}class op extends Qd{constructor(e){var t,n;super(null===(t=e.xhr)||void 0===t||null===(n=t.responseJSON)||void 0===n?void 0:n.errorSummary),this.xhr=void 0,this.name=na.WEB_AUTHN_ERROR,this.xhr=e.xhr}}class sp extends Qd{constructor(...e){super(...e),this.name=na.WEBAUTHN_ABORT_ERROR}}class ap extends Qd{constructor(e,t){super(e),this.flowSetting=void 0,this.name=na.CONFIGURED_FLOW_ERROR,this.flowSetting=t}}class lp{constructor(){this.inline=!0}}class cp{constructor(){this.terminal=!0}}class up extends tp{constructor(e,t){super(e.message),this.errorType=void 0,this.orginalError=void 0,this.errorDetails=void 0,this.errorType=new t,this.orginalError=e,this.errorDetails={errorSummary:this.getErrorSummary(),errorCode:e.errorCode,errorCauses:"errorCauses"in e?e.errorCauses:void 0}}getErrorSummary(){return this.orginalError.errorSummary}is(e){var t;return Boolean(null===(t=Object.getOwnPropertyDescriptor(this.errorType,e))||void 0===t?void 0:t.value)}}class hp extends up{}class dp extends up{}class pp extends hp{constructor(e){super(e,cp)}getErrorSummary(){return Qs("error.unsynced.clock","login")}}class fp extends hp{constructor(e){super(e,lp)}}class mp extends hp{constructor(e){super(e,lp)}getErrorSummary(){return Qs("error.jit_failure","login")}}class gp extends dp{constructor(e){super(e,lp)}getErrorSummary(){return Qs("error.mfa.required","login")}}function yp(e){switch(e.errorCode){case"access_denied":return new fp(e);case"jit_failure_missing_fields":case"jit_failure_invalid_login_format":case"jit_failure_values_not_match_pattern":case"jit_failure_values_too_long":case"jit_failure_invalid_locale":return new mp(e);case"login_required":const t="The client specified not to prompt, but the client app requires re-authentication or MFA.";if(e.message===t)return new gp(e);case"INTERNAL":const n="The JWT was issued in the future";if(e.message===n)return new pp(e);default:return new hp(e,Object)}}const vp={},bp=["responseType","scopes","state","nonce","idp","idpScope","display","prompt","maxAge","loginHint"];vp.AUTH_PARAMS=bp,vp.getTokens=function(e,t,n){function i(t){e.callGlobalSuccess(na.SUCCESS,t)}function r(t){const i=yp(t);i.is("terminal")?(n.model.appState.set("flashError",i),n.model.appState.trigger("navigate","signin/error")):i.is("inline")&&(n.model.trigger("error",n.model,{responseJSON:{errorSummary:i.errorDetails.errorSummary}}),n.model.appState.trigger("removeLoading")),i.is("terminal")||ia.triggerAfterError(n,i,e),i instanceof dp&&e.callGlobalError(i)}const o=e.getAuthClient(),s=o.isAuthorizationCodeFlow()&&!o.isPKCE(),a=e.toJSON({verbose:!0}),l={};Ns.extend(l,Ns.pick(a,"clientId","redirectUri"),Ns.pick(a.authParams,bp),t),l.popupTitle=Qs("socialauth.popup.title","login"),l.timeout=a.oAuthTimeout,"always"===a.redirect||s?o.token.getWithRedirect(l).catch(r):l.sessionToken?o.token.getWithoutPrompt(l).then(i).catch(r):o.token.getWithPopup(l).then(i).catch(r)};const _p={},wp=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"signin/verify/"+c(typeof(o=null!=(o=u(n,"provider")||(null!=t?u(t,"provider"):t))?o:a)===l?o.call(s,{name:"provider",hash:{},data:r,loc:{start:{line:1,column:14},end:{line:1,column:26}}}):o)+"/"+c(typeof(o=null!=(o=u(n,"factorType")||(null!=t?u(t,"factorType"):t))?o:a)===l?o.call(s,{name:"factorType",hash:{},data:r,loc:{start:{line:1,column:27},end:{line:1,column:41}}}):o)},useData:!0}),kp=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"signin/verify/"+c(typeof(o=null!=(o=u(n,"provider")||(null!=t?u(t,"provider"):t))?o:a)===l?o.call(s,{name:"provider",hash:{},data:r,loc:{start:{line:1,column:14},end:{line:1,column:26}}}):o)+"/"+c(typeof(o=null!=(o=u(n,"factorType")||(null!=t?u(t,"factorType"):t))?o:a)===l?o.call(s,{name:"factorType",hash:{},data:r,loc:{start:{line:1,column:27},end:{line:1,column:41}}}):o)+"/"+c(typeof(o=null!=(o=u(n,"factorIndex")||(null!=t?u(t,"factorIndex"):t))?o:a)===l?o.call(s,{name:"factorIndex",hash:{},data:r,loc:{start:{line:1,column:42},end:{line:1,column:57}}}):o)},useData:!0}),Sp=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"signin/verify/"+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"factorType")||(null!=t?s(t,"factorType"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"factorType",hash:{},data:r,loc:{start:{line:1,column:14},end:{line:1,column:28}}}):o)},useData:!0}),Ep=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"signin/enroll/"+c(typeof(o=null!=(o=u(n,"provider")||(null!=t?u(t,"provider"):t))?o:a)===l?o.call(s,{name:"provider",hash:{},data:r,loc:{start:{line:1,column:14},end:{line:1,column:26}}}):o)+"/"+c(typeof(o=null!=(o=u(n,"factorType")||(null!=t?u(t,"factorType"):t))?o:a)===l?o.call(s,{name:"factorType",hash:{},data:r,loc:{start:{line:1,column:27},end:{line:1,column:41}}}):o)},useData:!0}),Tp=pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"/"+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"step")||(null!=t?s(t,"step"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"step",hash:{},data:r,loc:{start:{line:1,column:63},end:{line:1,column:71}}}):o)},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"signin/enroll-activate/"+u(typeof(s=null!=(s=h(n,"provider")||(null!=t?h(t,"provider"):t))?s:l)===c?s.call(a,{name:"provider",hash:{},data:r,loc:{start:{line:1,column:23},end:{line:1,column:35}}}):s)+"/"+u(typeof(s=null!=(s=h(n,"factorType")||(null!=t?h(t,"factorType"):t))?s:l)===c?s.call(a,{name:"factorType",hash:{},data:r,loc:{start:{line:1,column:36},end:{line:1,column:50}}}):s)+(null!=(o=h(n,"if").call(a,null!=t?h(t,"step"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:50},end:{line:1,column:78}}}))?o:"")},useData:!0}),xp=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"signin/recovery/"+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"recoveryToken")||(null!=t?s(t,"recoveryToken"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"recoveryToken",hash:{},data:r,loc:{start:{line:1,column:16},end:{line:1,column:33}}}):o)},useData:!0}),Cp=pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"/"+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"token")||(null!=t?s(t,"token"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"token",hash:{},data:r,loc:{start:{line:1,column:39},end:{line:1,column:48}}}):o)},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"signin/refresh-auth-state"+(null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"token"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:25},end:{line:1,column:55}}}))?o:"")},useData:!0}),Pp=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"signin/okta/"+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"username")||(null!=t?s(t,"username"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"username",hash:{},data:r,loc:{start:{line:1,column:12},end:{line:1,column:24}}}):o)},useData:!0}),Ap=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(typeof(s=null!=(s=u(n,"baseUrl")||(null!=t?u(t,"baseUrl"):t))?s:l)===c?s.call(a,{name:"baseUrl",hash:{},data:r,loc:{start:{line:1,column:0},end:{line:1,column:11}}}):s)+"/login/sessionCookieRedirect?checkAccountSetupComplete=true&token="+(null!=(o=typeof(s=null!=(s=u(n,"token")||(null!=t?u(t,"token"):t))?s:l)===c?s.call(a,{name:"token",hash:{},data:r,loc:{start:{line:1,column:77},end:{line:1,column:88}}}):s)?o:"")+"&redirectUrl="+(null!=(o=typeof(s=null!=(s=u(n,"redirectUrl")||(null!=t?u(t,"redirectUrl"):t))?s:l)===c?s.call(a,{name:"redirectUrl",hash:{},data:r,loc:{start:{line:1,column:101},end:{line:1,column:118}}}):s)?o:"")},useData:!0}),Op=["DEVICE_ACTIVATED","DEVICE_NOT_ACTIVATED_CONSENT_DENIED","DEVICE_NOT_ACTIVATED"];_p.isHostBackgroundChromeTab=function(){return!!(navigator.userAgent.match(/Android/)&&navigator.userAgent.match(/Chrome/)&&document.hidden)},_p.isDocumentVisible=function(){return"visible"===document.visibilityState},_p.createVerifyUrl=function(e,t,n){return e&&n?kp({provider:encodeURIComponent(e.toLowerCase()),factorType:encodeURIComponent(t),factorIndex:encodeURIComponent(n)}):e?wp({provider:encodeURIComponent(e.toLowerCase()),factorType:encodeURIComponent(t)}):Sp({factorType:encodeURIComponent(t)})},_p.createEnrollFactorUrl=function(e,t){return Ep({provider:encodeURIComponent(e.toLowerCase()),factorType:encodeURIComponent(t)})},_p.createActivateFactorUrl=function(e,t,n){return Tp({provider:encodeURIComponent(e.toLowerCase()),factorType:encodeURIComponent(t),step:!!n&&encodeURIComponent(n)})},_p.createRecoveryUrl=function(e){return xp({recoveryToken:encodeURIComponent(e)})},_p.createRefreshUrl=function(e){const t=e?encodeURIComponent(e):null;return Cp({token:t})},_p.createSigninUrl=function(e){return e?Pp({username:encodeURIComponent(e)}):"signin"},_p.routeAfterAuthStatusChangeError=function(e,t){if(t){if(!t.xhr||!Us.corsIsNotEnabled(t.xhr))return"E0000011"===t.errorCode?(e.appState.set("flashError",t),e.controller.state.set("navigateDir",na.DIRECTION_BACK),void(e.settings.get("features.mfaOnlyFlow")?e.navigate("signin/error",{trigger:!0}):e.navigate("",{trigger:!0}))):void ia.triggerAfterError(e.controller,t);e.settings.callGlobalError(new ep(td("error.enabled.cors")))}},_p.routeAfterAuthStatusChange=function(e,t){t&&t.status?(e.appState.setAuthResponse(t),e.controller&&e.controller.trapAuthResponse(t)||_p.handleResponseStatus(e,t)):e.appState.clearLastAuthResponse()},_p.handleResponseStatus=function(e,t){switch(t.status){case"SUCCESS":return void function(e,t){var n,i,r,o,s;if(t.recoveryType===na.RECOVERY_TYPE_UNLOCK)return void e.navigate("signin/account-unlocked",{trigger:!0});if(fl.contains(Op,null===(n=t._embedded)||void 0===n?void 0:n.deviceActivationStatus))return void e.navigate("signin/device-activate-complete",{trigger:!0});if(e.settings.get("oauth2Enabled"))return void vp.getTokens(e.settings,{sessionToken:t.sessionToken},e.controller);const a={user:t._embedded.user,type:t.type||na.SESSION_SSO};t.relayState&&(a.relayState=t.relayState);const l=e.settings.get("redirectUtilFn"),c=(null==t||null===(i=t._links)||void 0===i||null===(r=i.original)||void 0===r?void 0:r.href)||(null==t||null===(o=t._links)||void 0===o||null===(s=o.next)||void 0===s?void 0:s.href);if(t.type===na.SESSION_STEP_UP){var u,h;const e=null==t||null===(u=t._links)||void 0===u||null===(h=u.next)||void 0===h?void 0:h.href;a.stepUp={url:e,finish:function(){l(e)}}}else c?a.next=function(){l(c)}:a.type=na.SESSION_SSO,t.sessionToken&&(a.session={token:t.sessionToken,setCookieAndRedirect:function(n){if(n&&ia.debugMessage('\n              Passing a "redirectUri" to "setCookieAndRedirect" is strongly discouraged.\n              It is recommended to set a "redirectUri" option in the config object passed to the widget constructor.\n            '),!(n=n||e.settings.get("redirectUri")))throw new Zd('"redirectUri" is required');l(Ap({baseUrl:e.settings.get("baseUrl"),token:encodeURIComponent(t.sessionToken),redirectUrl:encodeURIComponent(n)}))}});_p.isHostBackgroundChromeTab()?document.addEventListener("visibilitychange",(function t(){_p.isDocumentVisible()&&(document.removeEventListener("visibilitychange",t),e.settings.callGlobalSuccess(na.SUCCESS,a))})):e.settings.callGlobalSuccess(na.SUCCESS,a)}(e,t);case"ADMIN_CONSENT_REQUIRED":return void e.navigate("signin/admin-consent",{trigger:!0});case"CONSENT_REQUIRED":return void e.navigate("signin/consent",{trigger:!0});case"DEVICE_ACTIVATE":return void e.navigate("signin/device-activate",{trigger:!0});case"FACTOR_REQUIRED":case"FACTOR_CHALLENGE":case"MFA_REQUIRED":{const t=e.appState.get("lastFailedChallengeFactorData");t&&t.factor&&(e.appState.get("factors").lastUsedFactor=t.factor);const n=e.appState.get("factors").getDefaultFactor(),i=_p.createVerifyUrl(n.get("provider"),n.get("factorType"));return e.navigate(i,{trigger:!0}),void e.appState.clearLastFailedChallengeFactorData()}case"POLL":{const t="signin/poll";return void e.navigate(t,{trigger:!0})}case"MFA_CHALLENGE":return e.appState.get("isFactorResultFailed")&&e.appState.setLastFailedChallengeFactorData(),void e.appState.get("transaction").prev().then((function(t){e.appState.set("transaction",t)}));case"MFA_ENROLL":case"FACTOR_ENROLL":return void e.navigate("signin/enroll",{trigger:!0});case"MFA_ENROLL_ACTIVATE":case"FACTOR_ENROLL_ACTIVATE":{const t=_p.createActivateFactorUrl(e.appState.get("activatedFactorProvider"),e.appState.get("activatedFactorType"));return void e.navigate(t,{trigger:!0})}case"PASSWORD_WARN":case"PASSWORD_EXPIRED":return void(e.settings.get("features.customExpiredPassword")&&!e.appState.get("isPwdManagedByOkta")?e.navigate("signin/custom-password-expired",{trigger:!0}):e.navigate("signin/password-expired",{trigger:!0}));case"RECOVERY_CHALLENGE":{const n=t.factorType.toLowerCase()===na.RECOVERY_FACTOR_TYPE_EMAIL.toLowerCase(),i=t.recoveryType===na.RECOVERY_TYPE_PASSWORD,r=t.recoveryType===na.RECOVERY_TYPE_UNLOCK;return void(i&&n?e.navigate("signin/recovery-emailed",{trigger:!0}):r&&n?e.navigate("signin/unlock-emailed",{trigger:!0}):e.navigate("signin/recovery-challenge",{trigger:!0}))}case"RECOVERY":return void e.navigate("signin/recovery-question",{trigger:!0});case"PASSWORD_RESET":return void e.navigate("signin/password-reset",{trigger:!0});case"LOCKED_OUT":if(e.settings.get("features.selfServiceUnlock"))e.navigate("signin/unlock",{trigger:!0});else{const t=td("error.auth.lockedOut","login"),n={responseJSON:{errorCauses:[],errorSummary:t,errorCode:"E0000119"}},i={name:"AuthApiError",message:t,xhr:n};e.controller.model.appState.trigger("removeLoading"),e.controller.model.trigger("error",e.controller.model,n),ia.triggerAfterError(e.controller,i)}return;case"PROFILE_REQUIRED":return void e.navigate("signin/enroll-user",{trigger:!0});case"UNAUTHENTICATED":if(e.appState.get("promptForFactorInUnauthenticated")){const t=e.appState.get("factors").getDefaultFactor(),n=_p.createVerifyUrl(t.get("provider"),t.get("factorType"));return void e.navigate(n,{trigger:!0})}return e.appState.get("usingDeviceFlow")?void e.navigate("signin/idp-discovery-check",{trigger:!0}):void e.navigate("",{trigger:!0});default:throw new Error("Unknown status: "+t.status)}};var Ip=sd.extend({className:"scan-instructions clearfix",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="scan-instructions-details-wrapper"><div class="scan-instructions-details"><p>'+c(typeof(o=null!=(o=u(n,"instructions")||(null!=t?u(t,"instructions"):t))?o:a)===l?o.call(s,{name:"instructions",hash:{},data:r,loc:{start:{line:1,column:89},end:{line:1,column:105}}}):o)+'</p></div></div><div class="scan-instructions-qrcode-wrapper"><div class="qrcode-wrap"><img data-se="qrcode" alt="'+c(typeof(o=null!=(o=u(n,"altQRCode")||(null!=t?u(t,"altQRCode"):t))?o:a)===l?o.call(s,{name:"altQRCode",hash:{},data:r,loc:{start:{line:1,column:219},end:{line:1,column:232}}}):o)+'" class="qrcode-image" src="'+c(typeof(o=null!=(o=u(n,"qrcode")||(null!=t?u(t,"qrcode"):t))?o:a)===l?o.call(s,{name:"qrcode",hash:{},data:r,loc:{start:{line:1,column:260},end:{line:1,column:270}}}):o)+'"><div data-se="qrcode-success" class="qrcode-success"></div><div data-se="qrcode-error" class="qrcode-error"></div></div><a href="#" data-type="manual-setup" data-se="manual-setup" class="link manual-setup" aria-label="'+c((u(n,"i18n")||t&&u(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.totp.aria.cannotScan"},data:r,loc:{start:{line:1,column:490},end:{line:1,column:549}}}))+'">'+c((u(n,"i18n")||t&&u(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.totp.cannotScan"},data:r,loc:{start:{line:1,column:551},end:{line:1,column:604}}}))+'</a><a href="#" data-type="refresh-qrcode" data-se="refresh-qrcode" class="link refresh-qrcode">'+c((u(n,"i18n")||t&&u(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.totp.refreshBarcode"},data:r,loc:{start:{line:1,column:700},end:{line:1,column:757}}}))+"</a></div>"},useData:!0}),events:{'click [data-type="manual-setup"]':function(e){e.preventDefault();const t=_p.createActivateFactorUrl(this.model.get("__provider__"),this.model.get("__factorType__"),"manual");"push"===this.model.get("__factorType__")?this.model.doTransaction((function(e){return e.prev().then((function(e){return fl.findWhere(e.factors,{factorType:"push",provider:"OKTA"}).enroll()}))})).then((()=>{this.options.appState.trigger("navigate",t)})):this.options.appState.trigger("navigate",t)},'click [data-type="refresh-qrcode"]':function(e){e.preventDefault(),this.model.trigger("errors:clear");const t=this;this.model.doTransaction((function(e){return this.appState.get("isWaitingForActivation")?e.poll():e.activate()})).then((function(e){const n=e.data;"MFA_ENROLL_ACTIVATE"!==n.status&&"FACTOR_ENROLL_ACTIVATE"!==n.status||"WAITING"!==n.factorResult||fl.defer(fl.bind(t.render,t))}))}},initialize:function(){this.listenTo(this.options.appState,"change:lastAuthResponse",(function(){this.options.appState.get("isMfaEnrollActivate")?this.$el.toggleClass("qrcode-expired",!this.options.appState.get("isWaitingForActivation")):this.options.appState.get("isSuccessResponse")&&this.$el.addClass("qrcode-success")})),this.listenTo(this.model,"error",(function(){this.options.appState.get("isMfaEnrollActivate")&&this.$el.toggleClass("qrcode-expired",!0)}))},getTemplateData:function(){const e=Dd.getFactorLabel(this.model.get("__provider__"),this.model.get("__factorType__"));let t;return t="GOOGLE"===this.model.get("__provider__")?td("enroll.totp.setupGoogleAuthApp","login",[e]):td("enroll.totp.setupApp","login",[e]),{instructions:t,qrcode:this.options.appState.get("qrcode"),altQRCode:td("mfa.altQrCode","login")}}}),Lp=Ed.extend({className:"barcode-push",Model:function(){return{local:{__factorType__:["string",!1,this.options.factorType],__provider__:["string",!1,this.options.provider]}}},Form:{title:function(){const e=Dd.getFactorLabel(this.model.get("__provider__"),this.model.get("__factorType__"));return td("enroll.totp.title","login",[e])},noButtonBar:!0,attributes:{"data-se":"step-scan"},className:"barcode-scan",initialize:function(){this.listenTo(this.model,"error errors:clear",(function(){this.clearErrors()}))},formChildren:[_d.View({View:Ip})]},Footer:Ud,initialize:function(){this.pollForEnrollment().catch((()=>{}))},pollForEnrollment:function(){return this.model.doTransaction((function(e){return e.poll(6e3)}))},trapAuthResponse:function(){if(this.options.appState.get("isMfaEnrollActivate"))return!0}}),Dp=Ed.extend({className:"barcode-totp",Model:function(){return{local:{__factorType__:["string",!1,this.options.factorType],__provider__:["string",!1,this.options.provider]}}},Form:{title:function(){const e=Dd.getFactorLabel(this.model.get("__provider__"),this.model.get("__factorType__"));return td("enroll.totp.title","login",[e])},save:fl.partial(td,"oform.next","login"),noCancelButton:!0,attributes:{"data-se":"step-scan"},className:"barcode-scan",formChildren:[_d.View({View:Ip})]},Footer:Ud,initialize:function(){this.listenTo(this.form,"save",(function(){const e=_p.createActivateFactorUrl(this.model.get("__provider__"),this.model.get("__factorType__"),"activate");this.options.appState.trigger("navigate",e)}))}}),Rp=sd.extend({className:"scope-item",template:pl.template({1:function(e,t,n,i,r){return'<span class="scope-item-tooltip icon form-help-16"></span>'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(s=null!=(s=h(n,"classNames")||(null!=t?h(t,"classNames"):t))?s:l)===c?s.call(a,{name:"classNames",hash:{},data:r,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):s)+'"><p>'+u(typeof(s=null!=(s=h(n,"name")||(null!=t?h(t,"name"):t))?s:l)===c?s.call(a,{name:"name",hash:{},data:r,loc:{start:{line:1,column:31},end:{line:1,column:39}}}):s)+"</p></div>"+(null!=(o=h(n,"if").call(a,null!=t?h(t,"description"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:49},end:{line:1,column:133}}}))?o:"")},useData:!0}),getTemplateData:function(){const{name:e,description:t,isCustomized:n}=this.options,i="scope-item-text";return{classNames:"openid"===e||n?`${i} no-translate`:i,name:e,description:t}},postRender:function(){this.$(".scope-item-tooltip").qtip({content:{text:fl.escape(this.options.description)},style:{classes:"okta-tooltip qtip-custom qtip-shadow"},position:{my:"bottom right",target:"mouse"}})}}),Mp=sd.extend({className:"scope-list detail-row",postRender:function(){this.model.get("scopes").forEach((e=>{this.add(Rp,{options:{name:e.displayName||e.name,description:e.description,isCustomized:e.isCustomized}})}))}}),Np=ld.views.forms.inputs.CheckBox.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<input type="checkbox" name="'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:a)===l?o.call(s,{name:"name",hash:{},data:r,loc:{start:{line:1,column:29},end:{line:1,column:37}}}):o)+'" id="'+c(typeof(o=null!=(o=u(n,"inputId")||(null!=t?u(t,"inputId"):t))?o:a)===l?o.call(s,{name:"inputId",hash:{},data:r,loc:{start:{line:1,column:43},end:{line:1,column:54}}}):o)+'"/><label for="'+c(typeof(o=null!=(o=u(n,"inputId")||(null!=t?u(t,"inputId"):t))?o:a)===l?o.call(s,{name:"inputId",hash:{},data:r,loc:{start:{line:1,column:69},end:{line:1,column:80}}}):o)+'" data-se-for-name="'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:a)===l?o.call(s,{name:"name",hash:{},data:r,loc:{start:{line:1,column:100},end:{line:1,column:108}}}):o)+'"><b>'+c(typeof(o=null!=(o=u(n,"placeholder")||(null!=t?u(t,"placeholder"):t))?o:a)===l?o.call(s,{name:"placeholder",hash:{},data:r,loc:{start:{line:1,column:113},end:{line:1,column:128}}}):o)+"</b><p>"+c(typeof(o=null!=(o=u(n,"desc")||(null!=t?u(t,"desc"):t))?o:a)===l?o.call(s,{name:"desc",hash:{},data:r,loc:{start:{line:1,column:135},end:{line:1,column:143}}}):o)+"</p></label>"},useData:!0}),enable:function(){this.options.options.optional&&this.$(":input").prop("disabled",!1)},editMode:function(){if(this.$el.html(this.template(fl.extend(fl.omit(this.options,"placeholder"),{placeholder:this.options.placeholder||this.options.name,desc:this.options.options.description}))),this.$(":checkbox").prop("checked",this.getModelValue()||!1),this.$("input").customInput(),this.model.trigger("form:resize"),!this.options.options.optional){const e=this.$("input").get(0);this.$(e.parentElement).addClass("o-form-read-mode"),this.$(":checkbox").prop("disabled",!0)}return("openid"===this.options.name||this.options.options.isCustomized)&&(this.$("label > b").addClass("no-translate"),this.options.options.isCustomized&&this.$("label > p").addClass("no-translate")),this}}),jp=sd.extend({tagName:"a",className:"skip-to-content-link",attributes:{href:`#${na.WIDGET_CONTAINER_ID}`},initialize:function(){this.$el.append(td("skip.to.main.content","login"))}});const Fp=pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"clientURI")||(null!=t?s(t,"clientURI"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"clientURI",hash:{},data:r,loc:{start:{line:1,column:26},end:{line:1,column:39}}}):o)+'" class="client-logo-link" target="_blank">'},3:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<img class="client-logo custom-logo" src="'+l("function"==typeof(o=null!=(o=c(n,"customLogo")||(null!=t?c(t,"customLogo"):t))?o:a)?o.call(s,{name:"customLogo",hash:{},data:r,loc:{start:{line:1,column:149},end:{line:1,column:163}}}):o)+'" alt="'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"common.logo.alt"},data:r,loc:{start:{line:1,column:170},end:{line:1,column:216}}}))+'" aria-hidden="true" />'},5:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<img class="client-logo default-logo" src="'+l("function"==typeof(o=null!=(o=c(n,"defaultLogo")||(null!=t?c(t,"defaultLogo"):t))?o:a)?o.call(s,{name:"defaultLogo",hash:{},data:r,loc:{start:{line:1,column:290},end:{line:1,column:305}}}):o)+'" alt="'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"common.logo.alt"},data:r,loc:{start:{line:1,column:312},end:{line:1,column:358}}}))+'" aria-hidden="true" />'},7:function(e,t,n,i,r){return"</a>"},9:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="issuer"><span>'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"issuer")||(null!=t?s(t,"issuer"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"issuer",hash:{},data:r,loc:{start:{line:1,column:624},end:{line:1,column:634}}}):o)+"</span></div>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"clientURI"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:89}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"customLogo"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.program(5,r,0),data:r,loc:{start:{line:1,column:89},end:{line:1,column:388}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"clientURI"):t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:388},end:{line:1,column:416}}}))?o:"")+'<h1><span class="title-text">'+e.escapeExpression((a(n,"i18n")||t&&a(t,"i18n")||e.hooks.helperMissing).call(s,{name:"i18n",hash:{$2:"<p>$2</p>",$1:"<b class='no-translate'>$1</b>",arguments:"appName",bundle:"login",code:"granular.consent.scopes.title"},data:r,loc:{start:{line:1,column:445},end:{line:1,column:577}}}))+"</span>"+(null!=(o=a(n,"if").call(s,null!=t?a(t,"issuer"):t,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:584},end:{line:1,column:654}}}))?o:"")+"</h1>"},useData:!0}),Bp=e=>_d.View({View:sd.extend({className:"consent-title detail-row",template:e,getTemplateData:function(){const e=this.options.appState;return{appName:e.escape("targetLabel"),customLogo:e.get("targetLogo")&&e.get("targetLogo").href,defaultLogo:e.get("defaultAppLogo"),clientURI:e.get("targetClientURI")&&e.get("targetClientURI").href}}})}),Up=_d.View({View:sd.extend({className:"consent-description detail-row",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"consent.required.description"},data:r,loc:{start:{line:1,column:3},end:{line:1,column:62}}}))+"</p>"},useData:!0})})}),qp=_d.View({View:sd.extend({className:"consent-description",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"granular.consent.scopes.description"},data:r,loc:{start:{line:1,column:3},end:{line:1,column:69}}}))+"</p>"},useData:!0})})}),Vp=e=>"optional"in e.get("scopes")[0];var Hp=Ed.extend({className:"consent-required",initialize:function(){this.model.set("expiresAt",this.options.appState.get("expiresAt")),this.model.set("scopes",this.options.appState.get("scopes")),this.listenTo(this.form,"cancel",fl.bind(this.model.cancel,this.model));const e=new jp;Vl(`#${na.WIDGET_LOGIN_CONTAINER_ID}`).prepend(e.render().$el),Vp(this.options.appState)&&(this.$el.addClass("granular-consent").removeClass("consent-required"),this.form.cancel=fl.partial(td,"oform.cancel","login"),fl.forEach(this.options.appState.get("scopes"),(e=>{this.model.set(e.name,!0)})))},postRender:function(){Ed.prototype.postRender.apply(this,arguments),this.$(".o-form-button-bar .button-primary").removeClass("button-primary")},Model:{props:{expiresAt:["string",!0],scopes:["array",!0]},save:function(){return this.doTransaction((function(e){let t=fl.pluck(this.get("scopes"),"name"),n={expiresAt:this.get("expiresAt")};return Vp(this)?n.optedScopes=fl.reduce(t,((e,t)=>(e[t]=this.get(t),e)),{}):n.scopes=t,e.consent({consent:n})}))},cancel:function(){const e=this;return this.doTransaction((function(e){return e.cancel()})).then((function(){const t=e.settings.get("consent.cancel");fl.isFunction(t)&&t()}))}},Form:{noCancelButton:!1,buttonOrder:["cancel","save"],autoSave:!0,save:fl.partial(td,"consent.required.consentButton","login"),cancel:fl.partial(td,"consent.required.cancelButton","login"),formChildren:function(){return Vp(this.options.appState)?[Bp(Fp),qp].concat((()=>{const e=this.options.appState.get("scopes").slice().sort(((e,t)=>t.optional-e.optional));return fl.map(e,(({name:e,displayName:t,description:n,optional:i,isCustomized:r})=>_d.Input({name:e,input:Np,placeholder:t,label:!1,modelType:"boolean",required:!0,options:{description:n,optional:i,isCustomized:r}})))})()):[Bp(Gd),_d.View({View:new Mp({model:this.model})}),Up]}},Footer:sd.extend({className:"consent-footer",template:pl.template({1:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a class="terms-of-service" href="'+c("function"==typeof(s=null!=(s=u(n,"termsOfService")||(null!=t?u(t,"termsOfService"):t))?s:l)?s.call(a,{name:"termsOfService",hash:{},data:r,loc:{start:{line:1,column:56},end:{line:1,column:74}}}):s)+'" target="_blank">'+c((u(n,"i18n")||t&&u(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"consent.required.termsOfService"},data:r,loc:{start:{line:1,column:92},end:{line:1,column:154}}}))+"</a>"+(null!=(o=u(n,"if").call(a,null!=t?u(t,"privacyPolicy"):t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:158},end:{line:1,column:194}}}))?o:"")},2:function(e,t,n,i,r){return" &#8226 "},4:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a class="privacy-policy" href="'+l("function"==typeof(o=null!=(o=c(n,"privacyPolicy")||(null!=t?c(t,"privacyPolicy"):t))?o:a)?o.call(s,{name:"privacyPolicy",hash:{},data:r,loc:{start:{line:1,column:254},end:{line:1,column:271}}}):o)+'" target="_blank">'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"consent.required.privacyPolicy"},data:r,loc:{start:{line:1,column:289},end:{line:1,column:350}}}))+"</a>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"termsOfService"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:201}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"privacyPolicy"):t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:201},end:{line:1,column:361}}}))?o:"")},useData:!0}),getTemplateData:function(){const e=this.options.appState;return{termsOfService:e.get("targetTermsOfService")&&e.get("targetTermsOfService").href,privacyPolicy:e.get("targetPrivacyPolicy")&&e.get("targetPrivacyPolicy").href}}})});const{Util:$p}=ld.util;var zp=sd.extend({template:pl.template({1:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link help js-skip" data-se="skip-link">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"password.expiring.later"},data:r,loc:{start:{line:1,column:78},end:{line:1,column:132}}}))+"</a>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"passwordWarn"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:143}}}))?o:"")+'<a href="#" class="link help goto js-signout" data-se="signout-link">'+e.escapeExpression((a(n,"i18n")||t&&a(t,"i18n")||e.hooks.helperMissing).call(s,{name:"i18n",hash:{bundle:"login",code:"signout"},data:r,loc:{start:{line:1,column:212},end:{line:1,column:250}}}))+"</a>"},useData:!0}),className:"auth-footer clearfix",events:{"click .js-signout":function(e){e.preventDefault();const t=this,n=t.settings.getAuthClient();this.model.doTransaction((function(e){return e.cancel()})).then((function(){return n.session.exists()})).then((function(e){if(e)return n.closeSession().catch((()=>{}))})).then((function(){t.settings.get("backToSignInUri")?$p.redirect(t.settings.get("backToSignInUri")):(t.state.set("navigateDir",na.DIRECTION_BACK),t.options.appState.trigger("navigate",""))}))},"click .js-skip":function(e){e.preventDefault(),this.model.doTransaction((function(e){return e.skip()}))}},getTemplateData:function(){return{passwordWarn:this.options.appState.get("isPwdExpiringSoon")}}});const{Util:Wp}=ld.util;var Gp=Ed.extend({className:"custom-password-expired",Model:{},Form:{noButtonBar:!0,title:function(){const e=this.options.appState.get("isPwdExpiringSoon"),t=this.options.appState.get("passwordExpireDays");return e&&t>0?td("password.expiring.title","login",[t]):e&&0===t?td("password.expiring.today","login"):e?td("password.expiring.soon","login"):this.settings.get("brandName")?td("password.expired.title.specific","login",[this.settings.get("brandName")]):td("password.expired.title.generic","login")},subtitle:function(){return this.options.appState.get("isPwdExpiringSoon")?this.settings.get("brandName")?td("password.expiring.soon.subtitle.specific","login",[this.settings.get("brandName")]):td("password.expiring.soon.subtitle.generic","login"):td("password.expired.custom.subtitle","login")},formChildren:function(){return[_d.Button({title:fl.partial(td,"password.expired.custom.submit","login",[this.options.appState.get("passwordExpiredWebsiteName")]),className:"button button-primary button-wide",attributes:{"data-se":"custom-button"},click:function(){Wp.redirect(this.options.appState.get("passwordExpiredLinkUrl"))}})]}},Footer:zp});const Kp=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="okta-form-infobox-error infobox infobox-error" role="alert"><span class="icon error-16"></span><p>'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"api.authn.error.PASSCODE_INVALID"},data:r,loc:{start:{line:1,column:110},end:{line:1,column:173}}}))+"</p></div>"},useData:!0})});var Yp=Ed.extend({className:"device-code-activate",Model:function(){var e,t;return{props:{userCode:["string",!0,null===(e=this.options)||void 0===e||null===(t=e.appState)||void 0===t?void 0:t.get("userCode")],stateToken:"string"},save:function(){const e=this;return this.doTransaction((function(t){return t.deviceActivate({userCode:e.get("userCode")})}))}}},Form:{noCancelButton:!0,autoSave:!0,save:function(){return td("oform.next","login")},title:function(){return td("device.code.activate.title","login")},subtitle:function(){return td("device.code.activate.subtitle","login")},formChildren:function(){return"INVALID_USER_CODE"===this.options.appState.get("deviceActivationStatus")&&this.add(Kp,".o-form-error-container"),[_d.Input({label:td("device.code.activate.label","login"),"label-top":!0,name:"userCode",input:Fd,inputId:"user-code",type:"text",inlineValidation:!1})]},events:{'keyup input[name="userCode"]':function(e){e.preventDefault(),this.addHyphen(e)}},addHyphen:function(e){const t=e.target.value;t&&4===t.length&&!["Backspace","Delete","-"].includes(e.key)&&(e.target.value=t.concat("-"))}}});const Xp="DEVICE_ACTIVATED",Jp="DEVICE_NOT_ACTIVATED_CONSENT_DENIED",Qp="DEVICE_NOT_ACTIVATED",Zp=[Jp,Qp];var ef=Ed.extend({className:"device-code-terminal",postRender:function(){Ed.prototype.postRender.apply(this,arguments);const e=this.options.appState.get("deviceActivationStatus")===Xp?"success-24-green":"error-24-red";this.$(".o-form-head").before('<div class="device-code-terminal--icon-container"><span class="device-code-terminal--icon '+e+'"></span></div>')},Model:{},Form:{noCancelButton:!0,noButtonBar:!0,title:function(){const e=this.options.appState.get("deviceActivationStatus");return e===Xp?td("device.code.activated.success.title","login"):fl.contains(Zp,e)?td("device.code.activated.error.title","login"):void 0},subtitle:function(){const e=this.options.appState.get("deviceActivationStatus");return e===Xp?td("idx.device.activated","login"):e===Jp?td("idx.device.not.activated.consent.denied","login"):e===Qp?td("idx.device.not.activated.internal.error","login"):void 0},formChildren:function(){return[_d.View({View:sd.extend({template:pl.template({1:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="/activate" class="button button-primary text-align-c retry-button" data-se="try-again">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.try.again"},data:r,loc:{start:{line:1,column:121},end:{line:1,column:165}}}))+"</a>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"isDeviceCodeError"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:176}}}))?o:""},useData:!0}),getTemplateData:function(){return{isDeviceCodeError:fl.contains(Zp,this.options.appState.get("deviceActivationStatus"))}}})})]}}});const{Util:tf}=ld.util;var nf=Ed.extend({className:"enroll-custom-factor",Model:{local:{provider:"string",factorType:"string"},save:function(){return this.manageTransaction(((e,t)=>fl.findWhere(e.factors,{provider:this.get("provider"),factorType:this.get("factorType")}).enroll().then((e=>{t(e);const n=this.appState.get("enrollCustomFactorRedirectUrl");null!==n&&tf.redirect(n)})).catch((function(e){throw e}))))}},Form:function(){const e=this.options.appState.get("factors").findWhere({provider:this.options.provider,factorType:this.options.factorType}).get("vendorName");return{autoSave:!0,title:e,subtitle:td("enroll.customFactor.subtitle","login",[e]),save:td("enroll.customFactor.save","login")}},trapAuthResponse:function(){if(this.options.appState.get("isMfaEnrollActivate"))return!0},initialize:function(){this.model.set("provider",this.options.provider),this.model.set("factorType",this.options.factorType)},Footer:Ud});const rf=dd.extend({extraProperties:!0,flat:!1,props:{id:"string",factorType:{type:"string",values:["sms","call","email","token","token:software:totp","token:hotp","token:hardware","question","push","u2f","password","assertion:saml2","assertion:oidc","claims_provider","webauthn"]},provider:{type:"string",values:["OKTA","RSA","DEL_OATH","SYMANTEC","GOOGLE","YUBICO","FIDO","CUSTOM","GENERIC_SAML","GENERIC_OIDC"]},enrollment:{type:"string",values:["OPTIONAL","REQUIRED"]},status:{type:"string",values:["NOT_SETUP","ACTIVE"]},profile:["object"],vendorName:"string",policy:["object"],profiles:["object"]},local:{answer:"string",password:"string",backupFactor:"object",showAnswer:"boolean",rememberDevice:"boolean",autoPush:["boolean",!0,!1]},derived:{isOktaFactor:{deps:["provider"],fn:function(e){return"OKTA"===e}},factorName:{deps:["provider","factorType"],fn:Dd.getFactorName},factorLabel:{deps:["provider","factorType","vendorName"],fn:function(e,t,n){return fl.contains(["DEL_OATH","GENERIC_SAML","GENERIC_OIDC","CUSTOM"],e)?n:Dd.getFactorLabel.apply(this,[e,t])}},factorDescription:{deps:["provider","factorType"],fn:Dd.getFactorDescription},sortOrder:{deps:["provider","factorType"],fn:Dd.getFactorSortOrder},iconClassName:{deps:["provider","factorType"],fn:Dd.getFactorIconClassName},securityQuestion:{deps:["profile","factorType"],fn:function(e,t){return"question"!==t?null:e&&Dd.getSecurityQuestionLabel(e)}},phoneNumber:{deps:["profile","factorType"],fn:function(e,t){return fl.contains(["sms","call"],t)?e&&e.phoneNumber:null}},email:{deps:["profile","factorType"],fn:function(e,t){return"email"===t?e&&e.email:null}},deviceName:{deps:["profile","factorType"],fn:function(e,t){return"push"!==t?null:e&&e.name}},enrolled:{deps:["status"],fn:function(e){return"ACTIVE"===e}},cardinality:{deps:["policy","profiles"],fn:function(e,t){if(t&&t.length>0){const e=t[0],n=e._embedded.enrolledFactors.length,i=fl.findWhere(e._embedded.features,{type:"adoption"});return!(!i||!i.cardinality)&&{enrolled:n,minimum:i.cardinality.min,maximum:i.cardinality.max}}return!(!e||!e.enrollment)&&e.enrollment}},additionalEnrollment:{deps:["cardinality"],fn:function(e){return!!e&&0!==e.enrolled&&e.enrolled<e.maximum}},required:{deps:["enrollment"],fn:function(e){return"REQUIRED"===e}},canUseResend:{deps:["provider","factorType"],fn:function(e,t){return"OKTA"===e&&fl.contains(["push","sms","call","email"],t)}},isAnswerRequired:{deps:["factorType"],fn:function(e){return fl.contains(["sms","call","email","token","token:software:totp","question"],e)}},isFactorTypeVerification:{deps:["provider","id"],fn:function(e,t){return void 0===e&&void 0===t}}},parse:function(e){return this.settings=e.settings,this.appState=e.appState,e.rememberDevice=Dd.getRememberDeviceValue(this.appState),this.setCustomHotpVendorName(e),fl.omit(e,["settings","appState"])},validate:function(){return this.get("isAnswerRequired")&&!this.get("answer")?{answer:td("model.validation.field.blank")}:"password"!==this.get("factorType")||this.get("password")?void 0:{password:td("error.password.required")}},needsPasscode:function(){return!(this.options.appState.get("isIdxStateToken")&&"email"===this.get("factorType"))},resend:function(){return this.trigger("form:clear-errors"),this.manageTransaction((function(e){const t=e.data._links.resend[0];return e.resend(t.name)}))},save:function(){const e=!!this.get("rememberDevice"),t=this;return this.manageTransaction((function(n,i){const r={rememberDevice:e};let o;if("question"===this.get("factorType")?r.answer=this.get("answer"):"password"===this.get("factorType")?r.password=this.get("password"):this.needsPasscode()&&(r.passCode=this.get("answer")),this.pushFactorHasAutoPush()&&(r.autoPush=this.get("autoPush")),"MFA_REQUIRED"===n.status||"FACTOR_REQUIRED"===n.status||this.appState.get("promptForFactorInUnauthenticated"))o=this._findFactor(n).verify(r);else if(this.get("canUseResend")&&!this.get("answer")&&n.resend){const e=n.data._links.resend[0];o=n.resend(e.name)}else o=n.verify(r);return this.trigger("save"),o.then((function(e){const n={delay:4e3,transactionCallBack:e=>{t.options.appState.set("lastAuthResponse",e)}};if(i(e),"MFA_CHALLENGE"===e.status&&e.poll||"FACTOR_CHALLENGE"===e.status&&e.poll){const r=ud().defer(),o=ia.callAfterTimeout(r.resolve,4e3);return t.listenToOnce(t.options.appState,"factorSwitched",(()=>{clearTimeout(o),r.reject(new ip)})),r.promise.then((function(){return t.stopListening(t.options.appState,"factorSwitched"),t.pushFactorHasAutoPush()&&(n.autoPush=function(){return t.get("autoPush")},n.rememberDevice=function(){return t.get("rememberDevice")}),e.poll(n).then((function(e){t.options.appState.set("lastAuthResponse",e.data),i(e)}))}))}}))}))},_findFactor:function(e){let t;return e.factorTypes&&(t=fl.findWhere(e.factorTypes,{factorType:this.get("factorType")})),t||(t=fl.findWhere(e.factors,{id:this.get("id")})),t},pushFactorHasAutoPush:function(){return this.settings.get("features.autoPush")&&"push"===this.get("factorType")},setCustomHotpVendorName:function(e){if("token:hotp"===e.factorType&&e.profiles)if("NOT_SETUP"===e.status)e.vendorName=e.profiles[0].name;else if("ACTIVE"===e.status){const t=e.profiles.filter((e=>e._embedded.enrolledFactors.length>0));e.vendorName=t[0].name}return e}}),of=od.extend({model:rf,comparator:"sortOrder",parse:function(e){this.lastUsedFactor=e[0];const t=fl.findWhere(e,{provider:"OKTA",factorType:"push"});let n;if(n=fl.where(e,{factorType:"push"}).length>1?fl.findWhere(e,{factorType:"token:software:totp"}):fl.findWhere(e,{provider:"OKTA",factorType:"token:software:totp"}),!t||!n)return e;const i=n===e[0],r=fl.reduce(e,(function(e,i){const r="OKTA"===i.provider,o=r&&"token:software:totp"===i.factorType,s=r&&"push"===i.factorType,a="ACTIVE"!==i.status,l=o&&(a||"ACTIVE"===t.status),c=s&&a&&"ACTIVE"===n.status;return l||c||(s&&(i.backupFactor=new rf(n,{parse:!0})),e.push(i)),e}),[]);return i&&(this.lastUsedFactor=t),r},getDefaultFactor:function(){const e=fl.pick(this.lastUsedFactor,"factorType","provider");return this.findWhere(e)},getFirstUnenrolledRequiredFactor:function(){return this.findWhere({required:!0,enrolled:!1})},_getFactorsOfType:function(e){return this.where({factorType:e})},getFactorIndex:function(e,t){return this._getFactorsOfType(e).findIndex((function(e){return e.get("id")===t}))},hasMultipleFactorsOfSameType:function(e){return this._getFactorsOfType(e).length>1},getFactorByTypeAndIndex:function(e,t){return this._getFactorsOfType(e)[t]}});var sf={Model:rf,Collection:of};const af=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="icon error-24"></span><h4><strong>'+(null!=(o="function"==typeof(s=null!=(s=a(n,"message")||(null!=t?a(t,"message"):t))?s:e.hooks.helperMissing)?s.call(null!=t?t:e.nullContext||{},{name:"message",hash:{},data:r,loc:{start:{line:1,column:47},end:{line:1,column:60}}}):s)?o:"")+"</strong></h4>"},useData:!0});var lf=sd.extend({template:af,className:"okta-infobox-error infobox infobox-error infobox-md margin-btm-25",attributes:{"data-se":"o-form-error-html"},message:"",initialize:function(e){e&&e.message&&(this.message=e.message)},getTemplateData:function(){return{message:this.message}}});const{Util:cf}=ld.util;var uf=nf.extend({Model:{local:{provider:"string",factorType:"string"},save:function(){return this.manageTransaction((()=>{const e=this.appState.get("enrollCustomFactorRedirectUrl");null!==e&&cf.redirect(e)}))}},Form:function(){const e=new sf.Model(this.options.appState.get("factor"),this.toJSON()).get("vendorName");return{autoSave:!0,title:e,subtitle:td("enroll.customFactor.subtitle","login",[e]),save:td("enroll.customFactor.save","login"),formChildren:function(){const e=[];return this.options.appState.get("isFactorResultFailed")&&e.push(_d.View({View:new lf({message:this.options.appState.get("factorResultErrorMessage")})},{selector:".o-form-error-container"})),e}}}}),hf=sd.extend({className:"hide resend-email-infobox",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,a=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="infobox infobox-warning" aria-live="polite"><span class="icon warning-16"></span><p><span>'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"email.code.not.received"},data:r,loc:{start:{line:1,column:102},end:{line:1,column:156}}}))+'</span><a href="#" class="resend-email-btn">'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"email.button.resend"},data:r,loc:{start:{line:1,column:200},end:{line:1,column:250}}}))+"</a></p></div>"},useData:!0}),events:{"click .resend-email-btn":"resendEmail"},postRender:function(){this.showResendCallout()},showResendCallout:function(){fl.delay((()=>{this.$el.removeClass("hide")}),na.API_RATE_LIMIT)},hideResendCallout:function(){this.$el.addClass("hide")},resendEmail:function(e){e.preventDefault(),this.hideResendCallout(),this.model.resend().finally(this.showResendCallout.bind(this))}}),df=Ed.extend({className:"enroll-activate-email",Model:{props:{passCode:"string"},resend:function(){return this.trigger("form:clear-errors"),this.doTransaction((function(e){return e.resend("email")}))},save:function(){this.trigger("save");const e=this.toJSON();return this.doTransaction((function(t){return t.activate(e)}))}},Form:function(){return{title:fl.partial(td,"email.enroll.title","login"),noButtonBar:!1,autoSave:!0,save:fl.partial(td,"oform.verify","login"),formChildren:[_d.View({View:sd.extend({className:"enroll-activate-email-content",attributes:{"data-se":"enroll-activate-email-content"},template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=(s(n,"i18n")||t&&s(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{arguments:"factorEmail",bundle:"login",code:"email.mfa.email.sent.description"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:89}}}))?o:""},useData:!0}),getTemplateData:function(){const e=this.options.appState.get("factor"),t=e&&e.profile?e.profile.email:"",n=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="mask-email">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"email")||(null!=t?s(t,"email"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"email",hash:{},data:r,loc:{start:{line:1,column:25},end:{line:1,column:34}}}):o)+"</span>"},useData:!0})({email:t});return{factorEmail:n}}})}),_d.View({View:hf}),_d.Input({label:td("email.code.label","login"),"label-top":!0,name:"passCode",type:"text",wide:!0})]}},Footer:Ud}),pf={US:"1",AG:"1",AI:"1",AS:"1",BB:"1",BM:"1",BS:"1",CA:"1",DM:"1",DO:"1",GD:"1",GU:"1",JM:"1",KN:"1",KY:"1",LC:"1",MP:"1",MS:"1",PR:"1",SX:"1",TC:"1",TT:"1",VC:"1",VG:"1",VI:"1",RU:"7",KZ:"7",EG:"20",ZA:"27",GR:"30",NL:"31",BE:"32",FR:"33",ES:"34",HU:"36",IT:"39",VA:"39",RO:"40",CH:"41",AT:"43",GB:"44",GG:"44",IM:"44",JE:"44",DK:"45",SE:"46",NO:"47",SJ:"47",PL:"48",DE:"49",PE:"51",MX:"52",CU:"53",AR:"54",BR:"55",CL:"56",CO:"57",VE:"58",MY:"60",AU:"61",CC:"61",CX:"61",ID:"62",PH:"63",NZ:"64",SG:"65",TH:"66",JP:"81",KR:"82",VN:"84",CN:"86",TR:"90",IN:"91",PK:"92",AF:"93",LK:"94",MM:"95",IR:"98",SS:"211",MA:"212",EH:"212",DZ:"213",TN:"216",LY:"218",GM:"220",SN:"221",MR:"222",ML:"223",GN:"224",CI:"225",BF:"226",NE:"227",TG:"228",BJ:"229",MU:"230",LR:"231",SL:"232",GH:"233",NG:"234",TD:"235",CF:"236",CM:"237",CV:"238",ST:"239",GQ:"240",GA:"241",CG:"242",CD:"243",AO:"244",GW:"245",IO:"246",AC:"247",SC:"248",SD:"249",RW:"250",ET:"251",SO:"252",DJ:"253",KE:"254",TZ:"255",UG:"256",BI:"257",MZ:"258",ZM:"260",MG:"261",RE:"262",YT:"262",ZW:"263",NA:"264",MW:"265",LS:"266",BW:"267",SZ:"268",KM:"269",SH:"290",TA:"290",ER:"291",AW:"297",FO:"298",GL:"299",GI:"350",PT:"351",LU:"352",IE:"353",IS:"354",AL:"355",MT:"356",CY:"357",FI:"358",AX:"358",BG:"359",LT:"370",LV:"371",EE:"372",MD:"373",AM:"374",BY:"375",AD:"376",MC:"377",SM:"378",UA:"380",RS:"381",ME:"382",XK:"383",HR:"385",SI:"386",BA:"387",MK:"389",CZ:"420",SK:"421",LI:"423",FK:"500",BZ:"501",GT:"502",SV:"503",HN:"504",NI:"505",CR:"506",PA:"507",PM:"508",HT:"509",GP:"590",BL:"590",MF:"590",BO:"591",GY:"592",EC:"593",GF:"594",PY:"595",MQ:"596",SR:"597",UY:"598",CW:"599",BQ:"599",TL:"670",NF:"672",BN:"673",NR:"674",PG:"675",TO:"676",SB:"677",VU:"678",FJ:"679",PW:"680",WF:"681",CK:"682",NU:"683",WS:"685",KI:"686",NC:"687",TV:"688",PF:"689",TK:"690",FM:"691",MH:"692","001":"979",KP:"850",HK:"852",MO:"853",KH:"855",LA:"856",BD:"880",TW:"886",MV:"960",LB:"961",JO:"962",SY:"963",IQ:"964",KW:"965",SA:"966",YE:"967",OM:"968",PS:"970",AE:"971",IL:"972",BH:"973",QA:"974",BT:"975",MN:"976",NP:"977",TJ:"992",TM:"993",AZ:"994",GE:"995",KG:"996",UZ:"998",GS:"500",PN:"64",AQ:"672",UM:"1",AN:"599"};const ff=function(){const e=Ns.omit(Js.country,"HM","BV","TF");let t=Ns.map(e,(function(e,t){return{name:e,code:t}}));t=Ns.sortBy(t,"name");const n={};return Ns.each(t,(function(e){n[e.code]=e.name})),n},mf=function(){const e=Ns.omit(Js.country,"HM","BV","TF");let t=Ns.map(e,(function(e,t){return{name:e,code:t}}));t=Ns.sortBy(t,"name");const n={};return Ns.each(t,(function(e){n[e.code]=Qs("country.option.label","login",[e.name,e.code])})),n},gf=function(e){return pf[e]};let{TextBox:yf}=ld.views.forms.inputs;var vf=yf.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="okta-form-label-inline o-form-label-inline">'+c(typeof(o=null!=(o=u(n,"countryCallingCode")||(null!=t?u(t,"countryCallingCode"):t))?o:a)===l?o.call(s,{name:"countryCallingCode",hash:{},data:r,loc:{start:{line:1,column:57},end:{line:1,column:79}}}):o)+'</span><span class="okta-form-input-field input-fix o-form-control"><input type="'+c(typeof(o=null!=(o=u(n,"type")||(null!=t?u(t,"type"):t))?o:a)===l?o.call(s,{name:"type",hash:{},data:r,loc:{start:{line:1,column:160},end:{line:1,column:168}}}):o)+'" placeholder="'+c(typeof(o=null!=(o=u(n,"placeholder")||(null!=t?u(t,"placeholder"):t))?o:a)===l?o.call(s,{name:"placeholder",hash:{},data:r,loc:{start:{line:1,column:183},end:{line:1,column:198}}}):o)+'" name="'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:a)===l?o.call(s,{name:"name",hash:{},data:r,loc:{start:{line:1,column:206},end:{line:1,column:214}}}):o)+'" id="'+c(typeof(o=null!=(o=u(n,"inputId")||(null!=t?u(t,"inputId"):t))?o:a)===l?o.call(s,{name:"inputId",hash:{},data:r,loc:{start:{line:1,column:220},end:{line:1,column:231}}}):o)+'" value="'+c(typeof(o=null!=(o=u(n,"value")||(null!=t?u(t,"value"):t))?o:a)===l?o.call(s,{name:"value",hash:{},data:r,loc:{start:{line:1,column:240},end:{line:1,column:249}}}):o)+'" autocomplete="'+c(typeof(o=null!=(o=u(n,"autocomplete")||(null!=t?u(t,"autocomplete"):t))?o:a)===l?o.call(s,{name:"autocomplete",hash:{},data:r,loc:{start:{line:1,column:265},end:{line:1,column:281}}}):o)+'"></span>'},useData:!0}),initialize:function(){this.listenTo(this.model,"change:countryCallingCode",(function(){this.$(".o-form-label-inline").text(this.model.get("countryCallingCode"))}))},preRender:function(){this.options.countryCallingCode=this.model.get("countryCallingCode"),this.options.autocomplete=ia.getAutocompleteValue(this.options.model.settings,"tel")},postRender:function(){this.$el.removeClass("input-fix o-form-control"),fl.defer((()=>{this.$el.parent().addClass("o-form-input-group")}))}});let{Keys:bf}=ld.util;const _f=sd.extend({className:"okta-form-infobox-warning infobox infobox-warning login-timeout-warning",attributes:{"aria-live":"polite"},template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="icon warning-16"></span><p>'+(null!=(o="function"==typeof(s=null!=(s=a(n,"warning")||(null!=t?a(t,"warning"):t))?s:e.hooks.helperMissing)?s.call(null!=t?t:e.nullContext||{},{name:"warning",hash:{},data:r,loc:{start:{line:1,column:40},end:{line:1,column:53}}}):s)?o:"")+"</p>"},useData:!0})}),wf={factorId:function(e){return!fl.isUndefined(e)}};function kf(e){return"call"===e}function Sf(e){return kf(e)?"enroll-call":"enroll-sms"}function Ef(e){bf.isEnter(e)&&(e.stopPropagation(),e.preventDefault(),"keyup"===e.type&&e.data&&e.data.model&&e.data.model.sendCode())}var Tf=Ed.extend({className:function(){return Sf(this.options.factorType)},Model:function(){return{props:{phoneNumber:["string",!0],phoneExtension:["string",!1],lastEnrolledPhoneNumber:"string",passCode:["string",!0],factorId:"string"},local:{countryCode:["string",!1,this.options.appState.get("userCountryCode")],hasExistingPhones:"boolean",trapEnrollment:"boolean",ableToResend:"boolean",factorType:"string",skipPhoneValidation:"boolean"},derived:{countryCallingCode:{deps:["countryCode"],fn:function(e){return"+"+gf(e)}},fullPhoneNumber:{deps:["countryCallingCode","phoneNumber"],fn:function(e,t){return t?e+t:""}},enrolled:{deps:["lastEnrolledPhoneNumber","fullPhoneNumber"],fn:function(e,t){return e===t}}},limitResending:function(){this.set({ableToResend:!1}),fl.delay(fl.bind(this.set,this),na.API_RATE_LIMIT,{ableToResend:!0})},sendCode:function(){const e=this,t=this.get("fullPhoneNumber"),n=this.get("phoneExtension");if(e.trigger("errors:clear"),t.length)return this.doTransaction((function(i){const r="MFA_ENROLL"===i.status||"FACTOR_ENROLL"===i.status,o={phoneNumber:t,updatePhone:!r||e.get("hasExistingPhones")};kf(e.get("factorType"))&&(o.phoneExtension=n),e.get("skipPhoneValidation")&&(o.validatePhone=!1);const s=function(t){return fl.findWhere(t.factors,{factorType:e.get("factorType"),provider:"OKTA"}).enroll({profile:o}).catch((function(t){throw"E0000098"===t.errorCode&&(e.set("skipPhoneValidation",!0),t.xhr.responseJSON.errorSummary=td("enroll.sms.try_again","login")),t}))};return r?s(i):(e.set("trapEnrollment",!0),i.prev().then(s).then((function(t){return e.set("trapEnrollment",!1),t})))}),!0).then((function(){e.set("lastEnrolledPhoneNumber",t),e.limitResending()})).catch((function(){e.set("trapEnrollment",!1)}));e.trigger("invalid",e,{phoneNumber:"model.validation.field.blank"})},resendCode:function(){return this.trigger("errors:clear"),this.limitResending(),this.doTransaction((function(e){return e.resend(this.get("factorType"))}))},save:function(){return this.doTransaction((function(e){return e.activate({passCode:this.get("passCode")})}))}}},Form:function(){const e=this.options.factorType,t=kf(e),n=td(t?"enroll.call.setup":"enroll.sms.setup","login"),i=td(t?"mfa.call":"mfa.sendCode","login"),r=td(t?"mfa.redial":"mfa.resendCode","login"),o=td(t?"mfa.calling":"mfa.sent","login"),s=t?"enroll-call-phone":"enroll-sms-phone",a=t?"call-request-button":"sms-request-button",l=[_d.Input({name:"countryCode",type:"select",wide:!0,options:ff()}),_d.Input({label:td("mfa.phoneNumber.placeholder","login"),"label-top":!0,className:s,name:"phoneNumber",input:vf,type:"text",render:function(){this.$('input[name="phoneNumber"]').off("keydown keyup",Ef).keydown(Ef).keyup({model:this.model},Ef)}})];return t&&l.push(_d.Input({label:td("mfa.phoneNumber.ext.placeholder","login"),"label-top":!0,className:"enroll-call-extension",name:"phoneExtension",input:Fd,type:"text"})),l.push(_d.Button({title:i,attributes:{"data-se":a},className:"button button-primary js-enroll-phone margin-top-30 "+a,click:function(){this.model.sendCode()}}),_d.Button({title:r,attributes:{"data-se":a},className:"button js-enroll-phone margin-top-30 "+a,click:function(){this.model.resendCode()},initialize:function(){this.$el.css({display:"none"}),this.listenTo(this.model,"change:ableToResend",(function(e,t){t?(this.options.title=r,this.enable()):(this.options.title=o,this.disable()),this.render()}))}}),_d.Divider({showWhen:wf}),_d.Input({label:td("mfa.challenge.enterCode.placeholder","login"),"label-top":!0,explain:ia.createInputExplain("mfa.challenge.enterCode.tooltip","mfa.challenge.enterCode.placeholder","login"),"explain-top":!0,name:"passCode",input:Fd,type:"tel",showWhen:wf}),_d.Toolbar({noCancelButton:!0,save:td("mfa.challenge.verify","login"),showWhen:wf})),{title:n,noButtonBar:!0,autoSave:!0,className:Sf(e),showWarning:function(e){this.clearWarnings(),this.add(_f,".o-form-error-container",{options:{warning:e}})},clearWarnings:function(){this.$(".okta-form-infobox-warning").remove()},initialize:function(){const e=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<b>$1</b>",bundle:"login",code:"factor.call.time.warning"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:71}}}))},useData:!0}),n=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<b>$1</b>",bundle:"login",code:"factor.sms.time.warning"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:70}}}))},useData:!0});this.listenTo(this.model,"change:ableToResend",(function(i,r){r?this.showWarning(t?e:n):this.clearWarnings()})),this.listenTo(this.model,"error errors:clear",(function(){this.clearWarnings(),this.clearErrors()})),this.listenTo(this.model,"change:enrolled",(function(){this.$(".js-enroll-phone").toggle()}))},formChildren:l}},Footer:Ud,trapAuthResponse:function(){return this.options.appState.get("isMfaEnrollActivate")?(this.model.set("factorId",this.options.appState.get("activatedFactorId")),!0):!(!this.options.appState.get("isMfaEnroll")||!this.model.get("trapEnrollment"))||void 0},initialize:function(){kf(this.options.factorType)?this.model.set("hasExistingPhones",this.options.appState.get("hasExistingPhonesForCall")):this.model.set("hasExistingPhones",this.options.appState.get("hasExistingPhones")),this.model.set("factorType",this.options.factorType)}});const xf=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="factor-cardinality">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"cardinalityText")||(null!=t?s(t,"cardinalityText"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"cardinalityText",hash:{},data:r,loc:{start:{line:1,column:33},end:{line:1,column:52}}}):o)+"</span>"},useData:!0}),Cf=sd.extend({tagName:"li",className:"enroll-factor-row clearfix",template:pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"factorDescription")||(null!=t?s(t,"factorDescription"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"factorDescription",hash:{},data:r,loc:{start:{line:1,column:235},end:{line:1,column:256}}}):o)+"</p>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="enroll-factor-icon-container"><div class="factor-icon enroll-factor-icon '+u(typeof(s=null!=(s=h(n,"iconClassName")||(null!=t?h(t,"iconClassName"):t))?s:l)===c?s.call(a,{name:"iconClassName",hash:{},data:r,loc:{start:{line:1,column:85},end:{line:1,column:102}}}):s)+'"></div></div><div class="enroll-factor-description"><h3 class="enroll-factor-label">'+u(typeof(s=null!=(s=h(n,"factorLabel")||(null!=t?h(t,"factorLabel"):t))?s:l)===c?s.call(a,{name:"factorLabel",hash:{},data:r,loc:{start:{line:1,column:187},end:{line:1,column:202}}}):s)+"</h3>"+(null!=(o=h(n,"if").call(a,null!=t?h(t,"factorDescription"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:207},end:{line:1,column:267}}}))?o:"")+'<div class="enroll-factor-button"></div></div>'},useData:!0}),attributes:function(){return{"data-se":this.model.get("factorName")}},children:function(){const e=[],t=this.model.get("enrolled"),n=this.model.get("required"),i=this.model.get("cardinality");if(this.options.showInlineSetupButton)return[[nd({className:"button",title:this.getSetupButtonText(),click:function(){this.options.appState.trigger("navigate",_p.createEnrollFactorUrl(this.model.get("provider"),this.model.get("factorType")))}}),".enroll-factor-button"]];t?e.push(['<span class="icon success-16-green"></span>',".enroll-factor-label"]):n&&e.push(['<span class="icon success-16-gray"></span>',".enroll-factor-label"]);const r=Dd.getCardinalityText(t,n,i);return r&&e.push([xf({cardinalityText:r}),".enroll-factor-description"]),e},minimize:function(){this.$el.addClass("enroll-factor-row-min")},maximize:function(){this.$el.removeClass("enroll-factor-row-min")},getSetupButtonText:function(){return this.model.get("additionalEnrollment")?td("enroll.choices.setup.another","login"):td("enroll.choices.setup","login")}});var Pf=Su.extend({className:"enroll-factor-list",item:Cf,itemSelector:".list-content",template:pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h3 class="list-title">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"listTitle")||(null!=t?s(t,"listTitle"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"listTitle",hash:{},data:r,loc:{start:{line:1,column:40},end:{line:1,column:53}}}):o)+"</h3>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"listTitle"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:65}}}))?o:"")+'<ul class="list-content"></ul>'},useData:!0}),getTemplateData:function(){const e=Su.prototype.getTemplateData.call(this);return fl.extend(e,this),e},postRender:function(){this.options.minimize&&this.invoke("minimize")}}),Af=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link goto js-skip" data-se="skip-link">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"enroll.choices.setup.skip"},data:r,loc:{start:{line:1,column:58},end:{line:1,column:114}}}))+"</a>"},useData:!0}),className:"auth-footer clearfix",events:{"click .js-skip":function(e){e.preventDefault(),this.model.doTransaction((function(e){return e.skip()}))}}}),Of=Pf.extend({listTitle:fl.partial(td,"enroll.choices.list.setup","login"),className:function(){return Pf.prototype.className+" enroll-required-factor-list"},postRender:function(){let e,t;Pf.prototype.postRender.apply(this,arguments),e=this.options.appState.get("factors").getFirstUnenrolledRequiredFactor(),t=this.find((function(t){return t.model===e})),t.maximize()}});const If=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<span>"+(null!=(o="function"==typeof(s=null!=(s=a(n,"subtitle")||(null!=t?a(t,"subtitle"):t))?s:e.hooks.helperMissing)?s.call(null!=t?t:e.nullContext||{},{name:"subtitle",hash:{},data:r,loc:{start:{line:1,column:6},end:{line:1,column:20}}}):s)?o:"")+"</span>"},useData:!0});var Lf=Ed.extend({className:"enroll-choices",state:{pageType:null},Model:{},Form:{noCancelButton:!0,title:fl.partial(td,"enroll.choices.title","login"),noButtonBar:function(){return this.state.get("pageType")===na.ALL_OPTIONAL_NONE_ENROLLED},subtitle:" ",getSubtitle:function(){switch(this.state.get("pageType")){case na.ALL_OPTIONAL_SOME_ENROLLED:case na.HAS_REQUIRED_ALL_REQUIRED_ENROLLED:return td("enroll.choices.optional","login");case na.HAS_REQUIRED_SOME_REQUIRED_ENROLLED:{const e=this.options.appState.get("gracePeriodRemainingDays");return null!==e&&e>=0?this.getGracePeriodSubtitle(e):this.getDefaultSubtitle()}default:return this.getDefaultSubtitle()}},getDefaultSubtitle:function(){return this.settings.get("brandName")?td("enroll.choices.description.specific","login",[this.settings.get("brandName")]):td("enroll.choices.description.generic","login")},getGracePeriodSubtitle:function(e){return e>=1?td("enroll.choices.description.gracePeriod.bold","login",[e]):td("enroll.choices.description.gracePeriod.oneDay.bold","login")},save:function(){switch(this.state.get("pageType")){case na.ALL_OPTIONAL_SOME_ENROLLED:case na.HAS_REQUIRED_ALL_REQUIRED_ENROLLED:return td("enroll.choices.submit.finish","login");case na.HAS_REQUIRED_NONE_ENROLLED:return td("enroll.choices.submit.configure","login");case na.HAS_REQUIRED_SOME_REQUIRED_ENROLLED:return td("enroll.choices.submit.next","login");default:return""}},initialize:function(e){this.listenTo(this,"save",(function(){let t;switch(this.state.get("pageType")){case na.HAS_REQUIRED_NONE_ENROLLED:case na.HAS_REQUIRED_SOME_REQUIRED_ENROLLED:t=e.appState.get("factors").getFirstUnenrolledRequiredFactor(),e.appState.trigger("navigate",_p.createEnrollFactorUrl(t.get("provider"),t.get("factorType")));break;default:return this.model.doTransaction((function(e){return e.skip()}))}}))},preRender:function(){this.add(If({subtitle:this.getSubtitle()}),"p.okta-form-subtitle");const e=this.options.appState.get("factors");switch(this.state.get("pageType")){case na.HAS_REQUIRED_NONE_ENROLLED:case na.HAS_REQUIRED_SOME_REQUIRED_ENROLLED:this.add(new Of({minimize:!0,collection:new od(e.where({required:!0})),appState:this.options.appState}));break;case na.HAS_REQUIRED_ALL_REQUIRED_ENROLLED:case na.ALL_OPTIONAL_SOME_ENROLLED:case na.ALL_OPTIONAL_NONE_ENROLLED:{const t=e.where({enrolled:!0}),n=e.filter((function(e){return!e.get("enrolled")||e.get("additionalEnrollment")}));let i;t.length>0&&(i=td("enroll.choices.list.optional","login"),this.add(new Pf({listTitle:td("enroll.choices.list.enrolled","login"),minimize:!0,collection:new od(t),appState:this.options.appState}))),this.add(new Pf({listTitle:i,collection:new od(n),appState:this.options.appState,showInlineSetupButton:!0}));break}}}},initialize:function(e){let t,n,i=0,r=0,o=0,s=0;e.appState.get("factors").each((function(e){const t=e.get("required"),n=e.get("enrolled"),a=e.get("additionalEnrollment");t&&n?i++:t&&!n?r++:!t&&n?o++:t||n||s++,n&&a&&s++})),t=i>0||r>0,t&&0===i?n=na.HAS_REQUIRED_NONE_ENROLLED:t&&r>0?n=na.HAS_REQUIRED_SOME_REQUIRED_ENROLLED:t&&s>0?n=na.HAS_REQUIRED_ALL_REQUIRED_ENROLLED:0===o&&s>0?n=na.ALL_OPTIONAL_NONE_ENROLLED:s>0?n=na.ALL_OPTIONAL_SOME_ENROLLED:this.model.doTransaction((function(e){return e.skip()})),this.state.set("pageType",n),this.options.appState.get("skipLink")&&n===na.HAS_REQUIRED_SOME_REQUIRED_ENROLLED&&this.add(new Af(this.toJSON()))}}),Df=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self&&self,{exports:{}});Df.exports=function(){var e,t,n,i,r,o,s=/^(?:AUTH|ENROLL)+\|[A-Za-z0-9\+\/=]+\|[A-Za-z0-9\+\/=]+$/,a=/^ERR\|[\w\s\.\(\)]+$/,l=/^DUO_OPEN_WINDOW\|/,c=["duo.com","duosecurity.com","duomobile.s3-us-west-1.amazonaws.com"];function u(){e="",t="sig_response",n=void 0,i=void 0,r=void 0,o=void 0}function h(e,t){var n=t||"https://www.duosecurity.com/docs/duoweb#3.-show-the-iframe";throw new Error("Duo Web SDK error: "+e+(n?"\nSee "+n+" for more information":""))}function d(e,t){return"dataset"in e?e.dataset[t]:e.getAttribute("data-"+t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase())}function p(e,t,n,i){"addEventListener"in window?e.addEventListener(t,i,!1):e.attachEvent(n,i)}function f(e,t,n,i){"removeEventListener"in window?e.removeEventListener(t,i,!1):e.detachEvent(n,i)}function m(e){p(document,"DOMContentLoaded","onreadystatechange",e)}function g(e){f(document,"DOMContentLoaded","onreadystatechange",e)}function y(e){if(e){0===e.indexOf("ERR|")&&h(e.split("|")[1]),-1!==e.indexOf(":")&&2===e.split(":").length||h("Duo was given a bad token.  This might indicate a configuration problem with one of Duo's client libraries.");var t=e.split(":");return i=t[0],r=t[1],{sigRequest:e,duoSig:t[0],appSig:t[1]}}}function v(e){return Boolean(e.origin==="https://"+n&&"string"==typeof e.data&&(e.data.match(s)||e.data.match(a)||e.data.match(l)))}function b(e){var t,n;return e.iframe&&e.iframeContainer?h("Passing both `iframe` and `iframeContainer` arguments at the same time is not allowed."):e.iframe?(n=t=_(e.iframe))&&!w(n)&&h("`iframe` only accepts an iframe element or the id of an iframe. To use a non-iframe element, use the `iframeContainer` argument."):e.iframeContainer?function(e){e&&w(e)&&h("`iframeContainer` only accepts a non-iframe element or the id of a non-iframe. To use a non-iframe element, use the `iframeContainer` argument on Duo.init().")}(t=_(e.iframeContainer)):t=document.getElementById("duo_iframe"),t}function _(e){return e.tagName?e:"string"==typeof e?document.getElementById(e):null}function w(e){return e&&e.tagName&&"iframe"===e.tagName.toLowerCase()}function k(){return["https://",n,"/frame/web/v1/auth?tx=",i,"&parent=",encodeURIComponent(document.location.href),"&v=2.8"].join("")}function S(e){if(v(e))if(e.data.match(l)){var t=e.data.substring(16);(function(e){if(!e)return!1;var t=document.createElement("a");if(t.href=e,"duotrustedendpoints:"===t.protocol)return!0;if("https:"!==t.protocol)return!1;for(var n=0;n<c.length;n++)if(t.hostname.endsWith("."+c[n])||t.hostname===c[n])return!0;return!1})(t)&&window.open(t,"_self")}else T(e.data),f(window,"message","onmessage",S)}function E(s,a){if(n||(n=d(s,"host"))||h("No API hostname is given for Duo to use.  Be sure to pass a `host` parameter to Duo.init, or through the `data-host` attribute on the iframe element."),i&&r||(y(d(s,"sigRequest")),i&&r||h("No valid signed request is given.  Be sure to give the `sig_request` parameter to Duo.init, or use the `data-sig-request` attribute on the iframe element.")),""===e&&(e=d(s,"postAction")||e),"sig_response"===t&&(t=d(s,"postArgument")||t),w(s))(o=s).src=k();else{for(;s.firstChild;)s.removeChild(s.firstChild);for(var l in o=document.createElement("iframe"),a.src=k(),a)o.setAttribute(l,a[l]);s.appendChild(o)}p(window,"message","onmessage",S)}function T(t){e(t+":"+r)}return u(),{init:function i(r){u(),r&&(r.host&&(n=r.host),r.sig_request&&y(r.sig_request),r.post_action&&(e=r.post_action),r.post_argument&&(t=r.post_argument),"function"==typeof r.submit_callback&&r.submit_callback);var o=b(r);o?E(o,r.iframeAttributes||{}):function(e){var t=function(){var n=b(e);n||h('This page does not contain an iframe for Duo to use. Add an element like <iframe id="duo_iframe"></iframe> to this page.'),E(n,e.iframeAttributes||{}),g(t)};m(t)}(r),g(i)},_onReady:m,_parseSigRequest:y,_isDuoMessage:v,_doPostBack:T}}();var Rf=Df.exports,Mf=Ed.extend({className:"enroll-duo duo-form",Model:{props:{host:"string",signature:"string",postAction:"string",factorId:"string",stateToken:"string"},getInitOptions:function(){return this.doTransaction((function(e){return fl.findWhere(e.factors,{factorType:"web",provider:"DUO"}).enroll()}))},activate:function(e){const t=this.get("postAction"),n=this.get("factorId"),i=this,r={id:n,stateToken:this.get("stateToken"),sig_response:e};return ud()(Vl.post(t,r)).then((function(){return i.doTransaction((function(e){return e.poll()}))})).catch((function(e){i.trigger("error",i,e.xhr)}))}},Form:{autoSave:!0,noButtonBar:!0,title:fl.partial(td,"enroll.duo.title","login"),postRender:function(){this.add('<iframe frameborder="0" title="'+this.title()+'"></iframe>'),Rf.init({host:this.model.get("host"),sig_request:this.model.get("signature"),iframe:this.$("iframe").get(0),post_action:fl.bind(this.model.activate,this.model)})}},Footer:Ud,fetchInitialData:function(){const e=this;return this.model.getInitOptions(this.options.appState).then((function(t){const n=t.data;if(!(n&&n._embedded&&n._embedded.factor&&n._embedded.factor._embedded&&n._embedded.factor._embedded.activation))throw new Error("Response does not have duo activation options");const i=n._embedded.factor,r=i._embedded.activation;e.model.set({host:r.host,signature:r.signature,postAction:r._links.complete.href,factorId:i.id,stateToken:n.stateToken})}))},trapAuthResponse:function(){if(this.options.appState.get("isMfaEnrollActivate"))return!0}});const Nf={local:{factorType:"string",provider:"string"},save:function(){this.trigger("save");const e=this.pick("factorType","provider");return this.doTransaction((function(t){return fl.findWhere(t.factors,e).enroll()}))}};var jf=Ed.extend({className:"enroll-email",Model:Nf,Form:function(){return{title:fl.partial(td,"email.enroll.title","login"),noButtonBar:!1,autoSave:!0,save:fl.partial(td,"email.button.send","login"),formChildren:[_d.View({View:sd.extend({attributes:{"data-se":"enroll-email-content"},template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"email.enroll.description"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:55}}}))},useData:!0})})})]}},Footer:Ud,initialize:function(){this.model.set(fl.pick(this.options,"factorType","provider"))}}),Ff=Ed.extend({className:"enroll-hotp",Model:function(){return{local:{__factorType__:["string",!1,this.options.factorType],__provider__:["string",!1,this.options.provider]}}},Form:{title:function(){const e=this.options.appState.get("factors").findWhere({provider:this.model.get("__provider__"),factorType:this.model.get("__factorType__")});return td("enroll.totp.title","login",[e.get("factorLabel")])},noButtonBar:!0,attributes:{"data-se":"restrict-enroll"},formChildren:function(){return[_d.View({View:new lf({message:td("enroll.hotp.restricted","login")})})]}},Footer:Ud});function Bf(e){return"RSA"===e}function Uf(e){return Bf(e)?"enroll-rsa":"enroll-onprem"}var qf=Ed.extend({className:function(){return Uf(this.options.provider)},Model:function(){const e=this.options.provider,t=this.options.appState.get("factors").findWhere(fl.pick(this.options,"provider","factorType")).get("profile");return{props:{credentialId:["string",!0,t&&t.credentialId?t.credentialId:""],passCode:["string",!0],factorId:"string"},save:function(){return this.doTransaction((function(t){return fl.findWhere(t.factors,{factorType:"token",provider:e}).enroll({passCode:this.get("passCode"),profile:{credentialId:this.get("credentialId")}})}))}}},Form:function(){const e=this.options.provider,t=this.options.appState.get("factors").findWhere(fl.pick(this.options,"provider","factorType")).get("vendorName");return{title:Bf(e)?td("factor.totpHard.rsaSecurId","login"):t,noButtonBar:!0,autoSave:!0,className:Uf(e),initialize:function(){this.listenTo(this.model,"error",((e,t)=>{t&&409===t.status&&(this.$(".o-form-input-name-passCode input").val(""),this.$(".o-form-input-name-passCode input").trigger("change"),this.$(".o-form-input-name-passCode input").focus())}))},formChildren:[_d.Input({label:td("enroll.onprem.username.placeholder","login",[t]),"label-top":!0,explain:ia.createInputExplain("enroll.onprem.username.tooltip","enroll.onprem.username.placeholder","login",[t],[t]),"explain-top":!0,name:"credentialId",input:Fd,type:"text"}),_d.Input({label:td("enroll.onprem.passcode.placeholder","login",[t]),"label-top":!0,explain:ia.createInputExplain("enroll.onprem.passcode.tooltip","enroll.onprem.passcode.placeholder","login",[t],[t]),"explain-top":!0,name:"passCode",input:Fd,type:"password"}),_d.Toolbar({noCancelButton:!0,save:td("mfa.challenge.verify","login")})]}},Footer:Ud});const Vf={validateUsername:function(e){const t=e.get("username");if(t&&t.length>256)return{username:td("model.validation.field.username","login")}},validateFieldsMatch:function(e,t,n,i){if(e.get(t)!==e.get(n)){const e={};return e[n]=i,e}},validatePasswordMatch:function(e){return Vf.validateFieldsMatch(e,"newPassword","confirmPassword",td("password.error.match","login"))}};var Hf=Ed.extend({className:"enroll-password",Model:{props:{password:["string",!0],confirmPassword:["string",!0]},validate:function(){return Vf.validateFieldsMatch(this,"password","confirmPassword",td("password.enroll.error.match","login"))},save:function(){return this.doTransaction((function(e){return fl.findWhere(e.factors,{factorType:"password",provider:"OKTA"}).enroll({profile:{password:this.get("password")}})}))}},Form:{autoSave:!0,title:fl.partial(td,"enroll.password.setup","login"),inputs:function(){return[{label:td("mfa.challenge.password.placeholder","login"),"label-top":!0,className:"o-form-fieldset o-form-label-top auth-passcode",name:"password",input:Fd,type:"password"},{label:td("password.confirmPassword.placeholder","login"),"label-top":!0,className:"o-form-fieldset o-form-label-top auth-passcode",name:"confirmPassword",input:Fd,type:"password"}]}},Footer:Ud}),$f=Ed.extend({className:"enroll-question",Model:{props:{question:"string",answer:["string",!0]},local:{securityQuestions:"object"},save:function(){return this.doTransaction((function(e){return fl.findWhere(e.factors,{factorType:"question",provider:"OKTA"}).enroll({profile:{question:this.get("question"),answer:this.get("answer")}})}))}},Form:{autoSave:!0,title:fl.partial(td,"enroll.securityQuestion.setup","login"),inputs:function(){return[{label:!1,"label-top":!0,name:"question",type:"select",wide:!0,options:function(){return this.model.get("securityQuestions")},params:{searchThreshold:25}},{label:td("mfa.challenge.answer.placeholder","login"),"label-top":!0,explain:ia.createInputExplain("mfa.challenge.answer.tooltip","mfa.challenge.answer.placeholder","login"),"explain-top":!0,className:"o-form-fieldset o-form-label-top auth-passcode",name:"answer",input:Fd,type:"text"}]}},Footer:Ud,fetchInitialData:function(){const e=this;return this.model.manageTransaction((function(e){return fl.findWhere(e.factors,{factorType:"question",provider:"OKTA"}).questions()})).then((function(t){const n={};fl.each(t,(function(e){n[e.question]=Dd.getSecurityQuestionLabel(e)})),e.model.set("securityQuestions",n)}))}}),zf=Ed.extend({className:"enroll-symantec",Model:{props:{credentialId:["string",!0],passCode:["string",!0],nextPassCode:["string",!0],factorId:"string"},save:function(){return this.doTransaction((function(e){return fl.findWhere(e.factors,{factorType:"token",provider:"SYMANTEC"}).enroll({passCode:this.get("passCode"),nextPassCode:this.get("nextPassCode"),profile:{credentialId:this.get("credentialId")}})}))}},Form:{title:fl.partial(td,"factor.totpHard.symantecVip","login"),subtitle:fl.partial(td,"enroll.symantecVip.subtitle","login"),noButtonBar:!0,autoSave:!0,className:"enroll-symantec",formChildren:function(){return[_d.Input({label:td("enroll.symantecVip.credentialId.placeholder","login"),"label-top":!0,explain:ia.createInputExplain("enroll.symantecVip.credentialId.tooltip","enroll.symantecVip.credentialId.placeholder","login"),"explain-top":!0,name:"credentialId",input:Fd,type:"text"}),_d.Input({label:td("enroll.symantecVip.passcode1.placeholder","login"),"label-top":!0,explain:ia.createInputExplain("enroll.symantecVip.passcode1.tooltip","enroll.symantecVip.passcode1.placeholder","login"),"explain-top":!0,name:"passCode",input:Fd,type:"text"}),_d.Input({label:td("enroll.symantecVip.passcode2.placeholder","login"),"label-top":!0,explain:ia.createInputExplain("enroll.symantecVip.passcode2.tooltip","enroll.symantecVip.passcode2.placeholder","login"),"explain-top":!0,name:"nextPassCode",input:Fd,type:"text"}),_d.Toolbar({noCancelButton:!0,save:td("mfa.challenge.verify","login")})]}},Footer:Ud}),Wf={OKTA:{APPLE:"https://itunes.apple.com/us/app/okta-verify/id490179405",ANDROID:"https://play.google.com/store/apps/details?id=com.okta.android.auth"},GOOGLE:{APPLE:"https://itunes.apple.com/us/app/google-authenticator/id388497605",ANDROID:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2"},STORE:{APPLE:"App Store",ANDROID:"Google Play Store"}};const Gf={__deviceType__:function(e){return void 0!==e}},Kf=sd.extend({attributes:{"data-se":"app-download-instructions"},className:"app-download-instructions",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="app-logo '+e.escapeExpression(typeof(s=null!=(s=u(n,"appIcon")||(null!=t?u(t,"appIcon"):t))?s:l)===c?s.call(a,{name:"appIcon",hash:{},data:r,loc:{start:{line:1,column:22},end:{line:1,column:33}}}):s)+'"></span><p class="instructions">'+(null!=(o=typeof(s=null!=(s=u(n,"appStoreLinkText")||(null!=t?u(t,"appStoreLinkText"):t))?s:l)===c?s.call(a,{name:"appStoreLinkText",hash:{},data:r,loc:{start:{line:1,column:66},end:{line:1,column:88}}}):s)?o:"")+"</p>"},useData:!0}),initialize:function(){this.listenTo(this.model,"change:__deviceType__",this.render)},postRender:function(){const e=this.$el.find(".instructions a");e.length&&(e[0].setAttribute("target","_blank"),e[0].setAttribute("rel","noreferer noopener"))},getTemplateData:function(){let e,t,n;const i=Dd.getFactorLabel(this.model.get("__provider__"),this.model.get("__factorType__"));return n=Wf.STORE[this.model.get("__deviceType__")],"GOOGLE"===this.model.get("__provider__")?(e=Wf.GOOGLE[this.model.get("__deviceType__")],t="google-auth-38"):(e=Wf.OKTA[this.model.get("__deviceType__")],t="okta-verify-download-icon"),{appStoreLinkText:n?td("enroll.totp.downloadApp","login",[e,i,n]):null,appIcon:t}}}),Yf=Ed.extend({className:"enroll-totp",Model:function(){return{local:{__deviceType__:"string",__factorType__:["string",!1,this.options.factorType],__provider__:["string",!1,this.options.provider]},save:function(){return this.doTransaction((function(e){return fl.findWhere(e.factors,{factorType:this.get("__factorType__"),provider:this.get("__provider__")}).enroll()}))}}},Form:{title:function(){const e=Dd.getFactorLabel(this.model.get("__provider__"),this.model.get("__factorType__"));return td("enroll.totp.title","login",[e])},noButtonBar:!0,attributes:{"data-se":"step-device-type"},formChildren:function(){const e={APPLE:td("iphone","login"),ANDROID:td("android","login")};return[_d.Input({name:"__deviceType__",type:"radio",options:e,group:!0,label:fl.partial(td,"enroll.totp.selectDevice","login")}),_d.Divider({showWhen:Gf}),_d.View({View:Kf,showWhen:Gf}),_d.Button({title:td("oform.next","login"),attributes:{"data-type":"save"},className:"button button-primary default-custom-button",click:function(){this.model.save()},showWhen:Gf})]}},Footer:Ud});__webpack_require__(3959);const Xf={getU2fEnrollErrorMessageKeyByCode:function(e){switch(e){default:case 1:return"u2f.error.other";case 2:case 3:return"u2f.error.badRequest";case 4:return"u2f.error.unsupported";case 5:return"u2f.error.timeout"}},getU2fVerifyErrorMessageKeyByCode:function(e,t){switch(e){case 1:return t?"u2f.error.other.oneFactor":"u2f.error.other";case 2:case 3:return t?"u2f.error.badRequest.oneFactor":"u2f.error.badRequest";case 4:return t?"u2f.error.unsupported.oneFactor":"u2f.error.unsupported";case 5:return"u2f.error.timeout"}},getU2fEnrollErrorMessageByCode:function(e){return Qs(Xf.getU2fEnrollErrorMessageKeyByCode(e),"login")},getU2fVerifyErrorMessageByCode:function(e,t){return Qs(Xf.getU2fVerifyErrorMessageKeyByCode(e,t),"login")},getU2fVersion:function(){return"U2F_V2"},isU2fAvailable:function(){return Object.prototype.hasOwnProperty.call(window,"u2f")}};var Jf=Ed.extend({className:"enroll-u2f",Model:{local:{__enrolled__:"boolean"},save:function(){return this.trigger("request"),this.get("__enrolled__")?this.activate():this.doTransaction((function(e){return fl.findWhere(e.factors,{factorType:"u2f",provider:"FIDO"}).enroll()}))},activate:function(){return this.set("__enrolled__",!0),this.trigger("errors:clear"),this.doTransaction((function(e){const t=e.factor.activation,n=t.appId,i=[{version:Xf.getU2fVersion(),challenge:t.nonce}],r=this,o=ud().defer();return u2f.register(n,i,[],(function(t){r.trigger("errors:clear"),t.errorCode&&0!==t.errorCode?o.reject(new rp({xhr:{responseJSON:{errorSummary:Xf.getU2fEnrollErrorMessageByCode(t.errorCode)}}})):o.resolve(e.activate({registrationData:t.registrationData,version:t.version,challenge:t.challenge,clientData:t.clientData}))})),o.promise}))}},Form:{title:fl.partial(td,"enroll.u2f.title","login"),save:fl.partial(td,"enroll.u2f.save","login"),noCancelButton:!0,hasSavingState:!1,autoSave:!0,className:"enroll-u2f-form",noButtonBar:function(){return!Xf.isU2fAvailable()},modelEvents:{request:"_startEnrollment",error:"_stopEnrollment"},formChildren:function(){const e=[];if(Xf.isU2fAvailable())e.push(_d.View({View:sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="u2f-instructions"><ol><li>'+(null!=(o=(l(n,"i18n")||t&&l(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.u2f.general2"},data:r,loc:{start:{line:1,column:38},end:{line:1,column:90}}}))?o:"")+"</li><li>"+e.escapeExpression((l(n,"i18n")||t&&l(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.u2f.general3"},data:r,loc:{start:{line:1,column:99},end:{line:1,column:149}}}))+"</li></ol></div>"},useData:!0})})})),e.push(_d.View({View:sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,a=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="u2f-enroll-text hide"><p>'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"enroll.u2f.instructions"},data:r,loc:{start:{line:1,column:37},end:{line:1,column:91}}}))+"</p><p>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"enroll.u2f.instructionsBluetooth"},data:r,loc:{start:{line:1,column:98},end:{line:1,column:161}}}))+'</p><div data-se="u2f-devices" class="u2f-devices-images"><div class="u2f-usb"></div><div class="u2f-bluetooth"></div></div><div data-se="u2f-waiting" class="okta-waiting-spinner"></div></div>'},useData:!0})})}));else{let t="u2f.error.factorNotSupported";1===this.options.appState.get("factors").length&&(t="u2f.error.factorNotSupported.oneFactor"),e.push(_d.View({View:new lf({message:td(t,"login")})},{selector:".o-form-error-container"}))}return e},_startEnrollment:function(){this.$(".u2f-instructions").addClass("hide"),this.$(".u2f-enroll-text").removeClass("hide"),this.$(".o-form-button-bar").hide()},_stopEnrollment:function(){this.$(".u2f-instructions").removeClass("hide"),this.$(".u2f-enroll-text").addClass("hide"),this.$(".o-form-button-bar").show()}},Footer:Ud,trapAuthResponse:function(){if(this.options.appState.get("isMfaEnrollActivate"))return this.model.activate(),!0}}),Qf=dd.extend({initialize:function(e){this.options=e||{},this.appState=this.options.appState},constructPostData:function(e){const t={registration:{profile:e}};return this.appState.get("policy").registration.createNewAccount&&(t.registration.createNewAccount=!0),t},getEnrollFormData:function(){return this.manageTransaction((function(e,t){return e.enroll().then((function(e){t(e)}))}))},save:function(){let e=dd.prototype.toJSON.apply(this,arguments);if(e=fl.omit(e,["appState","settings","createNewAccount"]),!fl.isEmpty(e))return this.manageTransaction((function(t,n){t.enroll(this.constructPostData(e)).then((function(e){n(e)}))}));{const e={errorSummary:td("oform.errorbanner.title","login")};this.trigger("error",this,{responseJSON:e})}}});let{BaseSchema:Zf}=ld.models;var em=Zf.Model.extend({expand:["schema"],setFieldPlaceholder:function(e){return fl.each(e,(function(e){e.title=e.label})),e},initialize:function(e){let t=e.profileSchemaAttributes;if(t=this.setFieldPlaceholder(t),t){const e={properties:{}};for(var n=0;n<t.length;n++){const i=t[n];e.properties[i.name]=i}this.parse.apply(this,[{schema:e}])}}});let{SchemaFormFactory:tm}=ld.views.forms.helpers;const nm=function(e,t){if(!e)return!1;e=e.toLowerCase(),t=t.toLowerCase();const n=function(e){const t=e.split(""),n=[],i=[",",".","-","_","#","@"];let r="";return fl.each(t,(function(e){-1===i.indexOf(e)?r+=e:(r.length>=4&&n.push(fl.clone(r)),r="")})),r.length>=4&&n.push(fl.clone(r)),n.filter(Boolean)}(e);for(var i=0;i<n.length;i++){const e=n[i];if(-1!==t.indexOf(e))return!0}return!1},im=function(e,t,n,i){const r=t.get(e);fl.isString(r)&&n.each((function(n,o){const s=Vl("#subschemas-"+e+" .subschema-"+o);r?s.children("p").removeClass("default-schema"):s.children("p").addClass("default-schema"),s.children("p").removeAttr("role").removeAttr("aria-live"),s.removeClass("subschema-satisfied subschema-unsatisfied subschema-error"),function(e,t,n){const i=e.get("minLength"),r=e.get("maxLength"),o=e.get("format");if(fl.isNumber(i)&&t.length<i)return!1;if(fl.isNumber(r)&&t.length>r)return!1;const s=t;if(fl.isString(o)){if("^[#/userName]"===o||"^[#/firstName]"===o||"^[#/lastName]"===o){const e=o.split("^[#/")[1].split("]")[0];let t=n.get(e);return"userName"===e&&(t=n.has("userName")?n.get("userName"):n.get("email")),!nm(t,s)}if(!new RegExp(o).test(t))return!1}return!0}(n,r,t)?(s.addClass("subschema-satisfied"),s.find("p span").removeClass("error error-16-small"),s.find("p span").addClass("confirm-16")):i&&(s.find("p span").removeClass("confirm-16"),s.find("p span").addClass("error error-16-small"),s.addClass("subschema-error subschema-unsatisfied"),s.find("p").attr("role","alert").attr("aria-live","polite"))}))};var rm=function(e){let t=tm.createInputOptions(e);if("select"===t.type)t=fl.extend(t,{label:e.get("title")});else{let n=e.get("title");e.get("required")&&(n+=" *"),t=fl.extend(t,{label:!1,"label-top":!0,placeholder:n})}const n=e.get("name");switch(n){case"userName":t.input=Fd,t.params={icon:"person-16-gray"};break;case"password":t.type="password",t.input=Fd,t.params={icon:"remote-lock-16"}}const i=e.get("subSchemas");return i&&(t.events={input:function(){im(n,this.model,i,!0)},focusout:function(){im(n,this.model,i,!0)},"change:userName":function(){im(n,this.model,i,!0)},"change:firstName":function(){im(n,this.model,i,!0)},"change:lastName":function(){im(n,this.model,i,!0)},"change:email":function(){im(n,this.model,i,!0)}}),t},om=ed.extend({layout:"o-form-theme",autoSave:!0,noCancelButton:!0,title:function(){return td("registration.form.title","login")},save:function(){return td("registration.form.submit","login")},initialize:function(e){this.options=e||{},this.schema=new em({profileSchemaAttributes:this.options.appState.get("policy").registration.profile}),this.schema.properties.each((e=>{const t=rm(e);this.addInput(t)}));const t=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="required-fields-label">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"label")||(null!=t?s(t,"label"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"label",hash:{},data:r,loc:{start:{line:1,column:36},end:{line:1,column:45}}}):o)+"</span>"},useData:!0})({label:td("registration.required.fields.label","login")});this.add(t)}}),sm=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link help" data-se="back-link">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"goback"},data:r,loc:{start:{line:1,column:50},end:{line:1,column:87}}}))+"</a>"},useData:!0}),className:"auth-footer",events:{"click .help":function(e){e.preventDefault(),this.back()}},back:function(){this.state.set("navigateDir",na.DIRECTION_BACK),this.options.appState.trigger("navigate","")}}),am=pd.extend({className:"enroll-user",initialize:function(e){this.options=e||{},this.model=new Qf(this.options)},fetchInitialData:function(){return this.options.appState.get("isUnauthenticated")?this.model.getEnrollFormData():pd.prototype.fetchInitialData.call()},trapAuthResponse:function(){if(this.options.appState.get("isProfileRequired"))return!0},postRender:function(){const e=new om(this.toJSON());this.add(e),this.add(new sm(this.toJSON())),this.addListeners()}});const lm={};function cm(e){return new(ud())(e)}lm.getStringHash=function(e){let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return t>>>0},lm.base64UrlSafeToBase64=function(e){return e.replace(new RegExp("_","g"),"/").replace(new RegExp("-","g"),"+")},lm.binToStr=function(e){return btoa(new Uint8Array(e).reduce(((e,t)=>e+String.fromCharCode(t)),""))},lm.strToBin=function(e){return Uint8Array.from(atob(this.base64UrlSafeToBase64(e)),(e=>e.charCodeAt(0)))};var um=function(e,t,n){return t=t.map((function(e){return{type:"FIDO_2_0",algorithm:e.algorithm}})),cm(window.msCredentials.makeCredential(e,t,n).then((function(e){return Object.freeze({credential:{id:e.id},publicKey:JSON.parse(e.publicKey),attestation:e.attestation})})))},hm=function(e,t){const n={accept:t.map((function(e){return{type:"FIDO_2_0",id:e.id}}))};return cm(window.msCredentials.getAssertion(e,n).then((function(e){const t=e.signature;return Object.freeze({credential:{id:e.id},clientData:t.clientData,authenticatorData:t.authnrData,signature:t.signature})})))},dm=function(e,t){if(void 0===e)return null;const n=e.apply(t);return null==n?null:JSON.stringify(n)},pm=function(){return Object.prototype.hasOwnProperty.call(window,"msCredentials")},fm=function(){return navigator&&navigator.credentials&&navigator.credentials.create};function mm(e){const t=[];return fl.each(e,(function(e){t.push({type:"public-key",id:lm.strToBin(e.id)})})),t}var gm=Ed.extend({className:"enroll-webauthn",Model:{local:{__enrolled__:"boolean"},save:function(){return this.trigger("request"),this.get("__enrolled__")?this.activate():this.doTransaction((function(e){return fl.findWhere(e.factors,{factorType:"webauthn",provider:"FIDO"}).enroll()}))},activate:function(){return this.set("__enrolled__",!0),this.trigger("errors:clear"),this.appState.on("backToFactors",(()=>{this.webauthnAbortController&&(this.webauthnAbortController.abort(),this.webauthnAbortController=null)})),this.doTransaction((function(e){const t=e.factor.activation,n=this;if(fm()){const i=fl.extend({},t,{challenge:lm.strToBin(t.challenge),user:{id:lm.strToBin(t.user.id),name:t.user.name,displayName:t.user.displayName},excludeCredentials:mm(t.excludeCredentials)});return"undefined"!=typeof AbortController&&(n.webauthnAbortController=new AbortController),new(ud())(navigator.credentials.create({publicKey:i,signal:n.webauthnAbortController&&n.webauthnAbortController.signal})).then((function(t){return e.activate({attestation:lm.binToStr(t.response.attestationObject),clientData:lm.binToStr(t.response.clientDataJSON),transports:dm(t.response.getTransports,t.response),clientExtensions:dm(t.getClientExtensionResults,t)})})).catch((function(e){throw n.trigger("errors:clear"),n.webauthnAbortController?new op({xhr:{responseJSON:{errorSummary:e.message}}}):new sp})).finally((function(){n.webauthnAbortController=null}))}}))}},Form:{title:fl.partial(td,"enroll.webauthn.biometric.title","login"),save:fl.partial(td,"enroll.webauthn.save","login"),noCancelButton:!0,hasSavingState:!1,autoSave:!0,className:"enroll-webauthn-form",noButtonBar:function(){return!fm()},modelEvents:{request:"_startEnrollment",error:"_stopEnrollment"},formChildren:function(){const e=[];if(fm())e.push(_d.View({View:sd.extend({className:"webauthn-enroll-text",template:pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="webauthn-edge-text"><p>'+(null!=(o=(s(n,"i18n")||t&&s(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"enroll.webauthn.biometric.instructions.edge"},data:r,loc:{start:{line:1,column:173},end:{line:1,column:249}}}))?o:"")+"</p></div>"},3:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="webauthn-restrictions-text"><p>'+(null!=(o=(s(n,"i18n")||t&&s(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"enroll.webauthn.instructions.noSupportForBiometric"},data:r,loc:{start:{line:1,column:340},end:{line:1,column:423}}}))?o:"")+"</p></div>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="webauthn-enroll-instructions"><p>'+e.escapeExpression((a(n,"i18n")||t&&a(t,"i18n")||e.hooks.helperMissing).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.webauthn.biometric.instructions"},data:r,loc:{start:{line:1,column:45},end:{line:1,column:114}}}))+"</p></div>"+(null!=(o=a(n,"if").call(s,null!=t?a(t,"isEdge"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:124},end:{line:1,column:266}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"onlySupportsSecurityKey"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:266},end:{line:1,column:440}}}))?o:"")+'<div data-se="webauthn-waiting" class="okta-waiting-spinner hide"></div>'},useData:!0}),getTemplateData:function(){return{isEdge:Us.isEdge(),onlySupportsSecurityKey:(Us.isFirefox()||Us.isSafari())&&Us.isMac()}}})}));else{let t="webauthn.biometric.error.factorNotSupported";1===this.options.appState.get("factors").length&&(t="webauthn.biometric.error.factorNotSupported.oneFactor"),e.push(_d.View({View:new lf({message:td(t,"login")})},{selector:".o-form-error-container"}))}return e},_startEnrollment:function(){this.$(".okta-waiting-spinner").show(),this.$(".o-form-button-bar").hide()},_stopEnrollment:function(){this.$(".okta-waiting-spinner").hide(),this.$(".o-form-button-bar").show()}},Footer:Ud,trapAuthResponse:function(){if(this.options.appState.get("isMfaEnrollActivate"))return this.model.activate(),!0}}),ym=sd.extend({className:"okta-waiting-spinner",attributes:{"data-se":"o-form-okta-waiting-spinner"},modelEvents:{"spinner:show":"show","spinner:hide":"hide"},initialize:function(e){e&&!1===e.visible&&this.hide()},show:function(){this.$el.removeClass("hide")},hide:function(){this.$el.addClass("hide")}}),vm=Ed.extend({className:"enroll-windows-hello",Model:{local:{__isEnrolled__:"boolean"},save:function(){if(pm())return this.trigger("request"),this.get("__isEnrolled__")?this.activate():this.doTransaction((function(e){return this._enroll(e)}))},_enroll:function(e){return fl.findWhere(e.factors,{factorType:"webauthn",provider:"FIDO"}).enroll()},activate:function(){return this.set("__isEnrolled__",!0),this.doTransaction((function(e){const t=e.factor.activation,n=e.user,i=this,r={rpDisplayName:t.rpDisplayName,userDisplayName:n.profile.displayName,accountName:n.profile.login,userId:n.id},o=[{algorithm:t.algorithm}],s=t.nonce;return um(r,o,s).then((function(t){return e.activate({credentialId:t.credential.id,publicKey:t.publicKey,attestation:null})})).catch((function(t){switch(t.message){case"AbortError":case"NotFoundError":case"NotSupportedError":return i.trigger("abort",t.message),e}throw t}))}))}},Form:{autoSave:!0,hasSavingState:!1,title:fl.partial(td,"enroll.windowsHello.title","login"),subtitle:function(){return pm()?td("enroll.windowsHello.subtitle","login"):""},save:fl.partial(td,"enroll.windowsHello.save","login"),customSavingState:{stop:"abort"},modelEvents:function(){return pm()?{request:"_startEnrollment",error:"_stopEnrollment",abort:"_stopEnrollment"}:{}},noButtonBar:function(){return!pm()},formChildren:function(){const e=[];return pm()||e.push(_d.View({View:new lf({message:td("enroll.windowsHello.error.notWindows","login")})},{selector:".o-form-error-container"})),e.push(_d.View({View:new ym({model:this.model,visible:!1})})),e},_startEnrollment:function(){this.subtitle=td("enroll.windowsHello.subtitle.loading","login"),this.model.trigger("spinner:show"),this._resetErrorMessage(),this.render(),this.$(".o-form-button-bar").addClass("hide")},_stopEnrollment:function(e){let t;if(this.subtitle=td("enroll.windowsHello.subtitle","login"),this.model.trigger("spinner:hide"),"NotSupportedError"===e&&(t=td("enroll.windowsHello.error.notConfiguredHtml","login")),this._resetErrorMessage(),t){const e=new lf({message:t});this.$(".o-form-error-container").addClass("o-form-has-errors"),this.add(e,{selector:".o-form-error-container"}),this._errorMessageView=this.last()}this.render(),this.$(".o-form-button-bar").removeClass("hide")},_resetErrorMessage:function(){this._errorMessageView&&this._errorMessageView.remove(),this._errorMessageView=void 0,this.clearErrors()}},Footer:Ud,trapAuthResponse:function(){if(this.options.appState.get("isMfaEnrollActivate"))return this.model.activate(),!0}}),bm=Ed.extend({className:"enroll-yubikey",Model:{props:{passCode:["string",!0],factorId:"string"},save:function(){return this.doTransaction((function(e){return fl.findWhere(e.factors,{factorType:"token:hardware",provider:"YUBICO"}).enroll({passCode:this.get("passCode")})}))}},Form:{title:fl.partial(td,"enroll.yubikey.title","login"),subtitle:fl.partial(td,"enroll.yubikey.subtitle","login"),noCancelButton:!0,save:fl.partial(td,"mfa.challenge.verify","login"),autoSave:!0,className:"enroll-yubikey",formChildren:[_d.View({View:'<div class="yubikey-demo" data-type="yubikey-example"></div>'}),_d.Input({name:"passCode",input:Fd,type:"password"})]},Footer:Ud});const _m=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link help js-back" data-se="back-link">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oform.back"},data:r,loc:{start:{line:1,column:58},end:{line:1,column:99}}}))+"</a>"},useData:!0}),className:"auth-footer",events:{"click .js-back":function(e){e.preventDefault(),this.back()}},back:function(){const e=_p.createActivateFactorUrl(this.options.appState.get("activatedFactorProvider"),this.options.appState.get("activatedFactorType"),"manual");this.options.appState.trigger("navigate",e)}}),wm={title:fl.partial(td,"enroll.totp.enrollViaEmail.title","login"),noButtonBar:!0,attributes:{"data-se":"sent-email-activation-link"},formChildren:[_d.View({View:sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.totp.enrollViaEmail.msg"},data:r,loc:{start:{line:1,column:3},end:{line:1,column:64}}}))+'</p><p class="email-address">'+l("function"==typeof(o=null!=(o=c(n,"email")||(null!=t?c(t,"email"):t))?o:a)?o.call(s,{name:"email",hash:{},data:r,loc:{start:{line:1,column:93},end:{line:1,column:102}}}):o)+"</p>"},useData:!0}),getTemplateData:function(){return{email:this.options.appState.get("userEmail")}}})})]},km={title:fl.partial(td,"enroll.totp.enrollViaSms.title","login"),noButtonBar:!0,attributes:{"data-se":"sent-sms-activation-link"},formChildren:[_d.View({View:sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.totp.enrollViaSms.msg"},data:r,loc:{start:{line:1,column:3},end:{line:1,column:62}}}))+'</p><p class="phone-number">'+l("function"==typeof(o=null!=(o=c(n,"phoneNumber")||(null!=t?c(t,"phoneNumber"):t))?o:a)?o.call(s,{name:"phoneNumber",hash:{},data:r,loc:{start:{line:1,column:90},end:{line:1,column:105}}}):o)+"</p>"},useData:!0}),getTemplateData:function(){return{phoneNumber:this.model.get("fullPhoneNumber")}}})})]};var Sm=Ed.extend({className:"enroll-activation-link-sent",Model:function(){return{local:{countryCode:["string",!1,this.options.appState.get("userCountryCode")],phoneNumber:["string",!1,this.options.appState.get("userPhoneNumber")],__factorType__:["string",!1,this.options.factorType],__provider__:["string",!1,this.options.provider]},derived:{countryCallingCode:{deps:["countryCode"],fn:function(e){return"+"+gf(e)}},fullPhoneNumber:{deps:["countryCallingCode","phoneNumber"],fn:function(e,t){return e+t}}}}},Form:function(){const e=this.options.appState.get("factorActivationType");switch(e){case"SMS":return km;case"EMAIL":return wm;default:throw new Error("Unknown activation option: "+e)}},Footer:_m,initialize:function(){this.pollForEnrollment()},remove:function(){return Ed.prototype.remove.apply(this,arguments)},pollForEnrollment:function(){return this.model.doTransaction((function(e){return e.poll(6e3)}))},trapAuthResponse:function(){if(this.options.appState.get("isWaitingForActivation"))return this.pollForEnrollment(),!0}});const Em=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link help js-back" data-se="back-link">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oform.back"},data:r,loc:{start:{line:1,column:58},end:{line:1,column:99}}}))+"</a>"},useData:!0}),className:"auth-footer",events:{"click .js-back":function(e){e.preventDefault(),this.back()}},back:function(){const e=_p.createActivateFactorUrl(this.options.appState.get("activatedFactorProvider"),"push","manual");this.options.appState.trigger("navigate",e)}});var Tm=Ed.extend({className:"activate-push",Model:function(){return{props:{factorId:["string",!0,this.options.appState.get("activatedFactorId")],passCode:["string",!0]},local:{__factorType__:["string",!1,this.options.factorType],__provider__:["string",!1,this.options.provider]},save:function(){return this.doTransaction((function(e){return e.activate({passCode:this.get("passCode")})}))}}},Form:Bd,Footer:Em}),xm=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="infobox"><span class="icon info-16"></span><p>'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{arguments:"helpSupportNumber",bundle:"login",code:"contact.support"},data:r,loc:{start:{line:1,column:58},end:{line:1,column:134}}}))+"</p></div>"},useData:!0}),className:"contact-support",getTemplateData:function(){return this.settings.pick("helpSupportNumber")}});const Cm=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="okta-form-infobox-error infobox infobox-error" role="alert"><span class="icon error-16"></span><p>'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"password.forgot.noFactorsEnabled"},data:r,loc:{start:{line:1,column:110},end:{line:1,column:173}}}))+"</p></div>"},useData:!0})}),Pm=sd.extend({template:pl.template({1:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link help js-back" data-se="back-link">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"goback"},data:r,loc:{start:{line:1,column:94},end:{line:1,column:131}}}))+"</a>"},3:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link goto js-contact-support">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"mfa.noAccessToEmail"},data:r,loc:{start:{line:1,column:220},end:{line:1,column:270}}}))+"</a>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"unless").call(s,null!=t?a(t,"hideBackToSignInForReset"):t,{name:"unless",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:146}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"helpSupportNumber"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:146},end:{line:1,column:281}}}))?o:"")},useData:!0}),className:"auth-footer",events:{"click .js-back":function(e){e.preventDefault(),this.back()},"click .js-contact-support":function(e){e.preventDefault(),this.state.trigger("contactSupport"),this.$(".js-contact-support").hide()}},getTemplateData:function(){return{hideBackToSignInForReset:this.settings.get("features.hideBackToSignInForReset"),helpSupportNumber:this.settings.get("helpSupportNumber")}},back:function(){this.state.set("navigateDir",na.DIRECTION_BACK),this.options.appState.trigger("navigate","")}});var Am=Ed.extend({className:"forgot-password",Model:{props:{username:["string",!0],factorType:["string",!0]},validate:function(){return Vf.validateUsername(this)},save:function(){const e=this,t=this.settings.get("relayState");this.startTransaction((function(n){return n.forgotPassword({username:e.settings.transformUsername(e.get("username"),na.FORGOT_PASSWORD),factorType:e.get("factorType"),relayState:t})})).catch((function(){}))}},Form:{noButtonBar:!0,title:fl.partial(td,"password.reset","login"),formChildren:function(){const e=this.settings.get("features.smsRecovery"),t=this.settings.get("features.callRecovery"),n=this.settings.get("features.emailRecovery"),i=[];return e||t||n?(i.push(_d.Input({label:td("password.forgot.email.or.username.placeholder","login"),"label-top":!0,explain:ia.createInputExplain("password.forgot.email.or.username.tooltip","password.forgot.email.or.username.placeholder","login"),"explain-top":!0,name:"username",input:Fd,inputId:"account-recovery-username",autoComplete:ia.getAutocompleteValue(this.settings,"username"),type:"text",inlineValidation:!1})),(e||t)&&i.push(_d.View({View:sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="mobile-recovery-hint">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{arguments:"mobileFactors",bundle:"login",code:"recovery.mobile.hint"},data:r,loc:{start:{line:1,column:32},end:{line:1,column:109}}}))+"</p>"},useData:!0}),getTemplateData:function(){let n;return n=td(e&&t?"recovery.smsOrCall":t?"recovery.call":"recovery.sms"),{mobileFactors:n}}})})),e&&(this.$el.addClass("forgot-password-sms-enabled"),i.push(this.createRecoveryFactorButton("sms-button","password.forgot.sendText",na.RECOVERY_FACTOR_TYPE_SMS,this)),this.setDefaultFactorType(na.RECOVERY_FACTOR_TYPE_SMS)),t&&(this.$el.addClass("forgot-password-call-enabled"),i.push(this.createRecoveryFactorButton("call-button","password.forgot.call",na.RECOVERY_FACTOR_TYPE_CALL,this)),this.setDefaultFactorType(na.RECOVERY_FACTOR_TYPE_CALL)),n&&(this.$el.addClass("forgot-password-email-enabled"),i.push(this.createRecoveryFactorButton("email-button","password.forgot.sendEmail",na.RECOVERY_FACTOR_TYPE_EMAIL,this)),this.setDefaultFactorType(na.RECOVERY_FACTOR_TYPE_EMAIL))):this.add(Cm,".o-form-error-container"),i},initialize:function(){this.listenTo(this.state,"contactSupport",(function(){this.add(xm,".o-form-error-container")})),this.listenTo(this,"save",(function(){this.options.appState.set("username",this.model.get("username")),this.model.save()}))},setDefaultFactorType:function(e){fl.isEmpty(this.model.get("factorType"))&&this.model.set("factorType",e)},createRecoveryFactorButton:function(e,t,n,i){return _d.Button({attributes:{"data-se":e},className:"button button-primary button-wide "+e,title:td(t,"login"),click:function(){i.clearErrors(),this.model.isValid()&&(this.model.set("factorType",n),i.trigger("save",this.model))}})}},Footer:Pm,initialize:function(){this.options.appState.unset("username")}});const Om=ld.util.Cookie,Im="ln",Lm=function(){return Om.getCookie(Im)},Dm=function(e){Om.setCookie(Im,e,{expires:365,path:"/"})},Rm=function(){Om.removeCookie(Im,{path:"/"})};var Mm=dd.extend({props:function(){const e=Lm(),t=this.getUsernameAndRemember(e),n={username:{type:"string",validate:function(e){if(fl.isEmpty(e))return td("error.username.required","login")},value:t.username},lastUsername:["string",!1,e],context:["object",!1],remember:["boolean",!0,t.remember],multiOptionalFactorEnroll:["boolean",!0]};return this.settings&&this.settings.get("features.passwordlessAuth")||(n.password={type:"string",validate:function(e){if(fl.isEmpty(e))return td("error.password.required","login")}}),n},getUsernameAndRemember:function(e){const t=this.settings&&this.settings.get("username"),n=this.settings&&this.settings.get("features.rememberMe");let i,r=!1;return t?(i=t,r=n&&i===e):n&&e&&(i=e,r=!0),{username:i,remember:r}},constructor:function(e){this.settings=e&&e.settings,this.appState=e&&e.appState,Bl.apply(this,arguments),this.listenTo(this,"change:username",(function(e,t){this.set({remember:t===this.get("lastUsername")})}))},parse:function(e){return fl.omit(e,["settings","appState"])},save:function(){const e=this.settings.transformUsername(this.get("username"),na.PRIMARY_AUTH),t=this.get("remember"),n=this.get("lastUsername");this.setUsernameCookie(e,t,n),this.trigger("save"),this.appState.trigger("loading",!0);const i=this.getSignInArgs(e);let r;if(this.appState.get("isUnauthenticated")){const e=this.appState.settings.getAuthClient();r=this.appState.get("isIdxStateToken")?this.doTransaction((function(t){return this.doPrimaryAuth(e,i,t.login)})):this.doTransaction((function(t){return this.doPrimaryAuth(e,i,t.authenticate)}),!0)}else r=this.startTransaction((function(e){return this.doPrimaryAuth(e,i,fl.bind(e.signInWithCredentials,e))}));return r.catch((()=>{this.appState.trigger("removeLoading"),Rm()})).finally((()=>{this.appState.trigger("loading",!1)}))},getSignInArgs:function(e){const t=this.get("multiOptionalFactorEnroll"),n={};return this.settings.get("features.passwordlessAuth")||(n.password=this.get("password")),this.appState.get("isIdxStateToken")?n.identifier=e:(n.username=e,n.options={warnBeforePasswordExpired:!0,multiOptionalFactorEnroll:t}),n},setUsernameCookie:function(e,t,n){this.settings.get("features.rememberMe")&&(t||n!==e?t&&Dm(e):Rm())},doPrimaryAuth:function(e,t,n){const i=this.settings.get("features.deviceFingerprinting"),r=this.settings.get("features.trackTypingPattern");i&&this.appState.get("deviceFingerprint")&&e.http.setRequestHeader("X-Device-Fingerprint",this.appState.get("deviceFingerprint")),r&&this.appState.get("typingPattern")&&e.http.setRequestHeader("X-Typing-Pattern",this.appState.get("typingPattern"));const o=this;return n(t).finally((function(){i&&(e.http.setRequestHeader("X-Device-Fingerprint",void 0),o.appState.unset("deviceFingerprint")),r&&(e.http.setRequestHeader("X-Typing-Pattern",void 0),o.appState.unset("typingPattern"))}))}}),Nm={getUserAgent:function(){return navigator.userAgent},isMessageFromCorrectSource:function(e,t){return t.source===e[0].contentWindow},generateDeviceFingerprint:function(e,t){const n=this.getUserAgent();if(!n)return ud().reject("user agent is not defined");if(function(e){return e.match(/windows phone|iemobile|wpdesktop/i)}(n))return ud().reject("device fingerprint is not supported on Windows phones");const i=ud().defer(),r=this;let o,s;function a(){o.off(),o.remove(),window.removeEventListener("message",c,!1)}function l(e){a(),i.reject(e)}function c(t){if(r.isMessageFromCorrectSource(o,t))if(clearTimeout(s),t&&t.data&&t.origin===e)try{const n=JSON.parse(t.data);n&&"FingerprintServiceReady"===n.type?function(){const t=o[0].contentWindow;t&&t.postMessage(JSON.stringify({type:"GetFingerprint"}),e)}():n&&"FingerprintAvailable"===n.type?(a(),i.resolve(n.fingerprint)):l("no data")}catch(e){}else l("no data")}return window.addEventListener("message",c,!1),o=Vl("<iframe>",{css:{display:"none"},src:e+"/auth/services/devicefingerprint"}),t.append(o),s=setTimeout((()=>{l("service not available")}),2e3),i.promise}};const jm=ld.util.Util,Fm=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="auth-divider"><span class="auth-divider-text">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"text")||(null!=t?s(t,"text"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"text",hash:{},data:r,loc:{start:{line:1,column:58},end:{line:1,column:66}}}):o)+"</span></div>"},useData:!0}),Bm=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h2 data-se="o-form-head" class="okta-form-title o-form-head">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"title")||(null!=t?s(t,"title"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:r,loc:{start:{line:1,column:62},end:{line:1,column:71}}}):o)+"</h2>"},useData:!0});var Um=sd.extend({className:"primary-auth-container",children:function(){const e=[],t=this.settings.get("configuredSocialIdps"),n=this.settings.get("piv"),i=this.settings.get("customButtons"),r=Fm({text:td("socialauth.divider.text","login")});return this.settings.get("hasPivCard")&&e.push(this._createPivButton(n)),fl.each(t,(function(t){e.push(this._createSocialIdpButton(t))}),this),fl.each(i,(function(t){e.push(this._createCustomButton(t))}),this),this.settings.get("socialAuthPositionTop")?(e.unshift(Bm({title:td("primaryauth.title","login")})),e.push(r)):e.unshift(r),e},_createSocialIdpButton:function(e){return nd({attributes:{"data-se":e.dataAttr},className:e.className,title:function(){return e.text||td(e.i18nKey)},click:function(t){if(t.preventDefault(),this.settings.get("oauth2Enabled"))vp.getTokens(this.settings,{idp:e.id},this.options.currentController);else{const t=this.settings.get("baseUrl");let n;const i=this.options.appState.get("lastAuthResponse");n=this.options.appState.get("usingDeviceFlow")?Vl.param({stateToken:null==i?void 0:i.stateToken}):Vl.param({fromURI:this.settings.get("relayState")});const r=`${t}/sso/idps/${e.id}?${n}`;jm.redirect(r)}}})},_createPivButton:function(e){let t=e.className||"";return nd({attributes:{"data-se":"piv-card-button"},className:t+" piv-button",title:e.text||td("piv.cac.card","login"),click:function(e){e.preventDefault(),this.options.appState.trigger("navigate","signin/verify/piv")}})},_createCustomButton:function(e){return nd({attributes:{"data-se":e.dataAttr},className:e.className+" default-custom-button",title:function(){return e.title||td(e.i18nKey)},click:e.click})}}),qm=function e(){if(1==e.initialized)return e.instance;for(var t in e.prototype.start=function(){return e.start.apply(this,arguments)},e.prototype.stop=function(){return e.stop.apply(this,arguments)},e.prototype.reset=function(){return e.reset.apply(this,arguments)},e.prototype.addTarget=function(){return e.addTarget.apply(this,arguments)},e.prototype.removeTarget=function(){return e.removeTarget.apply(this,arguments)},e.prototype.getTypingPattern=function(){return e.getTypingPattern.apply(this,arguments)},e.prototype.get=function(){return e.get.apply(this,arguments)},e.prototype.startDiagram=function(){},e.prototype.stopDiagram=function(){},e.prototype.getDiagram=function(){return e.getDiagram.apply(this,arguments)},e.prototype.getExtendedDiagram=function(){return e.getExtendedDiagram.apply(this,arguments)},e.prototype.getMouseDiagram=function(){return e.getMouseDiagram.apply(this,arguments)},e.prototype.startMouse=function(){return e.startMouse.apply(this,arguments)},e.prototype.stopMouse=function(){return e.stopMouse.apply(this,arguments)},e.prototype.getQuality=function(){return e.getQuality.apply(this,arguments)},e.prototype.getLength=function(){return e.getLength.apply(this,arguments)},e.prototype.isMobile=function(){return e.isMobile.apply(this,arguments)},e.prototype.getTextId=function(){return e.getTextId.apply(this,arguments)},e.initialized=!0,e.prototype.maxHistoryLength=e.maxHistoryLength,e.prototype.defaultHistoryLength=e.defaultHistoryLength,e.prototype.maxSeekTime=e.maxSeekTime,e.prototype.maxPressTime=e.maxPressTime,e.version=2.15,e.flags=0,e.instance=this,e.document=document,e.maxHistoryLength=2e3,e.maxSeekTime=1500,e.maxPressTime=300,e.defaultHistoryLength=160,e.spKeyCodes=[8,13,32],e.spKeyCodesObj={8:1,13:1,32:1},e.keyCodes=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,32,222,188,190,186,187,189,191,48,49,50,51,52,53,54,55,56,57],e.keyCodesObj={},e.keyCodes)e.keyCodesObj[e.keyCodes[t]]=1;e.pt1=e.ut1=(new Date).getTime(),e.wfk=[],e.sti=[],e.skt=[],e.recording=!0,e.mouseRecording=!0,e.mouseMoveRecording=!1,e.spKeyRecording=!0,e.diagramRecording=!0,e.dwfk=[],e.dsti=[],e.dskt=[],e.drkc=[],e.prevKeyCode=0,e.maxMoveDeltaTime=600,e.maxScrollDeltaTime=800,e.maxStopTime=1500,e.maxClickTime=600,e.maxMouseHistoryLength=500,e.lastMouseMoveTime=e.lastMouseDownTime=(new Date).getTime(),e.stopTimes=[],e.clickTimes=[],e.lastMouseStop=!0,e.zl=1e-7,e.isAndroidChrome=!1,e.ACLastTime=(new Date).getTime(),e.ACSeekTime=0,e.ACPressTime=0,e.ACLastCharCode=0,e.ACLastKeyCode=0,e.ACInputLengths={inputs:[],lastLength:[]},e.ACPreviousKeyCode=0,e.targetIds=[],e.lastTarget="",e.lastTargetFound=!1,e.replaceMissingKeys=!0,e.replaceMissingKeysPerc=7,e.keyDown=function(t){if((e.recording||e.diagramRecording)&&e.isTarget(t.target.id)){var n=t.keyCode;if(1==e.wfk[n]||e.dwfk[n],229==n&&e.isMobile()&&!e.isAndroidChrome)e.isAndroidChrome=!0,e.ACSeekTime=(new Date).getTime()-e.ACLastTime,e.ACLastTime=(new Date).getTime(),e.document.removeEventListener("keydown",e.keyDown),e.document.removeEventListener("keyup",e.keyUp),e.document.removeEventListener("keypress",e.keyPress),e.document.addEventListener("keydown",e.ACKeyDown),e.document.addEventListener("keyup",e.ACKeyUp);else{var i=e.pt1,r=(e.pt1=(new Date).getTime())-i,o=e.pt1;(1==e.recording||e.spKeyCodesObj[n]&&1==e.spKeyRecording)&&(t.shiftKey&&!e.isMobile()||(e.wfk[n]=1,e.skt[n]=r,e.sti[n]=o)),1==e.diagramRecording&&(e.dwfk[n]=1,e.dskt[n]=r,e.dsti[n]=o,e.dlastDownKey=n)}}},e.keyPress=function(t){(e.recording||e.diagramRecording)&&e.isTarget(t.target.id)&&1==e.diagramRecording&&(e.drkc[e.dlastDownKey]=t.charCode)},e.keyUp=function(t){if((e.recording||e.diagramRecording)&&e.isTarget(t.target.id)){var n=(new Date).getTime(),i=t.keyCode;if(1==e.recording||e.spKeyCodesObj[i]&&1==e.spKeyRecording){if((!t.shiftKey||e.isMobile())&&1==e.wfk[i]){var r=n-e.sti[i],o=[i,e.skt[i],r,e.prevKeyCode,n,t.target.id];e.history.add(o),e.prevKeyCode=i}e.wfk[i]=0}if(1==e.diagramRecording){if(null!=e.drkc[i]&&0!=e.drkc[i]&&1==e.dwfk[i]){r=n-e.dsti[i];var s=[i,e.dskt[i],r,e.drkc[i],n,t.target.id];e.history.addDiagram(s)}e.dwfk[i]=0}}},e.mouseScroll=function(t){if(1==e.mouseRecording&&1==e.mouseMoveRecording)if(1==e.mouse.scrollStarted){var n=(new Date).getTime();e.mouse.scrollTimes.push(n),e.mouse.scrollTopArr.push(e.document.body.scrollTop),clearInterval(e.scrollInterval),e.scrollInterval=setInterval(e.mouse.checkScroll,e.maxScrollDeltaTime)}else e.mouse.scrollStarted=!0},e.mouseMove=function(t){if(1==e.mouseRecording){var n=(new Date).getTime();1==e.mouseMoveRecording&&(1==e.mouse.started?(e.mouse.times.push(n),e.mouse.xPositions.push(t.screenX),e.mouse.yPositions.push(t.screenY),clearInterval(e.moveInterval),e.moveInterval=setInterval(e.mouse.checkMove,e.maxMoveDeltaTime)):e.mouse.started=!0),e.lastMouseMoveTime=n}},e.mouseDown=function(t){if(1==e.mouseRecording&&(e.mouse.checkMove(),e.mouse.checkScroll(),1==t.which)){var n=(e.lastMouseDownTime=(new Date).getTime())-e.lastMouseMoveTime;if(n<e.maxStopTime&&0==e.lastMouseStop&&(e.stopTimes.push(n),1==e.mouseMoveRecording)){var i=[3,n];e.mouse.history.add(i),e.lastMouseStop=!0}}},e.mouseUp=function(t){if(1==e.mouseRecording&&1==t.which){var n=(new Date).getTime()-e.lastMouseDownTime;if(n<e.maxClickTime&&e.lastMouseDownTime>e.lastMouseMoveTime&&(e.clickTimes.push(n),1==e.mouseMoveRecording)){var i=[4,n];e.mouse.history.add(i)}}},e.ACKeyDown=function(t){(e.recording||e.diagramRecording)&&(e.ACSeekTime=(new Date).getTime()-e.ACLastTime,e.ACLastTime=(new Date).getTime(),e.isTarget(t.target.id)&&-1===e.ACInputLengths.inputs.indexOf(t.target)&&(e.ACInputLengths.inputs.push(t.target),e.ACInputLengths.lastLength.push(0)))},e.ACKeyUp=function(t){if((e.recording||e.diagramRecording)&&(e.ACPressTime=(new Date).getTime()-e.ACLastTime,e.ACLastTime=(new Date).getTime(),e.isTarget(t.target.id))){var n=t.keyCode,i=e.ACInputLengths.inputs.indexOf(t.target);if(-1===i&&(e.ACInputLengths.inputs.push(t.target),e.ACInputLengths.lastLength.push(0),i=e.ACInputLengths.inputs.indexOf(t.target)),229==n&&t.target.value.length>=e.ACInputLengths.lastLength[i]){var r=t.target.value.substr(t.target.selectionStart-1||0,1);n=r.toUpperCase().charCodeAt(0),e.ACLastCharCode=r.charCodeAt(0),e.ACLastKeyCode=r.toUpperCase().charCodeAt(0)}e.ACInputLengths.lastLength[i]=t.target.value.length;var o=[n,e.ACSeekTime,e.ACPressTime,e.ACPreviousKeyCode,e.ACLastTime];if(e.history.add(o),e.ACPreviousKeyCode=n,1==e.diagramRecording){var s=[n,e.ACSeekTime,e.ACPressTime,e.ACLastCharCode];e.history.addDiagram(s)}}},e.isTarget=function(t){if(e.lastTarget==t&&e.lastTargetFound)return!0;var n=e.targetIds.length,i=!1;if(n>0){for(var r=0;r<n;r++)if(e.targetIds[r]==t){i=!0;break}return e.lastTarget=t,e.lastTargetFound=i,i}return e.lastTarget=t,e.lastTargetFound=!0,!0},e.document.addEventListener?(e.document.addEventListener("keydown",e.keyDown),e.document.addEventListener("keyup",e.keyUp),e.document.addEventListener("keypress",e.keyPress),e.document.addEventListener("mousemove",e.mouseMove),e.document.addEventListener("mousedown",e.mouseDown),e.document.addEventListener("mouseup",e.mouseUp),e.document.addEventListener("scroll",e.mouseScroll)):e.document.attachEvent&&(e.document.attachEvent("onkeydown",e.keyDown),e.document.attachEvent("onkeyup",e.keyUp),e.document.attachEvent("onkeypress",e.keyPress),e.document.attachEvent("onmousemove",e.mouseMove),e.document.attachEvent("onmousedown",e.mouseDown),e.document.attachEvent("onmouseup",e.mouseUp),e.document.attachEvent("onscroll",e.mouseScroll)),(e.mouse={}).times=[],e.mouse.xPositions=[],e.mouse.yPositions=[],e.mouse.scrollTimes=[],e.mouse.scrollTopArr=[],e.mouse.history={},e.mouse.history.stack=[],e.mouse.getDistance=function(e,t){return Math.sqrt(e*e+t*t)},e.mouse.getTotalDistance=function(n,i){var r=0,o=n.length;for(t=1;t<o-1;t++){var s=n[t]-n[t-1],a=i[t]-i[t-1];r+=e.mouse.getDistance(s,a)}return r},e.mouse.getAngle=function(e,t){var n=t<0;return e>=0?n?180+Math.round(Math.atan(Math.abs(e)/(Math.abs(t)+1e-7))/.01745329251):90-Math.round(Math.atan(Math.abs(e)/(Math.abs(t)+1e-7))/.01745329251)+270:n?90-Math.round(Math.atan(Math.abs(e)/(Math.abs(t)+1e-7))/.01745329251)+90:Math.round(Math.atan(Math.abs(e)/(Math.abs(t)+1e-7))/.01745329251)},e.mouse.recordMoveAction=function(){var n=e.mouse.times.length;if(!(n<3)){var i=e.mouse.times[n-1]-e.mouse.times[0],r=e.mouse.xPositions[n-1]-e.mouse.xPositions[0],o=e.mouse.yPositions[n-1]-e.mouse.yPositions[0],s=Math.round(e.mouse.getDistance(r,o)),a=Math.round(e.mouse.getTotalDistance(e.mouse.xPositions,e.mouse.yPositions)),l=Math.round(100*a/s),c=[1,i,s,Math.round(100*s/i),e.mouse.getAngle(r,o),l];for(t in c)if(isNaN(c[t]))return;e.mouse.history.add(c),e.lastMouseStop=!1}},e.mouse.recordScrollAction=function(){var n=e.mouse.scrollTimes.length;if(!(n<2)){var i=e.mouse.scrollTimes[n-1]-e.mouse.scrollTimes[0],r=e.mouse.scrollTopArr[n-1]-e.mouse.scrollTopArr[0],o=[2,i,r,Math.round(100*r/i)];for(t in o)if(isNaN(o[t])&&!isFinite(o[t]))return;e.mouse.history.add(o)}},e.mouse.history.add=function(t){this.stack.push(t),this.stack.length>e.maxMouseHistoryLength&&this.stack.shift()},e.mouse.history.getDiagram=function(){var t=this.stack.join("|");return[String(e.isMobile())+","+String(e.version),t].join("|")},e.mouse.clearLastMove=function(){e.mouse.times=[],e.mouse.xPositions=[],e.mouse.yPositions=[]},e.mouse.checkMove=function(){clearInterval(e.moveInterval),1==e.mouse.started&&(e.mouse.started=!1,e.mouse.recordMoveAction(),e.mouse.clearLastMove())},e.mouse.clearLastScroll=function(){e.mouse.scrollTimes=[],e.mouse.scrollTopArr=[]},e.mouse.checkScroll=function(){clearInterval(e.scrollInterval),1==e.mouse.scrollStarted&&(e.mouse.scrollStarted=!1,e.mouse.recordScrollAction(),e.mouse.clearLastScroll())},e.addTarget=function(t){var n=e.targetIds.length,i=!1;if(n>0){for(var r=0;r<n;r++)if(e.targetIds[r]==t){i=!0;break}i||e.targetIds.push(t)}else e.targetIds.push(t)},e.removeTarget=function(t){var n=e.targetIds.length;if(n>0)for(var i=0;i<n;i++)if(e.targetIds[i]==t){e.targetIds.splice(i,1);break}},e.reset=function(t){e.history.stack=[],e.history.stackDiagram=[],e.clickTimes=[],e.stopTimes=[],e.ACInputLengths={inputs:[],lastLength:[]},1==t&&(e.mouse.history.stack=[])},e.start=function(){return e.diagramRecording=!0,e.recording=!0},e.stop=function(){return e.diagramRecording=!1,e.recording=!1},e.startMouse=function(){return e.mouseRecording=e.mouseMoveRecording=!0},e.stopMouse=function(){return e.mouseRecording=e.mouseMoveRecording=!1},e.getTypingPattern=function(t){if("object"!=typeof t)return e.get();switch(t.type){case 0:return e.get(t.length,t.targetId);case 1:var n=null!=t.text?t.text:t.length;return e.history.getDiagram(t.extended,n,t.textId,t.targetId,t.caseSensitive);case 2:return n=null!=t.text?t.text:t.length,e.history.getDiagram(!0,n,t.textId,t.targetId,t.caseSensitive);default:return e.get(t.length)}},e.getDiagram=function(t,n){return e.history.getDiagram(!1,t,n,void 0,!1)},e.getExtendedDiagram=function(t,n){return e.history.getDiagram(!0,t,n,void 0,!1)},e.getMouseDiagram=function(){return e.mouse.history.getDiagram()},e.get=function(t,n){var i=e.history.stack.length;null!=t&&0!=t||(t=e.defaultHistoryLength),t>i&&(t=i);var r={};[r.arr,targetLength]=e.history.get(t,"",n),null!=n&&""!=n&&(t=targetLength);var o=e.zl,s=t,a=e.math.fo(e.history.get(t,"seek",n)),l=e.math.fo(e.history.get(t,"press",n)),c=Math.round(e.math.avg(l)),u=Math.round(e.math.avg(a)),h=Math.round(e.math.sd(l)),d=Math.round(e.math.sd(a)),p=u+c,f=e.math.rd((c+o)/(p+o),4),m=e.math.rd((1-f)/f,4),g=e.math.rd((h+o)/(c+o),4),y=e.math.rd((d+o)/(c+o),4),v=Math.round(6e4/(p+o));for(var b in 0==s&&(v=0),r.arr){var _=r.arr[b][1].length,w=0,k=0,S=0,E=0,T=0,x=0;switch(r.arr[b][0].length){case 0:break;case 1:w=e.math.rd((r.arr[b][0][0]+o)/(u+o),4);break;default:var C=e.math.fo(r.arr[b][0]);w=e.math.rd((e.math.avg(C)+o)/(u+o),4),E=e.math.rd((e.math.sd(C)+o)/(d+o),4)}switch(r.arr[b][1].length){case 0:break;case 1:k=e.math.rd((r.arr[b][1][0]+o)/(c+o),4);break;default:C=e.math.fo(r.arr[b][1]);k=e.math.rd((e.math.avg(C)+o)/(c+o),4),T=e.math.rd((e.math.sd(C)+o)/(h+o),4)}switch(r.arr[b][2].length){case 0:break;case 1:S=e.math.rd((r.arr[b][2][0]+o)/(u+o),4);break;default:C=e.math.fo(r.arr[b][2]),S=e.math.rd((e.math.avg(C)+o)/(u+o),4),x=e.math.rd((e.math.sd(C)+o)/(d+o),4)}delete r.arr[b][2],delete r.arr[b][1],delete r.arr[b][0],r.arr[b][0]=_,r.arr[b][1]=w,r.arr[b][2]=k,r.arr[b][3]=S,r.arr[b][4]=E,r.arr[b][5]=T,r.arr[b][6]=x}e.apu(C=[],s),e.apu(C,v),e.apu(C,p),e.apu(C,f),e.apu(C,m),e.apu(C,g),e.apu(C,y),e.apu(C,c),e.apu(C,u),e.apu(C,h),e.apu(C,d);for(var P=0;P<=6;P++)for(b=0;b<44;b++){var A=e.keyCodes[b],O=r.arr[A][P];0==O&&P>0&&(O=1),e.apu(C,O)}return e.apu(C,e.isMobile()),e.apu(C,e.version),e.apu(C,e.flags),C.push(e.history.getSpecialKeys()),C.join(",")},e.apu=function(e,t){"NaN"==String(t)&&(t=0),e.push(t)},(e.math={}).rd=function(e,t){return Number(e.toFixed(t))},e.math.avg=function(e){var t=e.length;if(t>0){for(var n=0,i=0;i<t;i++)n+=e[i];return this.rd(n/t,4)}return 0},e.math.sd=function(e){var t=e.length;if(t<2)return 0;for(var n=0,i=this.avg(e),r=0;r<t;r++)n+=(e[r]-i)*(e[r]-i);return Math.sqrt(n/t)},e.math.fo=function(e){if(e.length>1){var t=e.concat(),n=e.length;t.sort((function(e,t){return e-t}));var i=this.sd(t),r=t[Math.ceil(e.length/2)],o=r+2*i,s=r-2*i;n<20&&(s=0);for(var a=[],l=0;l<n;l++){var c=t[l];c<o&&c>s&&a.push(c)}return a}return e},e.math.fnv1aHash=function(e){if(null==e&&"string"!=typeof e)return 0;var t,n,i=1914395348;for(t=0,n=(e=e.toLowerCase()).length;t<n;t++)i^=e.charCodeAt(t),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);return i>>>0},(e.history={}).stack=[],e.history.stackDiagram=[],e.history.add=function(t){this.stack.push(t),this.stack.length>e.maxHistoryLength&&this.stack.shift()},e.history.addDiagram=function(e){this.stackDiagram.push(e)},e.history.getDiagram=function(t,n,i,r,o){o=null!=o?o:null==n||""==n;var s=[],a=1==t?1:0,l=this.stackDiagram;if(null!=r&&""!=r&&l.length>0)l=e.sliceStackByTargetId(l,r),(null==n||""==n)&&null!=(h=e.document.getElementById(r))&&(n=h.value);else{var c=e.targetIds.length;if((null==n||""==n)&&c>0){n="";for(var u=0;u<c;u++){var h;null!=(h=e.document.getElementById(e.targetIds[u]))&&(n+=h.value)}}}var d=0,p=l.length,f=p;"string"==typeof n?f=n.length:"number"==typeof n&&n<p&&(f=n);var m=0;if(null!=i?m=isNaN(parseInt(i))?e.math.fnv1aHash(i):parseInt(i):"string"==typeof n&&(m=e.math.fnv1aHash(n)),s.push([e.isMobile(),e.version,e.flags,a,f,m,e.history.getSpecialKeys()]),null!=n&&n.length>0&&"string"==typeof n){var g,y,v=n.toLowerCase(),b=n.toUpperCase(),_=[],w=0;for(u=0;u<n.length;u++){var k=n.charCodeAt(u);o||(y=(g=b.charCodeAt(u))!=k?g:v.charCodeAt(u));for(var S=w,E=p,T=!1;0==T;){for(var x=S;x<E;x++)if((M=(R=l[x])[3])==k||!o&&M==y){if(T=!0,x==w)w++,_=[];else{_.push(x);var C=_.length;C>1&&_[C-1]==_[C-2]+1&&(w=x+1,_=[])}var P=R[0],A=R[1],O=R[2];t?s.push([M,A,O,P]):s.push([A,O]);break}if(0==T)if(0!=S)S=0,E=w;else if(T=!0,e.replaceMissingKeys){if(d++,"object"!=typeof e.savedMissingAvgValues||e.savedMissingAvgValues.historyLength!=p){var I=e.math.fo(e.history.get(0,"seek")),L=e.math.fo(e.history.get(0,"press"));A=Math.round(e.math.avg(I)),O=Math.round(e.math.avg(L)),e.savedMissingAvgValues={seekTime:A,pressTime:O,historyLength:p}}else A=e.savedMissingAvgValues.seekTime,O=e.savedMissingAvgValues.pressTime;t?s.push([k,A,O,k,1]):s.push([A,O,1]);break}}if(e.replaceMissingKeysPerc<100*d/f)return null}}else{var D=0;for("number"==typeof n&&(D=p-n),D<0&&(D=0),u=D;u<p;u++){var R;if(P=(R=l[u])[0],A=R[1],O=R[2],t){var M=R[3];s.push([M,A,O,P])}else s.push([A,O])}}return s.join("|")},e.sliceStackByTargetId=function(e,n){var i=e.length,r=[];for(t=0;t<i;t++){var o=e[t];o[5]==n&&r.push(o)}return r},e.history.get=function(t,n,i){var r=this.stack;null!=i&&""!=i&&r.length>0&&(r=e.sliceStackByTargetId(r,i));var o=r.length;switch(0!=t&&null!=t||(t=e.defaultHistoryLength),t>o&&(t=o),n){case"seek":var s=[];for(c=1;c<=t;c++)(d=r[o-c][1])<=e.maxSeekTime&&s.push(d);return s;case"press":var a=[];for(c=1;c<=t;c++)(p=r[o-c][2])<=e.maxPressTime&&a.push(p);return a;default:var l={};for(var c in e.keyCodes)l[e.keyCodes[c]]=[[],[],[]];for(c=1;c<=t;c++){var u=r[o-c],h=u[0],d=u[1],p=u[2],f=u[3];e.keyCodesObj[h]&&(d<=e.maxSeekTime&&(l[h][0].push(d),0!=f&&e.keyCodesObj[f]&&l[f][2].push(d)),p<=e.maxPressTime&&l[h][1].push(p))}return[l,t]}},e.history.getSpecialKeys=function(){var t=[],n=this.stack.length,i={};for(var r in e.spKeyCodes)i[e.spKeyCodes[r]]=[[]];for(r=1;r<=n;r++){var o=this.stack[n-r];if(e.spKeyCodesObj[o[0]]){var s=o[0],a=o[2];a<=e.maxPressTime&&i[s][0].push(a)}}for(var r in e.spKeyCodes){var l=(o=e.math.fo(i[e.spKeyCodes[r]][0])).length;t.push(l),l>1?(t.push(Math.round(e.math.avg(o))),t.push(Math.round(e.math.sd(o)))):1==l?t.push([o[0],-1]):t.push([-1,-1])}var c=e.clickTimes.length;t.push(c),c>1?(t.push(Math.round(e.math.avg(e.clickTimes))),t.push(Math.round(e.math.sd(e.clickTimes)))):1==c?t.push(e.clickTimes[0],-1):t.push([-1,-1]);var u=e.stopTimes.length;return t.push(u),u>1?(t.push(Math.round(e.math.avg(e.stopTimes))),t.push(Math.round(e.math.sd(e.stopTimes)))):1==u?t.push(e.stopTimes[0],-1):t.push([-1,-1]),t},e.getQuality=function(t){var n=t.split(",");for(s=0;s<n.length;s++)n[s]=Number(n[s]);n[0];var i=rec=avgAcc=0,r=e.math.avg(n),o=n.slice(11,55);for(var s in o)rec+=Number(o[s]>0),i+=Number(o[s]>4),avgAcc+=Number(o[s]>r);var a=Math.sqrt(rec*i*avgAcc)/80;return a>1?1:a},e.checkMobileValidity=function(e){var t=e.split(","),n=t[0];if(0==n)return 0;var i=0,r=t.slice(11,55);for(var o in r)i+=Number(r[o]);return i/n},e.getLength=function(e){return Number(e.split(",")[1])},e.isMobile=function(){if(null!=e.mobile)return e.mobile;var t=0;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=1)}(navigator.userAgent||navigator.vendor||window.opera),e.mobile=t,t},e.getTextId=function(t){return e.math.fnv1aHash(t)}};let Vm;var Hm=ed.extend({className:"primary-auth-form",noCancelButton:!0,attributes:{novalidate:"novalidate"},save:function(){return this.settings.get("features.passwordlessAuth")?td("oform.next","login"):td("primaryauth.submit","login")},saveId:"okta-signin-submit",layout:"o-form-theme",title:function(){let e=td("primaryauth.title","login");return this.settings.get("socialAuthPositionTop")&&(e=""),e},initialize:function(){const e=this.settings.get("features.trackTypingPattern");this.listenTo(this,"save",(async function(){const{appState:t}=this.options;if(e){const e=function(){try{return Vm.getTypingPattern({type:1})}catch(e){return null}}();t.set("typingPattern",e)}const n={username:this.model.get("username")};if(this.settings.get("features.passwordlessAuth")||(n.password=this.model.get("password")),t.trigger("loading",!0),this.state.trigger("togglePrimaryAuthButton",!0),await this.settings.processCreds(n),this.settings.get("features.deviceFingerprinting"))try{const e=await Nm.generateDeviceFingerprint(this.settings.get("baseUrl"),this.$el);t.set("deviceFingerprint",e)}catch{}this.model.save()})),this.stateEnableChange(),this.stateUsernameChange()},stateEnableChange:function(){this.listenTo(this.state,"change:enabled",(function(e,t){t?this.enable():this.disable()}))},stateUsernameChange:function(){this.listenTo(this.state,"change:disableUsername",(function(e,t){t?this.$el.find("#okta-signin-username").attr("disabled",!0):this.$el.find("#okta-signin-username").removeAttr("disabled")}))},inputs:function(){const e=[];return e.push(this.getUsernameField()),this.settings.get("features.passwordlessAuth")||e.push(this.getPasswordField()),this.settings.get("features.rememberMe")&&e.push(this.getRemeberMeCheckbox()),e},getUsernameField:function(){return{className:"margin-btm-5",label:td("primaryauth.username.placeholder","login"),"label-top":!0,explain:()=>!!this.isCustomized("primaryauth.username.tooltip")&&ia.createInputExplain("primaryauth.username.tooltip","primaryauth.username.placeholder","login"),"explain-top":!0,name:"username",input:Fd,inputId:"okta-signin-username",type:"text",disabled:this.options.appState.get("disableUsername"),autoComplete:ia.getAutocompleteValue(this.settings,"username"),render:function(){const e=this;function t(){e.$(this).removeAttr("aria-invalid").off("focusout",t).off("change",t)}this.$(`input[name=${this.options.name}]`).attr({"aria-invalid":"false","aria-required":"true"}).prop({required:!0}).focusout(t).change(t)}}},getPasswordField:function(){const e={className:"margin-btm-30",label:td("primaryauth.password.placeholder","login"),"label-top":!0,explain:()=>!!this.isCustomized("primaryauth.password.tooltip")&&ia.createInputExplain("primaryauth.password.tooltip","primaryauth.password.placeholder","login"),"explain-top":!0,name:"password",inputId:"okta-signin-password",validateOnlyIfDirty:!0,type:"password",autoComplete:ia.getAutocompleteValue(this.settings,"current-password"),render:function(){const e=this;function t(){e.$(this).removeAttr("aria-invalid").off("focusout",t).off("change",t)}this.$(`input[name=${this.options.name}]`).attr({"aria-invalid":"false","aria-required":"true"}).prop({required:!0}).focusout(t).change(t)}};return this.settings.get("features.showPasswordToggleOnSignInPage")&&(e.params={},e.params.showPasswordToggle=!0),e},isCustomized:function(e){const t=this.settings.get("language"),n=this.settings.get("i18n");return!!(n&&n[t]&&n[t][e])},getRemeberMeCheckbox:function(){return{label:!1,placeholder:td("remember","login"),name:"remember",type:"checkbox","label-top":!0,className:"margin-btm-0",initialize:function(){this.listenTo(this.model,"change:remember",(function(e,t){this.$(":checkbox").prop("checked",t).trigger("updateState")}))}}},focus:function(){this.model.get("username")?this.settings.get("features.passwordlessAuth")||this.getInputs().toArray()[1].focus():this.getInputs().first().focus(),this.settings.get("features.trackTypingPattern")&&function(e){try{Vm=new qm,Vm.addTarget(e),Vm.start()}catch(e){}}("okta-signin-username")}});const{Util:$m}=ld.util;var zm=sd.extend({template:pl.template({1:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li><a href="#" data-se="unlock" class="link js-unlock">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"unlockaccount"},data:r,loc:{start:{line:1,column:440},end:{line:1,column:484}}}))+"</a></li>"},3:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li><a href="'+u(typeof(s=null!=(s=h(n,"href")||(null!=t?h(t,"href"):t))?s:l)===c?s.call(a,{name:"href",hash:{},data:r,loc:{start:{line:1,column:539},end:{line:1,column:547}}}):s)+'" class="link js-custom" rel="noopener noreferrer" '+(null!=(o=h(n,"if").call(a,null!=t?h(t,"target"):t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:598},end:{line:1,column:638}}}))?o:"")+">"+u(typeof(s=null!=(s=h(n,"text")||(null!=t?h(t,"text"):t))?s:l)===c?s.call(a,{name:"text",hash:{},data:r,loc:{start:{line:1,column:639},end:{line:1,column:647}}}):s)+"</a></li>"},4:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'target="'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"target")||(null!=t?s(t,"target"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"target",hash:{},data:r,loc:{start:{line:1,column:620},end:{line:1,column:630}}}):o)+'"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" data-se="needhelp" aria-expanded="false" aria-controls="help-links-container" class="link help js-help">'+c((u(n,"i18n")||t&&u(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"needhelp"},data:r,loc:{start:{line:1,column:116},end:{line:1,column:155}}}))+'</a><ul class="help-links js-help-links" id="help-links-container"><li><a href="#" data-se="forgot-password" class="link js-forgot-password">'+c((u(n,"i18n")||t&&u(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"forgotpassword"},data:r,loc:{start:{line:1,column:296},end:{line:1,column:341}}}))+"</a></li>"+(null!=(o=u(n,"if").call(a,null!=(o=null!=t?u(t,"features"):t)?u(o,"selfServiceUnlock"):o,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:350},end:{line:1,column:500}}}))?o:"")+(null!=(o=u(n,"each").call(a,null!=(o=null!=t?u(t,"helpLinks"):t)?u(o,"custom"):o,{name:"each",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:500},end:{line:1,column:665}}}))?o:"")+'<li><a href="'+c("function"==typeof(s=null!=(s=u(n,"helpLinkUrl")||(null!=t?u(t,"helpLinkUrl"):t))?s:l)?s.call(a,{name:"helpLinkUrl",hash:{},data:r,loc:{start:{line:1,column:678},end:{line:1,column:693}}}):s)+'" data-se="help-link" class="link js-help-link" rel="noopener noreferrer" target="_blank">'+c((u(n,"i18n")||t&&u(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"help"},data:r,loc:{start:{line:1,column:783},end:{line:1,column:818}}}))+"</a></li></ul>"},useData:!0}),className:"auth-footer",initialize:function(){this.listenTo(this.state,"change:enabled",(function(e,t){this.$(".link").toggleClass("o-form-disabled",!t)}))},getTemplateData:function(){let e;return e=this.settings.get("helpLinks.help")||pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(o=null!=(o=s(n,"baseUrl")||(null!=t?s(t,"baseUrl"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"baseUrl",hash:{},data:r,loc:{start:{line:1,column:0},end:{line:1,column:11}}}):o)+"/help/login"},useData:!0})({baseUrl:this.settings.get("baseUrl")}),fl.extend(this.settings.toJSON({verbose:!0}),{helpLinkUrl:e})},postRender:function(){this.$(".js-help-links").hide()},toggleLinks:function(e){e.preventDefault(),this.$(".js-help-links").slideToggle(200,(()=>{this.$(".js-help").attr("aria-expanded",this.$(".js-help-links").is(":visible"))}))},events:{"click .js-help":function(e){e.preventDefault(),this.state.get("enabled")&&this.toggleLinks(e)},"click .js-forgot-password":function(e){if(e.preventDefault(),!this.state.get("enabled"))return;const t=this.settings.get("helpLinks.forgotPassword");t?$m.redirect(t):this.options.appState.trigger("navigate","signin/forgot-password")},"click .js-unlock":function(e){if(e.preventDefault(),!this.state.get("enabled"))return;const t=this.settings.get("helpLinks.unlock");t?$m.redirect(t):this.options.appState.trigger("navigate","signin/unlock")}}}),Wm=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="content-container"><span class="registration-label">'+c(typeof(o=null!=(o=u(n,"label")||(null!=t?u(t,"label"):t))?o:a)===l?o.call(s,{name:"label",hash:{},data:r,loc:{start:{line:1,column:64},end:{line:1,column:73}}}):o)+'</span><a title="'+c(typeof(o=null!=(o=u(n,"text")||(null!=t?u(t,"text"):t))?o:a)===l?o.call(s,{name:"text",hash:{},data:r,loc:{start:{line:1,column:90},end:{line:1,column:98}}}):o)+'" aria-label="'+c(typeof(o=null!=(o=u(n,"text")||(null!=t?u(t,"text"):t))?o:a)===l?o.call(s,{name:"text",hash:{},data:r,loc:{start:{line:1,column:112},end:{line:1,column:120}}}):o)+'" class="registration-link" href="#">'+c(typeof(o=null!=(o=u(n,"text")||(null!=t?u(t,"text"):t))?o:a)===l?o.call(s,{name:"text",hash:{},data:r,loc:{start:{line:1,column:157},end:{line:1,column:165}}}):o)+"</a></div>"},useData:!0}),className:"registration-container",events:{"click a.registration-link":"handleClickEvent"},handleClickEvent:function(e){e.preventDefault();const t=this.settings.get("registration.click");t?t():this.options.appState.get("isIdxStateToken")?this.options.appState.trigger("navigate","signin/enroll-user"):this.options.appState.trigger("navigate","signin/register")},getTemplateData:function(){return{label:td("registration.signup.label","login"),text:td("registration.signup.text","login")}}}),Gm=pd.extend({className:"primary-auth",state:{enabled:!0},View:Hm,constructor:function(e){e.appState.unset("username"),this.model=new Mm({multiOptionalFactorEnroll:e.settings.get("features.multiOptionalFactorEnroll"),settings:e.settings,appState:e.appState},{parse:!0}),pd.apply(this,arguments),this.addListeners(),e.settings.get("hasConfiguredButtons")&&this.add(Um,{prepend:e.settings.get("socialAuthPositionTop"),options:{currentController:this}}),this.addFooter(e),this.options.appState.get("disableUsername")&&this.addFooterWithBackLink(this.options),this.setUsername()},addFooter:function(e){this.add(new zm(this.toJSON({appState:e.appState}))),(e.settings.get("features.registration")||e.appState.get("isIdxStateToken"))&&this.add(new Wm({settings:this.settings,appState:e.appState}))},addFooterWithBackLink:function(e){this.$el.find(".footer-back-link").length||this.add(new sm(this.toJSON({appState:e.appState,className:"auth-footer footer-back-link"})))},setUsername:function(){const e=this.model.get("username");e&&this.options.appState.set("username",e)},setUsernameFromIdpDiscovery:function(){const e=this.options.username;e&&(this.model.set("username",e),this.options.appState.set("disableUsername",!0))},events:{"focusout input[name=username]":function(){if(this.shouldComputeDeviceFingerprint()&&this.model.get("username")){const e=this;this.options.appState.trigger("loading",!0),Nm.generateDeviceFingerprint(this.settings.get("baseUrl"),this.$el).then((function(t){e.options.appState.set("deviceFingerprint",t),e.options.appState.set("username",e.model.get("username"))})).catch((function(){e.options.appState.set("username",e.model.get("username"))})).finally((function(){e.options.appState.trigger("loading",!1)}))}else this.options.appState.set("username",this.model.get("username"))},"focusin input":function(e){Vl(e.target.parentElement).addClass("focused-input")},"focusout input":function(e){Vl(e.target.parentElement).removeClass("focused-input")}},initialize:function(){this.options.appState.unset("deviceFingerprint"),this.settings.get("features.prefillUsernameFromIdpDiscovery")&&this.setUsernameFromIdpDiscovery(),this.listenTo(this.model,"change:username",(function(e,t){t||this.options.appState.set("username","")})),this.listenTo(this.model,"save",(function(){this.state.set("enabled",!1)})),this.listenTo(this.model,"error",(function(){this.state.set("enabled",!0),this.options.appState.get("disableUsername")&&(this.state.set("disableUsername",!0),this.addFooterWithBackLink(this.options))})),this.listenTo(this.state,"togglePrimaryAuthButton",(function(e){this.toggleButtonState(e)}))},shouldComputeDeviceFingerprint:function(){return this.settings.get("features.securityImage")&&this.settings.get("features.deviceFingerprinting")&&this.settings.get("features.useDeviceFingerprintForSecurityImage")}}),Km=Mm.extend({props:function(){const e=Lm(),t=this.getUsernameAndRemember(e);return{username:["string",!0,t.username],lastUsername:["string",!1,e],context:["object",!1],remember:["boolean",!0,t.remember]}},local:{},save:function(){const e=this.settings.transformUsername(this.get("username"),na.IDP_DISCOVERY),t=this.get("remember"),n=this.get("lastUsername"),i="okta:acct:"+e,r=this.get("requestContext");this.setUsernameCookie(e,t,n),this.trigger("save"),this.appState.trigger("loading",!0);const o={resource:i,requestContext:r};this.appState.settings.getAuthClient().webfinger(o).then((e=>{e&&e.links&&e.links[0]&&("OKTA"===e.links[0].properties["okta:idp:type"]?this.trigger("goToPrimaryAuth"):e.links[0].href&&(e.links[0].href.includes("OKTA_INVALID_SESSION_REPOST%3Dtrue")?ia.redirectWithFormGet.bind(ia):this.settings.get("redirectUtilFn"))(e.links[0].href))})).catch((()=>{const e={errorSummary:td("oform.error.webfinger","login")};this.trigger("error",this,{responseJSON:e}),this.appState.trigger("removeLoading"),Rm()})).finally((()=>{this.appState.trigger("loading",!1)}))}}),Ym=Hm.extend({className:"idp-discovery-form",save:function(){return td("oform.next","login")},saveId:"idp-discovery-submit",initialize:function(){this.listenTo(this,"save",fl.bind(this.model.save,this.model)),this.stateEnableChange()},inputs:function(){const e=[],t={className:"margin-btm-30",label:td("primaryauth.username.placeholder","login"),inputId:"idp-discovery-username",disabled:!1};return e.push(fl.extend(this.getUsernameField(),t)),this.settings.get("features.rememberMe")&&e.push(this.getRemeberMeCheckbox()),e},focus:function(){this.model.get("username")?this.getInputs().toArray()[1]&&this.getInputs().toArray()[1].focus():this.getInputs().first().focus()}}),Xm=Gm.extend({className:"idp-discovery",View:Ym,constructor:function(e){e.appState.unset("username");let t=e.settings.get("idpDiscovery.requestContext");const n=e.appState.get("lastAuthResponse"),i=n&&(null==n?void 0:n.stateToken);ia.isV1StateToken(t)&&(t=i),this.model=new Km({requestContext:t,settings:e.settings,appState:e.appState},{parse:!0}),pd.apply(this,arguments),this.addListeners(),e.settings.get("hasConfiguredButtons")&&this.add(Um,{prepend:e.settings.get("socialAuthPositionTop"),options:{currentController:this}}),this.addFooter(e),this.setUsername()},initialize:function(){Gm.prototype.initialize.apply(this),this.listenTo(this.model,"goToPrimaryAuth",(function(){this.settings.set("username",this.model.get("username"));const e=this;this.settings.get("features.deviceFingerprinting")?Nm.generateDeviceFingerprint(this.settings.get("baseUrl"),this.$el).then((function(t){e.options.appState.set("deviceFingerprint",t),e.options.appState.set("username",e.model.get("username"))})).catch((function(){e.options.appState.set("username",e.model.get("username"))})).finally((function(){e.doPrimaryAuth()})):e.doPrimaryAuth()}))},doPrimaryAuth:function(){if(this.settings.get("features.passwordlessAuth")){const e=new Mm({username:this.model.get("username"),multiOptionalFactorEnroll:this.options.settings.get("features.multiOptionalFactorEnroll"),settings:this.options.settings,appState:this.options.appState},{parse:!0});this.listenTo(e,"error",(function(e,t){this.toggleButtonState(!1),this.model.trigger("error",this.model,t)})),this.addModelListeners(e),e.save()}else{this.options.appState.set("disableUsername",!0);const e=_p.createSigninUrl(this.settings.get("features.prefillUsernameFromIdpDiscovery")&&this.model.get("username"));this.options.appState.trigger("navigate",e)}}}),Jm=pd.extend({className:"force-idp-discovery",View:ym,Model:{},initialize:function(){const e=this.options,t=e.appState.get("lastAuthResponse"),n={resource:"okta:acct:",requestContext:t&&(null==t?void 0:t.stateToken)};e.appState.settings.getAuthClient().webfinger(n).then((t=>{null!=t&&t.links&&t.links[0]&&"OKTA"!==t.links[0].properties["okta:idp:type"]&&t.links[0].href?(t.links[0].href.includes("OKTA_INVALID_SESSION_REPOST%3Dtrue")?ia.redirectWithFormGet.bind(ia):this.settings.get("redirectUtilFn"))(t.links[0].href):e.appState.trigger("navigate","")})).catch((()=>{e.appState.trigger("navigate","")}))}});function Qm(e){const t=_p.createActivateFactorUrl(e.get("activatedFactorProvider"),e.get("activatedFactorType"));e.trigger("navigate",t)}var Zm=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,a=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link help js-back" data-se="back-link">'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"mfa.backToFactors"},data:r,loc:{start:{line:1,column:58},end:{line:1,column:106}}}))+'</a><a href="#" class="link help goto js-goto" data-se="goto-link">'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"mfa.scanBarcode"},data:r,loc:{start:{line:1,column:173},end:{line:1,column:219}}}))+"</a>"},useData:!0}),className:"auth-footer",events:{"click .js-back":function(e){e.preventDefault(),this.back()},"click .js-goto":function(e){e.preventDefault();const t=fl.partial(Qm,this.options.appState);this.options.appState.unset("factorActivationType"),this.model.doTransaction((function(e){return e.prev().then((function(e){return fl.findWhere(e.factors,{factorType:"push",provider:"OKTA"}).enroll()}))})).then(t)}},back:function(){const e=this;e.options.appState.unset("factorActivationType"),e.options.appState.get("prevLink")?this.model.doTransaction((function(e){return e.prev()})).then((function(){e.options.appState.trigger("navigate","signin/enroll")})):e.options.appState.trigger("navigate","signin/enroll")}});function eg(e,t){const n=_p.createActivateFactorUrl(e.options.appState.get("activatedFactorProvider"),e.options.appState.get("activatedFactorType"),t);e.options.appState.trigger("navigate",n)}function tg(e){let t,n;"SMS"===e.model.get("activationType")&&(n=e.model.get("countryCode"),t=e.model.get("phoneNumber")),e.options.appState.set({factorActivationType:e.model.get("activationType"),userCountryCode:n,userPhoneNumber:t})}function ng(e,t){return e.model.doTransaction((function(n){return n.prev().then((function(e){return fl.findWhere(e.factors,{factorType:t,provider:"OKTA"}).enroll()})).then((function(t){let n,i,r;const o=t.data;if(o&&o._embedded&&o._embedded.factor&&o._embedded.factor._embedded&&o._embedded.factor._embedded.activation){const e=o._embedded.factor;if(r=e._embedded.activation.sharedSecret,e._embedded.activation._links&&e._embedded.activation._links.send){const t=e._embedded.activation._links.send,r=fl.findWhere(t,{name:"sms"});n=r?r.href:null;const o=fl.findWhere(t,{name:"email"});i=o?o.href:null}}return e.model.set({SMS:n,EMAIL:i,sharedSecret:r}),t}))}))}var ig=Ed.extend({className:"enroll-manual-push",Model:function(){return{local:{activationType:["string",!0,this.options.appState.get("factorActivationType")||"SMS"],countryCode:["string",!1,this.options.appState.get("userCountryCode")],phoneNumber:"string",SMS:["string",!1,this.options.appState.get("textActivationLinkUrl")],EMAIL:["string",!1,this.options.appState.get("emailActivationLinkUrl")],sharedSecret:["string",!1,this.options.appState.get("sharedSecret")],__factorType__:["string",!1,this.options.factorType],__provider__:["string",!1,this.options.provider]},derived:{countryCallingCode:{deps:["countryCode"],fn:function(e){return"+"+gf(e)}},fullPhoneNumber:{deps:["countryCallingCode","phoneNumber"],fn:function(e,t){return e+t}}}}},Form:{title:function(){const e=Dd.getFactorLabel(this.model.get("__provider__"),this.model.get("__factorType__"));return td("enroll.totp.title","login",[e])},subtitle:fl.partial(td,"enroll.totp.cannotScanBarcode","login"),noButtonBar:!0,attributes:{"data-se":"step-manual-setup"},formChildren:function(){const e=this.settings.get("brandName")?td("enroll.totp.sharedSecretInstructions.specific","login",[this.settings.get("brandName")]):td("enroll.totp.sharedSecretInstructions.generic","login"),t=[_d.Input({name:"activationType",label:td("mfa.setupOptions","login"),type:"select",wide:!0,options:{SMS:td("enroll.totp.sendSms","login"),EMAIL:td("enroll.totp.sendEmail","login"),MANUAL:td("enroll.totp.setupManually","login")}}),_d.Input({label:td("mfa.country","login"),name:"countryCode",type:"select",wide:!0,options:ff(),showWhen:{activationType:"SMS"}}),_d.Input({label:td("mfa.phoneNumber.placeholder","login"),"label-top":!0,className:"enroll-sms-phone",name:"phoneNumber",input:vf,type:"text",showWhen:{activationType:"SMS"}}),_d.View({View:sd.extend({className:"secret-key-instructions",attributes:{"data-se":"secret-key-instructions"},template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<section aria-live="assertive"><p class="okta-form-subtitle o-form-explain text-align-c">'+c(typeof(o=null!=(o=u(n,"instructions")||(null!=t?u(t,"instructions"):t))?o:a)===l?o.call(s,{name:"instructions",hash:{},data:r,loc:{start:{line:1,column:89},end:{line:1,column:105}}}):o)+'</p><p class="shared-key margin-top-10" tabindex=0 aria-label="'+c((u(n,"i18n")||t&&u(t,"i18n")||a).call(s,{name:"i18n",hash:{arguments:"sharedSecretKey",bundle:"login",code:"enroll.totp.sharedSecretInstructions.aria.secretKey"},data:r,loc:{start:{line:1,column:168},end:{line:1,column:278}}}))+'">'+c(typeof(o=null!=(o=u(n,"sharedSecretKey")||(null!=t?u(t,"sharedSecretKey"):t))?o:a)===l?o.call(s,{name:"sharedSecretKey",hash:{},data:r,loc:{start:{line:1,column:280},end:{line:1,column:299}}}):o)+"</p></section>"},useData:!0}),initialize:function(){this.listenTo(this.model,"change:sharedSecret",this.render)},getTemplateData:function(){return{instructions:e,sharedSecretKey:this.model.get("sharedSecret")}}}),showWhen:{activationType:"MANUAL"}}),_d.View({View:sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){return'<div data-type="next-button-wrap"></div>'},useData:!0})}),showWhen:{activationType:"MANUAL"}}),_d.Button({title:td("oform.next","login"),className:"button button-primary button-wide button-next",attributes:{"data-se":"next-button"},click:()=>{tg(this),eg(this,"passcode")}},'[data-type="next-button-wrap"]'),_d.Toolbar({noCancelButton:!0,save:td("oform.send","login"),showWhen:{activationType:function(e){return"SMS"===e||"EMAIL"===e}}})];return t}},Footer:Zm,initialize:function(){this.setInitialModel(),this.listenTo(this.form,"save",(function(){const e=this;this.model.doTransaction((function(t){const n=this.get("activationType").toLowerCase(),i={};return"sms"===n&&(i.profile={phoneNumber:this.get("fullPhoneNumber")}),t.factor.activation.send(n,i).then((function(t){return tg(e),fl.defer((function(){eg(e,"sent")})),t}))}))})),this.listenTo(this.model,"change:activationType",(function(e,t){this.form.clearErrors(),"MANUAL"===t&&"token:software:totp"!==this.options.appState.get("activatedFactorType")?ng(this,"token:software:totp"):"push"!==this.options.appState.get("activatedFactorType")&&ng(this,"push")}))},setInitialModel:function(){"SMS"===this.options.appState.get("factorActivationType")&&this.model.set({countryCode:this.options.appState.get("userCountryCode")||"US",phoneNumber:this.options.appState.get("userPhoneNumber")})},trapAuthResponse:function(){if(this.options.appState.get("isMfaEnrollActivate")||this.options.appState.get("isMfaEnroll"))return!0}}),rg=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,a=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link help js-back" data-se="back-link">'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"mfa.backToFactors"},data:r,loc:{start:{line:1,column:58},end:{line:1,column:106}}}))+'</a><a href="#" class="link help goto js-goto" data-se="goto-link">'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"mfa.scanBarcode"},data:r,loc:{start:{line:1,column:173},end:{line:1,column:219}}}))+"</a>"},useData:!0}),className:"auth-footer",events:{"click .js-back":function(e){e.preventDefault(),this.back()},"click .js-goto":function(e){e.preventDefault(),this.model.startTransaction((function(e){return e.tx.resume()}))}},back:function(){this.state.set("navigateDir",na.DIRECTION_BACK),this.options.appState.get("prevLink")?this.model.doTransaction((function(e){return e.prev()})):this.options.appState.trigger("navigate","signin/enroll")}}),og=Ed.extend({className:"enroll-manual-totp",Model:function(){return{local:{sharedSecret:["string",!1,this.options.appState.get("sharedSecret")],__factorType__:["string",!1,this.options.factorType],__provider__:["string",!1,this.options.provider]}}},Form:{title:function(){const e=Dd.getFactorLabel(this.model.get("__provider__"),this.model.get("__factorType__"));return td("enroll.totp.title","login",[e])},subtitle:fl.partial(td,"enroll.totp.cannotScanBarcode","login"),noButtonBar:!0,attributes:{"data-se":"step-manual-setup"},formChildren:function(){const e=this.settings.get("brandName")?td("enroll.totp.manualSetupInstructions.specific","login",[this.settings.get("brandName")]):td("enroll.totp.manualSetupInstructions.generic","login");return[_d.View({View:sd.extend({className:"secret-key-instructions",attributes:{"data-se":"secret-key-instructions"},template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<section aria-live="assertive"><p class="okta-form-subtitle o-form-explain text-align-c">'+c(typeof(o=null!=(o=u(n,"instructions")||(null!=t?u(t,"instructions"):t))?o:a)===l?o.call(s,{name:"instructions",hash:{},data:r,loc:{start:{line:1,column:89},end:{line:1,column:105}}}):o)+'</p><p class="shared-key margin-top-10" tabindex=0 aria-label="'+c((u(n,"i18n")||t&&u(t,"i18n")||a).call(s,{name:"i18n",hash:{arguments:"sharedSecretKey",bundle:"login",code:"enroll.totp.sharedSecretInstructions.aria.secretKey"},data:r,loc:{start:{line:1,column:168},end:{line:1,column:278}}}))+'">'+c(typeof(o=null!=(o=u(n,"sharedSecretKey")||(null!=t?u(t,"sharedSecretKey"):t))?o:a)===l?o.call(s,{name:"sharedSecretKey",hash:{},data:r,loc:{start:{line:1,column:280},end:{line:1,column:299}}}):o)+"</p></section>"},useData:!0}),initialize:function(){this.listenTo(this.model,"change:sharedSecret",this.render)},getTemplateData:function(){return{instructions:e,sharedSecretKey:this.model.get("sharedSecret")}}})}),_d.Toolbar({noCancelButton:!0,save:td("oform.next","login")})]}},Footer:rg,initialize:function(){this.listenTo(this.form,"save",(function(){const e=_p.createActivateFactorUrl(this.model.get("__provider__"),this.model.get("__factorType__"),"activate");this.options.appState.trigger("navigate",e)}))}}),sg=ed.extend({layout:"o-form-theme",className:"factor-verify-magiclink",autoSave:!0,noCancelButton:!0,initialize:function(){const e=this;this.title=this.model.get("factorLabel");const t=this.model.get("email")||this.options.appState.get("lastAuthResponse")._embedded.user.profile.login;this.subtitle="("+t+")",this.add(nd({attributes:{"data-se":"email-send-code"},className:"button email-request-button",title:td("mfa.sendEmail","login"),click:function(){e.clearErrors(),this.disable(),this.options.title=td("mfa.sent","login"),this.render(),this.model.save().then((()=>ud().delay(na.API_RATE_LIMIT))).then((()=>{this.options.title=td("mfa.resendEmail","login"),this.enable(),this.render()}))}}))}}),ag=ed.extend({autoSave:!0,noButtonBar:!0,scrollOnError:!1,layout:"o-form-theme",className:"mfa-verify-totp-inline",attributes:{"data-se":"factor-inline-totp"},initialize:function(){const e=this;this.listenTo(this.model,"error",(function(){this.clearErrors()})),this.add(nd({className:"link",attributes:{"data-se":"inline-totp-add"},title:td("mfa.challenge.orEnterCode","login"),click:function(){this.remove(),function(e){e.addDivider(),e.addInput({label:td("mfa.challenge.enterCode.placeholder","login"),"label-top":!0,className:"o-form-fieldset o-form-label-top inline-input auth-passcode",name:"answer",input:Fd,type:"tel"}),e.add(nd({attributes:{"data-se":"inline-totp-verify"},className:"button inline-totp-verify margin-top-30",title:td("mfa.challenge.verify","login"),click:function(){e.clearErrors(),e.isValid()&&e.model.manageTransaction((function(t,n){if("MFA_CHALLENGE"===t.status&&t.prev)return e.options.appState.set("trapMfaRequiredResponse",!0),t.prev().then((function(t){n(t),e.model.save()}));e.model.save()}))}})),e.at(1).focus()}(e)}}))}});const lg=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"("+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"subtitle")||(null!=t?s(t,"subtitle"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"subtitle",hash:{},data:r,loc:{start:{line:1,column:1},end:{line:1,column:13}}}):o)+")"},useData:!0}),cg=sd.extend({className:"okta-form-infobox-warning infobox infobox-warning login-timeout-warning",attributes:{"aria-live":"polite"},template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="icon warning-16"></span><p>'+(null!=(o="function"==typeof(s=null!=(s=a(n,"warning")||(null!=t?a(t,"warning"):t))?s:e.hooks.helperMissing)?s.call(null!=t?t:e.nullContext||{},{name:"warning",hash:{},data:r,loc:{start:{line:1,column:40},end:{line:1,column:53}}}):s)?o:"")+"</p>"},useData:!0})});function ug(e){switch(e){case"sms":return{buttonDataSe:"sms-send-code",buttonClassName:"sms-request-button",formSubmit:td("mfa.sendCode","login"),formRetry:td("mfa.resendCode","login"),formSubmitted:td("mfa.sent","login"),subtitle:lg({subtitle:this.model.get("phoneNumber")}),warning:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<b>$1</b>",bundle:"login",code:"factor.sms.time.warning"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:70}}}))},useData:!0})};case"call":return{buttonDataSe:"make-call",buttonClassName:"call-request-button",formSubmit:td("mfa.call","login"),formRetry:td("mfa.redial","login"),formSubmitted:td("mfa.calling","login"),subtitle:lg({subtitle:this.model.get("phoneNumber")}),warning:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<b>$1</b>",bundle:"login",code:"factor.call.time.warning"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:71}}}))},useData:!0})};case"email":return{buttonDataSe:"email-send-code",buttonClassName:"email-request-button",formSubmit:td("mfa.sendEmail","login"),formRetry:td("mfa.resendEmail","login"),formSubmitted:td("mfa.sent","login"),subtitle:lg({subtitle:this.model.get("email")})};default:return{buttonDataSe:"",buttonClassName:"",formSubmit:"",formRetry:"",formSubmitted:""}}}var hg=ed.extend({className:"mfa-verify-passcode",autoSave:!0,noCancelButton:!0,save:fl.partial(td,"mfa.challenge.verify","login"),scrollOnError:!1,layout:"o-form-theme",disableSubmitButton:function(){return this.model.appState.get("isMfaChallenge")&&this.model.get("answer")},showWarning:function(e){this.clearWarnings(),this.add(cg,".o-form-error-container",{options:{warning:e}})},clearWarnings:function(){this.$(".okta-form-infobox-warning").remove()},initialize:function(){const e=this;this.title=this.model.get("factorLabel");const t=this.model.get("factorType"),n=ug.call(this,t),i=n.warning;this.$el.attr("data-se","factor-"+t),this.subtitle=n.subtitle,this.listenTo(this.model,"error",(function(){this.clearErrors()})),this.addInput({label:td("mfa.challenge.enterCode.placeholder","login"),"label-top":!0,className:"o-form-fieldset o-form-label-top auth-passcode",name:"answer",input:Fd,type:"tel"}),this.add(nd({attributes:{"data-se":n.buttonDataSe},className:"button "+n.buttonClassName,title:n.formSubmit,click:function(){e.clearErrors(),this.disable(),e.clearWarnings(),this.options.title=n.formSubmitted,this.render(),this.model.set("answer",""),this.model.save().then((function(){return e.getInputs().first().render().focus(),ud().delay(na.API_RATE_LIMIT)})).then((()=>{this.options.title=n.formRetry,this.enable(),"call"!==t&&"sms"!==t||e.showWarning(i),this.render()}))}})),this.options.appState.get("allowRememberDevice")&&this.addInput({label:!1,"label-top":!0,placeholder:this.options.appState.get("rememberDeviceLabel"),className:"margin-btm-0",name:"rememberDevice",type:"checkbox"})}}),dg=ed.extend({className:"mfa-verify-password",autoSave:!0,noCancelButton:!0,save:fl.partial(td,"mfa.challenge.verify","login"),scrollOnError:!1,layout:"o-form-theme",attributes:{"data-se":"factor-password"},initialize:function(){this.title=this.model.get("factorLabel"),this.addInput({label:td("mfa.challenge.password.placeholder","login"),"label-top":!0,className:"auth-passcode",name:"password",type:"password",params:{showPasswordToggle:!0}}),this.options.appState.get("allowRememberDevice")&&this.addInput({label:!1,"label-top":!0,placeholder:this.options.appState.get("rememberDeviceLabel"),className:"margin-btm-0",name:"rememberDevice",type:"checkbox"})}}),pg=sd.extend({className:"number-challenge-view",template:pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p data-se="number-challenge-instruction">'+(null!=(o=(s(n,"i18n")||t&&s(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{arguments:"number",bundle:"login",code:"oktaverify.numberchallenge.instruction"},data:r,loc:{start:{line:1,column:73},end:{line:1,column:163}}}))?o:"")+"</p>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=u(n,"if").call(a,null!=t?u(t,"number"):t,{name:"if",hash:{includeZero:!0},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:174}}}))?o:"")+'<div class="phone"><div class="phone--body"><div class="phone--screen"><span class="phone--number" data-se="challenge-number">'+c("function"==typeof(s=null!=(s=u(n,"number")||(null!=t?u(t,"number"):t))?s:l)?s.call(a,{name:"number",hash:{},data:r,loc:{start:{line:1,column:300},end:{line:1,column:310}}}):s)+'</span></div><div class="phone--home-button"></div></div></div><p>'+c((u(n,"i18n")||t&&u(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"oktaverify.numberchallenge.explain"},data:r,loc:{start:{line:1,column:376},end:{line:1,column:441}}}))+"</p>"},useData:!0}),initialize:function(){this.listenTo(this.options.appState,"change:isWaitingForNumberChallenge",(()=>{"SUCCESS"!==this.options.appState.get("lastAuthResponse").status&&this.render()}))},getTemplateData:function(){const e=this.options.appState.get("lastAuthResponse");return this.options.appState.get("isWaitingForNumberChallenge")?{number:e._embedded.factor._embedded.challenge.correctAnswer}:{number:null}}});const fg=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(typeof(s=null!=(s=u(n,"factorName")||(null!=t?u(t,"factorName"):t))?s:l)===c?s.call(a,{name:"factorName",hash:{},data:r,loc:{start:{line:1,column:0},end:{line:1,column:14}}}):s)+" ("+(null!=(o=typeof(s=null!=(s=u(n,"deviceName")||(null!=t?u(t,"deviceName"):t))?s:l)===c?s.call(a,{name:"deviceName",hash:{},data:r,loc:{start:{line:1,column:16},end:{line:1,column:32}}}):s)?o:"")+")"},useData:!0}),mg=sd.extend({className:"okta-form-infobox-warning infobox infobox-warning",attributes:{"aria-live":"polite"},template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="icon warning-16"></span><p>'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"warning")||(null!=t?s(t,"warning"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"warning",hash:{},data:r,loc:{start:{line:1,column:40},end:{line:1,column:51}}}):o)+"</p>"},useData:!0})});var gg=ed.extend({className:"mfa-verify-push",autoSave:!0,noCancelButton:!0,save:fl.partial(td,"oktaverify.send","login"),scrollOnError:!1,layout:"o-form-theme",attributes:{"data-se":"factor-push"},events:{submit:"submit"},initialize:function(){this.enabled=!0,this.listenTo(this.options.appState,"change:isMfaRejected",this.handleRejectStateChange),this.numberChallengeView=this.add(pg).last(),this.listenTo(this.options.appState,"change:isWaitingForNumberChallenge",(function(e,t){t||"SUCCESS"===this.options.appState.get("lastAuthResponse").status?(this.clearWarnings(),this.$el.find(".button").hide(),this.numberChallengeView.$el.show()):(this.numberChallengeView.$el.hide(),this.$el.find(".button").show())})),this.listenTo(this.options.appState,"change:isMfaTimeout",(function(e,t){this.setSubmitState(t),t&&this.showError(td("oktaverify.timeout","login"))})),this.listenTo(this.options.appState,"change:isMfaRequired",(function(e,t){t&&(this.clearErrors(),this.clearWarnings())})),this.title=fg({factorName:this.model.get("factorLabel"),deviceName:this.model.get("deviceName")})},setSubmitState:function(e){const t=this.$el.find(".button"),n=this.$el.find(".accessibility-text");this.enabled=e,e?(t.removeClass("link-button-disabled"),t.prop("value",td("oktaverify.send","login")),t.prop("disabled",!1),n&&n.remove()):(t.addClass("link-button-disabled"),t.prop("value",td("oktaverify.sent","login")),t.prop("disabled",!0),this.add(`<span class='accessibility-text' role='alert'>${td("oktaverify.sent","login")}</span>`))},submit:function(e){void 0!==e&&e.preventDefault(),this.enabled&&(this.setSubmitState(!1),this.doSave())},postRender:function(){const e=this.options.appState.get("factorsPolicyInfo"),t=this.model.get("id");this.settings.get("features.autoPush")&&e&&e[t]&&e[t].autoPushEnabled&&(this.model.set("autoPush",!0),fl.defer(fl.bind(this.submit,this)))},doSave:function(){let e;this.clearErrors(),this.clearWarnings(),this.model.isValid()&&(this.listenToOnce(this.model,"error",(function(){this.setSubmitState(!0),this.clearWarnings(),clearTimeout(e)})),this.trigger("save",this.model),e=ia.callAfterTimeout((()=>{this.options.appState.get("isWaitingForNumberChallenge")||this.showWarning(td("oktaverify.warning","login"))}),3e4))},showError:function(e){this.clearWarnings(),this.model.trigger("error",this.model,{responseJSON:{errorSummary:e}})},showWarning:function(e){this.clearWarnings(),this.add(mg,".o-form-error-container",{options:{warning:e}})},clearWarnings:function(){this.$(".okta-form-infobox-warning").remove()},handleRejectStateChange:function(e,t){t&&(this.setSubmitState(t),this.setRejectedErrorMessage())},setRejectedErrorMessage:function(){"OKTA_VERIFY_UPGRADE_REQUIRED"===this.options.appState.get("lastAuthResponse").factorResultMessage?"IOS"===this.options.appState.get("factor").profile.platform?this.showError(td("oktaverify.rejected.upgradeRequired.ios","login")):this.showError(td("oktaverify.rejected.upgradeRequired.android","login")):this.showError(td("oktaverify.rejected","login"))}}),yg=ed.extend({className:"mfa-verify-question",autoSave:!0,noCancelButton:!0,save:fl.partial(td,"mfa.challenge.verify","login"),scrollOnError:!1,layout:"o-form-theme",attributes:{"data-se":"factor-question"},initialize:function(){this.title=this.model.get("factorLabel"),this.addInput({label:this.model.get("securityQuestion"),"label-top":!0,placeholder:td("mfa.challenge.answer.placeholder","login"),className:"auth-passcode",name:"answer",type:"password",params:{showPasswordToggle:!0}}),this.options.appState.get("allowRememberDevice")&&this.addInput({label:!1,"label-top":!0,placeholder:this.options.appState.get("rememberDeviceLabel"),className:"margin-btm-0",name:"rememberDevice",type:"checkbox"})}});const vg=function(){const e=this.model.get("email"),t=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="mask-email">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"email")||(null!=t?s(t,"email"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"email",hash:{},data:r,loc:{start:{line:1,column:25},end:{line:1,column:34}}}):o)+"</span>"},useData:!0});return{factorEmail:t({email:e})}},bg=ed.extend({layout:"o-form-theme",className:"mfa-verify-email",title:fl.partial(td,"email.mfa.title","login"),noButtonBar:!1,autoSave:!0,noCancelButton:!0,attributes:{"data-se":"factor-email"},save:function(){return this.options.appState.get("isMfaChallenge")?td("mfa.challenge.verify","login"):td("email.button.send","login")},events:Object.assign({},ed.prototype.events,{submit:function(e){e.preventDefault(),this.handleSubmit()}}),handleSubmit:function(){this.clearErrors(),this.options.appState.get("isMfaChallenge")?this.isValid()&&this.model.save():(this.model.set("answer",""),this.model.save().then(this.renderChallengView.bind(this)))},initialize:function(){ed.prototype.initialize.apply(this,arguments),this.add(sd.extend({attributes:{"data-se":"mfa-send-email-content"},className:"mfa-send-email-content",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=(s(n,"i18n")||t&&s(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{arguments:"factorEmail",bundle:"login",code:"email.mfa.description"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:78}}}))?o:""},useData:!0}),getTemplateData:vg}))},renderChallengView:function(){this.removeChildren(),this.add(sd.extend({className:"mfa-email-sent-content",attributes:{"data-se":"mfa-email-sent-content"},template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=(s(n,"i18n")||t&&s(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{arguments:"factorEmail",bundle:"login",code:"email.mfa.email.sent.description"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:89}}}))?o:""},useData:!0}),getTemplateData:vg})),this.add(hf),this.addInput({label:td("email.code.label","login"),"label-top":!0,name:"answer",input:Fd,wide:!0,type:"tel"}),this.options.appState.get("allowRememberDevice")&&this.addInput({label:!1,"label-top":!0,placeholder:this.options.appState.get("rememberDeviceLabel"),className:"margin-btm-0",name:"rememberDevice",type:"checkbox"}),this.render()}});var _g=ed.extend({className:"mfa-verify-totp",autoSave:!0,noCancelButton:!0,save:fl.partial(td,"mfa.challenge.verify","login"),scrollOnError:!1,layout:"o-form-theme",attributes:{"data-se":"factor-totp"},initialize:function(){const e=this.model.get("factorLabel"),t="RSA"===this.model.get("provider")||"DEL_OATH"===this.model.get("provider");this.title=e,this.model.get("isFactorTypeVerification")?this.subtitle=td("mfa.challenge.totp.subtitle.multiple","login",[e]):this.subtitle=td("mfa.challenge.title","login",[e]),this.addInput({label:td("mfa.challenge.enterCode.placeholder","login"),"label-top":!0,className:"o-form-fieldset o-form-label-top auth-passcode",name:"answer",input:Fd,type:t?"password":"tel"}),this.options.appState.get("allowRememberDevice")&&this.addInput({label:!1,"label-top":!0,placeholder:this.options.appState.get("rememberDeviceLabel"),className:"margin-btm-0",name:"rememberDevice",type:"checkbox"}),"RSA"!==this.model.get("provider")&&"DEL_OATH"!==this.model.get("provider")||this.listenTo(this.model,"error",((e,t)=>{t&&409===t.status&&(this.$(".auth-passcode input").val(""),this.$(".auth-passcode input").trigger("change"),this.$(".auth-passcode input").focus())}))}}),wg=ed.extend({className:"mfa-verify-yubikey",autoSave:!0,noCancelButton:!0,save:fl.partial(td,"mfa.challenge.verify","login"),scrollOnError:!1,layout:"o-form-theme",attributes:{"data-se":"factor-yubikey"},initialize:function(){const e=this.model.get("factorLabel");this.title=e,this.subtitle=td("factor.totpHard.yubikey.description","login"),this.addInput({label:td("factor.totpHard.yubikey.placeholder","login"),"label-top":!0,className:"o-form-fieldset o-form-label-top auth-passcode",name:"answer",input:Fd,inputId:"mfa-answer",type:"password"}),this.options.appState.get("allowRememberDevice")&&this.addInput({label:!1,"label-top":!0,className:"margin-btm-0",placeholder:this.options.appState.get("rememberDeviceLabel"),name:"rememberDevice",type:"checkbox"})}});const{Util:kg}=ld.util;var Sg=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link '+c(typeof(o=null!=(o=u(n,"linkClassName")||(null!=t?u(t,"linkClassName"):t))?o:a)===l?o.call(s,{name:"linkClassName",hash:{},data:r,loc:{start:{line:1,column:24},end:{line:1,column:41}}}):o)+'" data-se="signout-link">'+c(typeof(o=null!=(o=u(n,"linkText")||(null!=t?u(t,"linkText"):t))?o:a)===l?o.call(s,{name:"linkText",hash:{},data:r,loc:{start:{line:1,column:66},end:{line:1,column:78}}}):o)+"</a>"},useData:!0}),className:"auth-footer clearfix",events:{'click a[data-se="signout-link"]':"handleSignout"},handleSignout:function(e){e.preventDefault();const t=this.options.appState;t.trigger("signOut");const n=t.get("isSMSPasswordRecovery");this.model.doTransaction((function(e){return e.cancel().then(Eg)})).then((()=>{this.settings.get("backToSignInUri")&&!n?kg.redirect(this.settings.get("backToSignInUri")):(this.state.set("navigateDir",na.DIRECTION_BACK),t.trigger("navigate",""))}))},getTemplateData:function(){return{linkClassName:fl.isUndefined(this.options.linkClassName)?"goto":this.options.linkClassName,linkText:this.options.linkText||td("goback","login")}}});function Eg(e){return{...e,data:null}}var Tg=Sg.extend({template:pl.template({1:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="'+c(typeof(o=null!=(o=u(n,"factorPageCustomLinkHref")||(null!=t?u(t,"factorPageCustomLinkHref"):t))?o:a)===l?o.call(s,{name:"factorPageCustomLinkHref",hash:{},data:r,loc:{start:{line:1,column:40},end:{line:1,column:68}}}):o)+'" data-se="factor-page-custom-link" class="link js-factor-page-custom-link" rel="noopener noreferrer" target="_blank">'+c(typeof(o=null!=(o=u(n,"factorPageCustomLinkText")||(null!=t?u(t,"factorPageCustomLinkText"):t))?o:a)===l?o.call(s,{name:"factorPageCustomLinkText",hash:{},data:r,loc:{start:{line:1,column:186},end:{line:1,column:214}}}):o)+"</a>"},3:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link '+c(typeof(o=null!=(o=u(n,"linkClassName")||(null!=t?u(t,"linkClassName"):t))?o:a)===l?o.call(s,{name:"linkClassName",hash:{},data:r,loc:{start:{line:1,column:265},end:{line:1,column:282}}}):o)+'" data-se="signout-link">'+c(typeof(o=null!=(o=u(n,"linkText")||(null!=t?u(t,"linkText"):t))?o:a)===l?o.call(s,{name:"linkText",hash:{},data:r,loc:{start:{line:1,column:307},end:{line:1,column:319}}}):o)+"</a>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"hasFactorPageCustomLink"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:225}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"showLink"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:225},end:{line:1,column:330}}}))?o:"")},useData:!0}),className:"auth-footer clearfix",getTemplateData:function(){const e=Sg.prototype.getTemplateData.apply(this,arguments),t=this.settings.get("helpLinks.factorPage.href"),n=this.settings.get("helpLinks.factorPage.text"),i=!this.settings.get("features.hideSignOutLinkInMFA")&&!this.settings.get("features.mfaOnlyFlow");return Object.assign({},e,{hasFactorPageCustomLink:n&&t,factorPageCustomLinkHref:t,factorPageCustomLinkText:n,showLink:i})}});let{CheckBox:xg}=ld.views.forms.inputs;var Cg=pd.extend({className:"mfa-verify",initialize:function(e){const t=e.factorType;let n;switch(t){case"question":n=yg;break;case"email":n=this.options.appState.get("isIdxStateToken")?sg:bg;break;case"sms":case"call":n=hg;break;case"token":case"token:software:totp":case"token:hotp":n=_g;break;case"token:hardware":n=wg;break;case"push":n=gg;break;case"password":n=dg;break;default:throw new Error("Unrecognized factor type")}if(this.model=this.findModel(t,e),!this.model)throw new Error("Unrecognized factor/provider");this.addListeners(),this.add(new n(this.toJSON())),"push"===t&&this.model.get("isOktaFactor")&&(this.model.get("backupFactor")&&(this.inlineTotpForm=this.add(ag,{options:{model:this.model.get("backupFactor")}}).last()),this.settings.get("features.autoPush")&&(this.autoPushCheckBox=this.add(xg,{options:{model:this.model,name:"autoPush",placeholder:td("autoPush","login"),label:!1,"label-top":!1,className:"margin-btm-0"}}).last()),this.options.appState.get("allowRememberDevice")&&(this.rememberDeviceCheckbox=this.add(xg,{options:{model:this.model,name:"rememberDevice",placeholder:this.options.appState.get("rememberDeviceLabel"),label:!1,"label-top":!0,className:"margin-btm-0"}}).last()),this.model.get("backupFactor")&&this.listenTo(this.model,"change:rememberDevice",(function(e,t){e.get("backupFactor").set("rememberDevice",t)}))),this.listenTo(this.options.appState,"change:isWaitingForNumberChallenge",(function(e,t){t||"SUCCESS"===this.options.appState.get("lastAuthResponse").status?(this.autoPushCheckBox&&this.autoPushCheckBox.$el.hide(),this.rememberDeviceCheckbox&&this.rememberDeviceCheckbox.$el.hide(),this.inlineTotpForm&&this.inlineTotpForm.$el.hide()):(this.autoPushCheckBox&&this.autoPushCheckBox.$el.show(),this.rememberDeviceCheckbox&&this.rememberDeviceCheckbox.$el.show(),this.inlineTotpForm&&this.inlineTotpForm.$el.show())})),this.add(new Tg(this.toJSON()))},findModel:function(e,t){const n=t.appState.get("factors"),i=t.provider,r=t.factorIndex;return i?n.hasMultipleFactorsOfSameType(e)&&r?n.getFactorByTypeAndIndex(e,r):n.findWhere({provider:i,factorType:e}):n.findWhere({factorType:e,isFactorTypeVerification:!0})},trapAuthResponse:function(){return!!(this.options.appState.get("isMfaRequired")&&this.options.appState.get("trapMfaRequiredResponse")||this.options.appState.get("isMfaChallenge"))&&(this.options.appState.set("trapMfaRequiredResponse",!1),!0)},back:function(){}}),Pg=sd.extend({template:pl.template({1:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="password-requirements--header">'+e.escapeExpression((a(n,"i18n")||t&&a(t,"i18n")||e.hooks.helperMissing).call(s,{name:"i18n",hash:{bundle:"login",code:"password.complexity.requirements.header"},data:r,loc:{start:{line:1,column:63},end:{line:1,column:133}}}))+'</div><ul class="password-requirements--list">'+(null!=(o=a(n,"each").call(s,null!=t?a(t,"requirements"):t,{name:"each",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:179},end:{line:1,column:268}}}))?o:"")+"</ul>"},2:function(e,t,n,i,r){return'<li class="password-requirements--list-item">'+e.escapeExpression(e.lambda(t,t))+"</li>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"requirements"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:280}}}))?o:""},useData:!0}),attributes:{"data-se":"password-requirements-html"},allRequirements:[],initialize:function(e){const t=e.policy;t&&(this.allRequirements=Dd.getPasswordComplexityDescriptionForHtmlList(t))},getTemplateData:function(){return{requirements:this.allRequirements}}}),Ag=Ed.extend({className:"password-expired",Model:{props:{oldPassword:["string",!0],newPassword:["string",!0],confirmPassword:["string",!0]},validate:function(){return Vf.validatePasswordMatch(this)},save:function(){return this.trigger("save"),this.doTransaction((function(e){return e.changePassword({oldPassword:this.get("oldPassword"),newPassword:this.get("newPassword")})}))}},Form:{save:fl.partial(td,"password.expired.submit","login"),title:function(){const e=this.options.appState.get("isPwdExpiringSoon"),t=this.options.appState.get("passwordExpireDays");return e&&t>0?td("password.expiring.title","login",[t]):e&&0===t?td("password.expiring.today","login"):e?td("password.expiring.soon","login"):this.settings.get("brandName")?td("password.expired.title.specific","login",[this.settings.get("brandName")]):td("password.expired.title.generic","login")},subtitle:function(){if(this.options.appState.get("isPwdExpiringSoon"))return this.settings.get("brandName")?td("password.expiring.subtitle.specific","login",[this.settings.get("brandName")]):td("password.expiring.subtitle.generic","login");const e=this.options.appState.get("policy");return e&&!this.settings.get("features.showPasswordRequirementsAsHtmlList")?Dd.getPasswordComplexityDescription(e):void 0},parseErrorMessage:function(e){const t=this.options.appState.get("policy");return t&&this.settings.get("features.showPasswordRequirementsAsHtmlList")&&(e=Dd.removeRequirementsFromError(e,t)),e},formChildren:function(){let e=[];return this.settings.get("features.showPasswordRequirementsAsHtmlList")&&e.push(_d.View({View:new Pg({policy:this.options.appState.get("policy")})})),e=e.concat([_d.Input({"label-top":!0,label:td("password.oldPassword.placeholder","login"),explain:ia.createInputExplain("password.oldPassword.tooltip","password.oldPassword.placeholder","login"),"explain-top":!0,name:"oldPassword",input:Fd,type:"password"}),_d.Divider(),_d.Input({className:"margin-btm-5","label-top":!0,label:td("password.newPassword.placeholder","login"),explain:ia.createInputExplain("password.newPassword.tooltip","password.newPassword.placeholder","login"),"explain-top":!0,name:"newPassword",input:Fd,type:"password"}),_d.Input({"label-top":!0,label:td("password.confirmPassword.placeholder","login"),explain:ia.createInputExplain("password.confirmPassword.tooltip","password.confirmPassword.placeholder","login"),"explain-top":!0,name:"confirmPassword",input:Fd,type:"password"})]),e}},Footer:zp,initialize:function(){this.listenTo(this.form,"save",(function(){const e={username:this.options.appState.get("userEmail"),password:this.model.get("newPassword")};this.settings.processCreds(e).then(fl.bind(this.model.save,this.model))}))}});let{CheckBox:Og}=ld.views.forms.inputs;var Ig=Ed.extend({className:"password-reset",Model:{props:{newPassword:["string",!0],confirmPassword:["string",!0],revokeSessions:["boolean",!1]},validate:function(){return Vf.validatePasswordMatch(this)},save:function(){this.trigger("save");const e=this;return this.doTransaction((function(t){const n={newPassword:e.get("newPassword")};return e.settings.get("features.showSessionRevocation")&&(n.revokeSessions=e.get("revokeSessions")),t.resetPassword(n)}))}},Form:{save:fl.partial(td,"password.reset","login"),title:function(){return this.settings.get("brandName")?td("password.reset.title.specific","login",[this.settings.get("brandName")]):td("password.reset.title.generic","login")},subtitle:function(){const e=this.options.appState.get("policy");if(e&&!this.settings.get("features.showPasswordRequirementsAsHtmlList"))return Dd.getPasswordComplexityDescription(e)},parseErrorMessage:function(e){const t=this.options.appState.get("policy");return t&&this.settings.get("features.showPasswordRequirementsAsHtmlList")&&(e=Dd.removeRequirementsFromError(e,t)),e},formChildren:function(){let e=[];return this.settings.get("features.showPasswordRequirementsAsHtmlList")&&e.push(_d.View({View:new Pg({policy:this.options.appState.get("policy")})})),e=e.concat([_d.Input({className:"margin-btm-5",label:td("password.newPassword.placeholder","login"),"label-top":!0,explain:ia.createInputExplain("password.newPassword.tooltip","password.newPassword.placeholder","login"),"explain-top":!0,name:"newPassword",input:Fd,type:"password",autoComplete:ia.getAutocompleteValue(this.settings,"new-password")}),_d.Input({label:td("password.confirmPassword.placeholder","login"),"label-top":!0,explain:ia.createInputExplain("password.confirmPassword.tooltip","password.confirmPassword.placeholder","login"),"explain-top":!0,name:"confirmPassword",input:Fd,type:"password",autoComplete:ia.getAutocompleteValue(this.settings,"new-password")})]),this.settings.get("features.showSessionRevocation")&&(e=e.concat([_d.Input({placeholder:td("password.reset.revokeSessions","login"),name:"revokeSessions",input:Og,type:"checkbox"})])),e}},initialize:function(){this.listenTo(this.form,"save",(function(){const e={username:this.options.appState.get("userEmail"),password:this.model.get("newPassword")};this.settings.processCreds(e).then(fl.bind(this.model.save,this.model))})),this.settings.get("features.hideBackToSignInForReset")||this.addFooter(Sg)}}),Lg=Ed.extend({className:"poll",Model:{save:function(){return this.trigger("cancelRequest"),this.appState.get("transaction").cancel().then((()=>{this.options.appState.trigger("navigate","")})).catch((()=>{this._stopCountDown()}))}},Form:{autoSave:!0,hasSavingState:!1,title:function(){return this.title},className:"poll-controller",noCancelButton:!0,save:td("oform.cancel","login"),modelEvents:{cancelRequest:"_stopCountDown"},formChildren:[_d.View({View:'<div >               <div data-se="poll-waiting" class="hide okta-waiting-spinner"></div>             </div>'})],_checkStatus:function(){this.transactionObject.poll().then((e=>{if(e.data&&"POLL"!==e.status)return void this.options.appState.set("transaction",e);this.$(".okta-waiting-spinner").hide();let t=Math.ceil(e.transaction.profile.refresh/1e3);this._startCountDown(t)})).catch((()=>{this._stopCountDown()}))},_startCountDown:function(e){this.countDown=setInterval((()=>{this._updateTitle(e),0===e?(this._stopCountDown(),this.$(".okta-waiting-spinner").show(),this.checkStatusTimeout=setTimeout((()=>{this._checkStatus()}),200)):e-=1}),1e3)},_updateTitle:function(e){this.title=td("polling.title","login",[e]),this.$el.find(".okta-form-title").text(this.title)},_stopCountDown:function(){this.countDown&&clearInterval(this.countDown),this.checkStatusTimeout&&clearInterval(this.checkStatusTimeout)},initialize:function(e){this.transactionObject=e.appState.get("transaction"),this.factorPollingIntervalSeconds=Math.ceil(this.transactionObject.transaction.profile.refresh/1e3),this._updateTitle(this.factorPollingIntervalSeconds),this._startCountDown(this.factorPollingIntervalSeconds)}},back:function(){},remove:function(){this.form._stopCountDown()}}),Dg=Ed.extend({className:"password-reset-email-sent",Model:function(){return{local:{userFullName:["string",!1,this.options.appState.get("userFullName")]}}},Form:{title:fl.partial(td,"password.forgot.emailSent.title","login"),subtitle:function(){const e=this.options.appState.get("username");return td("password.forgot.emailSent.desc","login",[e])},noButtonBar:!0,attributes:{"data-se":"pwd-reset-email-sent"},formChildren:function(){let e=[_d.View({View:sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="accessibility-text" role="status">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"alert")||(null!=t?s(t,"alert"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"alert",hash:{},data:r,loc:{start:{line:1,column:47},end:{line:1,column:56}}}):o)+"</span>"},useData:!0}),getTemplateData:function(){return{alert:td("password.forgot.emailSent.title","login")}}})})];return this.settings.get("features.hideBackToSignInForReset")||e.push(_d.Button({title:td("goback","login"),className:"button button-primary button-wide",attributes:{"data-se":"back-button"},click:function(){const e=this;return this.model.doTransaction((function(e){return e.cancel()})).then((function(){e.state.set("navigateDir",na.DIRECTION_BACK),e.options.appState.trigger("navigate","")}))}})),e}},initialize:function(e){this.settings.callGlobalSuccess(na.FORGOT_PASSWORD_EMAIL_SENT,{username:e.appState.get("username")})}}),Rg=Ed.extend({className:"recovery-challenge",Model:{props:{passCode:["string",!0]},local:{ableToResend:"boolean"},resendCode:function(){return this.limitResending(),this.doTransaction((function(e){return e.resend()}))},limitResending:function(){this.set({ableToResend:!1}),fl.delay(fl.bind(this.set,this),na.API_RATE_LIMIT,{ableToResend:!0})},save:function(){return this.doTransaction((function(e){return e.verify({passCode:this.get("passCode")})}))}},Form:{autoSave:!0,save:fl.partial(td,"mfa.challenge.verify","login"),title:function(){return this.options.appState.get("factorType")===na.RECOVERY_FACTOR_TYPE_CALL?td("recoveryChallenge.call.title","login"):td("recoveryChallenge.sms.title","login")},className:"recovery-challenge",initialize:function(){this.listenTo(this.model,"error",(function(){this.clearErrors()}))},formChildren:function(){return[_d.Button({title:td("mfa.resendCode","login"),attributes:{"data-se":"resend-button"},className:"button sms-request-button margin-top-30",click:function(){this.model.resendCode()},initialize:function(){this.listenTo(this.model,"change:ableToResend",(function(e,t){t?(this.options.title=td("mfa.resendCode","login"),this.enable(),this.render()):(this.options.title=td("mfa.sent","login"),this.disable(),this.render())}))}}),_d.Input({label:td("mfa.challenge.enterCode.placeholder","login"),"label-top":!0,className:"enroll-sms-phone",name:"passCode",input:Fd,type:"text"})]}},events:{"click .send-email-link":function(e){e.preventDefault();const t=this.model.settings,n=this.options.appState.get("username"),i=this.options.appState.get("recoveryType");this.model.startTransaction((function(e){switch(i){case na.RECOVERY_TYPE_PASSWORD:return e.forgotPassword({username:t.transformUsername(n,na.FORGOT_PASSWORD),factorType:na.RECOVERY_FACTOR_TYPE_EMAIL});case na.RECOVERY_TYPE_UNLOCK:return e.unlockAccount({username:t.transformUsername(n,na.UNLOCK_ACCOUNT),factorType:na.RECOVERY_FACTOR_TYPE_EMAIL});default:return}})).catch((()=>{}))}},initialize:function(){let e;switch(this.options.appState.get("recoveryType")){case na.RECOVERY_TYPE_PASSWORD:e=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"password.forgot.code.notReceived"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:63}}}))},useData:!0});break;case na.RECOVERY_TYPE_UNLOCK:e=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"account.unlock.code.notReceived"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:62}}}))},useData:!0})}e&&this.settings.get("features.emailRecovery")&&this.add(sd.extend({className:"link send-email-link",tagName:"a",attributes:{href:"#","data-se":"send-email-link"},template:e})),this.settings.get("features.hideBackToSignInForReset")||this.addFooter(Sg)},postRender:function(){this.model.limitResending()}}),Mg=Ed.extend({className:"recovery-loading",Model:{},Form:{noButtonBar:!0},initialize:function(e){const t=this;return this.model.startTransaction((function(t){return t.verifyRecoveryToken({recoveryToken:e.token})})).catch((function(){t.options.appState.trigger("loading",!1),t.options.appState.trigger("removeLoading")}))},preRender:function(){this.options.appState.trigger("loading",!0)},trapAuthResponse:function(){return this.options.appState.trigger("loading",!1),!1}}),Ng=Ed.extend({className:"recovery-question",Model:{props:{answer:["string",!0],showAnswer:"boolean"},save:function(){return this.doTransaction((function(e){return e.answer({answer:this.get("answer")})}))}},Form:{autoSave:!0,save:function(){switch(this.options.appState.get("recoveryType")){case"PASSWORD":return td("password.forgot.question.submit","login");case"UNLOCK":return td("account.unlock.question.submit","login");default:return td("mfa.challenge.verify","login")}},title:function(){switch(this.options.appState.get("recoveryType")){case"PASSWORD":return td("password.forgot.question.title","login");case"UNLOCK":return td("account.unlock.question.title","login");default:return""}},formChildren:function(){return[_d.Input({label:this.options.appState.get("recoveryQuestion"),placeholder:td("mfa.challenge.answer.placeholder","login"),name:"answer",input:Fd,type:"password",initialize:function(){this.listenTo(this.model,"change:showAnswer",(function(){const e=this.model.get("showAnswer")?"text":"password";this.getInputs()[0].changeType(e)}))}}),_d.Input({label:!1,"label-top":!0,placeholder:td("mfa.challenge.answer.showAnswer","login"),className:"recovery-question-show margin-btm-0",name:"showAnswer",type:"checkbox"})]}},initialize:function(){this.settings.get("features.hideBackToSignInForReset")||this.addFooter(Sg)}}),jg=Ed.extend({className:"refresh-auth-state",Model:{},Form:{noButtonBar:!0},preRender:function(){const e=this.options.appState,t=this.options.token;this.model.startTransaction((function(n){return e.trigger("loading",!0),t?n.tx.introspect({stateToken:t}):n.tx.exists()?n.tx.resume():void e.trigger("navigate","")}))},remove:function(){return this.options.appState.trigger("loading",!1),Ed.prototype.remove.apply(this,arguments)}}),Fg=Ed.extend({events:{"click .back-btn":function(e){e.preventDefault(),this.back()}},back:function(){this.state.set("navigateDir",na.DIRECTION_BACK),this.options.appState.trigger("navigate","")},className:"registration-complete",Model:function(){},initialize:function(){this.settings.callGlobalSuccess(na.ACTIVATION_EMAIL_SENT,{username:this.options.appState.get("username")})},Form:{noButtonBar:!0,formChildren:function(){return[_d.View({View:sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="container"><span class="title-icon icon icon-16 confirm-16-green"></span><h2 class="title">'+c(typeof(o=null!=(o=u(n,"title")||(null!=t?u(t,"title"):t))?o:a)===l?o.call(s,{name:"title",hash:{},data:r,loc:{start:{line:1,column:103},end:{line:1,column:112}}}):o)+'</h2><div class="desc">'+c(typeof(o=null!=(o=u(n,"desc")||(null!=t?u(t,"desc"):t))?o:a)===l?o.call(s,{name:"desc",hash:{},data:r,loc:{start:{line:1,column:135},end:{line:1,column:143}}}):o)+'</div></div><a href="#" class="back-btn" data-se="back-link">'+c((u(n,"i18n")||t&&u(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"goback"},data:r,loc:{start:{line:1,column:204},end:{line:1,column:241}}}))+"</a>"},useData:!0}),getTemplateData:function(){return{desc:td("registration.complete.confirm.text","login"),title:td("registration.complete.title","login")}}})})]}}}),Bg=dd.extend({constructor:function(e){this.settings=e&&e.settings,Bl.apply(this,arguments)},loginWithActivationToken:function(e){return this.startTransaction((function(t){return t.signInWithCredentials({token:e})}))}});let{BaseSchema:Ug,SchemaProperty:qg}=ld.models;const Vg=qg.Collection.extend({createModelProperties:function(){const e=qg.Collection.prototype.createModelProperties.apply(this);return fl.each(e,(function(e,t){e.required=!!this.get(t).get("required")}),this),e}});var Hg=Ug.Model.extend({expand:["schema"],constructor:function(){this.properties=new Vg,ql.apply(this,arguments)},parse:function(e){const t=e=>{const t=e.schema.required;fl.isArray(t)&&fl.each(t,(function(e){const t=this.properties.get(e);t&&t.set("required",!0)}),this);const n=e.schema.fieldOrder;return fl.isArray(n)&&(fl.each(n,(function(e,t){const n=this.properties.get(e);n&&n.set("sortOrder",t)}),this),this.properties.comparator="sortOrder",this.properties.sort()),this.properties.defaultPolicyId=e.policyId,e},n=this;this.settings.parseRegistrationSchema(e,(function(e){e.profileSchema&&(e.schema=e.profileSchema,Ug.Model.prototype.parse.apply(n,[e]),e=t(e)),n.trigger("parseComplete",{properties:n.properties})}),(function(e){n.trigger("parseComplete",{properties:n.properties,error:e})}))}});const $g=sd.extend({index:"",message:"",class:function(){},className:function(){return"subschema-unsatisfied subschema-"+this.index},template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="default-schema"><span class="icon icon-16"></span>'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"message")||(null!=t?s(t,"message"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"message",hash:{},data:r,loc:{start:{line:1,column:60},end:{line:1,column:71}}}):o)+"</p>"},useData:!0}),getTemplateData:function(){return{message:this.message}}});var zg=sd.extend({className:"subschema",children:function(){return this.subSchemas.map((function(e,t){const n=e.get("description");return $g.extend({index:t,message:n})}))}});const Wg=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link help" data-se="back-link">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"goback"},data:r,loc:{start:{line:1,column:50},end:{line:1,column:87}}}))+"</a>"},useData:!0}),className:"auth-footer",events:{"click .help":function(e){e.preventDefault(),this.back()}},back:function(){this.state.set("navigateDir",na.DIRECTION_BACK),this.options.appState.trigger("navigate","")}});var Gg=pd.extend({className:"registration",initialize:function(){const e=new(Hg.extend({settings:this.options.settings,url:this.options.settings.get("baseUrl")+"/api/v1/registration/form"}));this.state.set("schema",e)},getRegistrationApiUrl:function(){const e=this.settings.get("defaultPolicyId"),t=this.options.settings.get("policyId");return e?this.getRegistrationPolicyApi(e):this.getRegistrationPolicyApi(t)},getRegistrationPolicyApi:function(e){return this.options.settings.get("baseUrl")+"/api/v1/registration/"+e},doPostSubmit:function(){if(this.model.get("activationToken")){const e=this;e.settings.callGlobalSuccess(na.REGISTRATION_COMPLETE,{activationToken:this.model.get("activationToken")}),new Bg({settings:e.model.appState.settings}).loginWithActivationToken(this.model.get("activationToken")).then((function(t){e.model.trigger("setTransaction",t)}))}else this.model.appState.set("username",this.model.get("email")),this.model.appState.trigger("navigate","signin/register-complete")},registerUser:function(e){const t=this;Object.keys(e).forEach((t=>(fl.isNull(e[t])||fl.isUndefined(e[t])||""===e[t])&&delete e[t])),this.model.attributes=e,vl.Model.prototype.save.call(this.model).then((function(){t.model.trigger("startSaving");const e=t.model.get("activationToken")||t.model.get("email");t.settings.postRegistrationSubmit(e,(function(){t.doPostSubmit()}),(function(e){t.showErrors(e)}))})).fail((e=>{const t=e.responseJSON;if(t&&t.errorCauses.length){const{errorCode:e,errorCauses:n}=t,{errorSummary:i,reason:r,location:o}=n[0];"E0000001"===e&&"UNIQUE_CONSTRAINT"===r&&this.renderIsNotUniqueError(t),this.renderLegacyLocationErrorIfNeeded(o,i),ia.triggerAfterError(this,new np(i))}}))},renderIsNotUniqueError:function(e){const{location:t}=e.errorCauses[0],n=td("registration.error.userName.notUniqueWithinOrg","login",[t]);this.$el.find(".okta-form-infobox-error p").text(n)},renderLegacyLocationErrorIfNeeded:function(e,t){e&&/^data\.userProfile.*/.test(e)&&this.$el.find(".okta-form-infobox-error p").text(t)},createRegistrationModel:function(e){const t=this,n=Bl.extend({url:t.getRegistrationApiUrl()+"/register",settings:this.settings,appState:this.options.appState,props:e,local:{activationToken:"string"},toJSON:function(){return{userProfile:Bl.prototype.toJSON.apply(this,arguments),relayState:this.settings.get("relayState")}},parse:function(e){return this.set("activationToken",e.activationToken),delete e.activationToken,e},save:function(){this.settings.preRegistrationSubmit(this.attributes,(function(e){t.registerUser(e)}),(function(e){t.showErrors(e)}))}});return new n},showErrors:function(e,t){"parseRegistrationSchema"===e.callback&&e.errorCauses&&(e.errorSummary=fl.clone(e.errorCauses[0].errorSummary),delete e.errorCauses),this.model.trigger("error",this.model,{responseJSON:e});const n=e.callback?e.callback+":"+e.errorSummary:e.errorSummary;ia.triggerAfterError(this,new np(n)),t&&this.$el.find(".button-primary").hide()},fetchInitialData:function(){const e=this;return e.state.get("schema").on("parseComplete",(function(t){const n=t.properties.createModelProperties();e.settings.set("defaultPolicyId",t.properties.defaultPolicyId),e.model=e.createRegistrationModel(n);const i=new(ed.extend({layout:"o-form-theme",autoSave:!0,noCancelButton:!0,title:td("registration.form.title","login"),save:td("registration.form.submit","login"),modelEvents:{invalid:"modifyErrors"},hasSavingState:!0,customSavingState:{start:"startSaving",stop:"stopSaving"},modifyErrors:function(e,t){for(let n in t)"model.validation.field.string.minLength"===t[n]?t[n]=td("registration.model.validation.field.string.too.short","login",[e.props[n].minLength]):"model.validation.field.string.maxLength"===t[n]&&(t[n]=td("registration.model.validation.field.string.too.long","login",[e.props[n].maxLength+1]))}}))(e.toJSON());if(e.add(i),e.footer=new e.Footer(e.toJSON()),e.add(e.footer),e.addListeners(),t.error)e.showErrors(t.error,!0);else{t.properties.each((function(e){const t=rm(e),n=e.get("subSchemas"),r=e.get("name");i.addInput(t),"password"===r&&n&&i.add(zg.extend({id:"subschemas-"+r,subSchemas:n}))}));const e=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="required-fields-label">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"label")||(null!=t?s(t,"label"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"label",hash:{},data:r,loc:{start:{line:1,column:36},end:{line:1,column:45}}}):o)+"</span>"},useData:!0})({label:td("registration.required.fields.label","login")});i.add(e)}})),ud()(this.state.get("schema").fetch())},Footer:Wg});const Kg=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="okta-form-infobox-error infobox infobox-error" role="alert"><span class="icon error-16"></span><p>'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"account.unlock.noFactorsEnabled"},data:r,loc:{start:{line:1,column:110},end:{line:1,column:172}}}))+"</p></div>"},useData:!0})}),Yg=sd.extend({template:pl.template({1:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link goto js-contact-support">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"mfa.noAccessToEmail"},data:r,loc:{start:{line:1,column:173},end:{line:1,column:223}}}))+"</a>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link help js-back" data-se="back-link">'+e.escapeExpression((a(n,"i18n")||t&&a(t,"i18n")||e.hooks.helperMissing).call(s,{name:"i18n",hash:{bundle:"login",code:"goback"},data:r,loc:{start:{line:1,column:58},end:{line:1,column:95}}}))+"</a>"+(null!=(o=a(n,"if").call(s,null!=t?a(t,"helpSupportNumber"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:99},end:{line:1,column:234}}}))?o:"")},useData:!0}),className:"auth-footer",events:{"click .js-back":function(e){e.preventDefault(),this.back()},"click .js-contact-support":function(e){e.preventDefault(),this.state.trigger("contactSupport"),this.$(".js-contact-support").hide()}},getTemplateData:function(){return this.settings.pick("helpSupportNumber")},back:function(){this.state.set("navigateDir",na.DIRECTION_BACK),this.options.appState.trigger("navigate","")}});var Xg=Ed.extend({className:"account-unlock",Model:{props:{username:["string",!0],factorType:["string",!0]},validate:function(){return Vf.validateUsername(this)},save:function(){const e=this;return this.startTransaction((function(t){return t.unlockAccount({username:e.settings.transformUsername(e.get("username"),na.UNLOCK_ACCOUNT),factorType:e.get("factorType")})})).catch((function(){}))}},Form:{noButtonBar:!0,title:fl.partial(td,"account.unlock.title","login"),formChildren:function(){const e=this.settings.get("features.smsRecovery"),t=this.settings.get("features.callRecovery"),n=this.settings.get("features.emailRecovery"),i=[],r=this;return e||t||n?(i.push(_d.Input({label:td("account.unlock.email.or.username.placeholder","login"),"label-top":!0,explain:ia.createInputExplain("account.unlock.email.or.username.tooltip","account.unlock.email.or.username.placeholder","login"),"explain-top":!0,name:"username",input:Fd,inputId:"account-recovery-username",type:"text",inlineValidation:!1})),(e||t)&&i.push(_d.View({View:sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="mobile-recovery-hint">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{arguments:"mobileFactors",bundle:"login",code:"recovery.mobile.hint"},data:r,loc:{start:{line:1,column:32},end:{line:1,column:109}}}))+"</p>"},useData:!0}),getTemplateData:function(){let n;return n=td(e&&t?"recovery.smsOrCall":t?"recovery.call":"recovery.sms"),{mobileFactors:n}}})})),e&&(this.$el.addClass("forgot-password-sms-enabled"),i.push(this.createRecoveryFactorButton("sms-button","account.unlock.sendText",na.RECOVERY_FACTOR_TYPE_SMS,r)),this.setDefaultFactorType(na.RECOVERY_FACTOR_TYPE_SMS)),t&&(this.$el.addClass("forgot-password-call-enabled"),i.push(this.createRecoveryFactorButton("call-button","account.unlock.voiceCall",na.RECOVERY_FACTOR_TYPE_CALL,r)),this.setDefaultFactorType(na.RECOVERY_FACTOR_TYPE_CALL)),n&&(this.$el.addClass("forgot-password-email-enabled"),i.push(this.createRecoveryFactorButton("email-button","account.unlock.sendEmail",na.RECOVERY_FACTOR_TYPE_EMAIL,r)),this.setDefaultFactorType(na.RECOVERY_FACTOR_TYPE_EMAIL))):this.add(Kg,".o-form-error-container"),i},initialize:function(){this.listenTo(this,"save",(function(){this.options.appState.set("username",this.model.get("username")),this.model.save()})),this.listenTo(this.state,"contactSupport",(function(){this.add(xm,".o-form-error-container")}))},setDefaultFactorType:function(e){fl.isEmpty(this.model.get("factorType"))&&this.model.set("factorType",e)},createRecoveryFactorButton:function(e,t,n,i){return _d.Button({attributes:{"data-se":e},className:"button button-primary button-wide "+e,title:td(t,"login"),click:function(){i.clearErrors(),this.model.isValid()&&(this.model.set("factorType",n),i.trigger("save",this.model))}})}},Footer:Yg}),Jg=Ed.extend({className:"account-unlock-email-sent",Model:function(){return{local:{userFullName:["string",!1,this.options.appState.get("userFullName")]}}},Form:{title:fl.partial(td,"account.unlock.emailSent.title","login"),subtitle:function(){const e=this.options.appState.get("username");return td("account.unlock.emailSent.desc","login",[e])},noButtonBar:!0,attributes:{"data-se":"unlock-email-sent"},formChildren:function(){return[_d.Button({title:td("goback","login"),className:"button button-primary button-wide",attributes:{"data-se":"back-button"},click:function(){this.state.set("navigateDir",na.DIRECTION_BACK),this.options.appState.trigger("navigate","")}})]}},initialize:function(e){this.settings.callGlobalSuccess(na.UNLOCK_ACCOUNT_EMAIL_SENT,{username:e.appState.get("username")})}});const{Util:Qg}=ld.util;var Zg=Ed.extend({className:"verify-custom-factor custom-factor-form",Model:{props:{rememberDevice:"boolean"},initialize:function(){const e=Dd.getRememberDeviceValue(this.appState);this.set("rememberDevice",e),this.settings.get("features.skipIdpFactorVerificationBtn")&&!this.appState.get("lastFailedChallengeFactorData")&&(this.set("provider","CUSTOM"),this.set("factorType","claims_provider"),this.save())},save:function(){const e=!!this.get("rememberDevice");return this.manageTransaction(((t,n)=>{const i={rememberDevice:e};return fl.findWhere(t.factors,{provider:this.get("provider"),factorType:this.get("factorType")}).verify(i).then((e=>{n(e);const t=this.appState.get("verifyCustomFactorRedirectUrl");null!==t&&Qg.redirect(t)})).catch((function(e){throw e}))}))}},Form:function(){const e=this.options.appState.get("factors").findWhere({provider:this.options.provider,factorType:this.options.factorType}).get("vendorName"),t=td("mfa.challenge.verify","login"),n=this.options.appState.get("lastFailedChallengeFactorData");let i=td("verify.customFactor.subtitle","login",[e]);return this.settings.get("features.skipIdpFactorVerificationBtn")&&!n&&(i=td("verify.customFactor.subtitle.redirect","login",[e]),this.listenTo(this.model,"error",(()=>{i=td("verify.customFactor.subtitle","login",[e]),this.$(".o-form-explain").text(i)}))),{autoSave:!0,title:e,save:t,subtitle:i,attributes:{"data-se":"factor-custom"},initialize:function(){this.options.appState.get("allowRememberDevice")&&this.addInput({label:!1,"label-top":!0,placeholder:this.options.appState.get("rememberDeviceLabel"),className:"margin-btm-0",name:"rememberDevice",type:"checkbox"})},formChildren:function(){const e=[],t=this.options.appState.get("lastFailedChallengeFactorData");return this.settings.get("features.skipIdpFactorVerificationBtn")&&!t&&e.push(_d.View({View:'<div data-se="custom-factor-waiting" class="okta-waiting-spinner"></div>'})),t&&e.push(_d.View({View:new lf({message:t.errorMessage})},{selector:".o-form-error-container"})),e}}},postRender:function(){this.settings.get("features.skipIdpFactorVerificationBtn")&&!this.options.appState.get("lastFailedChallengeFactorData")&&(this.$(".o-form-button-bar").hide(),this.$(".okta-waiting-spinner").show())},trapAuthResponse:function(){if(this.options.appState.get("isMfaChallenge"))return!0},back:function(){},initialize:function(){this.model.set("provider",this.options.provider),this.model.set("factorType",this.options.factorType),this.settings.get("features.skipIdpFactorVerificationBtn")&&this.listenTo(this.model,"error",(()=>{this.$(".okta-waiting-spinner").hide(),this.$(".o-form-button-bar").show()})),this.addFooter(Tg)}}),ey=Ed.extend({className:"mfa-verify-duo duo-form",Model:{props:{host:"string",signature:"string",postAction:"string",factorId:"string",stateToken:"string",rememberDevice:"boolean"},initialize:function(){const e=Dd.getRememberDeviceValue(this.appState);this.set("rememberDevice",e)},getInitOptions:function(){const e=!!this.get("rememberDevice");return this.doTransaction((function(t){const n={rememberDevice:e};return fl.findWhere(t.factors,{provider:"DUO",factorType:"web"}).verify(n).catch((function(e){throw e}))}),!0)},verify:function(e){const t=this.get("postAction"),n=this.get("factorId"),i=this;let r={id:n,stateToken:this.get("stateToken"),sig_response:e};const o=this.get("rememberDevice");return ud()(Vl.post(t,r)).then((function(){return i.doTransaction((function(e){let t;return o&&(t={rememberDevice:o}),e.poll(t)}))})).catch((function(e){i.trigger("error",i,e.xhr)}))}},Form:{autoSave:!0,noButtonBar:!0,title:fl.partial(td,"factor.duo"),attributes:{"data-se":"factor-duo"},postRender:function(){this.add('<iframe frameborder="0" title="'+this.title()+'"></iframe>'),this.options.appState.get("allowRememberDevice")&&this.addInput({label:!1,"label-top":!0,placeholder:this.options.appState.get("rememberDeviceLabel"),className:"margin-btm-0",name:"rememberDevice",type:"checkbox"}),Rf.init({host:this.model.get("host"),sig_request:this.model.get("signature"),iframe:this.$("iframe").get(0),post_action:fl.bind(this.model.verify,this.model)})}},fetchInitialData:function(){const e=this;return this.model.getInitOptions().then((function(t){const n=t.data;if(!(n._embedded&&n._embedded.factor&&n._embedded.factor._embedded&&n._embedded.factor._embedded.verification))throw new Error("Response does not have duo verification options");const i=n._embedded.factor._embedded.verification;e.model.set({host:i.host,signature:i.signature,postAction:i._links.complete.href,factorId:n._embedded.factor.id,stateToken:n.stateToken})}))},trapAuthResponse:function(){if(this.options.appState.get("isMfaChallenge"))return!0},back:function(){},Footer:Tg});let{Util:ty}=ld.util;var ny=Ed.extend({className:"piv-cac-card",Model:{save:async function(){this.trigger("request");const e=this,t=this.settings.get("piv"),n={fromURI:this.settings.get("relayState"),isCustomDomain:t.isCustomDomain,customDomain:t.customDomain};try{await this.getCert(t.certAuthUrl);const e=await this.postCert(t.certAuthUrl,n);ty.redirect(e.redirectUrl)}catch(t){fl.isEmpty(t.responseJSON)&&!t.responseText&&(t.responseJSON={errorSummary:td("piv.cac.error","login")}),e.trigger("error",e,t)}},getCert:function(e){return Vl.get({url:e,xhrFields:{withCredentials:!0},beforeSend:function(){}})},postCert:function(e,t){return Vl.post({url:e,xhrFields:{withCredentials:!0},data:JSON.stringify(t),contentType:"text/plain",beforeSend:function(){}})}},Form:{autoSave:!0,hasSavingState:!1,title:fl.partial(td,"piv.cac.title","login"),className:"piv-cac-card",noCancelButton:!0,save:fl.partial(td,"retry","login"),modelEvents:{request:"_startEnrollment",error:"_stopEnrollment"},formChildren:[_d.View({View:sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="piv-verify-text"><p>'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"piv.cac.card.insert"},data:r,loc:{start:{line:1,column:32},end:{line:1,column:82}}}))+'</p><div data-se="piv-waiting" class="okta-waiting-spinner"></div></div>'},useData:!0})})})],_startEnrollment:function(){this.$(".okta-waiting-spinner").show(),this.$(".o-form-button-bar").hide()},_stopEnrollment:function(){this.$(".okta-waiting-spinner").hide(),this.$(".o-form-button-bar").show()},postRender:function(){fl.defer((()=>{this.model.save()}))}},back:function(){},Footer:sm}),iy=Ed.extend({className:"mfa-verify verify-u2f",Model:{props:{rememberDevice:"boolean"},initialize:function(){const e=Dd.getRememberDeviceValue(this.appState);this.set("rememberDevice",e)},save:function(){return this.trigger("request"),this.doTransaction((function(e){let t;t=e.factorTypes?fl.findWhere(e.factorTypes,{factorType:"u2f"}):fl.findWhere(e.factors,{factorType:"u2f",provider:"FIDO"});const n=this;return t.verify().then((function(e){let i,r,o;if(e.factors){const t=e.factors;r=t[0].profile.appId,o=e.challenge.nonce,i=function(e){const t=[];return fl.each(e,(function(e){t.push({version:e.profile.version,keyHandle:e.profile.credentialId})})),t}(t)}else{const t=e.factor;r=t.profile.appId,o=t.challenge.nonce,i=[{version:Xf.getU2fVersion(),keyHandle:t.profile.credentialId}]}n.trigger("request");const s=ud().defer();return u2f.sign(r,o,i,(function(e){if(n.trigger("errors:clear"),!e.errorCode||0===e.errorCode){const i=!!n.get("rememberDevice");return t.verify({clientData:e.clientData,signatureData:e.signatureData,rememberDevice:i}).then(s.resolve)}{const t=1===n.options.appState.get("factors").length;s.reject(new rp({xhr:{responseJSON:{errorSummary:Xf.getU2fVerifyErrorMessageByCode(e.errorCode,t)}}}))}})),s.promise}))})).catch((()=>{}))}},Form:{autoSave:!0,hasSavingState:!1,title:fl.partial(td,"factor.u2f","login"),className:"verify-u2f-form",noCancelButton:!0,save:fl.partial(td,"verify.u2f.retry","login"),noButtonBar:function(){return!Xf.isU2fAvailable()},modelEvents:{request:"_startEnrollment",error:"_stopEnrollment"},formChildren:function(){const e=[];if(Xf.isU2fAvailable())e.push(_d.View({View:sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,a=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="u2f-verify-text"><p>'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"verify.u2f.instructions"},data:r,loc:{start:{line:1,column:32},end:{line:1,column:86}}}))+"</p><p>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"verify.u2f.instructionsBluetooth"},data:r,loc:{start:{line:1,column:93},end:{line:1,column:156}}}))+'</p><div data-se="u2f-waiting" class="okta-waiting-spinner"></div></div>'},useData:!0})})}));else{let t="u2f.error.factorNotSupported";1===this.options.appState.get("factors").length&&(t="u2f.error.factorNotSupported.oneFactor"),e.push(_d.View({View:new lf({message:td(t,"login")})},{selector:".o-form-error-container"}))}return this.options.appState.get("allowRememberDevice")&&e.push(_d.Input({label:!1,"label-top":!0,placeholder:this.options.appState.get("rememberDeviceLabel"),className:"margin-btm-0",name:"rememberDevice",type:"checkbox"})),e},postRender:function(){fl.defer((()=>{Xf.isU2fAvailable()?this.model.save():this.$('[data-se="u2f-waiting"]').addClass("hide")}))},_startEnrollment:function(){this.$(".okta-waiting-spinner").removeClass("hide"),this.$(".o-form-button-bar").hide()},_stopEnrollment:function(){this.$(".okta-waiting-spinner").addClass("hide"),this.$(".o-form-button-bar").show()}},back:function(){},Footer:Tg});function ry(e){const t=[];return fl.each(e,(function(e){t.push({type:"public-key",id:lm.strToBin(e.profile.credentialId)})})),t}var oy=Ed.extend({className:"mfa-verify verify-webauthn",Model:{props:{rememberDevice:"boolean"},initialize:function(){const e=Dd.getRememberDeviceValue(this.appState);this.set("rememberDevice",e),this.appState.on("factorSwitched signOut",(()=>{this.webauthnAbortController&&(this.webauthnAbortController.abort(),this.webauthnAbortController=null)}))},save:function(){return this.trigger("request"),this.doTransaction((function(e){let t;t=e.factorTypes?fl.findWhere(e.factorTypes,{factorType:"webauthn"}):fl.findWhere(e.factors,{factorType:"webauthn",provider:"FIDO"});const n=this;return t.verify().then((function(e){let i,r;if(e.factors){const t=e.factors;r=e.challenge,i=ry(t)}else{const t=e.factor;r=t.challenge,i=ry([t])}n.trigger("request");const o=fl.extend({},r,{allowCredentials:i,challenge:lm.strToBin(r.challenge)});return"undefined"!=typeof AbortController&&(n.webauthnAbortController=new AbortController),new(ud())(navigator.credentials.get({publicKey:o,signal:n.webauthnAbortController&&n.webauthnAbortController.signal})).then((function(e){const i=!!n.get("rememberDevice");return t.verify({clientData:lm.binToStr(e.response.clientDataJSON),authenticatorData:lm.binToStr(e.response.authenticatorData),signatureData:lm.binToStr(e.response.signature),rememberDevice:i})})).catch((function(e){throw n.trigger("errors:clear"),n.webauthnAbortController?new op({xhr:{responseJSON:{errorSummary:e.message}}}):new sp})).finally((function(){n.webauthnAbortController=null}))}))})).catch((()=>{}))}},Form:{autoSave:!0,hasSavingState:!1,title:fl.partial(td,"factor.webauthn.biometric","login"),className:"verify-webauthn-form",noCancelButton:!0,save:fl.partial(td,"mfa.challenge.verify","login"),noButtonBar:function(){return!fm()},modelEvents:{request:"_startEnrollment",error:"_stopEnrollment"},formChildren:function(){const e=[];if(fm())e.push(_d.View({View:sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="webauthn-verify-text"><p>'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"verify.webauthn.biometric.instructions"},data:r,loc:{start:{line:1,column:37},end:{line:1,column:106}}}))+'</p><div data-se="webauthn-waiting" class="okta-waiting-spinner"></div></div>'},useData:!0})})}));else{let t="webauthn.biometric.error.factorNotSupported";1===this.options.appState.get("factors").length&&(t="webauthn.biometric.error.factorNotSupported.oneFactor"),e.push(_d.View({View:new lf({message:td(t,"login")})},{selector:".o-form-error-container"}))}return this.options.appState.get("allowRememberDevice")&&e.push(_d.Input({label:!1,"label-top":!0,placeholder:this.options.appState.get("rememberDeviceLabel"),className:"margin-btm-0",name:"rememberDevice",type:"checkbox"})),e},_startEnrollment:function(){this.$(".okta-waiting-spinner").show(),this.$(".o-form-button-bar").hide()},_stopEnrollment:function(){this.$(".okta-waiting-spinner").hide(),this.$('.o-form-button-bar [type="submit"]')[0].value=td("verify.u2f.retry","login"),this.$(".o-form-button-bar").show()}},postRender:function(){fl.defer((()=>{fm()&&!Us.isSafari()&&this.model.save()}))},back:function(){},Footer:Tg}),sy=Ed.extend({className:"mfa-verify verify-windows-hello",Model:{local:{__autoTriggered__:"boolean"},save:function(){if(!pm())return;this.trigger("request");const e=this;return this.doTransaction((function(t){const n=fl.findWhere(t.factors,{factorType:"webauthn",provider:"FIDO"});return n.verify().then((function(i){const r=i.factor;return hm(r.challenge.nonce,[{id:r.profile.credentialId}]).then((function(e){return n.verify({authenticatorData:e.authenticatorData,clientData:e.clientData,signatureData:e.signature})})).then((function(t){return e.trigger("sync"),e.trigger("signIn"),t})).catch((function(n){switch(n.message){case"AbortError":case"NotFoundError":case"NotSupportedError":return e.trigger("abort",n.message),t}throw n}))}))}))}},Form:{autoSave:!0,hasSavingState:!1,title:fl.partial(td,"factor.windowsHello","login"),subtitle:function(){return pm()?td("verify.windowsHello.subtitle","login"):""},save:fl.partial(td,"verify.windowsHello.save","login"),customSavingState:{stop:"abort"},modelEvents:function(){return pm()?{request:"_startEnrollment",error:"_stopEnrollment",abort:"_stopEnrollment",signIn:"_successEnrollment"}:{}},noButtonBar:function(){return!pm()},formChildren:function(){const e=[];return pm()||e.push(_d.View({View:new lf({message:td("enroll.windowsHello.error.notWindows","login")})},{selector:".o-form-error-container"})),e.push(_d.View({View:new ym({model:this.model,visible:!1})})),e},postRender:function(){1!==this.options.appState.get("factors").length||this.model.get("__autoTriggered__")||(this.model.set("__autoTriggered__",!0),this.model.save())},_startEnrollment:function(){this.subtitle=td("verify.windowsHello.subtitle.loading","login"),this.model.trigger("spinner:show"),this._resetErrorMessage(),this.render(),this.$(".o-form-button-bar").addClass("hide")},_stopEnrollment:function(e){let t;switch(this.subtitle=td("verify.windowsHello.subtitle","login"),this.model.trigger("spinner:hide"),this.$(".o-form-button-bar").removeClass("hide"),e){case"NotFoundError":t=this.options.appState.get("factors").length>1?td("verify.windowsHello.error.notFound.selectAnother","login"):td("verify.windowsHello.error.notFound","login");break;case"NotSupportedError":t=td("enroll.windowsHello.error.notConfiguredHtml","login")}if(this._resetErrorMessage(),t){const e=new lf({message:t});this.$(".o-form-error-container").addClass("o-form-has-errors"),this.add(e,{selector:".o-form-error-container"}),this._errorMessageView=this.last()}this.render()},_successEnrollment:function(){this.subtitle=this.settings.get("brandName")?td("verify.windowsHello.subtitle.signingIn.specific","login",[this.settings.get("brandName")]):td("verify.windowsHello.subtitle.signingIn.generic","login"),this.render(),this.$(".o-form-button-bar").addClass("hide")},_resetErrorMessage:function(){this._errorMessageView&&this._errorMessageView.remove(),this._errorMessageView=void 0,this.clearErrors()}},back:function(){},Footer:Tg}),ay=sd.extend({template:pl.template({1:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="link help" data-se="back-link">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"goback"},data:r,loc:{start:{line:1,column:66},end:{line:1,column:103}}}))+"</a>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"showLink"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:114}}}))?o:""},useData:!0}),className:"auth-footer",events:{"click .help":function(e){e.preventDefault(),this.back()}},back:function(){this.state.set("navigateDir",na.DIRECTION_BACK),this.options.appState.trigger("navigate","")},getTemplateData:function(){const e=this.model.appState.get("flashError");return{showLink:e.is&&e.is("terminal")}}}),ly=Ed.extend({className:"error-state",Model:{},Form:{noButtonBar:!0},Footer:ay});const cy="/img/security/default.png",uy="/img/security/unknown-device.png",hy=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return c(typeof(o=null!=(o=u(n,"baseUrl")||(null!=t?u(t,"baseUrl"):t))?o:a)===l?o.call(s,{name:"baseUrl",hash:{},data:r,loc:{start:{line:1,column:0},end:{line:1,column:11}}}):o)+"/login/getimage?username="+c(typeof(o=null!=(o=u(n,"username")||(null!=t?u(t,"username"):t))?o:a)===l?o.call(s,{name:"username",hash:{},data:r,loc:{start:{line:1,column:36},end:{line:1,column:48}}}):o)},useData:!0});var dy=Bl.extend({initialize:function(){if(this.settings.get("features.securityImage")){const e=this;this.listenTo(this,"change:username",(function(t,n){(function(e,t,n){if(fl.isEmpty(t)||fl.isUndefined(t))return ud()({securityImage:cy,securityImageDescription:""});t=encodeURIComponent(t);const i={url:hy({baseUrl:e,username:t}),dataType:"json"};return n&&(i.headers={"X-Device-Fingerprint":n}),ud()(Vl.ajax(i)).then((function(e){return"/img/security/unknown.png"===e.pwdImg?{securityImage:uy,securityImageDescription:""}:{securityImage:e.pwdImg,securityImageDescription:e.imageDescription||""}}))})(this.get("baseUrl"),n,this.get("deviceFingerprint")).then((function(e){t.set("securityImage",e.securityImage),t.set("securityImageDescription",e.securityImageDescription),t.unset("deviceFingerprint")})).fail((function(t){Us.corsIsNotEnabled(t)?e.settings.callGlobalError(new ep(td("error.enabled.cors"))):e.settings.callGlobalError(new Error(`Failed to fetch security image: ${t.statusText}`))})).done()}))}},local:{baseUrl:"string",lastAuthResponse:["object",!0,{}],transaction:"object",transactionError:"object",username:"string",factors:"object",policy:"object",securityImage:["string",!0,cy],securityImageDescription:["string",!0,""],userCountryCode:"string",userPhoneNumber:"string",factorActivationType:"string",flashError:"object",beaconType:"string",deviceFingerprint:"string",typingPattern:"string",languageCode:["string",!0],disableUsername:["boolean",!1,!1],trapMfaRequiredResponse:["boolean",!1,!1],lastFailedChallengeFactorData:["object",!1]},setAuthResponse:function(e){if(e._embedded&&e._embedded.policy&&this.set("policy",e._embedded.policy),e._embedded&&e._embedded.factors){let t=e._embedded.factors;e._embedded.factorTypes&&(t=function(e,t){const n=[],i=[];return fl.each(t,(function(t){const r=t.factorType;if(!fl.contains(n,r)){const o=fl.findWhere(e,{factorType:r});o?(n.push(r),i.push(o)):i.push(t)}})),i}(e._embedded.factorTypes,t));const n=fl.map(t,(e=>(e.settings=this.settings,e.appState=this,e)));this.set("factors",new sf.Collection(n,{parse:!0}))}this.set("lastAuthResponse",e)},clearLastAuthResponse:function(){this.set("lastAuthResponse",{})},setLastFailedChallengeFactorData:function(){this.set("lastFailedChallengeFactorData",{factor:this.get("factor"),errorMessage:this.get("factorResultErrorMessage")})},clearLastFailedChallengeFactorData:function(){this.unset("lastFailedChallengeFactorData")},getUser:function(){return this.get("user")},derived:{isSuccessResponse:{deps:["lastAuthResponse"],fn:function(e){return"SUCCESS"===e.status}},isMfaRequired:{deps:["lastAuthResponse"],fn:function(e){return"MFA_REQUIRED"===e.status||"FACTOR_REQUIRED"===e.status}},isProfileRequired:{deps:["lastAuthResponse"],fn:function(e){return"PROFILE_REQUIRED"===e.status}},isMfaEnroll:{deps:["lastAuthResponse"],fn:function(e){return"MFA_ENROLL"===e.status||"FACTOR_ENROLL"===e.status}},isMfaChallenge:{deps:["lastAuthResponse"],fn:function(e){return"MFA_CHALLENGE"===e.status||"FACTOR_CHALLENGE"===e.status}},isSMSPasswordRecovery:{deps:["lastAuthResponse"],fn:function({status:e,factorType:t,recoveryType:n}){return"RECOVERY_CHALLENGE"===e&&"sms"===(null==t?void 0:t.toLowerCase())&&"password"===(null==n?void 0:n.toLowerCase())}},isUnauthenticated:{deps:["lastAuthResponse"],fn:function(e){return"UNAUTHENTICATED"===e.status}},isMfaRejected:{deps:["lastAuthResponse"],fn:function(e){return"REJECTED"===e.factorResult}},isMfaTimeout:{deps:["lastAuthResponse"],fn:function(e){return"TIMEOUT"===e.factorResult}},isMfaEnrollActivate:{deps:["lastAuthResponse"],fn:function(e){return"MFA_ENROLL_ACTIVATE"===e.status||"FACTOR_ENROLL_ACTIVATE"===e.status}},isWaitingForActivation:{deps:["isMfaEnrollActivate","lastAuthResponse"],fn:function(e,t){return e&&"WAITING"===t.factorResult}},isWaitingForNumberChallenge:{deps:["lastAuthResponse","isMfaChallenge"],fn:function(e,t){return!!(t&&e&&"WAITING"===e.factorResult&&e._embedded&&e._embedded.factor&&e._embedded.factor._embedded&&e._embedded.factor._embedded.challenge)}},hasMultipleFactorsAvailable:{deps:["factors","isMfaRequired","isMfaChallenge","isUnauthenticated"],fn:function(e,t,n,i){return!!(t||n||i)&&e&&e.length>1}},promptForFactorInUnauthenticated:{deps:["lastAuthResponse","factors"],fn:function(e,t){return"UNAUTHENTICATED"===e.status&&t&&t.length>0}},userId:{deps:["lastAuthResponse"],fn:function(e){return e._embedded&&e._embedded.user?e._embedded.user.id:null}},isIdxStateToken:{deps:["lastAuthResponse"],fn:function(e){return e&&fl.isString(e.stateToken)&&e.stateToken.startsWith("01")}},isPwdExpiringSoon:{deps:["lastAuthResponse"],fn:function(e){return"PASSWORD_WARN"===e.status}},passwordExpireDays:{deps:["lastAuthResponse"],fn:function(e){return e._embedded&&e._embedded.policy&&e._embedded.policy.expiration?e._embedded.policy.expiration.passwordExpireDays:null}},isPwdManagedByOkta:{deps:["lastAuthResponse"],fn:function(e){return!(e._links&&e._links.next&&e._links.next.title)}},passwordExpiredWebsiteName:{deps:["lastAuthResponse"],fn:function(e){return e._links&&e._links.next&&e._links.next.title?e._links.next.title:null}},passwordExpiredLinkUrl:{deps:["lastAuthResponse"],fn:function(e){return e._links&&e._links.next&&e._links.next.title&&e._links.next.href?e._links.next.href:null}},recoveryType:{deps:["lastAuthResponse"],fn:function(e){return e.recoveryType}},factorType:{deps:["lastAuthResponse"],fn:function(e){return e.factorType}},factor:{deps:["lastAuthResponse"],fn:function(e){return e._embedded&&e._embedded.factor?e._embedded.factor:null}},activatedFactorId:{deps:["factor"],fn:function(e){return e?e.id:null}},activatedFactorType:{deps:["factor"],fn:function(e){return e?e.factorType:null}},activatedFactorProvider:{deps:["factor"],fn:function(e){return e?e.provider:null}},qrcode:{deps:["factor"],fn:function(e){try{return e._embedded.activation._links.qrcode.href}catch(e){return null}}},activationSendLinks:{deps:["factor"],fn:function(e){let t;try{t=e._embedded.activation._links.send}catch(e){t=[]}return t}},textActivationLinkUrl:{deps:["activationSendLinks"],fn:function(e){const t=fl.findWhere(e,{name:"sms"});return t?t.href:null}},emailActivationLinkUrl:{deps:["activationSendLinks"],fn:function(e){const t=fl.findWhere(e,{name:"email"});return t?t.href:null}},sharedSecret:{deps:["factor"],fn:function(e){try{return e._embedded.activation.sharedSecret}catch(e){return null}}},duoEnrollActivation:{deps:["factor"],fn:function(e){return e&&e._embedded&&e._embedded.activation?e._embedded.activation:null}},prevLink:{deps:["lastAuthResponse"],fn:function(e){return e._links&&e._links.prev?e._links.prev.href:null}},skipLink:{deps:["lastAuthResponse"],fn:function(e){return e._links&&e._links.skip?e._links.skip.href:null}},gracePeriodRemainingDays:{deps:["policy"],fn:function(e){return e&&e.gracePeriod&&e.gracePeriod.endDate?function(e){const t=new Date(e).getTime();return Math.floor((t-(new Date).getTime())/864e5)}(e.gracePeriod.endDate):null}},user:{deps:["lastAuthResponse"],fn:function(e){return e._embedded&&e._embedded.user?e._embedded.user:null}},recoveryQuestion:{deps:["user"],fn:function(e){return e&&e.recovery_question?e.recovery_question.question:null}},userProfile:{deps:["user"],fn:function(e){return e&&e.profile?e.profile:null}},userConsentName:{deps:["userProfile","username"],fn:function(e,t){return!e||fl.isEmpty(e.firstName)?t:fl.isEmpty(e.lastName)?e.firstName:e.firstName+" "+e.lastName.charAt(0)+"."}},userEmail:{deps:["userProfile"],fn:function(e){return e&&e.login?e.login:null}},userFullName:{deps:["userProfile"],fn:function(e){return e&&(e.firstName||e.lastName)?e.firstName+" "+e.lastName:""}},defaultAppLogo:{deps:["baseUrl"],fn:function(e){return e+"/img/logos/default.png"}},expiresAt:{deps:["lastAuthResponse"],fn:function(e){return e.expiresAt}},target:{deps:["lastAuthResponse"],fn:function(e){return e._embedded?e._embedded.target:null}},targetLabel:{deps:["target"],fn:function(e){return e?e.label:null}},targetLogo:{deps:["target"],fn:function(e){return e&&e._links?e._links.logo:null}},targetTermsOfService:{deps:["target"],fn:function(e){return e&&e._links?e._links["terms-of-service"]:null}},targetPrivacyPolicy:{deps:["target"],fn:function(e){return e&&e._links?e._links["privacy-policy"]:null}},targetClientURI:{deps:["target"],fn:function(e){return e&&e._links?e._links["client-uri"]:null}},scopes:{deps:["lastAuthResponse"],fn:function(e){return e._embedded?e._embedded.scopes:null}},issuer:{deps:["lastAuthResponse"],fn:function(e){var t,n,i;return null==e||null===(t=e._embedded)||void 0===t||null===(n=t.authentication)||void 0===n||null===(i=n.issuer)||void 0===i?void 0:i.uri}},hasExistingPhones:{deps:["lastAuthResponse"],fn:function(e){if(!e._embedded||!e._embedded.factors)return!1;const t=e._embedded.factors,n=fl.findWhere(t,{factorType:"sms",provider:"OKTA"});return!(!n||!n._embedded||!n._embedded.phones.length)}},hasExistingPhonesForCall:{deps:["lastAuthResponse"],fn:function(e){if(!e._embedded||!e._embedded.factors)return!1;const t=e._embedded.factors,n=fl.findWhere(t,{factorType:"call",provider:"OKTA"});return!(!n||!n._embedded||!n._embedded.phones.length)}},isUndefinedUser:{deps:["securityImage"],fn:function(e){return e===cy}},isNewUser:{deps:["securityImage"],fn:function(e){return e===uy}},allowRememberDevice:{deps:["policy"],fn:function(e){return e&&e.allowRememberDevice}},rememberDeviceLabel:{deps:["policy"],fn:function(e){if(e&&e.rememberDeviceLifetimeInMinutes>0){const n=(t=e.rememberDeviceLifetimeInMinutes)>60&&t<=1440?td("hours","login",[t/60]):t>1440?td("days","login",[t/1440]):1===t?td("minutes.oneMinute","login"):td("minutes","login",[t]);return td("rememberDevice.timebased","login",[n])}var t;return e&&0===e.rememberDeviceLifetimeInMinutes?td("rememberDevice.devicebased","login"):td("rememberDevice","login")}},rememberDeviceByDefault:{deps:["policy"],fn:function(e){return e&&e.rememberDeviceByDefault}},factorsPolicyInfo:{deps:["policy"],fn:function(e){return e&&e.factorsPolicyInfo?e.factorsPolicyInfo:null}},verifyCustomFactorRedirectUrl:{deps:["lastAuthResponse"],fn:function(e){return e._links&&e._links.next&&"redirect"===e._links.next.name&&e._links.next.href?e._links.next.href:null}},enrollCustomFactorRedirectUrl:{deps:["lastAuthResponse"],fn:function(e){return e._links&&e._links.next&&"activate"===e._links.next.name&&e._links.next.href?e._links.next.href:null}},isFactorResultFailed:{deps:["lastAuthResponse"],fn:function(e){return"FAILED"===e.factorResult}},factorResultErrorMessage:{deps:["lastAuthResponse","isFactorResultFailed"],fn:function(e,t){return t?e.factorResultMessage||td("oform.error.unexpected","login"):null}},deviceActivationStatus:{deps:["lastAuthResponse"],fn:function(e){return e._embedded?e._embedded.deviceActivationStatus:null}},usingDeviceFlow:{deps:["lastAuthResponse"],fn:function(e){return!(!e._embedded||!e._embedded.usingDeviceFlow)}},userCode:{deps:["lastAuthResponse"],fn:function(e){var t;return null==e||null===(t=e._embedded)||void 0===t?void 0:t.userCode}}},parse:function(e){return this.settings=e.settings,fl.extend(fl.omit(e,"settings"),{languageCode:this.settings.get("languageCode"),userCountryCode:this.settings.get("countryCode")})}}),py=["facebook","google","linkedin","microsoft","apple","github","gitlab","yahoo","line","paypal","paypal_sandbox","salesforce","amazon","yahoojp","discord","adobe","orcid","spotify","xero","quickbooks"];const fy=ld.util.Util,my=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"https://global.oktacdn.com/okta-signin-widget/"+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"version")||(null!=t?s(t,"version"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"version",hash:{},data:r,loc:{start:{line:1,column:46},end:{line:1,column:57}}}):o)},useData:!0}),gy={authClient:["object",!1,void 0],baseUrl:["string",!0],recoveryToken:["string",!1,void 0],stateToken:["string",!1,void 0],username:["string",!1],relayState:["string",!1],signOutLink:["string",!1],backToSignInLink:["string",!1],redirect:{type:"string",values:["never","always","auto"],value:"auto"},flow:["string",!1,"default"],transformUsername:["function",!1],globalSuccessFn:"function",globalErrorFn:"function",processCreds:"function",hooks:"object",logo:"string",logoText:["string",!1],helpSupportNumber:"string",proxyIdxResponse:["object",!1],overrideExistingStateToken:["boolean",!1,!1],"features.router":["boolean",!0,!1],"features.securityImage":["boolean",!0,!1],"features.rememberMe":["boolean",!0,!0],"features.autoPush":["boolean",!0,!1],"features.smsRecovery":["boolean",!0,!1],"features.callRecovery":["boolean",!0,!1],"features.emailRecovery":["boolean",!1,!0],"features.webauthn":["boolean",!0,!1],"features.selfServiceUnlock":["boolean",!0,!1],"features.multiOptionalFactorEnroll":["boolean",!0,!1],"features.deviceFingerprinting":["boolean",!1,!1],"features.hideSignOutLinkInMFA":["boolean",!1,!1],"features.skipIdpFactorVerificationBtn":["boolean",!1,!1],"features.hideBackToSignInForReset":["boolean",!1,!1],"features.customExpiredPassword":["boolean",!0,!1],"features.registration":["boolean",!1,!1],"features.idpDiscovery":["boolean",!1,!1],"features.passwordlessAuth":["boolean",!1,!1],"features.showPasswordToggleOnSignInPage":["boolean",!1,!1],"features.trackTypingPattern":["boolean",!1,!1],"features.redirectByFormSubmit":["boolean",!1,!1],"features.useDeviceFingerprintForSecurityImage":["boolean",!1,!0],"features.showPasswordRequirementsAsHtmlList":["boolean",!1,!1],"features.mfaOnlyFlow":["boolean",!1,!1],"features.scrollOnError":["boolean",!1,!0],"features.showKeepMeSignedIn":["boolean",!1,!0],"features.showIdentifier":["boolean",!1,!0],"features.autoFocus":["boolean",!1,!0],"features.sameDeviceOVEnrollmentEnabled":["boolean",!1,!1],"features.showSessionRevocation":["boolean",!1,!1],"features.disableAutocomplete":["boolean",!1,!1],defaultCountryCode:["string",!1,"US"],language:["any",!1],i18n:["object",!1],"assets.baseUrl":["string",!1],"assets.rewrite":{type:"function",value:fl.identity},"assets.languages":["array",!1],issuer:"string",clientId:"string",redirectUri:"string",state:"string",nonce:"string",scopes:"array",codeChallenge:"string",codeChallengeMethod:["string",!1],oAuthTimeout:["number",!1],authScheme:["string",!1,"OAUTH2"],idps:["array",!1,[]],idpDisplay:{type:"string",values:["PRIMARY","SECONDARY"],value:"SECONDARY"},"helpLinks.help":"string","helpLinks.forgotPassword":"string","helpLinks.unlock":"string","helpLinks.custom":"array","helpLinks.factorPage.href":"string","helpLinks.factorPage.text":"string",customButtons:["array",!1,[]],policyId:"string","registration.click":"function","registration.parseSchema":"function","registration.preSubmit":"function","registration.postSubmit":"function","consent.cancel":"function","idpDiscovery.requestContext":"string","colors.brand":"string",cspNonce:"string",brandName:"string",piv:["object",!1,{}],otp:"string",useClassicEngine:["boolean",!1,!1],"hcaptcha.scriptSource":["string",!1],"hcaptcha.scriptParams":["object",!1,{}],"recaptcha.scriptSource":["string",!1]},yy={backToSignInUri:{deps:["backToSignInLink","signOutLink"],fn:function(e,t){return e||t}},showPasswordToggle:{deps:["features.showPasswordToggleOnSignInPage"],fn:function(){var e,t,n,i;const r=null!==(e=null===(t=this.options)||void 0===t||null===(n=t.features)||void 0===n?void 0:n.showPasswordToggleOnSignInPage)&&void 0!==e?e:null===(i=this.options)||void 0===i?void 0:i["features.showPasswordToggleOnSignInPage"];return null==r||r},cache:!0},redirectUtilFn:{deps:["features.redirectByFormSubmit"],fn:function(e){return e?ia.redirectWithFormGet.bind(ia):fy.redirect.bind(fy)},cache:!0},supportedLanguages:{deps:["i18n","language","assets.languages"],fn:function(e,t,n){const i=n||js.supportedLanguages;return fl.union(i,fl.keys(e),fl.isString(t)?[t]:[])},cache:!0},languageCode:{deps:["language","supportedLanguages"],fn:function(e,t){const n=Us.getUserLanguages();n.forEach(((e,t)=>{"nl"===e?n[t]="nl-NL":"pt"===e&&(n[t]="pt-BR")}));const i=fl.clone(n),r=ia.toLower(t);fl.isString(e)?i.unshift(e):fl.isFunction(e)&&i.unshift(e(t,n)),i.push(js.defaultLanguage);const o=ia.toLower(ia.expandLanguages(i));let s,a;for(s=0;s<o.length;s++)if(a=r.indexOf(o[s]),a>-1)return t[a]}},countryCode:{deps:["defaultCountryCode"],fn:function(e){const t=ff();return Object.keys(t).includes(e)?e:"US"}},mode:{deps:["codeChallenge"],fn:function(e){return e?"remediation":"relying-party"}},oauth2Enabled:{deps:["clientId","authScheme","authClient"],fn:function(e,t,n){return!e&&n&&(e=n.options.clientId),!!e&&"oauth2"===t.toLowerCase()},cache:!0},oauthRedirectUri:{deps:["redirectUri"],fn:function(e){if(e)return e;let t=window.location.origin;if(!t){const e=window.location.href,n=window.location.pathname;""!==n&&(t=e.substring(0,e.lastIndexOf(n)))}return encodeURI(t)}},configuredSocialIdps:{deps:["idps"],fn:function(e){return fl.map(e,(function(e){const t=fl.clone(e);let n=t.type&&t.type.toLowerCase();return n&&fl.contains(py,n)||(n="general-idp",t.text=t.text||"{ Please provide a text value }"),t.className=["social-auth-button","social-auth-"+n+"-button ",t.className?t.className:""].join(" "),t.dataAttr="social-auth-"+n+"-button",t.i18nKey="socialauth."+n+".label",t}))},cache:!0},hasPivCard:{deps:["piv"],fn:function(e){return e&&e.certAuthUrl},cache:!0},socialAuthPositionTop:{deps:["configuredSocialIdps","hasPivCard","idpDisplay"],fn:function(e,t,n){return(!fl.isEmpty(e)||t)&&"PRIMARY"===n.toUpperCase()},cache:!0},hasConfiguredButtons:{deps:["configuredSocialIdps","customButtons","hasPivCard"],fn:function(e,t,n){return!fl.isEmpty(e)||!fl.isEmpty(t)||n},cache:!0}};class vy extends Bl{constructor(e,t){super(e,t),this.authClient=void 0;const n=this.getAuthClient();this.setAcceptLanguageHeader(n)}get(e){return Bl.prototype.get.call(this,e)}preinitialize(...e){this.local=gy,this.derived=yy,Bl.prototype.preinitialize.apply(this,e)}initialize(e){e=e||{};const{colors:t,authClient:n,flow:i}=e;let{baseUrl:r}=e;if(!r){if(n)r=n.getIssuerOrigin();else{var o;const{authParams:t}=e;let{issuer:n}=e;n=n||(null==t?void 0:t.issuer),r=null===(o=n)||void 0===o?void 0:o.split("/oauth2/")[0]}this.set("baseUrl",r)}n&&i&&n.idx.setFlow(i),r?t&&fl.isString(t.brand)&&!t.brand.match(/^#[0-9A-Fa-f]{6}$/)?this.callGlobalError(new Zd(td("error.invalid.colors.brand"))):Us.corsIsNotSupported()&&this.callGlobalError(new ep(td("error.unsupported.cors"))):this.callGlobalError(new Zd(td("error.required.baseUrl")))}setAcceptLanguageHeader(e){e&&e.http.setRequestHeader("Accept-Language",this.get("languageCode"))}setAuthClient(e){this.set("authClient",e),this.setAcceptLanguageHeader(e)}getAuthClient(){return this.get("authClient")}set(...e){try{return Bl.prototype.set.apply(this,e)}catch(e){const t=e.message?e.message:e;this.callGlobalError(new Zd(t))}}callGlobalSuccess(e,t){const n=fl.extend(t,{status:e});fl.defer(fl.partial(this.get("globalSuccessFn"),n))}callGlobalError(e){const t=this.get("globalErrorFn")||this.options.globalErrorFn;if(!t)throw e;t(e)}transformUsername(e,t){const n=this.get("transformUsername");return n&&fl.isFunction(n)?n(e,t):e}processCreds(e){const t=this.get("processCreds");return ud().Promise((function(n){fl.isFunction(t)?2===t.length?t(e,n):(t(e),n()):n()}))}parseRegistrationSchema(e,t,n){const i=this.get("registration.parseSchema");fl.isFunction(i)?i(e,(function(e){t(e)}),(function(e){(e=e||{errorSummary:td("registration.default.callbackhook.error")}).callback="parseSchema",n(e)})):t(e)}preRegistrationSubmit(e,t,n){const i=this.get("registration.preSubmit");fl.isFunction(i)?i(e,(function(e){t(e)}),(function(e){(e=e||{errorSummary:td("registration.default.callbackhook.error")}).callback="preSubmit",n(e)})):t(e)}postRegistrationSubmit(e,t,n){const i=this.get("registration.postSubmit");fl.isFunction(i)?i(e,(function(e){t(e)}),(function(e){(e=e||{errorSummary:td("registration.default.callbackhook.error")}).callback="postSubmit",n(e)})):t(e)}parse(e){if(e.labels||e.country){Gs('Use "i18n" instead of "labels" and "country"');const t=e.labels||{};fl.each(e.country,(function(e,n){t["country."+n]=e})),e.i18n={},fl.each(js.supportedLanguages,(function(n){e.i18n[n]=t})),delete e.labels,delete e.country}e.assets||(e.assets={});const t=e.assets.baseUrl;return t?"/"===t[t.length-1]&&(e.assets.baseUrl=t.substring(0,t.length-1)):e.assets.baseUrl=my({version:js.version}),e}isDsTheme(){return!1}}var by=sd.extend({tagName:"main",className:"auth-container main-container",id:na.WIDGET_CONTAINER_ID,attributes:{"data-se":"auth-container",tabindex:"-1"},initialize:function(e){this.listenTo(e.appState,"change:beaconType",(function(e,t){this.$el.toggleClass("can-remove-beacon","security"===t)}))}});const _y={};function wy(e,t,n){const i=ud().defer();return e.animate({"text-indent":1},{duration:200,easing:"swing",step:function(i,r){r.start=t,r.end=n,e.css("transform","scale("+i+", "+i+")")},always:function(){i.resolve(e)}}),i.promise}function ky(e,t,n){const i=ud().defer();return e.animate({"text-indent":1},{duration:150,easing:"swing",step:function(i,r){r.start=t,r.end=n,e.css("transform","rotate("+i+"deg)")},always:function(){i.resolve(e)}}),i.promise}_y.swapPages=function(e){const t=ud().defer(),n=e.$parent,i=e.$oldRoot,r=e.$newRoot,o=e.success,s=e.ctx;let a="transition-from-right";e.dir&&e.dir===na.DIRECTION_BACK&&(a="transition-from-left"),r.addClass(a),n.append(r),n.addClass("animation-container-overflow");const l={left:"0px",top:"0px",opacity:1};return r.animate(l,200,(function(){n.removeClass("animation-container-overflow"),r.removeClass(a);const e=Object.keys(l).reduce(((e,t)=>({...e,[t]:""})),{});r.css(e),o.call(s),t.resolve()})),i.animate({height:r.height(),opacity:0},160),t.promise},_y.swapBeacons=function(e){const t=e.$el,n=e.swap,i=e.ctx;return this.implode(t).then((function(){return n.call(i),t})).then(this.explode)},_y.explode=function(e){return wy(e,0,1)},_y.implode=function(e){return wy(e,1,0)},_y.radialProgressBar=function(e){const t=e.$el,n=e.swap,i=t.children();return ky(i,0,180).then((function(){t.css({clip:"auto"})})).then((function(){const e=i.eq(0);return n(),ky(e,180,360)})).then((function(){t.css({clip:"rect(0px, 96px, 96px, 48px)"}),i.css({transform:"rotate(0deg)","text-indent":"1px"})}))};var Sy=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){return'<div class="beacon-blank"></div><div class="bg-helper auth-beacon auth-beacon-security" data-se="loading-beacon"><div class="okta-sign-in-beacon-border auth-beacon-border js-auth-beacon-border"></div></div>'},useData:!0}),equals:function(e){return e&&this instanceof e}});const Ey="no-beacon",Ty="beacon-small beacon-loading";function xy(e){return e&&e.equals(Sy)}function Cy(e){e.currentBeacon&&(e.currentBeacon.remove(),e.currentBeacon=null)}function Py(e,t,n,i){e.add(t,{selector:n,options:i}),e.currentBeacon=e.first()}class Ay extends sd{constructor(...e){super(...e),this.currentBeacon=void 0}preinitialize(...e){this.currentBeacon=null,this.template=pl.template({1:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h1><img src="'+c(typeof(o=null!=(o=u(n,"logo")||(null!=t?u(t,"logo"):t))?o:a)===l?o.call(s,{name:"logo",hash:{},data:r,loc:{start:{line:1,column:71},end:{line:1,column:79}}}):o)+'" class="auth-org-logo" alt="'+c(typeof(o=null!=(o=u(n,"logoText")||(null!=t?u(t,"logoText"):t))?o:a)===l?o.call(s,{name:"logoText",hash:{},data:r,loc:{start:{line:1,column:108},end:{line:1,column:120}}}):o)+' logo" aria-label="'+c(typeof(o=null!=(o=u(n,"logoText")||(null!=t?u(t,"logoText"):t))?o:a)===l?o.call(s,{name:"logoText",hash:{},data:r,loc:{start:{line:1,column:139},end:{line:1,column:151}}}):o)+' logo"></h1>'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="okta-sign-in-header auth-header">'+(null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"logo"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:45},end:{line:1,column:170}}}))?o:"")+'<div data-type="beacon-container" class="beacon-container"></div></div><div class="auth-content"><div class="auth-content-inner"></div></div>'},useData:!0}),sd.prototype.preinitialize.apply(this,e)}initialize(e){e.settings.get("features.securityImage")||(this.$el.addClass(Ey),this.listenTo(e.appState,"loading",this.setLoadingBeacon),this.listenTo(e.appState,"removeLoading",this.removeLoadingBeacon))}setBeacon(e,t){const n='[data-type="beacon-container"]',i=this.$(n),r=function(e,t,n){return e||t?!e&&n.loading?"load":e&&xy(e)?t?"swap":"unload":e&&e.equals(t,n)?"same":!e&&t?"add":e&&!t?"remove":e instanceof t?"fade":"swap":"none"}(this.currentBeacon,e,t);switch(r){case"none":return void this.$el.addClass(Ey);case"same":return;case"add":return this.$el.removeClass(Ey),Py(this,e,n,t),_y.explode(i);case"remove":return this.$el.addClass(Ey),_y.implode(i).then((()=>{Cy(this)})).done();case"fade":if(!this.currentBeacon.fadeOut)throw new Error('The current beacon is missing the "fadeOut" method');return t.animate=!0,this.currentBeacon.fadeOut().then((()=>{Cy(this),Py(this,e,n,t)})).done();case"swap":return _y.swapBeacons({$el:i,swap:()=>{const r=xy(this.currentBeacon);Cy(this),r&&(i.removeClass(Ty),this.$el.removeClass(Ey)),Py(this,e,n,t)}}).done();case"load":return i.addClass(Ty),Py(this,e,n,t),_y.explode(i);case"unload":return this.removeLoadingBeacon();default:throw new Error('the "'+r+'" is not recognized')}}setLoadingBeacon(e){e&&!xy(this.currentBeacon)&&this.setBeacon(Sy,{loading:!0})}removeLoadingBeacon(){const e=this.$('[data-type="beacon-container"]');return _y.implode(e).then((()=>{Cy(this),e.removeClass(Ty)})).done()}getTemplateData(){return this.settings.toJSON({verbose:!0})}getContentEl(){return this.$(".auth-content-inner")}}function Oy(e,t){const n=t.get("securityImage"),i=t.get("securityImageDescription"),r=t.get("isUndefinedUser"),o=t.get("isNewUser"),s=!r&&!o;if(e.css("background-image",""),e.removeClass("new-user undefined-user"),o)e.addClass("new-user");else{if(!r)return s?(e.removeAttr("aria-describedby"),e.find(".accessibility-text").text(i),void e.css("background-image","url("+fl.escape(n)+")")):void 0;e.addClass("undefined-user")}}async function Iy(e,t,n){const i=e.find(".auth-beacon-security"),r=e.find(".js-auth-beacon-border"),o=!t.get("isUndefinedUser"),s=t.get("isNewUser"),a=e.find(".radial-progress-bar"),l=t.get("baseUrl").match(/https?:\/\/(.[^/]+)/)[1],c=200;if(!n)return Oy(i,t),void r.toggleClass("auth-beacon-border",o);!function(e){e.qtip("destroy"),Vl(window).off("resize.securityBeaconQtip")}(i),o?(r.removeClass("auth-beacon-border"),await _y.radialProgressBar({$el:a,swap:function(){i.fadeOut(c,(()=>{Oy(i,t),i.fadeIn(c)}))}}),r.addClass("auth-beacon-border"),s&&function(e,t){Vl(window).on("resize.securityBeaconQtip",fl.debounce((function(){e.is(":visible")&&e.qtip("show")}),300)),e.qtip({prerender:!0,content:{text:td("primaryauth.newUser.tooltip","login",[fl.escape(t)]),button:td("primaryauth.newUser.tooltip.close","login")},style:{classes:"okta-security-image-tooltip security-image-qtip qtip-custom qtip-shadow qtip-rounded",tip:{height:12,width:16}},position:{my:"top center",at:"center",target:Vl(".auth-beacon-security"),adjust:{method:"flip",scroll:!1,resize:!0},effect:!1},hide:{event:!1,fixed:!0},show:{event:!1,delay:200},events:{move:function(e,t){t.elements.target.is(":visible")||(t.set("hide.effect",!1),t.hide(),t.set("hide.effect",!0))}}}),setTimeout((()=>{e.qtip("toggle",e.is(":visible"))}),0)}(i,l)):i.fadeOut(c,(function(){Oy(i,t),r.removeClass("auth-beacon-border"),i.fadeIn(c)}))}var Ly=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){return'<div class="beacon-blank"><div class="radial-progress-bar"><div class="circle left"></div><div class="circle right"></div></div></div><div aria-live="polite" role="img" class="bg-helper auth-beacon auth-beacon-security" data-se="security-beacon"><span class="accessibility-text"></span><div class="okta-sign-in-beacon-border auth-beacon-border js-auth-beacon-border"></div></div>'},useData:!0}),className:"js-security-beacon",initialize:function(e){this.update=fl.partial(Iy,this.$el,e.appState),this.listenTo(e.appState,"change:securityImage",this.update),this.listenTo(e.appState,"loading",(function(e){this.$el.toggleClass("beacon-loading",e),this.removeAntiPhishingMessage()})),this.options.appState.set("beaconType","security"),this.listenTo(e.appState,"navigate",this.removeAntiPhishingMessage)},postRender:function(){this.update(!1)},equals:function(e){return e&&this instanceof e},removeAntiPhishingMessage:function(){this.$el.find(".auth-beacon-security").qtip("destroy")}});const Dy={lighten:function(e,t){t=t||0,e=e.substr(1);let n="#";for(var i=0;i<3;i++){let r=parseInt(e.substr(2*i,2),16);r=Math.round(Math.min(Math.max(0,r+r*t),255)).toString(16),n+=("00"+r).substr(r.length)}return n},addStyle:function(e,t){const n=function(e){return`\n#okta-sign-in.auth-container .button-primary,\n#okta-sign-in.auth-container .button-primary:active,\n#okta-sign-in.auth-container .button-primary:focus { background: ${e.brand}; }\n#okta-sign-in.auth-container .button-primary:hover { background: ${Dy.lighten(e.brand,.05)}; }\n#okta-sign-in.auth-container .button.button-primary.link-button-disabled {\n  background: ${e.brand};\n  opacity: 0.5;\n}\n    `}(e),i=document.getElementById(na.WIDGET_CONTAINER_ID),r=document.createElement("style");r.id=na.WIDGET_CONFIG_COLORS_ID,r.type="text/css",t&&(r.nonce=t),r.appendChild(document.createTextNode(n)),i.appendChild(r)},isLoaded:function(){return!!document.getElementById(na.WIDGET_CONFIG_COLORS_ID)}};var Ry=function(e,t){const n=e.get("languageCode")||t.get("languageCode")||js.defaultLanguage,i=t.get("i18n"),r=t.get("assets.baseUrl"),o=t.get("assets.rewrite"),s=t.get("supportedLanguages"),a=setTimeout((function(){e.trigger("loading",!0)}),200);return Js.loadLanguage(n,i,{baseUrl:r,rewrite:o},s).then((function(){clearTimeout(a),e.trigger("loading",!1)}))},My=ad.extend({Events:vl.Events,initialize:function(e){e.globalSuccessFn||(e.globalSuccessFn=function(){}),e.globalErrorFn||(e.globalErrorFn=function(e){Ws(e)}),this.settings=new vy(fl.omit(e,"el"),{parse:!0}),e.el||this.settings.callGlobalError(new Zd(td("error.required.el"))),Vl("body > div").on("click",(function(){})),this.appState=new dy({baseUrl:this.settings.get("baseUrl"),settings:this.settings},{parse:!0});const t=new by({appState:this.appState});Vl(e.el).append(t.render().$el),this.el=`#${na.WIDGET_CONTAINER_ID}`,this.header=new Ay({el:this.el,appState:this.appState,settings:this.settings}),this.hide(),this.listenTo(this.appState,"change:transactionError",(function(e,t){_p.routeAfterAuthStatusChangeError(this,t)})),this.listenTo(this.appState,"change:transaction",(function(e,t){_p.routeAfterAuthStatusChange(this,t.data)})),this.listenTo(this.appState,"navigate",(function(e){this.navigate(e,{trigger:!0})}))},execute:function(e,t){const n=this.settings.get("recoveryToken");if(n)return this.settings.unset("recoveryToken"),void this.navigate(_p.createRecoveryUrl(n),{trigger:!0});const i=this.settings.get("stateToken");if(i)return this.settings.unset("stateToken"),void this.navigate(_p.createRefreshUrl(i),{trigger:!0});const r=this.appState.get("transaction");r&&r.data||function(e,t){return fl.find(e.stateLessRouteHandlers,(function(n){return t===e[n]}))}(this,e)?e.apply(this,t):this.settings.getAuthClient().tx.exists()?this.navigate(_p.createRefreshUrl(),{trigger:!0}):this.navigate("",{trigger:!0})},navigate:function(e,t){return this.settings.get("features.router")?ad.prototype.navigate.apply(this,arguments):t&&t.trigger?vl.history.loadUrl(e):void 0},render:function(e,t){t||(t={});let n=t.Beacon;const i=fl.extend({settings:this.settings,appState:this.appState},fl.omit(t,"Beacon"));if(this.header.rendered()||(this.el=this.header.render().getContentEl()),!Js.isLoaded(this.appState.get("languageCode")))return Ry(this.appState,this.settings).then(fl.bind(this.render,this,e,t));if(this.settings.get("colors.brand")&&!Dy.isLoaded()){const e={brand:this.settings.get("colors.brand")},t=this.settings.get("cspNonce");Dy.addStyle(e,t)}const r=this.controller;return this.controller=new e(i),this.listenTo(this.controller,"all",this.trigger),this.controller.fetchInitialData().then((()=>(function(e,t){return!!e&&(e!==Ly||t.get("features.securityImage"))}(n,this.settings)||(n=null),this.header.setBeacon(n,i),this.show(),this.controller.render(),r?_y.swapPages({$parent:this.el,$oldRoot:r.$el,$newRoot:this.controller.$el,dir:r.state.get("navigateDir"),ctx:this,success:function(){const e=this.appState.get("flashError"),t=this.controller.model;if(r.remove(),r.$el.remove(),this.controller.postRenderAnimation(),e){let n;n=e.is&&e.is("terminal")?e.errorDetails.errorSummary:td(this.settings.get("features.mfaOnlyFlow")?"error.mfa.only.expired.session":"error.expired.session"),t.trigger("error",t,{responseJSON:{errorSummary:n}}),this.appState.unset("flashError"),ia.triggerAfterError(this.controller,e)}}}):(this.el.append(this.controller.el),void this.controller.postRenderAnimation())))).catch((function(){r&&(r.remove(),r.$el.remove())}))},start:function(){let e=!1;window.addEventListener&&this.settings.get("features.router")&&(window.addEventListener("popstate",(e=>{this.controller.back&&(e.preventDefault(),e.stopImmediatePropagation(),this.controller.back())})),e=Us.supportsPushState()),ad.prototype.start.call(this,{pushState:e})},hide:function(){this.header.$el.hide()},show:function(){this.header.$el.show()},remove:function(){this.controller&&this.controller.remove(),this.header.$el.remove(),Js.remove(),vl.history.stop()}});const Ny=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(typeof(s=null!=(s=u(n,"factorName")||(null!=t?u(t,"factorName"):t))?s:l)===c?s.call(a,{name:"factorName",hash:{},data:r,loc:{start:{line:1,column:0},end:{line:1,column:14}}}):s)+" ("+(null!=(o=typeof(s=null!=(s=u(n,"deviceName")||(null!=t?u(t,"deviceName"):t))?s:l)===c?s.call(a,{name:"deviceName",hash:{},data:r,loc:{start:{line:1,column:16},end:{line:1,column:32}}}):s)?o:"")+")"},useData:!0}),jy=function(e){let t;const n=e.get("factorType"),i=this.options.appState.get("factors");i.hasMultipleFactorsOfSameType(n)&&(t=i.getFactorIndex(n,e.get("id")));const r=_p.createVerifyUrl(e.get("provider"),n,t),o=this;this.options.appState.trigger("factorSwitched"),this.model.manageTransaction((function(e,t){if("FACTOR_CHALLENGE"===e.status&&this.options.appState.set("trapMfaRequiredResponse",!0),"MFA_CHALLENGE"===e.status&&e.prev)return this.options.appState.set("trapMfaRequiredResponse",!0),e.prev().then((function(e){o.trigger("options:toggle"),t(e),o.options.appState.trigger("navigate",r)}));o.trigger("options:toggle"),o.options.appState.trigger("navigate",r)}))},Fy={TITLE:{title:fl.partial(td,"mfa.factors.dropdown.title","login"),className:"dropdown-list-title",disabled:!0},OKTA_VERIFY:{icon:"factor-icon mfa-okta-verify-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},OKTA_VERIFY_PUSH:{icon:"factor-icon mfa-okta-verify-30",className:"factor-option",title:function(){return Ny({factorName:this.model.get("factorLabel"),deviceName:this.model.get("deviceName")})},action:function(){jy.call(this,this.model)}},GOOGLE_AUTH:{icon:"factor-icon mfa-google-auth-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},CUSTOM_HOTP:{icon:"factor-icon mfa-hotp-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},SYMANTEC_VIP:{icon:"factor-icon mfa-symantec-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},RSA_SECURID:{icon:"factor-icon mfa-rsa-30",className:"factor-option",title:fl.partial(td,"factor.totpHard.rsaSecurId","login"),action:function(){jy.call(this,this.model)}},ON_PREM:{icon:"factor-icon mfa-onprem-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},DUO:{icon:"factor-icon mfa-duo-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},DUO_PUSH:{icon:"duo-push-16",className:"suboption factor-option",title:fl.partial(td,"mfa.duoSecurity.push","login",["XXX-XXX-7890"])},DUO_SMS:{icon:"duo-sms-16",className:"suboption factor-option",title:fl.partial(td,"mfa.duoSecurity.sms","login",["XXX-XXX-7890"])},DUO_CALL:{icon:"duo-call-16",className:"suboption factor-option",title:fl.partial(td,"mfa.duoSecurity.call","login",["XXX-XXX-7890"])},YUBIKEY:{icon:"factor-icon mfa-yubikey-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},SMS:{icon:"factor-icon mfa-sms-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},CALL:{icon:"factor-icon mfa-call-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},QUESTION:{icon:"factor-icon mfa-question-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},PASSWORD:{icon:"factor-icon mfa-password-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},WINDOWS_HELLO:{icon:"factor-icon mfa-windows-hello-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},U2F:{icon:"factor-icon mfa-u2f-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},WEBAUTHN:{icon:"factor-icon mfa-webauthn-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},EMAIL:{icon:"factor-icon mfa-email-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},GENERIC_SAML:{icon:"factor-icon mfa-custom-factor-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},GENERIC_OIDC:{icon:"factor-icon mfa-custom-factor-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}},CUSTOM_CLAIMS:{icon:"factor-icon mfa-custom-factor-30",className:"factor-option",title:function(){return this.model.get("factorLabel")},action:function(){jy.call(this,this.model)}}};var By=function(e){return Fy[e]};const{BaseDropDown:Uy}=ld.views.components;Vl(document).click((function(e){const t=Vl(e.target);t.closest(".option-selected").length>0&&t.closest(".dropdown").length>0||(Vl(".dropdown .options").hide(),Vl(".dropdown a.option-selected").attr("aria-expanded",!1))}));var qy=Uy.extend({className:"bg-helper icon-button",screenReaderText:function(){const e=this.options.appState.get("factors");let t,n;return t=e?Dd.findFactorInFactorsArray(e,this.options.provider,this.options.factorType):new sf.Model(this.options.appState.get("factor"),this.toJSON()),n=t.get("factorLabel"),td("mfa.factors.dropdown.sr.text","login",[n])},events:{"click a.option-selected":function(e){if(e.preventDefault(),fl.result(this,"disabled"))e.stopPropagation();else{const e=this.$(".options").toggle().is(":visible");this.$("a.option-selected").attr("aria-expanded",e),e&&this.$("#okta-dropdown-options").find("li.factor-option:first a").focus()}},"click .dropdown-disabled":function(e){e.preventDefault(),e.stopPropagation()}},initialize:function(){this.addOption(By("TITLE"));const e=this.options.appState.get("factors"),t=e.hasMultipleFactorsOfSameType("push");e.each((function(e){"token:software:totp"===e.get("factorType")&&t||(this.addOption(By(e.get("factorName")),{model:e}),this.listenTo(this.last(),"options:toggle",(function(){this.$(".options").hide(),this.$("a.option-selected").attr("aria-expanded",!1)})))}),this)}}),Vy=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="beacon-blank auth-beacon"><div class="beacon-blank js-blank-beacon-border auth-beacon-border"></div></div><div class="bg-helper auth-beacon auth-beacon-factor '+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"className")||(null!=t?s(t,"className"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"className",hash:{},data:r,loc:{start:{line:1,column:171},end:{line:1,column:184}}}):o)+'" data-se="factor-beacon"><div class="okta-sign-in-beacon-border auth-beacon-border"></div></div><div data-type="factor-types-dropdown" class="factors-dropdown-wrap"></div>'},useData:!0}),events:{"click .auth-beacon-factor":function(e){e.preventDefault(),e.stopPropagation();const t=this.$(".dropdown .options").toggle().is(":visible");this.$("a.option-selected").attr("aria-expanded",t),t&&this.$("#okta-dropdown-options").find("li.factor-option:first a").focus()}},initialize:function(){this.options.appState.set("beaconType","factor")},getTemplateData:function(){const e=this.options.appState.get("factors");let t,n;return t=e?Dd.findFactorInFactorsArray(e,this.options.provider,this.options.factorType):new sf.Model(this.options.appState.get("factor")),n=t.get("iconClassName"),{className:n||""}},postRender:function(){this.options.animate&&this.$(".auth-beacon-factor").fadeIn(200),this.options.appState.get("hasMultipleFactorsAvailable")&&this.add(qy,'[data-type="factor-types-dropdown"]')},fadeOut:function(){const e=ud().defer();return this.$(".auth-beacon-factor").fadeOut(200,(function(){e.resolve()})),e.promise},equals:function(e,t){return e&&this instanceof e&&t.provider===this.options.provider&&(t.factorType===this.options.factorType||Dd.isOktaVerify(t.provider,t.factorType)&&Dd.isOktaVerify(this.options.provider,this.options.factorType))}}),Hy=sd.extend({className:"piv-beacon",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){return'<div class="beacon-blank auth-beacon"><div class="beacon-blank js-blank-beacon-border auth-beacon-border"></div></div><div class="bg-helper auth-beacon smartcard" data-se="piv-beacon"><div class="okta-sign-in-beacon-border auth-beacon-border"></div></div>'},useData:!0}),equals:function(e){return e&&this instanceof e}}),$y=My.extend({routes:{"":"defaultAuth",signin:"primaryAuth","signin/okta/:username":"primaryAuth","signin/verify/duo/web":"verifyDuo","signin/verify/piv":"verifyPIV","signin/poll":"poll","signin/verify/fido/webauthn":"verifyWebauthn","signin/verify/webauthn":"verifyWebauthn","signin/verify/fido/u2f":"verifyU2F","signin/verify/u2f":"verifyU2F","signin/verify/generic_saml/assertion:saml2":"verifySAMLFactor","signin/verify/generic_oidc/assertion:oidc":"verifyOIDCFactor","signin/verify/custom/claims_provider":"verifyClaimsFactor","signin/verify/:factorType":"verifyNoProvider","signin/verify/:provider/:factorType(/:factorIndex)":"verify","signin/enroll":"enrollChoices","signin/enroll/duo/web":"enrollDuo","signin/enroll/okta/question":"enrollQuestion","signin/enroll/okta/password":"enrollPassword","signin/enroll/okta/sms":"enrollSms","signin/enroll/okta/call":"enrollCall","signin/enroll/okta/email":"enrollEmail","signin/enroll-activate/okta/sms":"enrollSms","signin/enroll-activate/okta/call":"enrollCall","signin/enroll/rsa/token":"enrollRsa","signin/enroll/del_oath/token":"enrollOnPrem","signin/enroll/symantec/token":"enrollSymantecVip","signin/enroll/yubico/token:hardware":"enrollYubikey","signin/enroll/fido/webauthn":"enrollWebauthn","signin/enroll/fido/u2f":"enrollU2F","signin/enroll/generic_saml/assertion:saml2":"enrollSAMLFactor","signin/enroll/generic_oidc/assertion:oidc":"enrollOIDCFactor","signin/enroll/custom/claims_provider":"enrollClaimsFactor","signin/enroll/custom/token:hotp":"enrollHotpFactor","signin/enroll/:provider/:factorType":"enrollTotpFactor","signin/enroll-activate/okta/email":"enrollActivateEmail","signin/enroll-activate/okta/push":"scanBarcodePushFactor","signin/enroll-activate/okta/push/manual":"manualSetupPushFactor","signin/enroll-activate/okta/push/sent":"activationLinkSent","signin/enroll-activate/okta/token:software:totp/passcode":"enterPasscodeInPushEnrollmentFlow","signin/enroll-activate/custom/claims_provider":"enrollActivateClaimsFactor","signin/enroll-activate/:provider/:factorType":"scanBarcodeTotpFactor","signin/enroll-activate/:provider/:factorType/activate":"activateTotpFactor","signin/enroll-activate/:provider/:factorType/manual":"manualSetupTotpFactor","signin/password-expired":"passwordExpired","signin/custom-password-expired":"customPasswordExpired","signin/forgot-password":"forgotPassword","signin/recovery-challenge":"recoveryChallenge","signin/recovery-emailed":"recoveryEmailSent","signin/recovery-question":"recoveryQuestion","signin/password-reset":"passwordReset","signin/reset-password/:token":"recoveryLoading","signin/user-unlock/:token":"recoveryLoading","signin/recovery/:token":"recoveryLoading","signin/unlock-emailed":"unlockEmailSent","signin/unlock":"unlockAccount","signin/account-unlocked":"accountUnlocked","signin/refresh-auth-state(/:token)":"refreshAuthState","signin/register":"register","signin/register-complete":"registerComplete","signin/error":"errorState","signin/consent":"consentRequired","signin/admin-consent":"adminConsentRequired","signin/enroll-user":"enrollUser","signin/device-activate-complete":"deviceActivateComplete","signin/device-activate":"deviceActivate","signin/idp-discovery-check":"idpDiscoveryCheck","*wildcard":"defaultAuth"},stateLessRouteHandlers:["defaultAuth","idpDiscovery","primaryAuth","forgotPassword","recoveryLoading","unlockAccount","refreshAuthState","register","registerComplete","errorState","verifyPIV"],defaultAuth:function(){window.location.hash!==`#${na.WIDGET_CONTAINER_ID}`?this.settings.get("features.idpDiscovery")?this.idpDiscovery():this.primaryAuth():document.getElementById(na.WIDGET_CONTAINER_ID).focus()},idpDiscoveryCheck:function(){this.render(Jm,{Beacon:Ly})},idpDiscovery:function(){this.render(Xm,{Beacon:Ly})},primaryAuth:function(e){this.render(Gm,{Beacon:Ly,username:e})},verifyDuo:function(){this.render(ey,{provider:"DUO",factorType:"web",Beacon:Vy})},verifyPIV:function(){this.render(ny,{Beacon:Hy})},poll:function(){this.render(Lg)},verifyWebauthn:function(){this.settings.get("features.webauthn")?this.render(oy,{provider:"FIDO",factorType:"webauthn",Beacon:Vy}):this.render(sy,{provider:"FIDO",factorType:"webauthn",Beacon:Vy})},verifyU2F:function(){this.render(iy,{provider:"FIDO",factorType:"u2f",Beacon:Vy})},verifySAMLFactor:function(){this.render(Zg,{provider:"GENERIC_SAML",factorType:"assertion:saml2",Beacon:Vy})},verifyOIDCFactor:function(){this.render(Zg,{provider:"GENERIC_OIDC",factorType:"assertion:oidc",Beacon:Vy})},verifyClaimsFactor:function(){this.render(Zg,{provider:"CUSTOM",factorType:"claims_provider",Beacon:Vy})},verify:function(e,t,n){this.render(Cg,{provider:e.toUpperCase(),factorType:t,factorIndex:n,Beacon:Vy})},verifyNoProvider:function(e){this.render(Cg,{factorType:e,Beacon:Vy})},enrollChoices:function(){this.render(Lf,{Beacon:Ly})},enrollDuo:function(){this.render(Mf,{provider:"DUO",factorType:"web",Beacon:Vy})},enrollQuestion:function(){this.render($f,{provider:"OKTA",factorType:"question",Beacon:Vy})},enrollPassword:function(){this.render(Hf,{provider:"OKTA",factorType:"password",Beacon:Vy})},enrollSms:function(){this.render(Tf,{provider:"OKTA",factorType:"sms",Beacon:Vy})},enrollCall:function(){this.render(Tf,{provider:"OKTA",factorType:"call",Beacon:Vy})},enrollEmail:function(){this.render(jf,{provider:"OKTA",factorType:"email",Beacon:Vy})},enrollActivateEmail:function(){this.render(df,{provider:"OKTA",factorType:"email",Beacon:Vy})},enrollRsa:function(){this.render(qf,{provider:"RSA",factorType:"token",Beacon:Vy})},enrollOnPrem:function(){this.render(qf,{provider:"DEL_OATH",factorType:"token",Beacon:Vy})},enrollSymantecVip:function(){this.render(zf,{provider:"SYMANTEC",factorType:"token",Beacon:Vy})},enrollYubikey:function(){this.render(bm,{provider:"YUBICO",factorType:"token:hardware",Beacon:Vy})},enrollSAMLFactor:function(){this.render(nf,{provider:"GENERIC_SAML",factorType:"assertion:saml2",Beacon:Vy})},enrollOIDCFactor:function(){this.render(nf,{provider:"GENERIC_OIDC",factorType:"assertion:oidc",Beacon:Vy})},enrollClaimsFactor:function(){this.render(nf,{provider:"CUSTOM",factorType:"claims_provider",Beacon:Vy})},enrollActivateClaimsFactor:function(){this.render(uf,{provider:"CUSTOM",factorType:"claims_provider",Beacon:Vy})},enrollTotpFactor:function(e,t){this.render(Yf,{provider:e.toUpperCase(),factorType:t,Beacon:Vy})},enrollHotpFactor:function(){this.render(Ff,{provider:"CUSTOM",factorType:"token:hotp",Beacon:Vy})},enrollWebauthn:function(){this.settings.get("features.webauthn")?this.render(gm,{provider:"FIDO",factorType:"webauthn",Beacon:Vy}):this.render(vm,{provider:"FIDO",factorType:"webauthn",Beacon:Vy})},enrollU2F:function(){this.render(Jf,{provider:"FIDO",factorType:"u2f",Beacon:Vy})},scanBarcodeTotpFactor:function(e,t){this.render(Dp,{provider:e.toUpperCase(),factorType:t,Beacon:Vy})},scanBarcodePushFactor:function(){this.render(Lp,{provider:"OKTA",factorType:"push",Beacon:Vy})},activateTotpFactor:function(e,t){this.render(qd,{provider:e.toUpperCase(),factorType:t,Beacon:Vy})},manualSetupTotpFactor:function(e,t){this.render(og,{provider:e.toUpperCase(),factorType:t,Beacon:Vy})},manualSetupPushFactor:function(){this.render(ig,{provider:"OKTA",factorType:"push",Beacon:Vy})},activationLinkSent:function(){this.render(Sm,{provider:"OKTA",factorType:"push",Beacon:Vy})},enterPasscodeInPushEnrollmentFlow:function(){this.render(Tm,{provider:"OKTA",factorType:"token:software:totp",Beacon:Vy})},passwordExpired:function(){this.render(Ag,{Beacon:Ly})},customPasswordExpired:function(){this.render(Gp,{Beacon:Ly})},forgotPassword:function(){this.render(Am)},recoveryChallenge:function(){this.render(Rg,{Beacon:Ly})},recoveryEmailSent:function(){this.render(Dg,{Beacon:Ly})},unlockEmailSent:function(){this.render(Jg,{Beacon:Ly})},recoveryQuestion:function(){this.render(Ng,{Beacon:Ly})},passwordReset:function(){this.render(Ig,{Beacon:Ly})},recoveryLoading:function(e){this.render(Mg,{token:e,Beacon:Ly})},unlockAccount:function(){this.render(Xg)},accountUnlocked:function(){this.render(Td,{Beacon:Ly})},refreshAuthState:function(e){this.render(jg,{token:e,Beacon:Ly})},register:function(){this.render(Gg)},registerComplete:function(){this.render(Fg)},errorState:function(){this.render(ly,{Beacon:Ly})},consentRequired:function(){this.render(Hp)},adminConsentRequired:function(){this.render(Jd)},enrollUser:function(){this.render(am)},deviceActivate:function(){this.render(Yp)},deviceActivateComplete:function(){this.render(ef)}});const zy={IDENTIFY:"identify",SELECT_IDENTIFY:"select-identify",IDENTIFY_RECOVERY:"identify-recovery",SELECT_ENROLL_PROFILE:"select-enroll-profile",ENROLL_PROFILE:"enroll-profile",ENROLL_PROFILE_UPDATE:"profile-update",UNLOCK_ACCOUNT:"unlock-account",REQUEST_ACTIVATION:"request-activation-email",CONSENT_ADMIN:"admin-consent",CONSENT_ENDUSER:"consent",CONSENT_GRANULAR:"granular-consent",CONSENT_EMAIL_CHALLENGE:"email-challenge-consent",SELECT_AUTHENTICATOR_AUTHENTICATE:"select-authenticator-authenticate",SELECT_AUTHENTICATOR_UNLOCK:"select-authenticator-unlock-account",AUTHENTICATOR_VERIFICATION_DATA:"authenticator-verification-data",CHALLENGE_AUTHENTICATOR:"challenge-authenticator",CHALLENGE_POLL:"challenge-poll",RESEND:"resend",SELECT_AUTHENTICATOR_ENROLL:"select-authenticator-enroll",SELECT_AUTHENTICATOR_ENROLL_DATA:"select-authenticator-enroll-data",AUTHENTICATOR_ENROLLMENT_DATA:"authenticator-enrollment-data",ENROLL_AUTHENTICATOR:"enroll-authenticator",SELECT_ENROLLMENT_CHANNEL:"select-enrollment-channel",ENROLLMENT_CHANNEL_DATA:"enrollment-channel-data",ENROLL_POLL:"enroll-poll",REENROLL_AUTHENTICATOR:"reenroll-authenticator",REENROLL_AUTHENTICATOR_WARNING:"reenroll-authenticator-warning",REENROLL_CUSTOM_PASSWORD_EXPIRY:"reenroll-custom-password-expiry",REENROLL_CUSTOM_PASSWORD_EXPIRY_WARNING:"reenroll-custom-password-expiry-warning",RESET_AUTHENTICATOR:"reset-authenticator",SKIP:"skip",POLL:"poll",FAILURE_REDIRECT:"failure-redirect",SUCCESS_REDIRECT:"success-redirect",REDIRECT_IDP:"redirect-idp",PIV_IDP:"piv-idp",DEVICE_CHALLENGE_POLL:"device-challenge-poll",DEVICE_APPLE_SSO_EXTENSION:"device-apple-sso-extension",CANCEL_TRANSACTION:"cancel-transaction",LAUNCH_AUTHENTICATOR:"launch-authenticator",LAUNCH_WEBAUTHN_AUTHENTICATOR:"launch-webauthn-authenticator",ENROLL_WEBAUTHN_RESIDENTKEY:"enroll-webauthn-residentkey",DEVICE_ENROLLMENT_TERMINAL:"device-enrollment-terminal",USER_CODE:"user-code",KEEP_ME_SIGNED_IN:"keep-me-signed-in",TERMINAL:"terminal"},Wy=[zy.IDENTIFY,zy.SUCCESS_REDIRECT,zy.ENROLL_PROFILE,zy.DEVICE_ENROLLMENT_TERMINAL,zy.CONSENT_ADMIN,zy.CONSENT_ENDUSER,zy.CONSENT_GRANULAR,zy.CONSENT_EMAIL_CHALLENGE,zy.USER_CODE,zy.KEEP_ME_SIGNED_IN],Gy=[zy.SELECT_AUTHENTICATOR_ENROLL,zy.SELECT_AUTHENTICATOR_AUTHENTICATE],Ky=[zy.SELECT_AUTHENTICATOR_AUTHENTICATE,zy.CHALLENGE_AUTHENTICATOR,zy.CHALLENGE_POLL,zy.RESEND],Yy={EMAIL:"okta_email",PASSWORD:"okta_password",PHONE:"phone_number",WEBAUTHN:"webauthn",SECURITY_QUESTION:"security_question",OV:"okta_verify",GOOGLE_OTP:"google_otp",ON_PREM:"onprem_mfa",RSA:"rsa_token",DUO:"duo",IDP:"external_idp",CUSTOM_OTP:"custom_otp",SYMANTEC_VIP:"symantec_vip",YUBIKEY:"yubikey_token",CUSTOM_APP:"custom_app",SMARTCARD:"smart_card_idp"},Xy="push",Jy={[zy.SELECT_AUTHENTICATOR_UNLOCK]:na.UNLOCK_ACCOUNT,[zy.IDENTIFY]:na.PRIMARY_AUTH,[zy.IDENTIFY_RECOVERY]:na.FORGOT_PASSWORD},Qy="currentAuthenticator-recover",Zy={ENROLLED_PASSWORD_RECOVERY_LINK:"currentAuthenticatorEnrollment-recover",ORG_PASSWORD_RECOVERY_LINK:Qy},ev=[zy.TERMINAL,zy.DEVICE_ENROLLMENT_TERMINAL];function tv(e=[]){var t,n,i;const r=e.find((e=>e.relatesTo.key===Yy.OV)),o=null==r||null===(t=r.value)||void 0===t||null===(n=t.form)||void 0===n||null===(i=n.value)||void 0===i?void 0:i.find((e=>"methodType"===e.name)),s=null==o?void 0:o.options;let a;if(s){const t=[];s.forEach((e=>{const n=[...r.value.form.value],i=r.value.form.value.findIndex((e=>"methodType"===e.name)),s=Object.assign(fl.omit(o,"options"),e);s.required=!0,s.mutable=!1,n.splice(i,1,s);const l=Object.assign({},r,{label:e.label,value:{form:{value:n}}});"signed_nonce"===e.value?a=l:t.push(l)}));const n=e.findIndex((e=>e.relatesTo.key===Yy.OV));e.splice(n,1,...t),a&&(r.relatesTo.deviceKnown?e.unshift(a):e.push(a))}}function nv(e=[]){return tv(e),e.map((e=>{var t,n,i;const r=((null===(t=e.value)||void 0===t||null===(n=t.form)||void 0===n?void 0:n.value)||[]).filter((e=>!0===e.required&&!1===e.mutable)).reduce(((e,t)=>Object.assign(e,{[t.name]:t.value})),{});return{label:e.label,value:r,relatesTo:e.relatesTo,authenticatorKey:null===(i=e.relatesTo)||void 0===i?void 0:i.key}}))}async function iv(e){for(let t=0;t<e.length;t++)await e[t]()}fl.mixin({nestedOmit:function(e,t){let n=fl.omit(e,t);return t.includes(n.name)&&(n=fl.omit(n,"value")),fl.each(n,(function(e,i){Array.isArray(e)?n[i]=e.map((e=>fl.nestedOmit(e,t))):"object"==typeof e&&(n[i]=fl.nestedOmit(e,t))})),n}});const rv={user:"object",currentFormName:"string",lastIdentifier:"string",idx:"object",remediations:"array",dynamicRefreshInterval:"number",deviceFingerprint:"string",hooks:"object"},ov={authenticatorProfile:{deps:["currentAuthenticator","currentAuthenticatorEnrollment"],fn:function(e={profile:void 0},t={profile:void 0}){return e.profile||t.profile||{}}},authenticatorKey:{deps:["currentAuthenticator","currentAuthenticatorEnrollment"],fn:function(e={key:void 0},t={key:void 0}){return e.key||t.key||""}},authenticatorMethodType:{deps:["currentAuthenticator","currentAuthenticatorEnrollment"],fn:function(e={methods:void 0},t={methods:void 0}){return e.methods&&e.methods[0].type||t.methods&&t.methods[0].type||""}},isPasswordRecovery:{deps:["recoveryAuthenticator"],fn:function(e={type:void 0}){return"password"===(null==e?void 0:e.type)}}};class sv extends Bl{constructor(e,t){super(e,t),this.settings=void 0,this.hooks=void 0,this.settings=t.settings,this.hooks=t.hooks}get(e){return Bl.prototype.get.call(this,e)}preinitialize(...e){this.local=rv,this.derived=ov,Bl.prototype.preinitialize.apply(this,e)}isIdentifierOnlyView(){var e,t,n;return!(null!==(e=this.get("remediations"))&&void 0!==e&&null!==(t=e.find((({name:e})=>"identify"===e)))&&void 0!==t&&null!==(n=t.uiSchema)&&void 0!==n&&n.find((({name:e})=>"credentials.passcode"===e)))}hasRemediationObject(e){return this.get("idx").neededToProceed.find((t=>t.name===e))}hasActionObject(e){var t,n;return!(null===(t=this.get("idx"))||void 0===t||null===(n=t.actions)||void 0===n||!n[e])}getRemediationAuthenticationOptions(e){const t=this.hasRemediationObject(e);if(!t)return[];const n=t.value.find((e=>"authenticator"===e.name));let i=(null==n?void 0:n.options)||[];return i=[...i],tv(i),i}getActionByPath(e){const t=e.split(".");let n;n=1===t.length?this.get("idx").actions:this.get(t.shift());const i=t.shift();return n&&fl.isFunction(n[i])?n[i]:null}getCurrentViewState(){const e=this.get("currentFormName");if(!e)return;const t=this.get("remediations").filter((t=>t.name===e))[0];if(!t){Ws("Panic!!"),Ws(`\tCannot find view state for form ${e}.`);const t=this.get("remediations").map((e=>e.name));Ws(`\tAll available form names: ${t}`)}return t}getSchemaByName(e){const t=this.getCurrentViewState();if(t)return t.uiSchema.find((({name:t})=>t===e))}getAuthenticatorDisplayName(){const e=this.get("currentAuthenticator")||{},t=this.get("currentAuthenticatorEnrollment")||{};return e.displayName||t.displayName}isAuthenticatorChallenge(){const e=this.get("currentFormName");return Ky.includes(e)}shouldReRenderView(e){var t;if(null!=e&&null!==(t=e.idx)&&void 0!==t&&t.hasFormError)return!1;const n=this.has("idx")?this.get("idx").rawIdxState:null,i=fl.isEqual(fl.nestedOmit(e.idx.rawIdxState,["expiresAt","refresh","stateHandle","headers"]),fl.nestedOmit(n,["expiresAt","refresh","stateHandle","headers"]));return i&&this.set("dynamicRefreshInterval",this.getRefreshInterval(e)),this._isReRenderRequired(i,e,n)}getRefreshInterval(e){var t,n,i,r;const o=this.get("currentFormName");return e.remediations.filter((e=>e.name===o))[0].refresh||(null===(t=e.currentAuthenticatorEnrollment)||void 0===t||null===(n=t.poll)||void 0===n?void 0:n.refresh)||(null===(i=e.currentAuthenticator)||void 0===i||null===(r=i.poll)||void 0===r?void 0:r.refresh)}shouldShowSignOutLinkInCurrentForm(e){const t=this.get("idx")&&this.get("idx").actions,n=this.get("currentFormName");return!e&&fl.isFunction(null==t?void 0:t.cancel)&&!Wy.includes(n)}containsMessageWithI18nKey(e){Array.isArray(e)||(e=[e]);const t=this.get("messages");return t&&Array.isArray(t.value)&&t.value.some((t=>{var n;return fl.contains(e,null===(n=t.i18n)||void 0===n?void 0:n.key)}))}containsMessageStartingWithI18nKey(e){const t=this.get("messages");return t&&Array.isArray(t.value)&&t.value.some((t=>{var n;return null===(n=t.i18n)||void 0===n?void 0:n.key.startsWith(e)}))}clearAppStateCache(){const e={};for(const t in this.attributes)"currentFormName"!==t&&"lastIdentifier"!==t&&(e[t]=void 0);this.set(e,Object.assign({},{unset:!0,silent:!0})),this.trigger("cache:clear")}chooseRemediation(e){var t,n;if(fl.isEmpty(e.remediations))return;const i=e.remediations[0];return"enroll-poll"===i.name&&this.get("authenticatorKey")===Yy.OV&&(Us.isAndroid()||Us.isIOS())&&"qrcode"===(null===(t=e.currentAuthenticator)||void 0===t||null===(n=t.contextualData)||void 0===n?void 0:n.selectedChannel)?e.remediations.find((e=>"select-enrollment-channel"===e.name)):i}async setIonResponse(e){const t=this.shouldReRenderView(e);if(this.clearAppStateCache(),this.set(e),t){var n;const t=this.chooseRemediation(e);let i=null;t?i=t.name:(Ws("Panic!!"),Ws("\tNo remediation found."),Ws("\tHere is the entire response"),Ws(JSON.stringify(e,null,2)));const r=null===(n=this.hooks)||void 0===n?void 0:n.getHook(i);await async function(e){e&&e.before&&e.before.length&&await iv(e.before)}(r),this.unset("currentFormName",{silent:!0}),this.set({currentFormName:i}),await async function(e){e&&e.after&&e.after.length&&await iv(e.after)}(r)}}setNonIdxError(e){this.set("remediations",[{name:zy.TERMINAL}]),this.set("messages",{value:[{message:e.errorDetails.errorSummary,class:"ERROR"}]}),this.set("currentFormName",zy.TERMINAL)}getUser(){return this.get("user")}_isReRenderRequired(e,t,n){var i;let r=!0;return(null===(i=this.get("idx"))||void 0===i?void 0:i.hasFormError)&&this._isChallengeAuthenticatorPoll(t,n)&&(r=!1),e&&(r=!1,("poll"===this.get("currentFormName")||Gy.includes(this.get("currentFormName"))||this.containsMessageWithI18nKey("idx.unknown.user"))&&(r=!0)),r}_isChallengeAuthenticatorPoll(e,t){var n;const i=fl.isEqual(fl.nestedOmit(e.idx.rawIdxState,["expiresAt","refresh","stateHandle","headers"]),fl.nestedOmit(t,["expiresAt","refresh","stateHandle","messages","headers"])),r="challenge-authenticator"===this.get("currentFormName"),o=(null===(n=this.get("currentAuthenticatorEnrollment"))||void 0===n?void 0:n.key)===Yy.EMAIL;return i&&r&&o}}const av="osw-oie-state-handle",lv="osw-oie-last-initiated-login-url",cv="osw-oie-resend-timestamp";var uv=()=>{sessionStorage.removeItem(av),sessionStorage.removeItem(lv)},hv=()=>{sessionStorage.removeItem(cv)},dv=()=>sessionStorage.getItem(cv);const pv="default",fv="proceed",mv="login",gv="signup",yv="resetPassword",vv="unlockAccount";async function bv(e){const t=e.getAuthClient(),{authParams:n}=e.toJSON({verbose:!0}),i=e.get("nonce")||(null==n?void 0:n.nonce),r={exchangeCodeForTokens:!1,...i&&{nonce:i}};if(e.get("proxyIdxResponse"))return(async e=>Promise.resolve({rawIdxState:e.get("proxyIdxResponse"),context:e.get("proxyIdxResponse"),neededToProceed:[]}))(e);if(e.get("overrideExistingStateToken")&&uv(),e.get("otp"))return async function(e){const t=e.getAuthClient(),n=await t.idx.getSavedTransactionMeta();if(!n||!n.interactionHandle){const e={type:"array",value:[{message:"Enter the OTP in your original browser or device.",i18n:{key:"idx.enter.otp.in.original.tab"},class:"INFO"}]};return{neededToProceed:[],rawIdxState:{messages:e},context:{messages:e}}}const i=e.get("otp");return await t.idx.proceed({exchangeCodeForTokens:!1,otp:i})}(e);if(e.get("oauth2Enabled")){if(!await t.idx.getSavedTransactionMeta()){const e=t.idx.getFlow();if(e&&e===fv)throw new ap("Unable to proceed: saved transaction could not be loaded",e);return t.idx.start(r)}return t.idx.proceed(r)}const o=sessionStorage.getItem(av);if(o)try{var s,a;const n=await t.idx.start({...r,stateHandle:o});if((null===(s=n.context)||void 0===s||null===(a=s.messages)||void 0===a?void 0:a.value.length)>0)throw new Error("saved stateToken is invalid");return e.set("stateToken",o),n}catch{return uv(),bv(e)}const l=e.get("stateToken");if(l)return t.idx.start({...r,stateHandle:l});throw new Zd('Invalid OIDC configuration. Set "clientId" and "redirectUri" in the widget options.')}const _v=e=>!!e.messages,wv=(e,t={},n=null)=>{if(i=t.rawIdxState,!fl.isObject(i))return null;var i;const r=(e=>{const t={};return fl.each(e,((e={},n)=>{"remediation"!==n&&("array"===e.type&&(t[n]={value:e.value}),"object"===e.type&&(t[n]=e.value))})),t})(t.rawIdxState),o=(e=>{const t=[],n=1===e.neededToProceed.length&&"skip"===e.neededToProceed[0].name;return(fl.isEmpty(e.neededToProceed)||n)&&(e.context.success?t.push({name:e.context.success.name,href:e.context.success.href,value:[]}):e.context.messages?t.push({name:zy.TERMINAL,value:[]}):e.context.deviceEnrollment&&t.push({name:zy.DEVICE_ENROLLMENT_TERMINAL,value:[]})),{remediations:[...t,...e.neededToProceed]}})(t),s=Object.assign({},r,o,{idx:t});return _v(s)&&(e=>{const t=e.idx.context;return t.failure&&"failure-redirect"===t.failure.name})(s)&&((e,t)=>{const n=t.idx.context,i=e.get("oauth2Enabled"),r="always"===e.get("redirect");if(i&&!r)return;const o={name:zy.FAILURE_REDIRECT,href:n.failure.href,value:[]};t.remediations=[o]})(e,s),((e,t)=>{const n=t.remediations;if(0===n.filter((e=>"identify"===e.name)).length)return t;const i=e.get("idps");if(Array.isArray(i)){const r={};n.forEach((e=>{e.name===zy.REDIRECT_IDP&&e.idp&&(r[e.idp.id]=!0)}));const o=e.get("baseUrl"),s=t.idx.context.stateHandle,a=i.filter((e=>!r[e.id])).map((e=>{const t={id:e.id,name:e.text},n=`${o}/sso/idps/${e.id}?stateToken=${s}`;return e.className&&(t.className=e.className),{name:zy.REDIRECT_IDP,type:e.type,idp:t,href:n}}));t.remediations=n.concat(a)}})(e,s),(e=>{Array.isArray(e.remediations)&&e.remediations.forEach((t=>{var n,i;if(t.name===zy.REDIRECT_IDP&&(null==t||null===(n=t.relatesTo)||void 0===n||null===(i=n.value)||void 0===i?void 0:i.key)===Yy.IDP){const n=Object.prototype.hasOwnProperty.call(e,"currentAuthenticatorEnrollment");t.name=n?"challenge-authenticator":"enroll-authenticator"}t.name===zy.REDIRECT_IDP&&"X509"===t.type&&(t.name=zy.PIV_IDP)}))})(s),_v(s)||((e,t,n)=>{if(Array.isArray(t.remediations)){const i=t.remediations.filter((e=>e.name===zy.REDIRECT_IDP));if(1!==i.length||1!==t.remediations.length)return;if(e.get("oauth2Enabled")&&!n)return;const r={name:zy.SUCCESS_REDIRECT,href:i[0].href,value:[]};t.remediations=[r]}})(e,s,n),s};var kv={GMT:"UTC",WET:"WET",CET:"CET",MET:"CET",ECT:"CET",EET:"EET",MIT:"Pacific/Apia",HST:"Pacific/Honolulu",AST:"America/Anchorage",PST:"America/Los_Angeles",MST:"America/Denver",PNT:"America/Phoenix",CST:"America/Chicago",EST:"America/New_York",IET:"America/Indiana/Indianapolis",PRT:"America/Puerto_Rico",CNT:"America/St_Johns",AGT:"America/Argentina/Buenos_Aires",BET:"America/Sao_Paulo",ART:"Africa/Cairo",CAT:"Africa/Harare",EAT:"Africa/Addis_Ababa",NET:"Asia/Yerevan",PLT:"Asia/Karachi",IST:"Asia/Kolkata",BST:"Asia/Dhaka",VST:"Asia/Ho_Chi_Minh",CTT:"Asia/Shanghai",JST:"Asia/Tokyo",ACT:"Australia/Darwin",AET:"Australia/Sydney",SST:"Pacific/Guadalcanal",NST:"Pacific/Auckland"};const Sv=e=>{const t={};return e.forEach((({value:e,label:n})=>{t[e]=n})),t},Ev={type:"select",wide:!0},Tv=["text","radio","select"],xv={string:(e,t,n,i,r)=>{const o={type:"text"};if(!0===e.secret&&Object.assign(o,(e=>({type:"password",params:{showPasswordToggle:e.get("showPasswordToggle")}}))(r)),"captcha"===e.hint&&Object.assign(o,{type:"captcha"}),"userProfile.timezone"===e.name&&(Object.assign(o,Ev),o.options=Object.assign({"":""},kv)),Array.isArray(e.options)&&e.options[0]&&e.options[0].value){const t=e.options[0];"display"===t.label?((e,t)=>{var n;const i=null==t||null===(n=t.value)||void 0===n?void 0:n.value;e.type=i.inputType,"radio"===i.inputType?e.options=i.options:"select"===i.inputType&&(e.wide=!0,"country-code"===i.format?e.options=Object.assign({"":""},mf()):e.options=Object.assign({"":""},Sv(i.options)))})(o,t):(s=e.name).indexOf("methodType")>=0||s.indexOf("channel")>=0?((e,t)=>{e.type="radio",t.value=t.options[0].value})(o,e):(o.type="select",o.wide=!0,o.options=Sv(e.options))}var s;return!1===e.required&&Tv.includes(o.type)&&(o.sublabel=td("oie.form.field.optional","login")),o},boolean:(e,t)=>{var n,i,r,o,s,a;if([zy.CONSENT_ENDUSER,zy.CONSENT_ADMIN].includes(t.name)){const n=t.scopes.map((({name:e,label:t,desc:n})=>({name:e,displayName:t,description:n})));return{type:t.name,scopes:n,options:e.options}}return Array.isArray(e.options)&&"radio"===(null===(n=e.options[0])||void 0===n||null===(i=n.value)||void 0===i||null===(r=i.value)||void 0===r?void 0:r.inputType)?(({label:e,required:t,options:n})=>({displayName:e,type:"radio",required:t,options:n[0].value.value.options,sublabel:t?null:td("oie.form.field.optional","login")}))(e):Array.isArray(e.options)&&"checkbox"===(null===(o=e.options[0])||void 0===o||null===(s=o.value)||void 0===s||null===(a=s.value)||void 0===a?void 0:a.inputType)?(({label:e,type:t})=>({placeholder:e,label:!1,modelType:t,type:"checkbox",required:!0,value:!1}))(e):(({label:e,type:t,required:n})=>({placeholder:e,label:!1,modelType:t,type:"checkbox",required:n||!1}))(e)},object:function(e,t,n,i,r){const o={};return"authenticator"!==e.name||"select-authenticator-authenticate"!==t.name&&"select-authenticator-unlock-account"!==t.name?"authenticator"===e.name&&"select-authenticator-enroll"===t.name?Object.assign(o,function({options:e}){return{type:"authenticatorEnrollSelect",options:nv(e)}}(e)):Array.isArray(e.options)&&(o.optionsUiSchemas=e.options.map((t=>i(n,{value:[{name:e.name,value:t.value}]},r))),o.options=e.options.map(((e,t)=>({label:e.label,value:t}))),o.type="radio",o.value="0",o.name=`sub_schema_local_${e.name}`):Object.assign(o,function({options:e}){return{type:"authenticatorVerifySelect",options:nv(e)}}(e)),o}},Cv=(e,t,n)=>fl.chain(t.value||[]).filter((e=>!1!==e.visible)).map((e=>{var t;let n;if(e.form?n=e.form:null!==(t=e.value)&&void 0!==t&&t.form&&(n=e.value.form),n){const t=e.name;return n.value.map((e=>Object.assign({},e,{name:t+"."+e.name})))}return e})).flatten().value().map((i=>{const r={"label-top":!0,multirowError:!0,"data-se":`o-form-fieldset-${i.name}`},o=i.type||"string",s=(0,xv[o])(i,t,e,Cv,n);return Object.assign({},i,r,s)})),Pv=(e,t)=>(t&&(t.remediations=t.remediations.map((n=>(n.uiSchema=Cv(t,n,e),n)))),t),{getPasswordComplexityDescriptionForHtmlList:Av}=Dd,Ov=function(e){if(e.authenticatorKey){var t,n;const i=null!==(t=e.value)&&void 0!==t&&t.methodType?"-"+(null===(n=e.value)||void 0===n?void 0:n.methodType):"";return e.authenticatorKey+i}return""},Iv=function(e,t){var n,i,r,o,s,a,l,c,u,h;const d=e.authenticatorKey,p=Ns.isString(d)?d.toLowerCase():"";let f={},m=t?null===(n=e.relatesTo)||void 0===n?void 0:n.nickname:void 0;switch(p){case Yy.EMAIL:Object.assign(f,{description:t?(null===(i=e.relatesTo)||void 0===i||null===(r=i.profile)||void 0===r?void 0:r.email)||"":Qs("oie.email.authenticator.description","login"),iconClassName:"mfa-okta-email",noTranslateClassName:t?"no-translate":"",buttonDataSeAttr:Ov(e),ariaLabel:t?Lv(null===(o=e.relatesTo)||void 0===o||null===(s=o.profile)||void 0===s?void 0:s.email):Qs("oie.select.authenticator.enroll.email.label","login")});break;case Yy.PASSWORD:Object.assign(f,{description:t?"":Qs("oie.password.authenticator.description","login"),iconClassName:"mfa-okta-password",buttonDataSeAttr:Ov(e),ariaLabel:Qs(t?"oie.select.authenticator.verify.password.label":"oie.select.authenticator.enroll.password.label","login")});break;case Yy.PHONE:Object.assign(f,{nickname:m,description:t?null===(a=e.relatesTo)||void 0===a||null===(l=a.profile)||void 0===l?void 0:l.phoneNumber:Qs("oie.phone.authenticator.description","login"),iconClassName:"mfa-okta-phone",noTranslateClassName:t?"no-translate":"",buttonDataSeAttr:Ov(e),ariaLabel:t?(S=null===(c=e.relatesTo)||void 0===c||null===(u=c.profile)||void 0===u?void 0:u.phoneNumber,S?Qs("oie.select.authenticator.verify.phone.with.phone.label","login",[S]):Qs("oie.select.authenticator.verify.phone.label","login")):Qs("oie.select.authenticator.enroll.phone.label","login")});break;case Yy.SECURITY_QUESTION:Object.assign(f,{description:t?"":Qs("oie.security.question.authenticator.description","login"),iconClassName:"mfa-okta-security-question",buttonDataSeAttr:Ov(e),ariaLabel:Qs(t?"oie.select.authenticator.verify.security.question.label":"oie.select.authenticator.enroll.security.question.label","login")});break;case Yy.WEBAUTHN:Object.assign(f,{description:t?"":Qs("oie.webauthn.description","login"),iconClassName:"mfa-webauthn",buttonDataSeAttr:Ov(e),ariaLabel:Qs(t?"oie.select.authenticator.verify.webauthn.label":"oie.select.authenticator.enroll.webauthn.label","login")});break;case Yy.OV:Object.assign(f,{description:Qs(t?"oie.okta_verify.label":"oie.okta_verify.authenticator.description","login"),iconClassName:"mfa-okta-verify",buttonDataSeAttr:Ov(e),ariaLabel:Dv(t,null==e||null===(h=e.value)||void 0===h?void 0:h.methodType)});break;case Yy.GOOGLE_OTP:Object.assign(f,{description:t?"":Qs("oie.google_authenticator.authenticator.description","login"),iconClassName:"mfa-google-auth",buttonDataSeAttr:Ov(e),ariaLabel:Qs(t?"oie.select.authenticator.verify.named.authenticator.label":"oie.select.authenticator.enroll.named.authenticator.label","login",[e.label])});break;case Yy.ON_PREM:{var g;const n=(null===(g=e.relatesTo)||void 0===g?void 0:g.displayName)||Qs("oie.on_prem.authenticator.default.vendorName","login");Object.assign(f,{description:t?"":Qs("oie.on_prem.authenticator.description","login",[n]),iconClassName:"mfa-onprem",buttonDataSeAttr:Ov(e),ariaLabel:Qs(t?"oie.select.authenticator.verify.named.authenticator.label":"oie.select.authenticator.enroll.named.authenticator.label","login",[e.label])});break}case Yy.RSA:Object.assign(f,{description:t?"":Qs("oie.rsa.authenticator.description","login"),iconClassName:"mfa-rsa",buttonDataSeAttr:Ov(e),ariaLabel:Qs(t?"oie.select.authenticator.verify.named.authenticator.label":"oie.select.authenticator.enroll.named.authenticator.label","login",[e.label])});break;case Yy.DUO:Object.assign(f,{description:t?"":Qs("oie.duo.authenticator.description","login"),iconClassName:"mfa-duo",buttonDataSeAttr:Ov(e),ariaLabel:Qs(t?"oie.select.authenticator.verify.named.authenticator.label":"oie.select.authenticator.enroll.named.authenticator.label","login",[e.label])});break;case Yy.IDP:{var y,v;const n=null===(y=e.relatesTo)||void 0===y?void 0:y.displayName;Object.assign(f,{description:t?"":Qs("oie.idp.authenticator.description","login",[n]),iconClassName:"mfa-custom-factor",buttonDataSeAttr:Ov(e),logoUri:(null==e||null===(v=e.relatesTo)||void 0===v?void 0:v.logoUri)||"",ariaLabel:Qs(t?"oie.select.authenticator.verify.named.authenticator.label":"oie.select.authenticator.enroll.named.authenticator.label","login",[e.label])});break}case Yy.CUSTOM_OTP:Object.assign(f,{description:t?"":Qs("oie.custom_otp.description","login"),iconClassName:"mfa-hotp",buttonDataSeAttr:Ov(e),ariaLabel:Qs(t?"oie.select.authenticator.verify.named.authenticator.label":"oie.select.authenticator.enroll.named.authenticator.label","login",[e.label])});break;case Yy.SYMANTEC_VIP:{var b;const n=null===(b=e.relatesTo)||void 0===b?void 0:b.displayName;Object.assign(f,{description:t?"":Qs("oie.symantecVip.authenticator.description","login",[n]),iconClassName:"mfa-symantec",buttonDataSeAttr:Ov(e),ariaLabel:Qs(t?"oie.select.authenticator.verify.named.authenticator.label":"oie.select.authenticator.enroll.named.authenticator.label","login",[e.label])});break}case Yy.YUBIKEY:Object.assign(f,{description:t?"":Qs("oie.yubikey.authenticator.description","login"),iconClassName:"mfa-yubikey",buttonDataSeAttr:Ov(e),ariaLabel:Qs(t?"oie.select.authenticator.verify.named.authenticator.label":"oie.select.authenticator.enroll.named.authenticator.label","login",[e.label])});break;case Yy.CUSTOM_APP:var _,w,k;Object.assign(f,{description:t?null==e||null===(_=e.relatesTo)||void 0===_?void 0:_.displayName:Qs("oie.custom.app.authenticator.description","login",[e.label]),noTranslateClassName:t?"no-translate":"",buttonDataSeAttr:Ov(e),iconClassName:"mfa-custom-app-logo",logoUri:(null==e||null===(w=e.relatesTo)||void 0===w?void 0:w.logoUri)||"",ariaLabel:t?Qs("oie.select.authenticator.verify.named.authenticator.label","login",[null==e||null===(k=e.relatesTo)||void 0===k?void 0:k.displayName]):Qs("oie.select.authenticator.enroll.named.authenticator.label","login",[e.label])});break;case Yy.SMARTCARD:Object.assign(f,{description:t?"":Qs("oie.smartcard.authenticator.description","login"),iconClassName:"mfa-smartcard",buttonDataSeAttr:Ov(e),ariaLabel:Qs(t?"oie.select.authenticator.verify.named.authenticator.label":"oie.select.authenticator.enroll.named.authenticator.label","login",[e.label])})}var S;return f};function Lv(e){return e?Qs("oie.select.authenticator.verify.email.with.email.label","login",[e]):Qs("oie.select.authenticator.verify.email.label","login")}function Dv(e,t){if(!e)return Qs("oie.select.authenticator.enroll.okta_verify.authenticator.label","login");const n=Qs("oie.select.authenticator.verify.okta_verify.label","login");return void 0===t?n:{push:Qs("oie.select.authenticator.okta_verify.push.label","login"),totp:Qs("oie.select.authenticator.okta_verify.totp.label","login"),signed_nonce:Qs("oie.select.authenticator.okta_verify.signed_nonce.label","login")}[t]||n}function Rv(e){return Iv(e,!0)}function Mv(e){var t,n;return null===(t=e.relatesTo)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.displayName}const Nv="authfactor.webauthn.error",jv=["enroll-authenticator.security_question.credentials.questionKey.","challenge-authenticator.security_question.credentials.questionKey."],Fv={"identify.identifier":"primaryauth.username.placeholder","select-authenticator-unlock-account.identifier":"primaryauth.username.placeholder","unlock-account.identifier":"primaryauth.username.placeholder","identify.credentials.passcode":"primaryauth.password.placeholder","identify.rememberMe":"oie.remember","enroll-profile.userProfile.rememberMe":"oie.remember","identify-recovery.identifier":"password.forgot.email.or.username.placeholder","select-authenticator-enroll.authenticator.duo":"factor.duo","select-authenticator-enroll.authenticator.google_otp":"oie.google_authenticator.label","select-authenticator-enroll.authenticator.okta_email":"oie.email.label","select-authenticator-enroll.authenticator.okta_password":"oie.password.label","select-authenticator-enroll.authenticator.okta_verify":"oie.okta_verify.label","select-authenticator-enroll.authenticator.phone_number":"oie.phone.label","select-authenticator-enroll.authenticator.rsa_token":"factor.totpHard.rsaSecurId","select-authenticator-enroll.authenticator.security_question":"oie.security.question.label","select-authenticator-enroll.authenticator.symantec_vip":"factor.totpHard.symantecVip","select-authenticator-enroll.authenticator.webauthn":"oie.webauthn.label","select-authenticator-enroll.authenticator.yubikey_token":"oie.yubikey.label","select-authenticator-authenticate.authenticator.duo":"factor.duo","select-authenticator-authenticate.authenticator.google_otp":"oie.google_authenticator.label","select-authenticator-authenticate.authenticator.okta_email":"oie.email.label","select-authenticator-authenticate.authenticator.okta_password":"oie.password.label","select-authenticator-authenticate.authenticator.okta_verify.push":"oie.okta_verify.push.title","select-authenticator-authenticate.authenticator.okta_verify.signed_nonce":"oie.okta_verify.signed_nonce.label","select-authenticator-authenticate.authenticator.okta_verify.totp":"oie.okta_verify.totp.title","select-authenticator-authenticate.authenticator.phone_number":"oie.phone.label","select-authenticator-authenticate.authenticator.rsa_token":"factor.totpHard.rsaSecurId","select-authenticator-authenticate.authenticator.security_question":"oie.security.question.label","select-authenticator-authenticate.authenticator.symantec_vip":"factor.totpHard.symantecVip","select-authenticator-authenticate.authenticator.webauthn":"oie.webauthn.label","select-authenticator-authenticate.authenticator.yubikey_token":"oie.yubikey.label","select-authenticator-authenticate.authenticator.custom_app":"oie.custom.app.authenticator.title","select-authenticator-unlock-account.authenticator.okta_email":"oie.email.label","select-authenticator-unlock-account.authenticator.phone_number":"oie.phone.label","select-authenticator-unlock-account.authenticator.okta_verify.push":"oie.okta_verify.push.title","authenticator-verification-data.okta_verify.authenticator.methodType.signed_nonce":"oie.okta_verify.signed_nonce.label","authenticator-verification-data.okta_verify.authenticator.methodType.push":"oie.okta_verify.push.title","authenticator-verification-data.okta_verify.authenticator.methodType.totp":"oie.okta_verify.totp.title","authenticator-enrollment-data.phone_number.authenticator.phoneNumber":"mfa.phoneNumber.placeholder","authenticator-enrollment-data.phone_number.authenticator.methodType.sms":"oie.phone.enroll.sms.label","authenticator-enrollment-data.phone_number.authenticator.methodType.voice":"oie.phone.enroll.voice.label","enroll-authenticator.okta_password.credentials.passcode":"oie.password.passwordLabel","enroll-authenticator.okta_email.credentials.passcode":"mfa.challenge.enterCode.placeholder","enroll-authenticator.phone_number.credentials.passcode":"mfa.challenge.enterCode.placeholder","enroll-authenticator.security_question.sub_schema_local_credentials.0":"oie.security.question.questionKey.label","enroll-authenticator.security_question.sub_schema_local_credentials.1":"oie.security.question.createQuestion.label","enroll-authenticator.security_question.credentials.answer":"mfa.challenge.answer.placeholder","enroll-authenticator.security_question.credentials.question":"oie.security.question.createQuestion.label","enroll-authenticator.security_question.credentials.questionKey":"oie.security.question.questionKey.label","enroll-authenticator.google_otp.credentials.passcode":"oie.google_authenticator.otp.enterCodeText","enroll-authenticator.onprem_mfa.credentials.clientData":"enroll.onprem.username.placeholder","enroll-authenticator.onprem_mfa.credentials.passcode":"enroll.onprem.passcode.placeholder","enroll-authenticator.rsa_token.credentials.clientData":"enroll.onprem.username.placeholder","enroll-authenticator.rsa_token.credentials.passcode":"enroll.onprem.passcode.placeholder","enroll-authenticator.symantec_vip.credentials.credentialId":"enroll.symantecVip.credentialId.placeholder","enroll-authenticator.symantec_vip.credentials.passcode":"enroll.symantecVip.passcode1.placeholder","enroll-authenticator.symantec_vip.credentials.nextPasscode":"enroll.symantecVip.passcode2.placeholder","enroll-authenticator.yubikey_token.credentials.passcode":"oie.yubikey.passcode.label","enrollment-channel-data.email":"oie.enroll.okta_verify.channel.email.label","enrollment-channel-data.phoneNumber":"mfa.phoneNumber.placeholder","select-enrollment-channel.authenticator.channel.qrcode":"oie.enroll.okta_verify.select.channel.qrcode.label","select-enrollment-channel.authenticator.channel.email":"oie.enroll.okta_verify.select.channel.email.label","select-enrollment-channel.authenticator.channel.sms":"oie.enroll.okta_verify.select.channel.sms.label","challenge-authenticator.okta_email.credentials.passcode":"mfa.challenge.enterCode.placeholder","challenge-authenticator.okta_password.credentials.passcode":"mfa.challenge.password.placeholder","challenge-authenticator.phone_number.credentials.passcode":"mfa.challenge.enterCode.placeholder","challenge-authenticator.security_question.credentials.answer":"mfa.challenge.answer.placeholder","challenge-authenticator.okta_verify.credentials.totp":"oie.okta_verify.totp.enterCodeText","challenge-authenticator.google_otp.credentials.passcode":"oie.google_authenticator.otp.enterCodeText","challenge-authenticator.onprem_mfa.credentials.passcode":"mfa.challenge.enterCode.placeholder","challenge-authenticator.rsa_token.credentials.passcode":"mfa.challenge.enterCode.placeholder","challenge-authenticator.custom_otp.credentials.passcode":"oie.custom_otp.verify.passcode.label","challenge-authenticator.symantec_vip.credentials.passcode":"oie.symantecVip.verify.passcode.label","challenge-authenticator.yubikey_token.credentials.passcode":"oie.yubikey.passcode.label","challenge-authenticator.credentials.passcode":"oie.password.label","reset-authenticator.okta_password.credentials.passcode":"oie.password.newPasswordLabel","reset-authenticator.okta_password.confirmPassword":"oie.password.confirmPasswordLabel","reset-authenticator.okta_password.credentials.revokeSessions":"password.reset.revokeSessions","reenroll-authenticator.okta_password.credentials.passcode":"oie.password.newPasswordLabel","reenroll-authenticator.okta_password.confirmPassword":"oie.password.confirmPasswordLabel","reenroll-authenticator.okta_password.credentials.revokeSessions":"password.reset.revokeSessions","reenroll-authenticator-warning.okta_password.credentials.passcode":"oie.password.newPasswordLabel","reenroll-authenticator-warning.okta_password.confirmPassword":"oie.password.confirmPasswordLabel","reenroll-authenticator-warning.okta_password.credentials.revokeSessions":"password.reset.revokeSessions","enroll-authenticator.okta_password.confirmPassword":"oie.password.confirmPasswordLabel","enroll-authenticator.okta_password.credentials.revokeSessions":"password.reset.revokeSessions",incorrectPassword:"oie.password.incorrect.message","profile-update.userProfile.secondEmail":"oie.user.profile.secondary.email","user-code.userCode":"device.code.activate.label","api.authn.poll.error.push_rejected":"oktaverify.rejected","oie.authenticator.duo.method.duo.verification_timeout":"oie.authenticator.duo.error","oie.authenticator.duo.method.duo.verification_failed":"oie.authenticator.duo.error","idx.email.verification.required":"registration.complete.confirm.text",tooManyRequests:"oie.tooManyRequests","api.users.auth.error.POST_PASSWORD_UPDATE_AUTH_FAILURE":"oie.post.password.update.auth.failure.error","security.access_denied":"errors.E0000006",E0000009:"errors.E0000009",E0000020:"errors.E0000020","api.factors.error.sms.invalid_phone":"oie.phone.invalid","app.ldap.password.reset.failed":"errors.E0000017","oie.selfservice.unlock_user.challenge.failed.permissions":"errors.E0000006","core.auth.factor.signedNonce.error.invalidEnrollment":"core.auth.factor.signedNonce.error","core.auth.factor.signedNonce.error.invalidFactor":"core.auth.factor.signedNonce.error","core.auth.factor.signedNonce.error.deletedDevice":"core.auth.factor.signedNonce.error","core.auth.factor.signedNonce.error.invalidDeviceStatus":"core.auth.factor.signedNonce.error.invalidDevice","challenge-poll.custom_app.autoChallenge":"autoPush","challenge-poll.okta_verify.autoChallenge":"autoPush","authenticator-verification-data.authenticator.autoChallenge":"autoPush","authenticator-verification-data.okta_verify.authenticator.autoChallenge":"autoPush","authenticator-verification-data.custom_app.authenticator.autoChallenge":"autoPush","enroll-profile.userProfile.login":"oie.user.profile.login","enroll-profile.userProfile.lastName":"oie.user.profile.lastname","enroll-profile.userProfile.firstName":"oie.user.profile.firstname","enroll-profile.userProfile.email":"oie.user.profile.primary.email","enroll-profile.userProfile.secondEmail":"oie.user.profile.secondary.email","enroll-profile.userProfile.middleName":"oie.user.profile.middleName","enroll-profile.userProfile.honorificPrefix":"oie.user.profile.honorificPrefix","enroll-profile.userProfile.honorificSuffix":"oie.user.profile.honorificSuffix","enroll-profile.userProfile.title":"oie.user.profile.title","enroll-profile.userProfile.displayName":"oie.user.profile.displayName","enroll-profile.userProfile.nickName":"oie.user.profile.nickName","enroll-profile.userProfile.profileUrl":"oie.user.profile.profileUrl","enroll-profile.userProfile.mobilePhone":"oie.user.profile.mobilePhone","enroll-profile.userProfile.primaryPhone":"oie.user.profile.primaryPhone","enroll-profile.userProfile.streetAddress":"oie.user.profile.streetAddress","enroll-profile.userProfile.city":"oie.user.profile.city","enroll-profile.userProfile.state":"oie.user.profile.state","enroll-profile.userProfile.zipCode":"oie.user.profile.zipCode","enroll-profile.userProfile.postalCode":"oie.user.profile.postalCode","enroll-profile.userProfile.countryCode":"oie.user.profile.countryCode","enroll-profile.userProfile.postalAddress":"oie.user.profile.postalAddress","enroll-profile.userProfile.preferredLanguage":"oie.user.profile.preferredLanguage","enroll-profile.userProfile.locale":"oie.user.profile.locale","enroll-profile.userProfile.timezone":"oie.user.profile.timezone","enroll-profile.userProfile.userType":"oie.user.profile.userType","enroll-profile.userProfile.employeeNumber":"oie.user.profile.employeeNumber","enroll-profile.userProfile.costCenter":"oie.user.profile.costCenter","enroll-profile.userProfile.organization":"oie.user.profile.organization","enroll-profile.userProfile.division":"oie.user.profile.division","enroll-profile.userProfile.department":"oie.user.profile.department","enroll-profile.userProfile.managerId":"oie.user.profile.managerId","enroll-profile.userProfile.manager":"oie.user.profile.manager","enroll-profile.credentials.passcode":"oie.password.label"},Bv={[zy.ENROLL_AUTHENTICATOR]:{[Yy.ON_PREM]:{getParam:Mv},[Yy.RSA]:{getParam:Mv}}},Uv={"registration.error.invalidLoginEmail":{Email:"Email"},"registration.error.doesNotMatchPattern":{Email:"Email"},"registration.error.notUniqueWithinOrg":{Email:"Email"}},qv=e=>!!Js.login[e],Vv=(e,t,n=[])=>{const i=(e=>{let t;return jv.forEach((n=>{if(0===e.indexOf(n)){const i=e.replace(n,"");t=`security.${i}`}})),Fv[e]&&(t=Fv[e]),t&&!Js.login[t]&&(zs(`expect i18n key ${t} for ${e} but not found in 'login' bundle.`),t=null),t})(e);return i?Qs(i,"login",n):(zs(`Avoid rendering unlocalized text sent from the API: ${t}`),t)},Hv=e=>{var t;if(null!==(t=e.i18n)&&void 0!==t&&t.key){var n;let t=e.i18n.key,o=e.i18n.params||[];var i;if(1===o.length&&""===o[0]&&(o=[]),Fv[null===(n=e.i18n)||void 0===n?void 0:n.key])t=Fv[null===(i=e.i18n)||void 0===i?void 0:i.key];else if(Uv[t]){var r;const n=null===(r=e.i18n.params)||void 0===r?void 0:r[0];t=((e,t)=>{let n=e;return Uv[n][t]?n+=`.${t}`:n+=".custom",n})(t,n),o=t.endsWith("custom")?[n]:[]}if(Js.login[t])return $s(`Override messages using i18n key ${t}`),Qs(t,"login",o);if((e=>e.startsWith(Nv))(t))return Qs(Nv,"login")}return zs(`Avoid rendering unlocalized text sent from the API: ${e.message}`),e.message},$v=e=>{if(e.name){const t=`oie.browser.error.${e.name}`;if(Js.login[t])return $s(`Override messages using i18n key ${t}`),Qs(t,"login")}return e.message},zv=e=>{var t;return(null==e||null===(t=e.i18n)||void 0===t?void 0:t.key)||""},Wv=(e,t)=>{const n=t.get("languageCode"),i=t.get("i18n");return!!(i&&i[n]&&i[n][e])},Gv=(e,t)=>{var n,i;if(!1===t.mutable&&t.name.indexOf("questionKey")<0)return;$s("i18n label transformer"),$s("\t remediationName: ",e.name),$s("\t uiSchema: ",JSON.stringify(t));const r=null===(n=e.relatesTo)||void 0===n||null===(i=n.value)||void 0===i?void 0:i.key,o=r?`.${e.relatesTo.value.key}`:"";let s=`${e.name}${o}.${t.name}`;if("text"===t.type&&t.name.indexOf("questionKey")>=0&&"custom"!==t.value&&(s=`${s}.${t.value}`),"checkbox"===t.type&&t.placeholder&&($s("\t 1: ",s),t.placeholder=Vv(s,t.placeholder)),t.label){$s("\t 2: ",s);const n=((e,t)=>{const n=[],i=e.name;if(Bv[i]&&Bv[i][t]){const r=Bv[i][t].getParam(e);n.push(r)}return n})(e,r);t.label=t.customLabel?t.label:Vv(s,t.label,n)}Vl.isPlainObject(t.options)&&(t.options=fl.mapObject(t.options,((e,t)=>{const n=`${s}.${t}`;return $s("\t 3: ",n),Vv(n,e)}))),Array.isArray(t.options)&&t.options.forEach((e=>{if(!e.label)return;let t;if(e.authenticatorKey){var n;t=`${s}.${e.authenticatorKey}`;const i=null===(n=e.value)||void 0===n?void 0:n.methodType;e.authenticatorKey===Yy.OV&&i&&(t=`${t}.${i}`)}else t="string"==typeof e.value||"number"==typeof e.value?`${s}.${e.value}`:s;$s("\t 4: ",t),e.label=Vv(t,e.label)})),Array.isArray(t.optionsUiSchemas)&&t.optionsUiSchemas.forEach((t=>{t.forEach((t=>Gv(e,t)))}))};var Kv=e=>{var t;return Array.isArray(e.remediations)&&e.remediations.filter((e=>Array.isArray(e.uiSchema)&&e.uiSchema.length)).forEach((e=>{e.uiSchema.forEach((t=>Gv(e,t)))})),Array.isArray(null===(t=e.messages)||void 0===t?void 0:t.value)&&e.messages.value.forEach((e=>{e.message=Hv(e)})),e};async function Yv(e,t){const n=e.settings,i=e.get("idx");var r,o;if(n.get("oauth2Enabled")){if(t.interactionCode){uv();const i=await async function(e,t){const{interactionCode:n}=t,i=e.getAuthClient(),r=await i.idx.getSavedTransactionMeta(),o=i.options.state||(null==r?void 0:r.state),s="remediation"===e.get("mode");if(s&&i.idx.clearTransactionMeta(),"always"===e.get("redirect")){const t=e.get("redirectUri");if(!t)throw new Zd('"redirectUri" is required');const i=R({interaction_code:n,state:o});return void window.location.assign(t+i)}if(s)return void e.callGlobalSuccess(na.SUCCESS,{interaction_code:n,state:o});if(!r)throw new Zd("Could not load transaction data from storage");const{codeVerifier:a}=r;return i.token.exchangeCodeForTokens({codeVerifier:a,interactionCode:n}).then((({tokens:t})=>{e.callGlobalSuccess(na.SUCCESS,{tokens:t})})).catch((t=>{const n=yp(t);if(n instanceof hp&&n.is("terminal"))throw n;e.callGlobalError(t)})).finally((()=>{i.idx.clearTransactionMeta()}))}(n,t);return e.unset("currentFormName",{silent:!0}),i}}else i&&(o=null==t||null===(r=t.context)||void 0===r?void 0:r.stateHandle,sessionStorage.setItem(av,o),sessionStorage.setItem(lv,window.location.href)),e.get("currentFormName")===zy.CANCEL_TRANSACTION&&uv();const s=function(e,t,n){return fl.compose(Kv,Pv.bind({},e),wv.bind({},e))(t,n)}(n,t,i);await e.setIonResponse(s)}function Xv(e){const t=e;t.details=t.details||{};const{details:n}=t;if(n.rawIdxState=n.rawIdxState||{},n.context=n.context||{},n.neededToProceed=n.neededToProceed||[],!n.rawIdxState.messages){const e={type:"array",value:[{message:td("oform.error.unexpected","login"),class:"ERROR",i18n:void 0}]};n.rawIdxState.messages=e,n.context.messages=e}return t}function Jv(e){return"string"==typeof e&&(e=new Error(e)),function(e){return"invalid_request"===(null==e?void 0:e.error)&&"The recovery token is invalid"===e.error_description}(e)?function(e){const t=Xv(e),{details:n}=t,i={type:"array",value:[{message:e.error_description,i18n:{key:"oie.invalid.recovery.token"},class:"ERROR"}]};return n.rawIdxState.messages=i,n.context.messages=i,t}(e):function(e){return"invalid_request"===(null==e?void 0:e.error)&&"The activation token is invalid"===e.error_description}(e)?function(e){const t=Xv(e),{details:n}=t,i={type:"array",value:[{message:e.error_description,i18n:{key:"idx.missing.activation.token"},class:"ERROR"}]};return n.rawIdxState.messages=i,n.context.messages=i,t}(e):function(e){return"access_denied"===(null==e?void 0:e.error)&&e.error_description}(e)?function(e){const t=Xv(e),{details:n}=t,i={type:"array",value:[{message:e.error_description,i18n:{key:"oie.feature.disabled"},class:"ERROR"}]};return n.rawIdxState.messages=i,n.context.messages=i,e}(e):function(e){return(null==e?void 0:e.error)&&e.error_description}(e)?function(e){const t=Xv(e),{details:n}=t,i={type:"array",value:[{message:td("oie.configuration.error","login"),class:"ERROR",i18n:void 0}]};return n.rawIdxState.messages=i,n.context.messages=i,e}(e):e=Xv(e)}const Qv=(e,t=[])=>Ns.chain(t).filter((e=>{var t;return Array.isArray(null===(t=e.messages)||void 0===t?void 0:t.value)&&e.messages.value.length})).map((t=>({property:e?`${e}.${t.name}`:t.name,errorSummary:t.messages.value.map(Hv),errorKey:t.messages.value.map(zv)}))).value(),Zv=e=>{let t=[];if(!e.remediation||!Array.isArray(e.remediation.value)||0===e.remediation.value.length)return t;let n=e.remediation.value[0].value;return Array.isArray(n)?(t.push(Qv(null,n)),Ns.each(n,(e=>{var n;const i=e.name;Array.isArray(null===(n=e.form)||void 0===n?void 0:n.value)&&t.push(Qv(i,e.form.value)),Array.isArray(e.options)&&Ns.each(e.options,(e=>{var n,r;Array.isArray(null===(n=e.value)||void 0===n||null===(r=n.form)||void 0===r?void 0:r.value)&&t.push(Qv(i,e.value.form.value))}))})),((e,t)=>{if(!Array.isArray(e))return[];if(!Ns.isFunction(t)||1===e.length)return e;const n=[];for(let i=0;i<e.length;i++){let r=!1;for(let n=i+1;n<e.length;n++)if(t(e[i],e[n])){r=!0;break}r||n.push(e[i])}return n})(Ns.flatten(t),Ns.isEqual)):t},eb=e=>{var t;let n=[];return Array.isArray(null===(t=e.messages)||void 0===t?void 0:t.value)&&(n=e.messages.value.map(Hv)),n.join(". ")},tb=e=>{var t;let n=[];return Array.isArray(null===(t=e.messages)||void 0===t?void 0:t.value)&&(n=e.messages.value.map(zv)),n};var nb=e=>{var t,n,i,r;const o=null==e||null===(t=e.context)||void 0===t||null===(n=t.messages)||void 0===n||null===(i=n.value[0])||void 0===i||null===(r=i.i18n)||void 0===r?void 0:r.key;return o&&"idx.session.expired"===o};class ib extends ad{constructor(e){super(e),this.Events=vl.Events,this.hasControllerRendered=!1,this.settings=void 0,this.appState=void 0,this.hooks=void 0,this.header=void 0,e.globalSuccessFn||(e.globalSuccessFn=function(){}),e.globalErrorFn||(e.globalErrorFn=function(e){Ws(e)}),this.settings=new vy(fl.omit(e,"el","hooks"),{parse:!0}),e.el||this.settings.callGlobalError(new Zd(td("error.required.el"))),Vl("body > div").on("click",(function(){})),this.hooks=e.hooks,this.appState=new sv({},{settings:this.settings,hooks:this.hooks});const t=new by({appState:this.appState});Vl(e.el).append(t.render().$el),this.el=`#${na.WIDGET_CONTAINER_ID}`,this.header=new Ay({el:this.el,appState:this.appState,settings:this.settings}),this.hide(),this.listenTo(this.appState,"change:deviceFingerprint",this.updateDeviceFingerprint),this.listenTo(this.appState,"restartLoginFlow",this.restartLoginFlow)}updateDeviceFingerprint(){const e=this.settings.getAuthClient(),t=this.appState.get("deviceFingerprint");t&&e.http.setRequestHeader("X-Device-Fingerprint",t)}async handleIdxResponseFailure(e={error:"unknown",details:void 0}){e=Jv(e),await Yv(this.appState,e.details)}async handleError(e={error:"unknown",details:void 0}){const t=Jv({...e});await Yv(this.appState,t.details)}async render(e,t={}){let n;sessionStorage.getItem(lv)!==window.location.href&&uv(),this.header.rendered()||(this.el=this.header.render().getContentEl()),Js.isLoaded(this.settings.get("languageCode"))||await Ry(this.appState,this.settings);try{let e=await bv(this.settings);e.error?await this.handleIdxResponseFailure(e.error):(this.settings.get("flow")&&!this.hasControllerRendered&&(e=await async function(e,t){const n=t.getAuthClient().idx.getFlow();return await async function(e,t="default"){switch(t){case pv:case fv:case mv:case gv:case yv:return e;case vv:return await async function(e,t,n){if(!e.neededToProceed.find((e=>e.name===t)))return zs("Expected remediation not found, Org may be misconfigured for this flow"),e;try{return await e.proceed(t)}catch(t){if("string"==typeof t&&t.startsWith("Unknown remediation choice"))return zs(`flow [${n}] not valid with current Org configurations`),e;throw t}}(e,zy.UNLOCK_ACCOUNT,t);default:throw zs(`Unknown \`flow\` value: ${t}`),new Zd('Invalid "flow" configuration')}}(e,n)}(e,this.settings)),!e.requestDidSucceed&&nb(e)&&this.settings.getAuthClient().transactionManager.clear(),await Yv(this.appState,e))}catch(e){var i;null!==(i=e.is)&&void 0!==i&&i.call(e,"terminal")?this.appState.setNonIdxError(e):(n=e,await this.handleError(e))}finally{this.settings.unset("stateToken"),this.settings.unset("proxyIdxResponse")}if(this.settings.get("colors.brand")&&!Dy.isLoaded()){const e={brand:this.settings.get("colors.brand")},t=this.settings.get("cspNonce");Dy.addStyle(e,t)}this.show(),this.unload();const r=fl.extend({el:this.el,settings:this.settings,appState:this.appState},t);this.controller=new e(r),this.listenTo(this.controller,"all",this.trigger),this.controller.render(),this.hasControllerRendered=!0,n&&this.settings.callGlobalError(n)}updateIdentifierCookie(e){if(this.settings.get("features.rememberMe")){var t;const n=null==e||null===(t=e.context)||void 0===t?void 0:t.user,{identifier:i}=(null==n?void 0:n.value)||{};i&&Dm(i)}else Rm()}hasAuthenticationSucceeded(e){var t,n;return(null==e||null===(t=e.rawIdxState)||void 0===t?void 0:t.success)||(null==e||null===(n=e.rawIdxState)||void 0===n?void 0:n.successWithInteractionCode)}restartLoginFlow(e){var t;this.settings.getAuthClient().transactionManager.clear(),this.appState.set("idx",void 0);const n=this.settings.getAuthClient();delete n.options.recoveryToken,this.settings.unset("recoveryToken"),this.settings.unset("otp"),this.controller.stopListening(),n.idx.setFlow(null!==(t=null!=e?e:this.settings.get("flow"))&&void 0!==t?t:"default"),this.render(this.controller.constructor)}start(){const e=Us.supportsPushState();ad.prototype.start.call(this,{pushState:e})}hide(){this.header.$el.hide()}show(){this.header.$el.show()}remove(){this.unload(),this.header.$el.remove(),this.stopListening(this.appState),this.stopListening(this.settings),Js.remove(),vl.history.stop()}}ib.prototype.Events=vl.Events;var rb=sd.extend({HeaderBeacon:null,initialize:function(){this.HeaderBeacon&&this.add(this.HeaderBeacon)},postRender:function(){const e=Vl(`#${na.WIDGET_CONTAINER_ID}`);if(this.HeaderBeacon){e.removeClass("no-beacon");const t=this.$el.find('[data-type="beacon-container"]');_y.explode(t)}else e.addClass("no-beacon")}}),ob=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(o=null!=(o=s(n,"label")||(null!=t?s(t,"label"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"label",hash:{},data:r,loc:{start:{line:1,column:0},end:{line:1,column:9}}}):o)},useData:!0}),tagName:"a",attributes:function(){let e=this.options.href||"#";return{"data-se":this.options.name,href:e,target:this.options.target}},className:function(){const e=["link"];if(this.options.name){const t=this.options.name.replace(/[ ]/g,"-");e.push(`js-${t}`)}return e.join(" ")},postRender:function(){this.options.href||this.$el.click((e=>{e.preventDefault();const{appState:t,formName:n,actionPath:i,clickHandler:r}=this.options;r?r():n?t.trigger("switchForm",n):i&&t.trigger("invokeAction",i)}))}}),sb=sd.extend({initialize:function(){sd.prototype.initialize.apply(this,arguments);const e=this.options.additionalOptions,t=this.options.name,n=Object.assign({},this.options,{type:"link","aria-expanded":!1,clickHandler:function(){Vl(e.selector).slideToggle(200,(()=>{Vl(`.js-${t}`).attr("aria-expanded",Vl(e.selector).is(":visible"))}))}});this.add(ob,{options:n}),this.add(e.view)},postRender:function(){const e=this.options.additionalOptions;this.$(e.selector).hide()}});const{ENROLLED_PASSWORD_RECOVERY_LINK:ab,ORG_PASSWORD_RECOVERY_LINK:lb}=Zy,cb=(e,t)=>{const n={type:"link",label:td("forgotpassword","login"),name:"forgot-password"},i=t.get("helpLinks.forgotPassword");return i?[Object.assign({},{href:i,label:td("forgotpassword","login"),name:"forgot-password"})]:e.getActionByPath(lb)?[Object.assign({},n,{actionPath:lb})]:e.getActionByPath(ab)?[Object.assign({},n,{actionPath:ab})]:[]},ub=(e,t)=>e.hasRemediationObject(zy.SKIP)?[{type:"link",label:null!=t?t:td("oie.enroll.skip.setup","login"),name:"skip-setup",actionPath:zy.SKIP}]:[],hb=(e,t={})=>null!=e&&e.get("backToSignInUri")?[{label:td("goback","login"),name:"cancel",href:e.get("backToSignInUri")}]:[{actionPath:"cancel",label:t.label?t.label:td("goback","login"),name:"cancel",type:"link"}],db=(e,t)=>{const n=[],i=[zy.CHALLENGE_AUTHENTICATOR,zy.SELECT_AUTHENTICATOR_AUTHENTICATE,zy.CHALLENGE_POLL,zy.AUTHENTICATOR_VERIFICATION_DATA];if(!e.get("isPasswordRecovery")&&i.includes(e.get("currentFormName"))){const e=t.get("helpLinks.factorPage.text"),i=t.get("helpLinks.factorPage.href");e&&i&&n.push({type:"link",label:e,name:"factorPageHelpLink",href:i,target:"_blank"})}return n};var pb=sd.extend({className:"auth-footer",links:[],footerInfo:null,hasBackToSignInLink:!0,initialize:function(){let e=fl.resultCtx(this,"links",this);const t=fl.resultCtx(this,"footerInfo",this),n=fl.resultCtx(this,"hasBackToSignInLink",this);e=Array.isArray(e)?e.filter((e=>Vl.isPlainObject(e))):[],this.options.appState.shouldShowSignOutLinkInCurrentForm(this.options.settings.get("features.hideSignOutLinkInMFA")||this.settings.get("features.mfaOnlyFlow"))&&n&&(e=e.concat(hb(this.options.settings))),e.forEach((e=>{let t=ob;"toggle-text-link"===e.type&&(t=sb),this.add(t,{options:e})})),t&&(this.add(sd.extend({className:"footer-info"})),this.add(t,".footer-info"))}});const fb=nd({className:"button-primary button skip-all",title:function(){return td("oie.optional.authenticator.button.title","login")},click:function(){this.options.appState.trigger("invokeAction",zy.SKIP)}}),mb=1e3,gb="authenticatorChallenge-cancel",yb="IDENTIFIER",vb="OV_UNREACHABLE_BY_LOOPBACK",bb=sd.extend({className:"authenticator-row clearfix",template:pl.template({1:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="factor-icon authenticator-icon '+l("function"==typeof(o=null!=(o=c(n,"iconClassName")||(null!=t?c(t,"iconClassName"):t))?o:a)?o.call(s,{name:"iconClassName",hash:{},data:r,loc:{start:{line:1,column:100},end:{line:1,column:117}}}):o)+' custom-app-logo" role="img" aria-label="'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.auth.logo.aria.label"},data:r,loc:{start:{line:1,column:158},end:{line:1,column:213}}}))+'"></div>'},3:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="factor-icon authenticator-icon '+l("function"==typeof(o=null!=(o=c(n,"iconClassName")||(null!=t?c(t,"iconClassName"):t))?o:a)?o.call(s,{name:"iconClassName",hash:{},data:r,loc:{start:{line:1,column:272},end:{line:1,column:289}}}):o)+'" role="img" aria-label="'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.auth.logo.aria.label"},data:r,loc:{start:{line:1,column:314},end:{line:1,column:369}}}))+'"></div>'},5:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="authenticator-description--text">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"description")||(null!=t?s(t,"description"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"description",hash:{},data:r,loc:{start:{line:1,column:550},end:{line:1,column:565}}}):o)+"</p>"},7:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="authenticator-usage-text">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"authenticatorUsageText")||(null!=t?s(t,"authenticatorUsageText"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"authenticatorUsageText",hash:{},data:r,loc:{start:{line:1,column:642},end:{line:1,column:668}}}):o)+"</p>"},9:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'data-se="'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"buttonDataSeAttr")||(null!=t?s(t,"buttonDataSeAttr"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"buttonDataSeAttr",hash:{},data:r,loc:{start:{line:1,column:746},end:{line:1,column:766}}}):o)+'"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="authenticator-icon-container">'+(null!=(o=l(n,"if").call(a,null!=t?l(t,"logoUri"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r,loc:{start:{line:1,column:42},end:{line:1,column:384}}}))?o:"")+'</div><div class="authenticator-description"><h3 class="authenticator-label no-translate">'+e.escapeExpression("function"==typeof(s=null!=(s=l(n,"label")||(null!=t?l(t,"label"):t))?s:e.hooks.helperMissing)?s.call(a,{name:"label",hash:{},data:r,loc:{start:{line:1,column:474},end:{line:1,column:483}}}):s)+"</h3>"+(null!=(o=l(n,"if").call(a,null!=t?l(t,"description"):t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:488},end:{line:1,column:576}}}))?o:"")+(null!=(o=l(n,"if").call(a,null!=t?l(t,"authenticatorUsageText"):t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:576},end:{line:1,column:679}}}))?o:"")+'<div class="authenticator-button" '+(null!=(o=l(n,"if").call(a,null!=t?l(t,"buttonDataSeAttr"):t,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:713},end:{line:1,column:774}}}))?o:"")+"></div></div>"},useData:!0}),postRender:function(){sd.prototype.postRender.apply(this,arguments),this.model.get("logoUri")&&(this.el.querySelector(".custom-app-logo").style.backgroundImage=`url(${this.model.get("logoUri")})`)},children:function(){return[[nd({className:"button select-factor",title:function(){return td("oie.enroll.authenticator.button.text","login")},attributes:{"aria-label":this.model.get("ariaLabel")},click:function(){this.model.trigger("selectAuthenticator",this.model.get("value"))}}),".authenticator-button"]]},minimize:function(){this.$el.addClass("authenticator-row-min")},getTemplateData:function(){let e;const t=this.model.get("relatesTo").allowedFor;if(t)switch(t){case"any":e=td("oie.enroll.authenticator.usage.text.access.recovery","login");break;case"recovery":e=td("oie.enroll.authenticator.usage.text.recovery","login");break;case"sso":e=td("oie.enroll.authenticator.usage.text.access","login")}const n=sd.prototype.getTemplateData.apply(this,arguments);return n.authenticatorUsageText=e,n}});var _b=Su.extend({className:"authenticator-enroll-list authenticator-list",item:bb,itemSelector:".list-content",initialize:function(){this.listenTo(this.collection,"selectAuthenticator",(function(e){this.model.set(this.options.name,e),this.options.appState.trigger("saveForm",this.model)})),this.hasOptionalFactors=this.options.appState.hasRemediationObject(zy.SKIP),this.hasOptionalFactors&&this.add(fb)},template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="list-content"><div class="authenticator-list-title">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"title")||(null!=t?s(t,"title"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:r,loc:{start:{line:1,column:64},end:{line:1,column:73}}}):o)+"</div></div>"},useData:!0}),getTemplateData:function(){return{title:this.hasOptionalFactors?td("oie.setup.optional","login"):td("oie.setup.required","login")}}});const wb=sd.extend({className:"authenticator-row clearfix",template:pl.template({1:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="factor-icon authenticator-icon '+l("function"==typeof(o=null!=(o=c(n,"iconClassName")||(null!=t?c(t,"iconClassName"):t))?o:a)?o.call(s,{name:"iconClassName",hash:{},data:r,loc:{start:{line:1,column:100},end:{line:1,column:117}}}):o)+' custom-logo" role="img" aria-label="'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.auth.logo.aria.label"},data:r,loc:{start:{line:1,column:154},end:{line:1,column:209}}}))+'"></div>'},3:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="factor-icon authenticator-icon '+l("function"==typeof(o=null!=(o=c(n,"iconClassName")||(null!=t?c(t,"iconClassName"):t))?o:a)?o.call(s,{name:"iconClassName",hash:{},data:r,loc:{start:{line:1,column:268},end:{line:1,column:285}}}):o)+'" role="img" aria-label="'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.auth.logo.aria.label"},data:r,loc:{start:{line:1,column:310},end:{line:1,column:365}}}))+'"></div>'},5:function(e,t,n,i,r){return"authenticator-label--small"},7:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="authenticator-description--text '+c(typeof(o=null!=(o=u(n,"noTranslateClassName")||(null!=t?u(t,"noTranslateClassName"):t))?o:a)===l?o.call(s,{name:"noTranslateClassName",hash:{},data:r,loc:{start:{line:1,column:603},end:{line:1,column:627}}}):o)+'">'+c(typeof(o=null!=(o=u(n,"description")||(null!=t?u(t,"description"):t))?o:a)===l?o.call(s,{name:"description",hash:{},data:r,loc:{start:{line:1,column:629},end:{line:1,column:644}}}):o)+"</p>"},9:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="authenticator-enrollment-nickname '+c(typeof(o=null!=(o=u(n,"noTranslateClassName")||(null!=t?u(t,"noTranslateClassName"):t))?o:a)===l?o.call(s,{name:"noTranslateClassName",hash:{},data:r,loc:{start:{line:1,column:715},end:{line:1,column:739}}}):o)+'">'+c(typeof(o=null!=(o=u(n,"nickname")||(null!=t?u(t,"nickname"):t))?o:a)===l?o.call(s,{name:"nickname",hash:{},data:r,loc:{start:{line:1,column:741},end:{line:1,column:753}}}):o)+"</p>"},11:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'data-se="'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"buttonDataSeAttr")||(null!=t?s(t,"buttonDataSeAttr"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"buttonDataSeAttr",hash:{},data:r,loc:{start:{line:1,column:837},end:{line:1,column:857}}}):o)+'"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="authenticator-icon-container">'+(null!=(o=l(n,"if").call(a,null!=t?l(t,"logoUri"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r,loc:{start:{line:1,column:42},end:{line:1,column:380}}}))?o:"")+'</div><div class="authenticator-description"><div><h3 class="authenticator-label no-translate '+(null!=(o=l(n,"if").call(a,null!=t?l(t,"description"):t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:474},end:{line:1,column:526}}}))?o:"")+'">'+e.escapeExpression("function"==typeof(s=null!=(s=l(n,"label")||(null!=t?l(t,"label"):t))?s:e.hooks.helperMissing)?s.call(a,{name:"label",hash:{},data:r,loc:{start:{line:1,column:528},end:{line:1,column:537}}}):s)+"</h3>"+(null!=(o=l(n,"if").call(a,null!=t?l(t,"description"):t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:542},end:{line:1,column:655}}}))?o:"")+(null!=(o=l(n,"if").call(a,null!=t?l(t,"nickname"):t,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:655},end:{line:1,column:764}}}))?o:"")+'</div><div class="authenticator-button" '+(null!=(o=l(n,"if").call(a,null!=t?l(t,"buttonDataSeAttr"):t,{name:"if",hash:{},fn:e.program(11,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:804},end:{line:1,column:865}}}))?o:"")+"></div></div>"},useData:!0}),postRender:function(){sd.prototype.postRender.apply(this,arguments);const e=this.model.get("logoUri");e&&(this.el.querySelector(".custom-logo").style.backgroundImage=`url(${e})`)},children:function(){return[[nd({className:"button select-factor",title:function(){return td("oie.verify.authenticator.button.text","login")},attributes:{"aria-label":this.model.get("ariaLabel")},click:function(){this.model.trigger("selectAuthenticator",this.model.get("value"))}}),".authenticator-button"]]},minimize:function(){this.$el.addClass("authenticator-row-min")}});var kb=Su.extend({className:"authenticator-verify-list authenticator-list",item:wb,itemSelector:".list-content",initialize:function(){this.listenTo(this.collection,"selectAuthenticator",this.handleSelect),this.listenTo(this.model,"invalid",this.handleModelInvalid)},handleModelInvalid:function(e,t){this.options.name in t&&!this.model.get(this.options.name)&&this.showAuthenticatorRequiredError()},showAuthenticatorRequiredError:function(){const e=this.collection.length>1?td("account.unlock.authenticatorRequired.multiple","login"):td("account.unlock.authenticatorRequired.single","login");this.model.trigger("error",this.model,{responseJSON:{errorSummary:e}})},handleSelect:function(e){var t;const n=this.model.validateField("identifier");this.model.trigger("clearFormError"),null!==(t=this.model.getPropertySchema("identifier"))&&void 0!==t&&t.required&&n?this.model.trigger("invalid",this.model,n):(this.model.set(this.options.name,e),this.options.appState.trigger("saveForm",this.model))},template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){return'<div class="list-content"></div>'},useData:!0})});const Sb="OktaSignInWidgetOnCaptchaLoaded",Eb="OktaSignInWidgetOnCaptchaSolved";var Tb=sd.extend({className:"captcha-view",template:pl.template({1:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div id ="captcha-container" class="'+c(typeof(o=null!=(o=u(n,"className")||(null!=t?u(t,"className"):t))?o:a)===l?o.call(s,{name:"className",hash:{},data:r,loc:{start:{line:1,column:63},end:{line:1,column:76}}}):o)+'" data-sitekey="'+c(typeof(o=null!=(o=u(n,"siteKey")||(null!=t?u(t,"siteKey"):t))?o:a)===l?o.call(s,{name:"siteKey",hash:{},data:r,loc:{start:{line:1,column:92},end:{line:1,column:103}}}):o)+'" data-callback="'+c(typeof(o=null!=(o=u(n,"onCaptchaSolvedCallback")||(null!=t?u(t,"onCaptchaSolvedCallback"):t))?o:a)===l?o.call(s,{name:"onCaptchaSolvedCallback",hash:{},data:r,loc:{start:{line:1,column:120},end:{line:1,column:147}}}):o)+'" data-size="invisible"></div>'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"isCaptchaConfigured"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:184}}}))?o:""},useData:!0}),getTemplateData:function(){if(this.captchaConfig){const e="HCAPTCHA"===this.captchaConfig.type?"h-captcha":"g-recaptcha";return{siteKey:this.captchaConfig.siteKey,isCaptchaConfigured:!0,onCaptchaSolvedCallback:Eb,className:e}}return{}},initialize:function(){this.options.appState.get("captcha")&&(this.captchaConfig=this.options.appState.get("captcha"),this._addCaptcha())},remove:function(){sd.prototype.remove.apply(this,arguments),"HCAPTCHA"===this.captchaConfig.type?window.hcaptcha=void 0:"RECAPTCHA_V2"===this.captchaConfig.type&&(window.grecaptcha=void 0)},_addCaptcha:function(){const e=e=>{const t=this._getCaptchaOject(),n=this.$el.find("#captcha-container").attr("data-captcha-id");t.reset(n);const i=this.options.name;this.model.set(i,e),this.options.appState.trigger("saveForm",this.model)};window[Sb]=()=>{if(this.$el.find("#captcha-container").attr("data-captcha-id"))return;const t=this._getCaptchaOject();this.model.set(this.options.name,"tempToken");const n=t.render("captcha-container",{sitekey:this.captchaConfig.siteKey,callback:e});this.$el.find("#captcha-container").attr("data-captcha-id",n),this.options.appState.trigger("onCaptchaLoaded",t),"HCAPTCHA"===this.captchaConfig.type&&this._addHCaptchaFooter()},window[Eb]=e,"HCAPTCHA"===this.captchaConfig.type?this._loadCaptchaLib(this._getCaptchaUrl("https://hcaptcha.com/1/api.js","hcaptcha")):"RECAPTCHA_V2"===this.captchaConfig.type&&this._loadCaptchaLib(this._getCaptchaUrl("https://www.google.com/recaptcha/api.js","recaptcha"))},_loadCaptchaLib:function(e){let t=document.createElement("script");t.src=e,t.async=!0,t.defer=!0,document.getElementById(na.WIDGET_CONTAINER_ID).appendChild(t)},_addHCaptchaFooter:function(){const e=document.getElementsByClassName("siw-main-footer");if(e.length){const t=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="captcha-footer"><span class="footer-text">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$2:"<a href='https://hcaptcha.com/terms' target='_blank'>$2</a>",$1:"<a href='https://hcaptcha.com/privacy' target='_blank'>$1</a>",bundle:"login",code:"hcaptcha.footer.label"},data:r,loc:{start:{line:1,column:54},end:{line:1,column:238}}}))+"</span></div>"},useData:!0});e[0].insertAdjacentHTML("beforeend",t())}},_getCaptchaOject:function(){return"HCAPTCHA"===this.captchaConfig.type?window.hcaptcha:window.grecaptcha},_getCaptchaUrl:function(e,t){const n=this.options.settings.get("language"),i=this.options.settings.get(`${t}.scriptSource`)||e,r={...this.options.settings.get(`${t}.scriptParams`),onload:Sb,render:"explicit",hl:n||navigator.language};return i+"?"+ia.searchParamsToString(r)}});const xb={authenticatorEnrollSelect:e=>{const t=(e.options||[]).map((e=>Object.assign({},e,Iv(e))));return{View:_b,options:{name:e.name,collection:new od(t)}}},authenticatorVerifySelect:e=>{let t=e.options||[];const n=new Set;return t=t.filter((e=>{let t;if(e.authenticatorKey===Yy.WEBAUTHN)t=n.has(e.authenticatorKey),n.add(e.authenticatorKey);else if(e.authenticatorKey===Yy.CUSTOM_APP){var i,r;t=n.has(null==e||null===(i=e.value)||void 0===i?void 0:i.id),n.add(null==e||null===(r=e.value)||void 0===r?void 0:r.id)}return!t})),t=t.map((e=>Object.assign({},e,Rv(e)))),{View:kb,options:{name:e.name,collection:new od(t)}}},"admin-consent":()=>({View:Wd}),consent:()=>({View:Mp}),captcha:e=>({View:Tb,options:{name:e.name}})},Cb=function(e){return(xb[e.type]||fl.identity)(e)},Pb=({settings:e,appState:t})=>{const n=t.get("remediations").filter((e=>e.name===zy.REDIRECT_IDP));if(!Array.isArray(n))return[];const i=((e,t)=>{if(t.get("remediations").filter((e=>e.name===zy.PIV_IDP)).length<1)return[];const n=e.get("piv");return[{attributes:{"data-se":"piv-card-button"},className:(n.className||"")+" piv-button",title:n.text||td("piv.cac.card","login"),click:e=>{e.preventDefault(),t.trigger("switchForm",zy.PIV_IDP)}}]})(e,t);return[...i,...n.map((e=>{var t;let n,i=null===(t=e.type)||void 0===t?void 0:t.toLowerCase();var r;fl.contains(py,i)?n=td(`socialauth.${i}.label`,"login"):(i="general-idp",n=td("customauth.sign.in.with.label","login",[null===(r=e.idp)||void 0===r?void 0:r.name]));const o=["social-auth-button",`social-auth-${i}-button`];"general-idp"===i&&o.push("no-translate"),e.idp.className&&o.push(e.idp.className);const s={attributes:{"data-se":`social-auth-${i}-button`},className:o.join(" "),title:n,href:e.href};return(e=>{const t=document.createElement("div");t.style.position="absolute",t.style.left="-9999px",t.style.whiteSpace="nowrap",t.innerHTML=e,document.body.appendChild(t);const n=t.clientWidth;return document.body.removeChild(t),n>186})(n)&&(s.attributes.title=n),s}))]},Ab=e=>nd({...e,className:`${e.className} default-custom-button button-primary`}),{FormUtil:Ob}=ld.views.forms.helpers;var Ib=ed.extend({layout:"o-form-theme",className:"ion-form",hasSavingState:!0,autoSave:!1,noCancelButton:!0,title:function(){return td("oform.title.authenticate","login")},save:function(){return td("oform.next","login")},modelEvents:{clearFormError:"handleClearFormError",error:"triggerAfterError"},initialize:function(){const e=this.getUISchema().map(Cb);this.showMessages(),this.listenTo(this.options.appState,"onCaptchaLoaded",(e=>{this.captchaObject=e})),e.forEach((e=>{this.addInputOrView(e)})),this.listenTo(this,"save",this.saveForm),this.listenTo(this,"cancel",this.cancelForm)},focus:function(...e){this.settings.get("features.autoFocus")&&ed.prototype.focus.apply(this,e)},handleClearFormError:function(){const e=this.$(".o-form-error-container");e.empty(),e.hasClass("o-form-has-errors")&&this.clearErrors()},triggerAfterError:function(e,t){this.options.appState.trigger("afterError",t)},saveForm:function(e){this.$el.find(".o-form-error-container").empty(),this.captchaObject?this.captchaObject.execute():this.options.appState.trigger("saveForm",e)},postRender:function(){this.$el.find(".o-form-error-container").attr("role","alert").before("<div class='o-form-info-container'></div>"),this.addIdentifier()},addIdentifier:function(){const{identifier:e}=this.options.appState.get("user")||{};if(!e)return;if(!this.settings.get("features.showIdentifier"))return;const t=this.$el.find('[data-se="o-form-head"]'),n=pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="identifier-container"><span class="identifier no-translate" data-se="identifier" title="'+c(typeof(o=null!=(o=u(n,"identifier")||(null!=t?u(t,"identifier"):t))?o:a)===l?o.call(s,{name:"identifier",hash:{},data:r,loc:{start:{line:1,column:100},end:{line:1,column:114}}}):o)+'">'+c(typeof(o=null!=(o=u(n,"identifier")||(null!=t?u(t,"identifier"):t))?o:a)===l?o.call(s,{name:"identifier",hash:{},data:r,loc:{start:{line:1,column:116},end:{line:1,column:130}}}):o)+"</span></div>"},useData:!0})({identifier:e});t.length?t.after(n):this.$el.find(".o-form-error-container").after(n)},cancelForm:function(){this.options.appState.trigger("invokeAction","cancel")},getUISchema:function(){return Array.isArray(this.options.currentViewState.uiSchema)?this.options.currentViewState.uiSchema:[]},addInputOrView:function(e){if(!1!==e.visible&&(!1!==e.mutable||!0===e.visible)&&(e.View?(this.add(e.View,fl.omit(e,"View","showWhen")),e.showWhen&&Ob.applyShowWhen(this.last(),e.showWhen)):this.addInput(e),Array.isArray(e.optionsUiSchemas)&&this.options.optionUiSchemaConfig[e.name])){const t=Number(this.options.optionUiSchemaConfig[e.name]);(e.optionsUiSchemas[t]||[]).forEach(this.addInputOrView.bind(this))}},showCustomFormErrorCallout:null,showMessages:function(e){const t=this.options.appState.get("messages")||{},n=".o-form-error-container";!Array.isArray(t.value)||e instanceof sd?e instanceof sd&&this.add(e,n):(this.add('<div class="ion-messages-container"></div>',n),t.value.forEach((t=>{if(null!=t&&t.class&&"INFO"!==t.class){var i;const r={class:null!==(i=null==t?void 0:t.class)&&void 0!==i?i:"",message:null==t?void 0:t.message,title:"",...e};this.add(id({content:r.message,type:r.class.toLowerCase(),title:r.title}),n),e=null}else this.add(`<p>${t.message}</p>`,".ion-messages-container")})))}}),Lb={startPolling:function(e){this.fixedPollingInterval=this.options.currentViewState.refresh,this.dynamicPollingInterval=e,this.countDownCounterValue=Math.ceil(this.pollingInterval/mb),this.fixedPollingInterval?this._startRemediationPolling():this._startAuthenticatorPolling()},_startAuthenticatorPolling:function(){["currentAuthenticator","currentAuthenticatorEnrollment"].some((e=>{if(this.options.appState.has(e)){var t;const n=this.options.appState.get(e),i=`${e}-poll`,r=this.dynamicPollingInterval||(null==n||null===(t=n.poll)||void 0===t?void 0:t.refresh);return fl.isNumber(r)&&(this.polling=setTimeout((()=>{this.options.appState.trigger("invokeAction",i)}),r)),!0}return!1}))},_startRemediationPolling:function(){const e=this.dynamicPollingInterval||this.fixedPollingInterval;fl.isNumber(e)&&(this.polling=setTimeout((()=>{this.options.appState.trigger("saveForm",this.model)}),e))},stopPolling:function(){this.polling&&(clearTimeout(this.polling),this.polling=null)}},Db=Ib.extend(Object.assign({initialize:function(){Ib.prototype.initialize.apply(this,arguments),this.listenTo(this.options.appState,"change:dynamicRefreshInterval",this.updateRefreshInterval)},updateRefreshInterval:function(){this.polling&&(this.stopPolling(),this.startPolling(this.options.appState.get("dynamicRefreshInterval")))}},Lb));const Rb=e=>{const t=Object.assign({},fl.chain(e).pick("minLength","maxLength","required","value").defaults({type:"string",required:!0}).value());return e.modelType&&(t.type=e.modelType),{[e.name]:t}},Mb=function(e={},t={},n={},i={}){(e.uiSchema||[]).forEach((e=>{if(Array.isArray(e.optionsUiSchemas)){let r,o={};Number(e.value)>=0&&(r=e.value),t[e.name]&&(o={value:t[e.name]},r=Number(o.value)),Object.assign(i,Rb(Object.assign({},e,o))),r&&Mb({uiSchema:e.optionsUiSchemas[r]},t,n,i)}else Object.assign(n,Rb(e))}))};const Nb={[zy.IDENTIFY]:{[zy.IDENTIFY]:"primary-auth",[Yy.PASSWORD]:"primary-auth"},[zy.IDENTIFY_RECOVERY]:{[zy.IDENTIFY_RECOVERY]:"forgot-password"},[zy.ENROLL_PROFILE]:{[zy.ENROLL_PROFILE]:"registration"},[zy.CHALLENGE_AUTHENTICATOR]:{[Yy.EMAIL]:"mfa-verify-passcode",[Yy.PASSWORD]:"mfa-verify-password",sms:"mfa-verify-passcode",voice:"mfa-verify-passcode",[Yy.SECURITY_QUESTION]:"mfa-verify-question",[Yy.WEBAUTHN]:"mfa-verify-webauthn",[Yy.ON_PREM]:"mfa-verify-totp",[Yy.RSA]:"mfa-verify-totp",[Yy.OV]:"mfa-verify",[Yy.GOOGLE_OTP]:"mfa-verify",[Yy.DUO]:"mfa-verify-duo",[Yy.SYMANTEC_VIP]:"mfa-verify",[Yy.YUBIKEY]:"mfa-verify",[Yy.CUSTOM_APP]:"mfa-verify"},[zy.CHALLENGE_POLL]:{[Yy.OV]:"mfa-verify",[Yy.CUSTOM_APP]:"mfa-verify"},[zy.RESEND_PUSH]:{[Yy.OV]:"mfa-verify",[Yy.CUSTOM_APP]:"mfa-verify"},[zy.ENROLL_AUTHENTICATOR]:{[Yy.EMAIL]:"enroll-email",[Yy.PASSWORD]:"enroll-password",sms:"enroll-sms",voice:"enroll-call",[Yy.SECURITY_QUESTION]:"enroll-question",[Yy.WEBAUTHN]:"enroll-webauthn",[Yy.ON_PREM]:"enroll-onprem",[Yy.RSA]:"enroll-rsa",[Yy.DUO]:"enroll-duo",[Yy.SYMANTEC_VIP]:"enroll-symantec",[Yy.YUBIKEY]:"enroll-yubikey"},[zy.SELECT_AUTHENTICATOR_ENROLL]:{"select-authenticator-enroll":"enroll-choices"},[zy.SELECT_AUTHENTICATOR_AUTHENTICATE]:{[Yy.PASSWORD]:"forgot-password"},[zy.REENROLL_AUTHENTICATOR]:{[Yy.PASSWORD]:"password-expired"},[zy.REENROLL_CUSTOM_PASSWORD_EXPIRY]:{[Yy.PASSWORD]:"custom-password-expired"},[zy.REENROLL_CUSTOM_PASSWORD_EXPIRY_WARNING]:{[Yy.PASSWORD]:"custom-password-expiry-warning"},[zy.RESET_AUTHENTICATOR]:{[Yy.PASSWORD]:"forgot-password"},[zy.CONSENT_ADMIN]:{[zy.CONSENT_ADMIN]:"admin-consent-required"},[zy.CONSENT_ENDUSER]:{[zy.CONSENT_ENDUSER]:"consent-required"}},jb=(e,t,n,i)=>{if(i&&e===zy.IDENTIFY)return"forgot-password";{let i=e;return t===Yy.PHONE?i=`${n}`:t&&(i=`${t}`),Nb[e]&&Nb[e][i]?Nb[e][i]:null}};var Fb=sd.extend({Header:rb,Body:Ib,Footer:pb,className:function(){const e=this.options.appState,t=((e,t,n,i)=>{let r=e;t&&(r=r+"--"+t);let o=jb(e,t,n,i);const s=[r];return o&&s.push(o),s})(e.get("currentFormName"),e.get("authenticatorKey"),e.get("authenticatorMethodType"),e.get("isPasswordRecoveryFlow"));return["siw-main-view"].concat(t).join(" ")},template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){return'<div class="siw-main-header"></div><div class="siw-main-body"></div><div class="siw-main-footer"></div>'},useData:!0}),preRender:function(){sd.prototype.preRender.apply(this,arguments),null!==this.Header&&this.add(this.Header,{selector:".siw-main-header",options:this.options}),this.renderForm(),this.add(this.Footer,{selector:".siw-main-footer",options:this.options})},renderForm:function(){let e;this.form&&(this.form.remove(),e=this.form.model.toJSON({verbose:!0}));const t=new(this.createModelClass(this.options.currentViewState,e,this.settings))({formName:this.options.currentViewState.name});e||(e=t.toJSON({verbose:!0})),this.model=t,this.form=this.add(this.Body,{selector:".siw-main-body",options:Object.assign({},this.options,{model:t,optionUiSchemaConfig:e})}).last(),fl.each(t.attributes,((e,n)=>{n.match(/sub_schema_local_[^ ]+/)&&this.listenTo(t,`change:${n}`,(()=>{this.renderForm()}))}))},createModelClass:function(e,t={}){return function(e={},t={}){const n={},i={formName:"string",useRedirect:"boolean"};return Mb(e,t,n,i),Bl.extend({props:n,local:i})}(e,t)}});function Bb(e,t){return e&&t&&(e+="&login_hint="+t),e}function Ub(e,t){var n,i;const r=e.getDeviceChallengePayload(),o=null===(n=e.options)||void 0===n||null===(i=n.settings)||void 0===i?void 0:i.get("identifier"),s="hide";switch(r.challengeMethod){case na.LOOPBACK_CHALLENGE:e.title=td("deviceTrust.sso.redirectText","login"),e.add(sd.extend({className:"loopback-content",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){return'<div class="spinner"></div>'},useData:!0})})),e.doLoopback(r);break;case na.CUSTOM_URI_CHALLENGE:e.title=td("customUri.title","login"),e.add(sd.extend({className:"skinny-content",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"customUri.required.content.prompt"},data:r,loc:{start:{line:1,column:3},end:{line:1,column:67}}}))+"</p>"},useData:!0})})),e.add(nd({className:"ul-button button button-wide button-primary",title:td("oktaVerify.open.button","login"),id:"launch-ov",click:()=>{e.doCustomURI()}})),e.add(sd.extend({className:"skinny-content",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"customUri.required.content.download.title"},data:r,loc:{start:{line:1,column:3},end:{line:1,column:75}}}))+'</p><p><a href="'+l("function"==typeof(o=null!=(o=c(n,"downloadOVLink")||(null!=t?c(t,"downloadOVLink"):t))?o:a)?o.call(s,{name:"downloadOVLink",hash:{},data:r,loc:{start:{line:1,column:91},end:{line:1,column:109}}}):o)+'" target="_blank" id="download-ov" class="link">'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"customUri.required.content.download.linkText"},data:r,loc:{start:{line:1,column:157},end:{line:1,column:232}}}))+"</a></p>"},useData:!0}),getTemplateData:function(){return{downloadOVLink:r.downloadHref}}})),e.customURI=Bb(r.href,o),e.doCustomURI();break;case na.UNIVERSAL_LINK_CHALLENGE:e.title=td("universalLink.title","login"),e.add(sd.extend({className:"universal-link-content",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="spinner"></div>'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"universalLink.content"},data:r,loc:{start:{line:1,column:27},end:{line:1,column:79}}}))},useData:!0})})),e.add(nd({className:"ul-button button button-wide button-primary",title:td("oktaVerify.open.button","login"),click:()=>{let e=Bb(r.href,o);ia.redirect(e)}}));break;case na.APP_LINK_CHALLENGE:e.title=td("appLink.title","login"),e.add(sd.extend({className:"app-link-content",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="spinner '+c(typeof(o=null!=(o=u(n,"hideClass")||(null!=t?u(t,"hideClass"):t))?o:a)===l?o.call(s,{name:"hideClass",hash:{},data:r,loc:{start:{line:1,column:20},end:{line:1,column:33}}}):o)+'"></div><div class="appLinkContent '+c(typeof(o=null!=(o=u(n,"hideClass")||(null!=t?u(t,"hideClass"):t))?o:a)===l?o.call(s,{name:"hideClass",hash:{},data:r,loc:{start:{line:1,column:68},end:{line:1,column:81}}}):o)+'">'+c((u(n,"i18n")||t&&u(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"appLink.content"},data:r,loc:{start:{line:1,column:83},end:{line:1,column:129}}}))+"</div>"},useData:!0}),getTemplateData:function(){return{hideClass:s}},postRender:function(){t===yb?(this.$(".spinner").removeClass(s),setTimeout(fl.bind((()=>{const e={label:td("goback","login")};this.options.appState.trigger("updateFooterLink",e),this.$(".spinner").addClass(s),this.$(".appLinkContent").removeClass(s)}),this),4e3)):this.$(".appLinkContent").removeClass(s)}})),e.add(nd({className:`${s} al-button button button-wide button-primary`,title:td("oktaVerify.open.button","login"),click:()=>{let e=Bb(r.href,o);ia.redirect(e,window,!0)},postRender:function(){t===yb?setTimeout(fl.bind((()=>{this.$el.removeClass(s)}),this),4e3):this.$el.removeClass(s)}}));break;case na.CHROME_DTC:e.title=td("deviceTrust.sso.redirectText","login"),e.add(sd.extend({className:"chrome-dtc-content",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){return'<div class="spinner"></div>'},useData:!0})})),e.doChromeDTC(r)}}function qb(e,t,n,i){const r={};r.reason=n,r.statusCode=i,e.trigger("invokeAction",t,r)}function Vb(e,t){let n;var i,r;n=t?Object.values(null==e||null===(i=e.value[0])||void 0===i?void 0:i.i18n):null==e||null===(r=e.responseJSON)||void 0===r?void 0:r.errorSummaryKeys;const o=n&&n.includes("oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.mobile"),s=n&&n.includes("oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.desktop");let a=[];if(!o&&!s)return a;const l=[td("oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point1","login"),td("oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point2","login"),td("oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point3","login")];return s&&l.push(td("oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point4","login")),a={type:"error",className:"okta-verify-uv-callout-content",title:td("oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.title","login"),subtitle:td("oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.description","login"),bullets:l},a}function Hb(e,t){return sd.extend({tagName:"iframe",id:e,attributes:{src:t},initialize:function(){this.el.style.display="none"}})}const $b=e=>{const t=Object.assign({method:"GET",contentType:"application/json"},e);return Vl.ajax(t)},zb=Db.extend({noButtonBar:!0,className:"ion-form device-challenge-poll",events:{"click #launch-ov":function(e){e.preventDefault(),this.doCustomURI()}},pollingCancelAction:"currentAuthenticator-cancel",initialize:function(){Db.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"error",this.onPollingFail),this.doChallenge(),this.startPolling()},doChallenge:function(){Ub(this)},onPollingFail:function(){this.$(".spinner").hide(),this.stopPolling()},remove:function(){Db.prototype.remove.apply(this,arguments),this.stopProbing(),this.stopPolling()},getDeviceChallengePayload:function(){throw new Error("getDeviceChallengePayload needs to be implemented")},doLoopback:function(e){let t,n=void 0!==e.domain?e.domain:"",i=void 0!==e.httpsDomain?e.httpsDomain:"",r=void 0!==e.ports?e.ports:[],o=r.length,s=void 0!==e.challengeRequest?e.challengeRequest:"",a=void 0!==e.probeTimeoutMillis?e.probeTimeoutMillis:100,l=!1,c=!1,u=0;const h=(e,n)=>`${n}:${t}/${e}`,d=()=>{Ws(`Something unexpected happened while we were checking port ${t}.`)},p=t=>{return(n=h("probe",t),$b({url:n,timeout:Us.isAndroid()?3e3:a})).done((()=>(e=>$b({url:e,method:"POST",data:JSON.stringify({challengeRequest:s}),timeout:3e5}))(h("challenge",t)).done((()=>(l=!0,!1!==e.enhancedPollingEnabled?(this.stopPolling(),void this.startPolling(1)):this.trigger("save",this.model)))).fail((e=>{u++,503!==e.status?(c=!0,qb(this.options.appState,this.pollingCancelAction,"OV_RETURNED_ERROR",e.status)):u===o&&qb(this.options.appState,this.pollingCancelAction,vb,null)})))).fail(d);var n};let f=Promise.resolve();const m=(e,n,i)=>{f=f.then((()=>{if(!l&&!c)return t=e,p(n)})).catch((()=>{u++,Ws(`Authenticator is not listening on port ${t}.`),i&&u===o&&(Ws("No available ports. Loopback server failed and polling is cancelled."),this.stopPolling(),qb(this.options.appState,this.pollingCancelAction,vb,null))}))};i&&($s("httpsDomain enabled, will probe and challenge https first"),o+=o,r.forEach((e=>{m(e,i,!1)}))),r.forEach((e=>{m(e,n,!0)}))},doCustomURI:function(){this.ulDom&&this.ulDom.remove();const e=Hb("custom-uri-container",this.customURI);this.ulDom=this.add(e).last()},doChromeDTC:function(e){this.ulDom&&this.ulDom.remove();const t=Hb("chrome-dtc-container",e.href);this.ulDom=this.add(t).last()},stopProbing:function(){this.checkPortXhr&&this.checkPortXhr.abort(),this.probingXhr&&this.probingXhr.abort()}});var Wb={isMessageFromCorrectSource:function(e,t){return t.source===e[0].contentWindow},generateDeviceFingerprint:function(e){return new Promise(((t,n)=>{const i=navigator.userAgent;if(!i)return n("user agent is not defined");if(function(e){return e.match(/windows phone|iemobile|wpdesktop/i)}(i))return n("device fingerprint is not supported on Windows phones");let r,o;const s=this;function a(){r.off(),r.remove(),window.removeEventListener("message",c,!1)}function l(e){a(),n(e)}function c(n){if(s.isMessageFromCorrectSource(r,n))if(clearTimeout(o),n&&n.data&&n.origin===e.oktaDomainUrl)try{const i=JSON.parse(n.data);i&&"FingerprintServiceReady"===i.type?function(){const t=r[0].contentWindow;t&&t.postMessage(JSON.stringify({type:"GetFingerprint"}),e.oktaDomainUrl)}():i&&"FingerprintAvailable"===i.type?(a(),t(i.fingerprint)):l("no data")}catch(e){}else l("no data")}window.addEventListener("message",c,!1),r=Vl("<iframe>",{css:{display:"none"},src:e.oktaDomainUrl+"/auth/services/devicefingerprint"}),e.element.append(r),o=setTimeout((()=>{l("service not available")}),2e3)}))}},Gb=pb.extend({showForgotPasswordLink:function(){return!this.options.appState.isIdentifierOnlyView()},footerInfo:function(){const e=((e,t)=>{const n=[];if(e.hasRemediationObject(zy.SELECT_ENROLL_PROFILE)){const e={type:"link",label:td("oie.registration.form.title","login"),name:"enroll"};fl.isFunction(t.get("registration.click"))?e.clickHandler=t.get("registration.click"):e.actionPath=zy.SELECT_ENROLL_PROFILE,n.push(e)}return n})(this.options.appState,this.options.settings);let t;return e.length&&(t=sd.extend({className:"signup-info",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<span>"+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"registration.signup.label"},data:r,loc:{start:{line:1,column:6},end:{line:1,column:62}}}))+'</span><span class="signup-link"></span>'},useData:!0}),initialize:function(){this.add(ob,".signup-link",{options:e[0]})}})),t},links:function(){const{appState:e,settings:t}=this.options;let n;n=t.get("helpLinks.help")?t.get("helpLinks.help"):t.get("baseUrl")+"/help/login";const i=[{name:"help",label:td("help","login"),href:n}];let r=[];this.showForgotPasswordLink()&&(r=cb(e,t));const o=[];t.get("helpLinks.custom")&&t.get("helpLinks.custom").forEach((e=>{e.name="custom",e.label=e.text,o.push(e)}));const s=[];return t.get("helpLinks.unlock")?s.push({type:"link",label:td("unlockaccount","login"),name:"unlock",href:t.get("helpLinks.unlock")}):e.hasRemediationObject(zy.UNLOCK_ACCOUNT)&&s.push({type:"link",label:td("unlockaccount","login"),name:"unlock",actionPath:zy.UNLOCK_ACCOUNT}),r.concat(s).concat(i).concat(o)}}),Kb=sd.extend({className:"sign-in-with-idp",template:pl.template({1:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="separation-line"><span>'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"socialauth.divider.text"},data:r,loc:{start:{line:1,column:64},end:{line:1,column:118}}}))+"</span></div>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"isSecondaryIdpDisplay"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:138}}}))?o:"")+'<div class="okta-idps-container"></div>'+(null!=(o=a(n,"if").call(s,null!=t?a(t,"isPrimaryIdpDisplay"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:177},end:{line:1,column:313}}}))?o:"")},useData:!0}),initialize:function(){this.options.idpButtons.forEach((e=>{this.add(nd(e),".okta-idps-container")}))},getTemplateData:function(){const e=sd.prototype.getTemplateData.apply(this,arguments),t=this.options.idpButtons.length>0;return Object.assign(e,{isPrimaryIdpDisplay:t&&this.options.isPrimaryIdpDisplay,isSecondaryIdpDisplay:t&&!this.options.isPrimaryIdpDisplay})}}),Yb=sd.extend({className:"custom-buttons",template:pl.template({1:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="separation-line"><span>'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"socialauth.divider.text"},data:r,loc:{start:{line:1,column:58},end:{line:1,column:112}}}))+"</span></div>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"addSeparateLine"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:132}}}))?o:"")+'<div class="okta-custom-buttons-container primary-auth-container"></div>'},useData:!0}),initialize:function(e){e.customButtons.forEach((e=>{this.add(nd(e),".okta-custom-buttons-container")}))},getTemplateData:function(){const e=sd.prototype.getTemplateData.apply(this,arguments);return Object.assign(e,{addSeparateLine:this.options.addSeparateLine})}}),Xb=sd.extend({className:"sign-in-with-device-option",template:pl.template({1:function(e,t,n,i,r){return'<div class="signin-with-ov-description"></div>'},3:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="separation-line"><span>'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"authbutton.divider.text"},data:r,loc:{start:{line:1,column:201},end:{line:1,column:255}}}))+"</span></div>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="okta-verify-container">'+(null!=(o=a(n,"if").call(s,null!=t?a(t,"signInWithDeviceIsRequired"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:35},end:{line:1,column:122}}}))?o:"")+"</div>"+(null!=(o=a(n,"unless").call(s,null!=t?a(t,"signInWithDeviceIsRequired"):t,{name:"unless",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:128},end:{line:1,column:279}}}))?o:"")},useData:!0}),initialize:function(){var e;const t=this.options.appState,n=t.hasRemediationObject(zy.LAUNCH_AUTHENTICATOR),i=null==n||null===(e=n.relatesTo)||void 0===e?void 0:e.value;this.add(nd({className:"button",icon:"okta-verify-authenticator",title:td("oktaVerify.button","login"),click:function(){this.model.get("identifier")&&this.options.settings.set("identifier",encodeURIComponent(this.model.get("identifier")));const e=(null==i?void 0:i.challengeMethod)===na.UNIVERSAL_LINK_CHALLENGE;if(e){var n,r;let e=Bb(i.href,null===(n=this.options)||void 0===n||null===(r=n.settings)||void 0===r?void 0:r.get("identifier"));ia.redirect(e)}const o=(null==i?void 0:i.challengeMethod)===na.APP_LINK_CHALLENGE;if(o){var s,a;let e=Bb(i.href,null===(s=this.options)||void 0===s||null===(a=s.settings)||void 0===a?void 0:a.get("identifier"));ia.redirect(e,window,!0)}ia.callAfterTimeout((()=>{this.options.isRequired?t.trigger("saveForm",this.model):t.trigger("invokeAction",zy.LAUNCH_AUTHENTICATOR,{rememberMe:this.model.get("rememberMe")})}),e||o?500:0)}}),".okta-verify-container")},getTemplateData:function(){return{signInWithDeviceIsRequired:!!this.options.isRequired}},postRender:function(){if(this.options.isRequired){var e,t;const n=null===(e=this.options.appState.attributes)||void 0===e||null===(t=e.app)||void 0===t?void 0:t.label,i=n?td("oktaVerify.appDescription","login",[n]):td("oktaVerify.description","login");this.$el.find(".signin-with-ov-description").text(i)}}}),Jb=sd.extend({className:"sign-in-with-webauthn-option",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="okta-webauthn-container"></div><div class="separation-line"><span>'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"authbutton.divider.text"},data:r,loc:{start:{line:1,column:78},end:{line:1,column:132}}}))+"</span></div>"},useData:!0}),initialize:function(){this.add(nd({className:"button",icon:"okta-webauthn-authenticator",title:td("signinWithWebAuthn.button","login"),click:()=>{this.options.appState.trigger("invokeAction",zy.LAUNCH_WEBAUTHN_AUTHENTICATOR)}}),".okta-webauthn-container")}}),Qb=sd.extend({className:"custom-access-denied-error-message",template:pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"message")||(null!=t?s(t,"message"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"message",hash:{},data:r,loc:{start:{line:1,column:18},end:{line:1,column:29}}}):o)+"</p>"},3:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<ul class="custom-links">'+(null!=(o=s(n,"each").call(null!=t?t:e.nullContext||{},null!=t?s(t,"links"):t,{name:"each",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:78},end:{line:1,column:182}}}))?o:"")+"</ul>"},4:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li><a href="+c(typeof(o=null!=(o=u(n,"url")||(null!=t?u(t,"url"):t))?o:a)===l?o.call(s,{name:"url",hash:{},data:r,loc:{start:{line:1,column:105},end:{line:1,column:112}}}):o)+' target="_blank" rel="noopener noreferrer">'+c(typeof(o=null!=(o=u(n,"label")||(null!=t?u(t,"label"):t))?o:a)===l?o.call(s,{name:"label",hash:{},data:r,loc:{start:{line:1,column:155},end:{line:1,column:164}}}):o)+"</a></li>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"message"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:40}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"links"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:40},end:{line:1,column:194}}}))?o:"")},useData:!0}),getTemplateData:function(){return{message:this.options.message,links:this.options.links}}});const Zb="security.access_denied_custom_message",e_=Ib.extend({title:function(){return td("primaryauth.title","login")},save:function(){return td("oform.next","login")},initialize:function(){Ib.prototype.initialize.apply(this,arguments);const e=this.getUISchema();e.find((e=>"credentials.passcode"===e.name))&&(this.save=td("oie.primaryauth.submit","login")),this._shouldAddUsername(e)?this.model.set("identifier",this.settings.get("username")):!this.model.get("identifier")&&this._shouldApplyRememberMyUsername(e)&&this._applyRememberMyUsername()},saveForm:function(){if(!this.settings.get("features.deviceFingerprinting"))return void Ib.prototype.saveForm.apply(this,arguments);const e={oktaDomainUrl:this.settings.get("baseUrl"),element:this.$el};this.model.trigger("request"),Wb.generateDeviceFingerprint(e).then((e=>{this.options.appState.set("deviceFingerprint",e)})).catch((()=>{})).finally((()=>{Ib.prototype.saveForm.apply(this,arguments)}))},render:function(){Ib.prototype.render.apply(this,arguments),this.options.appState.hasRemediationObject(zy.LAUNCH_AUTHENTICATOR)&&this.add(Xb,".o-form-fieldset-container",!1,!0,{isRequired:!1}),this.options.appState.hasRemediationObject(zy.LAUNCH_WEBAUTHN_AUTHENTICATOR)&&this.add(Jb,".o-form-fieldset-container",!1,!0,{isRequired:!1});const e=Pb(this.options);Array.isArray(e)&&e.length&&(this._addForgotPasswordView(),this._addIdpView(e));const t=this.options.settings.get("customButtons").map((e=>({attributes:{"data-se":e.dataAttr},className:e.className+" default-custom-button",title:e.title||td(e.i18nKey,"login"),click:e.click})));Array.isArray(t)&&t.length&&this.add(Yb,{selector:".o-form-button-bar",options:{customButtons:t,addSeparateLine:!0}})},postRender:function(){Ib.prototype.postRender.apply(this,arguments),this.$el.find(".identifier-container").remove()},getUISchema:function(){const e=Ib.prototype.getUISchema.apply(this,arguments),{settings:t}=this.options,n="primaryauth.username.tooltip",i="primaryauth.password.tooltip";let r=e.map((e=>{let r={...e};return"identifier"===e.name?(Wv(n,t)&&(r={...r,explain:td(n,"login"),"explain-top":!0}),r={...r,autoComplete:ia.getAutocompleteValue(this.options.settings,"username")}):"credentials.passcode"===e.name&&(r={...r,autoComplete:ia.getAutocompleteValue(this.options.settings,"current-password")},Wv(i,t)&&(r={...r,explain:td(i,"login"),"explain-top":!0})),r}));return!1===this.settings.get("features.showKeepMeSignedIn")&&(r=r.filter((e=>"rememberMe"!==e.name))),r},showCustomFormErrorCallout:function(e,t){var n,i;if(null==e||null===(n=e.responseJSON)||void 0===n||null===(i=n.errorSummaryKeys)||void 0===i||!i.includes(Zb))return!1;const r=null==t?void 0:t.find((e=>e.i18n.key===Zb));if(!r)return!1;const{errorSummary:o}=e.responseJSON,s={type:"error",content:new Qb({message:o,links:r.links})};return this.showMessages(id(s)),!0},_addForgotPasswordView:function(){const e=cb(this.options.appState,this.options.settings);e.length&&(this.add('<div class="links-primary"></div>',{selector:".o-form-button-bar"}),this.add(ob,{selector:".links-primary",options:e[0]}))},_addIdpView:function(e){const t=this.options.settings.get("idpDisplay"),n=t&&"PRIMARY"===t.toUpperCase();this.add(Kb,{prepend:n,selector:n?".o-form-fieldset-container":".o-form-button-bar",options:{idpButtons:e,isPrimaryIdpDisplay:n}})},_shouldAddUsername:function(e){return e.find((e=>"identifier"===e.name))&&this.settings.get("username")},_shouldApplyRememberMyUsername:function(e){return e.find((e=>"identifier"===e.name))&&this.settings.get("features.rememberMe")},_applyRememberMyUsername:function(){const e=Lm();e&&this.model.set("identifier",e)}});var t_=Fb.extend({Body:e_,createModelClass:function(){const e=Fb.prototype.createModelClass.apply(this,arguments),t="error.username.required",n="error.password.required",i=e.prototype.props;return e.extend({validate:e=>{const r={},o=i.identifier&&!(null!=e&&e.identifier),s=i["credentials.passcode"]&&!(null!=e&&e["credentials.passcode"]);return o&&Wv(t,this.settings)&&(r.identifier=td(t,"login")),s&&Wv(n,this.settings)&&(r["credentials.passcode"]=td(n,"login")),r}})},initialize:function(){this.Footer=Gb.extend({showForgotPasswordLink:()=>{const e=Pb(this.options);return!(this.options.appState.isIdentifierOnlyView()||Array.isArray(e)&&0!==e.length)}})},postRender:function(){Fb.prototype.postRender.apply(this,arguments);const e=this.options.appState;this.$el.find(".js-sign-up").click((function(){return e.trigger("invokeAction",zy.SELECT_ENROLL_PROFILE),!1}))}}),n_=t_.extend({render:function(){t_.prototype.render.apply(this,arguments),this.$el.find(".sign-in-with-idp .separation-line").hide(),this.$el.find(".button-primary").hide()}});const i_=Ib.extend({title:function(){return td("password.reset.title.generic","login")},save:function(){return td("oform.next","login")},initialize:function(){Ib.prototype.initialize.apply(this,arguments);const e=this.options.appState.get("lastIdentifier");e&&(this.model.set("identifier",e),this.model.trigger("request"),this.trigger("save",this.model))},getUISchema:function(){return Ib.prototype.getUISchema.apply(this,arguments).map((e=>{let t={...e};return"identifier"===e.name&&(t={...t,autoComplete:ia.getAutocompleteValue(this.options.settings,"username")}),t}))}});var r_=Fb.extend({Body:i_,Footer:pb}),o_=pb.extend({links:function(){return db(this.options.appState,this.options.settings).concat((e=this.options.appState).getRemediationAuthenticationOptions(zy.SELECT_AUTHENTICATOR_AUTHENTICATE).length>1?[{type:"link",label:td("oie.verification.switch.authenticator","login"),name:"switchAuthenticator",formName:zy.SELECT_AUTHENTICATOR_AUTHENTICATE}]:e.getRemediationAuthenticationOptions(zy.SELECT_AUTHENTICATOR_ENROLL).length>=1?[{type:"link",label:td("oie.enroll.switch.authenticator","login"),name:"switchAuthenticator",formName:zy.SELECT_AUTHENTICATOR_ENROLL}]:[]);var e}}),s_=sd.extend({template:pl.template({1:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="bg-helper auth-beacon auth-beacon-factor '+l("function"==typeof(o=null!=(o=c(n,"className")||(null!=t?c(t,"className"):t))?o:a)?o.call(s,{name:"className",hash:{},data:r,loc:{start:{line:1,column:245},end:{line:1,column:258}}}):o)+' custom-app-logo" data-se="factor-beacon" role="img" aria-label="'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.auth.logo.aria.label"},data:r,loc:{start:{line:1,column:323},end:{line:1,column:378}}}))+'">'},3:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="bg-helper auth-beacon auth-beacon-factor '+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"className")||(null!=t?s(t,"className"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"className",hash:{},data:r,loc:{start:{line:1,column:441},end:{line:1,column:454}}}):o)+'" data-se="factor-beacon">'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div data-type="beacon-container" class="beacon-container"><div class="beacon-blank auth-beacon"><div class="beacon-blank js-blank-beacon-border auth-beacon-border"></div></div>'+(null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"logoUri"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r,loc:{start:{line:1,column:177},end:{line:1,column:487}}}))?o:"")+'<div class="okta-sign-in-beacon-border auth-beacon-border"></div></div></div >'},useData:!0}),postRender:function(){sd.prototype.postRender.apply(this,arguments);const e=this.getTemplateData();e.logoUri&&(this.el.querySelector(".custom-app-logo").style.backgroundImage=`url(${e.logoUri})`)},getTemplateData:function(){var e,t,n;const i=null===(e=this.options)||void 0===e?void 0:e.appState;return{className:this.getBeaconClassName()||"",logoUri:(null==i||null===(t=i.get("currentAuthenticator"))||void 0===t?void 0:t.logoUri)||(null==i||null===(n=i.get("currentAuthenticatorEnrollment"))||void 0===n?void 0:n.logoUri)}},getBeaconClassName:function(){return"undefined-user"}});const a_=s_.extend({authenticatorKey:function(){return this.options.appState.get("authenticatorKey")},getBeaconClassName:function(){return e=fl.result(this,"authenticatorKey"),Iv({authenticatorKey:e}).iconClassName;var e}});var l_=Fb.extend({Header:rb.extend({HeaderBeacon:a_}),Footer:o_}),c_=rb.extend({HeaderBeacon:a_.extend({authenticatorKey:Yy.EMAIL})});const u_={AUTHENTICATION:"idx.return.link.otponly.enter.code.on.sign.in.page",RECOVERY:"idx.return.link.otponly.enter.code.on.password.reset.page",UNLOCK_ACCOUNT:"idx.return.link.otponly.enter.code.on.account.unlock.page",ENROLLMENT:"idx.return.link.otponly.enter.code.on.sign.up.page"},h_=sd.extend({getTemplateData:function(){return((e,t)=>{var n,i;const r=t.get("app"),o=t.get("client"),s=u_[t.get("idx").context.intent],a=td(s||"idx.enter.otp.in.original.tab","login");let l,c,u,h;return null!=r&&r.label&&(l=td("idx.return.link.otponly.app","login",[r.label])),o&&(c=td("idx.return.link.otponly.browser.on.os","login",[o.browser,o.os]),u=c.includes("Android")||c.includes("iOS"),h=((e={})=>e.city||e.country?e.state?td("geolocation.formatting.all","login",[e.city,e.state,e.country]):td("geolocation.formatting.partial","login",[e.city,e.country]):null)(o.location)),{showRequestInfo:l||c||h,appName:l,browserOnOsString:c,isMobileDevice:u,geolocation:h,otp:e.get("otp")||(null===(n=t.get("currentAuthenticator"))||void 0===n||null===(i=n.contextualData)||void 0===i?void 0:i.otp),enterCodeOnFlowPage:a}})(this.options.settings,this.options.appState)}}).extend({template:pl.template({1:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="enduser-email-otp-only--info"><div class="okta-form-label">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"idx.return.link.otponly.request"},data:r,loc:{start:{line:1,column:198},end:{line:1,column:260}}}))+"</div></div>"},3:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="enduser-email-otp-only--info">'+(null!=(o=l(n,"if").call(a,null!=t?l(t,"isMobileDevice"):t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.program(6,r,0),data:r,loc:{start:{line:1,column:346},end:{line:1,column:540}}}))?o:"")+'<div data-se="otp-browser-os">'+e.escapeExpression("function"==typeof(s=null!=(s=l(n,"browserOnOsString")||(null!=t?l(t,"browserOnOsString"):t))?s:e.hooks.helperMissing)?s.call(a,{name:"browserOnOsString",hash:{},data:r,loc:{start:{line:1,column:570},end:{line:1,column:591}}}):s)+"</div></div>"},4:function(e,t,n,i,r){return'<i class="enduser-email-otp-only--icon icon--smartphone" aria-hidden="true"></i>'},6:function(e,t,n,i,r){return'<i class="enduser-email-otp-only--icon icon--desktop" aria-hidden="true"></i>'},8:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="enduser-email-otp-only--info"><i class="enduser-email-otp-only--icon icon--app" aria-hidden="true"></i><div data-se="otp-app">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"appName")||(null!=t?s(t,"appName"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"appName",hash:{},data:r,loc:{start:{line:1,column:763},end:{line:1,column:774}}}):o)+"</div></div>"},10:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="enduser-email-otp-only--info"><i class="enduser-email-otp-only--icon icon--location" aria-hidden="true"></i><div data-se="otp-geolocation">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"geolocation")||(null!=t?s(t,"geolocation"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"geolocation",hash:{},data:r,loc:{start:{line:1,column:963},end:{line:1,column:978}}}):o)+"</div></div>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="enter-code-on-page">'+u(typeof(s=null!=(s=h(n,"enterCodeOnFlowPage")||(null!=t?h(t,"enterCodeOnFlowPage"):t))?s:l)===c?s.call(a,{name:"enterCodeOnFlowPage",hash:{},data:r,loc:{start:{line:1,column:30},end:{line:1,column:53}}}):s)+"</p><h1 class='otp-value no-translate'>"+u(typeof(s=null!=(s=h(n,"otp")||(null!=t?h(t,"otp"):t))?s:l)===c?s.call(a,{name:"otp",hash:{},data:r,loc:{start:{line:1,column:92},end:{line:1,column:99}}}):s)+"</h1>"+(null!=(o=h(n,"if").call(a,null!=t?h(t,"showRequestInfo"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:104},end:{line:1,column:279}}}))?o:"")+(null!=(o=h(n,"if").call(a,null!=t?h(t,"browserOnOsString"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:279},end:{line:1,column:610}}}))?o:"")+(null!=(o=h(n,"if").call(a,null!=t?h(t,"appName"):t,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:610},end:{line:1,column:793}}}))?o:"")+(null!=(o=h(n,"if").call(a,null!=t?h(t,"geolocation"):t,{name:"if",hash:{},fn:e.program(10,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:793},end:{line:1,column:997}}}))?o:"")+"<br><p class='otp-warning'>"+u((h(n,"i18n")||t&&h(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"idx.return.link.otponly.warning.text"},data:r,loc:{start:{line:1,column:1024},end:{line:1,column:1091}}}))+"</p>"},useData:!0})}),d_="idx.error.code.access_denied.device_assurance.remediation",p_=`${d_}.additional_help_`,f_=`${d_}.additional_help_custom`,m_=`${d_}.option_index`,g_=`${d_}.title`,y_=`${d_}.explanation_`;var v_=sd.extend({className:"end-user-remediation-terminal-view",template:pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="end-user-remediation-title">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"title")||(null!=t?s(t,"title"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:r,loc:{start:{line:1,column:53},end:{line:1,column:62}}}):o)+"</div>"},3:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="end-user-remediation-explanation">'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"explanation")||(null!=t?s(t,"explanation"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"explanation",hash:{},data:r,loc:{start:{line:1,column:140},end:{line:1,column:155}}}):o)+"</div>"},5:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="end-user-remediation-options">'+(null!=(o=s(n,"each").call(null!=t?t:e.nullContext||{},null!=t?s(t,"remediationOptions"):t,{name:"each",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:236},end:{line:1,column:420}}}))?o:"")+"</div>"},6:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+e.escapeExpression("function"==typeof(s=null!=(s=l(n,"className")||(null!=t?l(t,"className"):t))?s:e.hooks.helperMissing)?s.call(a,{name:"className",hash:{},data:r,loc:{start:{line:1,column:276},end:{line:1,column:289}}}):s)+'">'+(null!=(o=l(n,"if").call(a,null!=t?l(t,"link"):t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.program(9,r,0),data:r,loc:{start:{line:1,column:291},end:{line:1,column:405}}}))?o:"")+"</div>"},7:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="'+c(typeof(o=null!=(o=u(n,"link")||(null!=t?u(t,"link"):t))?o:a)===l?o.call(s,{name:"link",hash:{},data:r,loc:{start:{line:1,column:312},end:{line:1,column:320}}}):o)+'" target="_blank" rel="noopener noreferrer">'+c(typeof(o=null!=(o=u(n,"message")||(null!=t?u(t,"message"):t))?o:a)===l?o.call(s,{name:"message",hash:{},data:r,loc:{start:{line:1,column:364},end:{line:1,column:375}}}):o)+"</a>"},9:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(o=null!=(o=s(n,"message")||(null!=t?s(t,"message"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"message",hash:{},data:r,loc:{start:{line:1,column:387},end:{line:1,column:398}}}):o)},11:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<a href='#' target='_blank' rel='noopener noreferrer' class='additional-help'>$1</a>",bundle:"login",code:"idx.error.code.access_denied.device_assurance.remediation.additional_help_custom"},data:r,loc:{start:{line:1,column:510},end:{line:1,column:712}}}))},13:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<a href='#' target='_blank' rel='noopener noreferrer' class='additional-help'>$1</a>",bundle:"login",code:"idx.error.code.access_denied.device_assurance.remediation.additional_help_default"},data:r,loc:{start:{line:1,column:720},end:{line:1,column:923}}}))},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"title"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:75}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"explanation"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:75},end:{line:1,column:168}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"remediationOptions"):t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:168},end:{line:1,column:433}}}))?o:"")+'<div class="end-user-remediation-help-and-contact">'+(null!=(o=a(n,"if").call(s,null!=t?a(t,"useCustomHelpText"):t,{name:"if",hash:{},fn:e.program(11,r,0),inverse:e.program(13,r,0),data:r,loc:{start:{line:1,column:484},end:{line:1,column:930}}}))?o:"")+"</div>"},useData:!0}),getTemplateData:function(){const e=this.options.messages.value,t=[];let n=null,i=null,r=!1;return e.forEach((e=>{e.i18n.key===g_?n=Hv(e):e.i18n.key.startsWith(y_)?i=Hv(e):e.i18n.key.startsWith(p_)?(r=e.i18n.key===f_,e.links&&e.links[0]&&e.links[0].url&&(this.additionalHelpUrl=e.links[0].url)):t.push(function(e){let t=null;return e.links&&e.links[0]&&e.links[0].url&&(t=e.links[0].url),{message:Hv(e),link:t,className:e.i18n.key===m_?"end-user-remediation-option":"end-user-remediation-action"}}(e))})),{title:n,explanation:i,remediationOptions:t,useCustomHelpText:r}},render:function(){sd.prototype.render.apply(this,arguments),this.additionalHelpUrl&&this.$el.find(".additional-help").attr("href",this.additionalHelpUrl)}});const b_="idx.return.link.expired",__="idx.enter.otp.in.original.tab",w_="idx.error.server.safe.mode",k_="oie.selfservice.unlock_user.success.message",S_="idx.return.to.original.tab",E_="idx.operation.cancelled.on.other.device",T_="idx.device.activated",x_="idx.device.not.activated.consent.denied",C_="idx.device.not.activated.internal.error",P_="idx.transferred.to.new.tab",A_="idx.expired.activation.token",O_="idx.missing.activation.token",I_="idx.request.activation.email",L_="idx.activating.inactive.user",D_="oie.registration.is.not.enabled",R_="oie.forgot.password.is.not.enabled",M_=[P_,"idx.return.stale","idx.return.error","idx.email.verification.required",S_,b_,E_,"idx.operation.cancelled.by.user",__],N_=[x_,C_],j_=[T_,...N_],F_=[k_,S_,P_,E_,...j_,"oie.selfservice.unlock_user.challenge.failed.permissions","oie.selfservice.reset.password.not.allowed",__],B_={[b_]:"oie.email.return.link.expired.title",[k_]:"account.unlock.unlocked.title",[T_]:"device.code.activated.success.title",[D_]:"oie.registration.form.title",[R_]:"password.reset.title.generic",[A_]:"oie.activation.request.email.title.expire",[I_]:"oie.activation.request.email.title.submitted",[L_]:"oie.activation.request.email.title.suspended",[O_]:"oie.activation.request.email.title.invalid",[x_]:"device.code.activated.error.title",[C_]:"device.code.activated.error.title",[S_]:"oie.consent.enduser.email.allow.title",[__]:"idx.return.link.otponly.your.verification.code"},U_=Ib.extend({noButtonBar:!0,postRender:function(){if(Ib.prototype.postRender.apply(this,arguments),this.$el.addClass("terminal-state"),this.options.appState.containsMessageWithI18nKey(j_)){const e=this.options.appState.containsMessageWithI18nKey(T_)?"success-24-green":"error-24-red";this.$(".o-form-head").before('<div class="device-code-terminal--icon-container"><span class="device-code-terminal--icon '+e+'"></span></div>')}},title:function(){return this.getTerminalViewTitle()},getTerminalViewTitle:function(){if(this.options.appState.containsMessageStartingWithI18nKey(w_))return td("oie.safe.mode.title","login");const e=Object.keys(B_).find((e=>this.options.appState.containsMessageWithI18nKey(e)));return e?td(B_[e],"login"):void 0},prepareMessageForCustomView:function(e){let t=!1;return this.options.appState.containsMessageWithI18nKey(__)?(this.add(h_),t=!0):this.options.appState.containsMessageStartingWithI18nKey("security.access_denied_custom_message")?(this.add(id({type:"error",content:new Qb({message:e.value[0].message,links:e.value[0].links})})),t=!0):this.options.appState.containsMessageStartingWithI18nKey("idx.error.code.access_denied.device_assurance.remediation.")&&(this.add(id({type:"error",content:new v_({messages:e})})),t=!0),t},showMessages:function(){const e=this.options.appState.get("messages");let t,n=!1;this.options.appState.containsMessageWithI18nKey(E_)?(t=td("idx.operation.cancelled.on.other.device","login"),e.value.push({message:td("oie.consent.enduser.deny.description","login")})):this.options.appState.containsMessageWithI18nKey(S_)?(t=td("oie.consent.enduser.email.allow.description","login"),e.value.push({message:td("oie.return.to.original.tab","login")})):this.options.appState.containsMessageWithI18nKey("tooManyRequests")?t=td("oie.tooManyRequests","login"):this.options.appState.containsMessageWithI18nKey(b_)?e.value[0].class="ERROR":n=this.prepareMessageForCustomView(e),t&&Array.isArray(null==e?void 0:e.value)&&(e.value[0].message=t),this.options.appState.set("messages",e),n||Ib.prototype.showMessages.call(this)}}),q_=pb.extend({links:function(){return this.options.appState.containsMessageStartingWithI18nKey(w_)?ub(this.options.appState):this.options.appState.containsMessageWithI18nKey(N_)?[{type:"link",label:td("oie.try.again","login"),name:"try-again",href:window.location,className:"button button-primary text-align-c"}]:this.options.appState.hasActionObject("cancel")||this.options.appState.containsMessageWithI18nKey(F_)||this.options.settings.get("features.hideSignOutLinkInMFA")||this.options.settings.get("features.mfaOnlyFlow")?void 0:(({settings:e,appState:t})=>{const n={};return null!=e&&e.get("backToSignInUri")?n.href=e.get("backToSignInUri"):null!=e&&e.get("oauth2Enabled")?n.clickHandler=()=>{t.trigger("restartLoginFlow")}:n.href=null==e?void 0:e.get("baseUrl"),[{type:"link",label:td("goback","login"),name:"go-back",...n}]})(this.options)}});var V_=Fb.extend({initialize:function(){Fb.prototype.initialize.apply(this,arguments),this.options.appState.containsMessageWithI18nKey(M_)&&(this.Header=c_)},Body:U_,Footer:q_});const H_="security.access_denied_custom_message",$_=Ib.extend({title:function(){let e=td("oie.success.text.signingIn","login");const t=this.options.appState.get("app"),n=this.options.appState.get("user");if(ia.isAndroidOVEnrollment())return e=td("oie.success.text.signingIn.with.appName.android.ov.enrollment","login"),e;if(!this.redirectView||"NONE"===this.redirectView)return e=td("oie.success.text.signingIn.with.ellipsis","login"),e;if(fl.isEmpty(t))return e;const{label:i,name:r}=t,{identifier:o}=n||{},s=i||r;return s&&o&&!this.settings.get("features.showIdentifier")?e=td("oie.success.text.signingIn.with.appName.and.identifier","login",[s,o]):s&&(e=td("oie.success.text.signingIn.with.appName","login",[s])),e},showMessages:function(){if(this.isUnlockSuccess()){const e=".o-form-error-container",t=td("oie.selfservice.unlock_user.landing.to.app.signing.in.message","login");this.add(`<div class="ion-messages-container"><p>${t}</p></div>`,e)}else if(this.options.appState.containsMessageStartingWithI18nKey(H_)){const{message:e,links:t}=this.options.appState.get("messages").value.find((e=>e.i18n.key===H_));this.add(id({type:"error",content:new Qb({message:e,links:t})}))}else Ib.prototype.showMessages.call(this)},isUnlockSuccess:function(){return this.options.appState.containsMessageWithI18nKey("oie.selfservice.unlock_user.landing.to.app.success.message")},noButtonBar:!0,initialize:function(){Ib.prototype.initialize.apply(this,arguments),this.redirectView=this.settings.get("interstitialBeforeLoginRedirect"),this.model.set("useRedirect",!0),this.trigger("save",this.model)},render:function(){if(Ib.prototype.render.apply(this,arguments),ia.isAndroidOVEnrollment()){const e=this.options.appState.getCurrentViewState();this.add(nd({className:"ul-button button button-wide button-primary hide-underline",title:td("oktaVerify.open.button","login"),id:"launch-enrollment-ov",click:()=>{ia.redirectWithFormGet(e.href)}}))}else"DEFAULT"===this.redirectView&&this.add('<div class="okta-waiting-spinner"></div>')}});var z_=Fb.extend({Header:ia.isAndroidOVEnrollment()?rb.extend({HeaderBeacon:a_.extend({authenticatorKey:Yy.OV})}):rb,Body:$_});const W_=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="ion-messages-container"><p>'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<span class='strong'>$1</span>",arguments:"countDownCounterValue",bundle:"login",code:"poll.form.message"},data:r,loc:{start:{line:1,column:39},end:{line:1,column:157}}}))+'</p></div><div class="hide okta-waiting-spinner"></div>'},useData:!0}),getTemplateData:function(){return{countDownCounterValue:this.options}}}),G_=Ib.extend(Object.assign({title:function(){return td("poll.form.title","login")},noButtonBar:!0,initialize:function(){Ib.prototype.initialize.apply(this,arguments);const e=this.options.appState.getCurrentViewState().refresh;this.refreshTimeout=setTimeout((()=>{this.$el.find(".okta-waiting-spinner").show(),setTimeout((()=>this.saveForm(this.model)),200)}),e)},render:function(){Ib.prototype.render.apply(this,arguments),this.countDownCounterValue=Math.ceil(this.options.appState.getCurrentViewState().refresh/mb),this.add(new W_(this.countDownCounterValue)),this.startCountDown(".ion-messages-container span",mb)},remove:function(){Ib.prototype.remove.apply(this,arguments),clearTimeout(this.refreshTimeout)},triggerAfterError:function(){Ib.prototype.triggerAfterError.apply(this,arguments),clearTimeout(this.refreshTimeout),this.stopCountDown(),this.$el.find(".o-form-fieldset-container").empty()},startCountDown:function(e,t){this.countDown&&clearInterval(this.countDown),this.counterEl=this.$el.find(e),this.countDown=setInterval((()=>{"0"!==this.counterEl.text()&&this.counterEl.text(this.counterEl.text()-1)}),t,this)},stopCountDown:function(){this.countDown&&clearInterval(this.countDown)}}));var K_=Fb.extend({Body:G_});const Y_=sd.extend({className:"consent-title detail-row",titleText:()=>td("oie.consent.scopes.admin.title","login"),hasIssuer:!0,template:pl.template({1:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="'+c(typeof(o=null!=(o=u(n,"clientURI")||(null!=t?u(t,"clientURI"):t))?o:a)===l?o.call(s,{name:"clientURI",hash:{},data:r,loc:{start:{line:1,column:26},end:{line:1,column:39}}}):o)+'" class="client-logo-link" title="'+c(typeof(o=null!=(o=u(n,"altText")||(null!=t?u(t,"altText"):t))?o:a)===l?o.call(s,{name:"altText",hash:{},data:r,loc:{start:{line:1,column:73},end:{line:1,column:84}}}):o)+'" target="_blank">'},3:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<img class="client-logo custom-logo" src="'+c(typeof(o=null!=(o=u(n,"customLogo")||(null!=t?u(t,"customLogo"):t))?o:a)===l?o.call(s,{name:"customLogo",hash:{},data:r,loc:{start:{line:1,column:169},end:{line:1,column:183}}}):o)+'" alt="'+c(typeof(o=null!=(o=u(n,"altText")||(null!=t?u(t,"altText"):t))?o:a)===l?o.call(s,{name:"altText",hash:{},data:r,loc:{start:{line:1,column:190},end:{line:1,column:201}}}):o)+'" aria-hidden="true" />'},5:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<img class="client-logo default-logo" src="'+c(typeof(o=null!=(o=u(n,"defaultLogo")||(null!=t?u(t,"defaultLogo"):t))?o:a)===l?o.call(s,{name:"defaultLogo",hash:{},data:r,loc:{start:{line:1,column:275},end:{line:1,column:290}}}):o)+'" alt="'+c(typeof(o=null!=(o=u(n,"altText")||(null!=t?u(t,"altText"):t))?o:a)===l?o.call(s,{name:"altText",hash:{},data:r,loc:{start:{line:1,column:297},end:{line:1,column:308}}}):o)+'" aria-hidden="true" />'},7:function(e,t,n,i,r){return"</a>"},9:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="issuer no-translate"><span>'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"issuer")||(null!=t?s(t,"issuer"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"issuer",hash:{},data:r,loc:{start:{line:1,column:513},end:{line:1,column:523}}}):o)+"</span></div>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=h(n,"if").call(a,null!=t?h(t,"clientURI"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:109}}}))?o:"")+(null!=(o=h(n,"if").call(a,null!=t?h(t,"customLogo"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.program(5,r,0),data:r,loc:{start:{line:1,column:109},end:{line:1,column:338}}}))?o:"")+(null!=(o=h(n,"if").call(a,null!=t?h(t,"clientURI"):t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:338},end:{line:1,column:366}}}))?o:"")+'<h1><span class="title-text"><b class="no-translate">'+u(typeof(s=null!=(s=h(n,"appName")||(null!=t?h(t,"appName"):t))?s:l)===c?s.call(a,{name:"appName",hash:{},data:r,loc:{start:{line:1,column:419},end:{line:1,column:430}}}):s)+"</b>&nbsp;"+u(typeof(s=null!=(s=h(n,"titleText")||(null!=t?h(t,"titleText"):t))?s:l)===c?s.call(a,{name:"titleText",hash:{},data:r,loc:{start:{line:1,column:440},end:{line:1,column:453}}}):s)+"</span>"+(null!=(o=h(n,"if").call(a,null!=t?h(t,"issuer"):t,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:460},end:{line:1,column:543}}}))?o:"")+"</h1>"},useData:!0}),getTemplateData:function(){const{appState:e}=this.options,{label:t,clientUri:n,logo:i}=e.get("app"),{issuer:r}=e.get("authentication"),o=null==i?void 0:i.href,s=td("logo.for.the.app.alt.text","login"),a=fl.escape(t);return{customLogo:o,defaultLogo:"/img/logos/default.png",clientURI:null==n?void 0:n.href,issuer:this.hasIssuer?null==r?void 0:r.uri:null,altText:s,appName:a,titleText:this.titleText()}}});var X_=Ib.extend({noButtonBar:!1,noCancelButton:!1,buttonOrder:["cancel","save"],save:()=>td("consent.required.consentButton","login"),cancel:()=>td("consent.required.cancelButton","login"),title:!1,events:{'click input[data-type="save"]':function(){this.setConsent(!0)}},setConsent:function(e){this.model.set("consent",e)},cancelForm:function(){this.setConsent(!1),this.options.appState.trigger("saveForm",this.model)}}),J_=Fb.extend({Header:Y_,Body:X_,createModelClass:function(e){const t=Fb.prototype.createModelClass.apply(this,arguments),{uiSchema:n}=e,{scopes:i}=n[0],r=i.map((({name:e,displayName:t,description:n})=>{const i=`consent.scopes.${e}`,r=`${i}.label`,o=`${i}.desc`,s=qv(r),a=qv(o);return{name:e,displayName:s?td(r,"login"):t,description:a?td(o,"login"):n,isCustomized:!s}}));return t.extend({props:{scopes:{type:"array",value:r}},local:{consent:{type:"boolean",value:!1}},toJSON:function(){return{consent:this.get("consent")}}})}});const Q_=sd.extend({className:"consent-footer",template:pl.template({1:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a class="terms-of-service" href="'+c("function"==typeof(s=null!=(s=u(n,"termsOfService")||(null!=t?u(t,"termsOfService"):t))?s:l)?s.call(a,{name:"termsOfService",hash:{},data:r,loc:{start:{line:1,column:56},end:{line:1,column:74}}}):s)+'" target="_blank">'+c((u(n,"i18n")||t&&u(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"consent.required.termsOfService"},data:r,loc:{start:{line:1,column:92},end:{line:1,column:154}}}))+"</a>"+(null!=(o=u(n,"if").call(a,null!=t?u(t,"privacyPolicy"):t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:158},end:{line:1,column:226}}}))?o:"")},2:function(e,t,n,i,r){return'<span class="no-translate">&#8226</span>'},4:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a class="privacy-policy" href="'+l("function"==typeof(o=null!=(o=c(n,"privacyPolicy")||(null!=t?c(t,"privacyPolicy"):t))?o:a)?o.call(s,{name:"privacyPolicy",hash:{},data:r,loc:{start:{line:1,column:286},end:{line:1,column:303}}}):o)+'" target="_blank">'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"consent.required.privacyPolicy"},data:r,loc:{start:{line:1,column:321},end:{line:1,column:382}}}))+"</a>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"termsOfService"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:233}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"privacyPolicy"):t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:233},end:{line:1,column:393}}}))?o:"")},useData:!0}),getTemplateData:function(){const e=this.options.appState.get("app");return{termsOfService:e.termsOfService&&e.termsOfService.href,privacyPolicy:e.privacyPolicy&&e.privacyPolicy.href}}});var Z_=Y_.extend({titleText:()=>td("oie.consent.scopes.enduser.title","login"),hasIssuer:!1}),ew=sd.extend({className:"consent-description detail-row",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"consent.required.description"},data:r,loc:{start:{line:1,column:3},end:{line:1,column:62}}}))+"</p>"},useData:!0})}),tw=J_.extend({Header:Z_,Footer:Q_,postRender:function(){const e=this.$el.find(".scope-list"),t=(new ew).render().el;e.after(t)}}),nw=ld.views.forms.inputs.CheckBox.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<input type="checkbox" name="'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:a)===l?o.call(s,{name:"name",hash:{},data:r,loc:{start:{line:1,column:29},end:{line:1,column:37}}}):o)+'" id="'+c(typeof(o=null!=(o=u(n,"inputId")||(null!=t?u(t,"inputId"):t))?o:a)===l?o.call(s,{name:"inputId",hash:{},data:r,loc:{start:{line:1,column:43},end:{line:1,column:54}}}):o)+'"/><label for="'+c(typeof(o=null!=(o=u(n,"inputId")||(null!=t?u(t,"inputId"):t))?o:a)===l?o.call(s,{name:"inputId",hash:{},data:r,loc:{start:{line:1,column:69},end:{line:1,column:80}}}):o)+'" data-se-for-name="'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:a)===l?o.call(s,{name:"name",hash:{},data:r,loc:{start:{line:1,column:100},end:{line:1,column:108}}}):o)+'"><b>'+c(typeof(o=null!=(o=u(n,"placeholder")||(null!=t?u(t,"placeholder"):t))?o:a)===l?o.call(s,{name:"placeholder",hash:{},data:r,loc:{start:{line:1,column:113},end:{line:1,column:128}}}):o)+"</b><p>"+c(typeof(o=null!=(o=u(n,"desc")||(null!=t?u(t,"desc"):t))?o:a)===l?o.call(s,{name:"desc",hash:{},data:r,loc:{start:{line:1,column:135},end:{line:1,column:143}}}):o)+"</p></label>"},useData:!0}),getLocalizedLabel:function(){const e=`consent.scopes.${this.options.options.scopeName}.label`;return qv(e)?td(e,"login"):this.options.placeholder||this.options.options.scopeName},getLocalizedDesc:function(){const e=`consent.scopes.${this.options.options.scopeName}.desc`;return qv(e)?td(e,"login"):this.options.options.desc},isCustomizedScope:function(){return!qv(`consent.scopes.${this.options.options.scopeName}.label`)},enable:function(){this.options.options.mutable&&this.$(":input").prop("disabled",!1)},editMode:function(){if(this.$el.html(this.template(fl.extend(fl.omit(this.options,"placeholder"),{placeholder:this.getLocalizedLabel(),desc:this.getLocalizedDesc()}))),this.$(":checkbox").prop("checked",this.getModelValue()||!1),this.$("input").customInput(),this.model.trigger("form:resize"),!this.options.options.mutable){const e=this.$("input").get(0);this.$(e.parentElement).addClass("o-form-read-mode"),this.$(":checkbox").prop("disabled",!0)}return("openid"===this.options.options.scopeName||this.isCustomizedScope())&&(this.$("label > b").addClass("no-translate"),this.isCustomizedScope()&&this.$("label > p").addClass("no-translate")),this}});const iw=Y_.extend({hasIssuer:!1,template:pl.template({1:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="'+c(typeof(o=null!=(o=u(n,"clientURI")||(null!=t?u(t,"clientURI"):t))?o:a)===l?o.call(s,{name:"clientURI",hash:{},data:r,loc:{start:{line:1,column:26},end:{line:1,column:39}}}):o)+'" class="client-logo-link" title="'+c(typeof(o=null!=(o=u(n,"altText")||(null!=t?u(t,"altText"):t))?o:a)===l?o.call(s,{name:"altText",hash:{},data:r,loc:{start:{line:1,column:73},end:{line:1,column:84}}}):o)+'" target="_blank">'},3:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<img class="client-logo custom-logo" src="'+c(typeof(o=null!=(o=u(n,"customLogo")||(null!=t?u(t,"customLogo"):t))?o:a)===l?o.call(s,{name:"customLogo",hash:{},data:r,loc:{start:{line:1,column:169},end:{line:1,column:183}}}):o)+'" alt="'+c(typeof(o=null!=(o=u(n,"altText")||(null!=t?u(t,"altText"):t))?o:a)===l?o.call(s,{name:"altText",hash:{},data:r,loc:{start:{line:1,column:190},end:{line:1,column:201}}}):o)+'" aria-hidden />'},5:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<img class="client-logo default-logo" src="'+c(typeof(o=null!=(o=u(n,"defaultLogo")||(null!=t?u(t,"defaultLogo"):t))?o:a)===l?o.call(s,{name:"defaultLogo",hash:{},data:r,loc:{start:{line:1,column:268},end:{line:1,column:283}}}):o)+'" alt="'+c(typeof(o=null!=(o=u(n,"altText")||(null!=t?u(t,"altText"):t))?o:a)===l?o.call(s,{name:"altText",hash:{},data:r,loc:{start:{line:1,column:290},end:{line:1,column:301}}}):o)+'" aria-hidden />'},7:function(e,t,n,i,r){return"</a>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"clientURI"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:109}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"customLogo"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.program(5,r,0),data:r,loc:{start:{line:1,column:109},end:{line:1,column:324}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"clientURI"):t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:324},end:{line:1,column:352}}}))?o:"")+'<h1><span class="title-text">'+e.escapeExpression((a(n,"i18n")||t&&a(t,"i18n")||e.hooks.helperMissing).call(s,{name:"i18n",hash:{$2:"<p>$2</p>",$1:"<b class='no-translate'>$1</b>",arguments:"appName",bundle:"login",code:"oie.consent.scopes.granular.title"},data:r,loc:{start:{line:1,column:381},end:{line:1,column:517}}}))+"</span></h1>"},useData:!0})}),rw=X_.extend({cancel:Ib.prototype.cancel,getUISchema:function(){const e=Ib.prototype.getUISchema.apply(this,arguments);return e.forEach((e=>{"checkbox"===e.type&&fl.assign(e,{input:nw,options:{desc:e.desc,mutable:e.mutable,scopeName:e.name.substring(e.name.indexOf(".")+1)}})})),e}}),ow=sd.extend({className:"consent-description",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.consent.scopes.granular.description"},data:r,loc:{start:{line:1,column:3},end:{line:1,column:73}}}))+"</p>"},useData:!0})});var sw=Fb.extend({Header:iw,Body:rw,Footer:Q_,postRender:function(){const e=this.$el.find(".o-form-fieldset-container");e.before((new ow).render().el),this.$(":disabled").each((function(){e.append(Vl(this).closest(".o-form-fieldset"))}))}});const aw=pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="enduser-email-consent--info no-translate"><i class="enduser-email-consent--icon icon--desktop"></i><div>'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"browser")||(null!=t?s(t,"browser"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"browser",hash:{},data:r,loc:{start:{line:1,column:131},end:{line:1,column:142}}}):o)+"</div></div>"},3:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="enduser-email-consent--info no-translate"><i class="enduser-email-consent--icon icon--app"></i><div>'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"app")||(null!=t?s(t,"app"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"app",hash:{},data:r,loc:{start:{line:1,column:284},end:{line:1,column:291}}}):o)+"</div></div>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"browser"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:161}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"app"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:161},end:{line:1,column:310}}}))?o:"")},useData:!0}),lw=X_.extend({className:"enduser-email-consent",title:function(){return td("oie.consent.enduser.title","login")},save:function(){return td("oie.consent.enduser.accept.label","login")},cancel:function(){return td("oie.consent.enduser.deny.label","login")},initialize:function(){Ib.prototype.initialize.apply(this,arguments);const e=aw(this.model.pick("browser","app"));this.add(e)},getUISchema:function(){return Ib.prototype.getUISchema.apply(this,arguments).filter((e=>"consent"!==e.name))}});var cw=l_.extend({Header:c_,buttonOrder:["cancel","save"],postRender:function(){this.$el.find(".o-form-button-bar").find(".button-primary").removeClass("button-primary")},Body:lw,createModelClass:function({requestInfo:e}){const t=l_.prototype.createModelClass.apply(this,arguments),n=e.find((({name:e})=>"browser"===e)),i=e.find((({name:e})=>"appName"===e)),r=Object.assign({browser:{type:"string",value:null==n?void 0:n.value},app:{type:"string",value:null==i?void 0:i.value}},t.prototype.local);return t.extend({local:r,toJSON:function(){return{consent:this.get("consent")}}})}}),uw=rb.extend({HeaderBeacon:a_.extend({authenticatorKey:Yy.OV})});const hw=zb.extend({pollingCancelAction:gb,getDeviceChallengePayload:function(){return this.options.currentViewState.relatesTo.value},doChallenge:function(){Ub(this,yb)},onPollingFail:function(){zb.prototype.onPollingFail.apply(this,arguments);const e={label:td("loopback.polling.cancel.link.with.form.error","login")};this.options.appState.trigger("updateFooterLink",e)},showCustomFormErrorCallout:function(e,t){const n=e.responseJSON;let i={type:"error",className:"okta-verify-uv-callout-content",subtitle:n.errorSummary};if(n.errorSummaryKeys&&n.errorSummaryKeys.some((e=>e.includes("auth.factor.signedNonce.error")))&&(i.title=td("user.fail.verifyIdentity","login")),n.errorSummaryKeys&&n.errorSummaryKeys.some((e=>e.includes("security.access_denied_custom_message")))){const e=null==t?void 0:t.find((e=>"security.access_denied_custom_message"===e.i18n.key));if(!e)return!1;i={type:"error",content:new Qb({message:n.errorSummary,links:e.links})}}return this.showMessages(id(i)),!0}}),dw=pb.extend({initialize:function(){this.listenTo(this.options.appState,"updateFooterLink",this.handleUpdateFooterLink),this.isFallbackApproach()&&!this.isFallbackDelayed()?pb.prototype.initialize.apply(this,arguments):this.backLink=this.add(ob,{options:{name:"cancel-authenticator-challenge",label:td("loopback.polling.cancel.link","login"),clickHandler:()=>{qb(this.options.appState,gb,"USER_CANCELED",null)}}}).last()},handleUpdateFooterLink:function(e){this.isFallbackApproach()&&!this.isFallbackDelayed()||(this.backLink&&this.backLink.remove(),this.backLink=this.add(ob,{options:hb(this.options.settings,e)[0]}).last())},isFallbackApproach:function(){return[na.CUSTOM_URI_CHALLENGE,na.UNIVERSAL_LINK_CHALLENGE,na.APP_LINK_CHALLENGE].includes(this.options.currentViewState.relatesTo.value.challengeMethod)},isFallbackDelayed:function(){return this.options.currentViewState.relatesTo.value.challengeMethod===na.APP_LINK_CHALLENGE}});var pw=Fb.extend({Header:uw,Body:hw,Footer:dw});const fw=Ib.extend({noButtonBar:!0,className:"ion-form device-challenge-poll",title:function(){return td("deviceTrust.sso.redirectText","login")},initialize:function(){var e,t;Ib.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"error",(()=>{this.$(".spinner").hide()})),this.add('<div class="spinner"></div>');const n="get"===(null===(e=this.options.currentViewState)||void 0===e||null===(t=e.method)||void 0===t?void 0:t.toLowerCase());this.model.set("useRedirect",n),this.trigger("save",this.model)}});var mw=Fb.extend({Body:fw});const gw=Ib.extend({title:function(){return td("primaryauth.title","login")},noButtonBar:!0,initialize:function(){Ib.prototype.initialize.apply(this,arguments),this.add(Xb,{selector:".o-form-fieldset-container",bubble:!1,prepend:!0,options:{isRequired:!0}})}}),yw=Gb.extend({hasBackToSignInLink:!1});var vw=Fb.extend({Body:gw,Footer:yw});const{Notification:bw}=ld.views.components,{Clipboard:_w}=ld.util,ww=e=>{const t=(e.platform||"").toLowerCase(),n=e.challengeMethod,i=e.name,r=t===na.IOS,o=t===na.ANDROID&&"APP_LINK"===n,s=t===na.ANDROID&&"LOOPBACK"===n;return{signInUrl:e.signInUrl,isIOS:r,enrollmentType:i,isAndroidLoopback:s,isAndroidAppLink:o,appStoreLink:r?na.OKTA_VERIFY_APPLE_APP_STORE_URL:na.OKTA_VERIFY_GOOGLE_PLAY_STORE_URL,orgName:e.orgName}},kw=sd.extend({getTemplateData:function(){const e=this.options.appState.get("deviceEnrollment");return ww(e)}}),Sw=kw.extend({template:pl.template({1:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.mdm.step.copyLink"},data:r,loc:{start:{line:1,column:120},end:{line:1,column:175}}}))+'<a data-clipboard-text="'+l("function"==typeof(o=null!=(o=c(n,"appStoreLink")||(null!=t?c(t,"appStoreLink"):t))?o:a)?o.call(s,{name:"appStoreLink",hash:{},data:r,loc:{start:{line:1,column:199},end:{line:1,column:215}}}):o)+'" class="button link-button copy-clipboard-button">'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.mdm.copyLink"},data:r,loc:{start:{line:1,column:266},end:{line:1,column:316}}}))+"</a></li><li>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.mdm.step.pasteLink"},data:r,loc:{start:{line:1,column:329},end:{line:1,column:385}}}))+"</li><li>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.step3"},data:r,loc:{start:{line:1,column:394},end:{line:1,column:441}}}))+"</li>"},3:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li>"+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"enroll.oda.android.step1"},data:r,loc:{start:{line:1,column:482},end:{line:1,column:537}}}))+"</li>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u="function",h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="explanation" data-se="subheader">'+c((h(n,"i18n")||t&&h(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"enroll.explanation.p1"},data:r,loc:{start:{line:1,column:43},end:{line:1,column:95}}}))+"</p><ol>"+(null!=(o=h(n,"if").call(a,null!=t?h(t,"isIOS"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:103},end:{line:1,column:453}}}))?o:"")+(null!=(o=h(n,"if").call(a,null!=t?h(t,"isAndroidLoopback"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:453},end:{line:1,column:549}}}))?o:"")+"<li>"+c((h(n,"i18n")||t&&h(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.step1"},data:r,loc:{start:{line:1,column:553},end:{line:1,column:600}}}))+"</li><li>"+c((h(n,"i18n")||t&&h(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.step2"},data:r,loc:{start:{line:1,column:609},end:{line:1,column:656}}}))+'<p class="org-signin-link"><span class="no-translate">'+c(typeof(s=null!=(s=h(n,"signInUrl")||(null!=t?h(t,"signInUrl"):t))?s:l)===u?s.call(a,{name:"signInUrl",hash:{},data:r,loc:{start:{line:1,column:710},end:{line:1,column:723}}}):s)+'</span></p><a data-clipboard-text="'+c(typeof(s=null!=(s=h(n,"signInUrl")||(null!=t?h(t,"signInUrl"):t))?s:l)===u?s.call(a,{name:"signInUrl",hash:{},data:r,loc:{start:{line:1,column:758},end:{line:1,column:771}}}):s)+'" class="button link-button copy-org-clipboard-button">'+c((h(n,"i18n")||t&&h(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.org.copyLink"},data:r,loc:{start:{line:1,column:826},end:{line:1,column:880}}}))+"</a></li><li>"+c((h(n,"i18n")||t&&h(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.step6"},data:r,loc:{start:{line:1,column:893},end:{line:1,column:940}}}))+"</li></ol>"},useData:!0}),postRender:function(){_w.attach(".copy-clipboard-button").done((()=>{let e=new bw({message:td("enroll.mdm.copyLink.success","login"),level:"success"});return this.el.prepend(e.render().el),!1})),_w.attach(".copy-org-clipboard-button").done((()=>{let e=new bw({message:td("enroll.oda.org.copyLink.success","login"),level:"success"});return this.el.prepend(e.render().el),!1}))}}),Ew=kw.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,a=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="explanation" data-se="subheader">'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.with.account.explanation"},data:r,loc:{start:{line:1,column:43},end:{line:1,column:109}}}))+'</p><p class="subtitle">'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.with.account.subtitile1 "},data:r,loc:{start:{line:1,column:133},end:{line:1,column:199}}}))+"</p><ul><li>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.with.account.step1"},data:r,loc:{start:{line:1,column:211},end:{line:1,column:271}}}))+"</li><li>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.with.account.step2"},data:r,loc:{start:{line:1,column:280},end:{line:1,column:340}}}))+"</li><li>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.with.account.step3"},data:r,loc:{start:{line:1,column:349},end:{line:1,column:409}}}))+'</li></ul><p class="subtitle">'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.with.account.subtitile2 "},data:r,loc:{start:{line:1,column:439},end:{line:1,column:505}}}))+"</p><ol><li>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.with.account.step4"},data:r,loc:{start:{line:1,column:517},end:{line:1,column:577}}}))+"</li><li>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{arguments:"signInUrl",bundle:"login",code:"enroll.oda.with.account.step5"},data:r,loc:{start:{line:1,column:586},end:{line:1,column:668}}}))+"</li><li>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.with.account.step6"},data:r,loc:{start:{line:1,column:677},end:{line:1,column:737}}}))+"</li><li>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.with.account.step7"},data:r,loc:{start:{line:1,column:746},end:{line:1,column:806}}}))+"</li></ol>"},useData:!0})}),Tw=kw.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u="function",h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="explanation" data-se="subheader">'+c((h(n,"i18n")||t&&h(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.without.account.explanation"},data:r,loc:{start:{line:1,column:43},end:{line:1,column:112}}}))+"</p><ol><li>"+(null!=(o=(h(n,"i18n")||t&&h(t,"i18n")||l).call(a,{name:"i18n",hash:{arguments:"appStoreLink",bundle:"login",code:"enroll.oda.without.account.step1"},data:r,loc:{start:{line:1,column:124},end:{line:1,column:214}}}))?o:"")+"</li><li>"+c((h(n,"i18n")||t&&h(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.step1"},data:r,loc:{start:{line:1,column:223},end:{line:1,column:270}}}))+"</li><li>"+c((h(n,"i18n")||t&&h(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.step2"},data:r,loc:{start:{line:1,column:279},end:{line:1,column:326}}}))+'<p class="org-signin-link"><span class="no-translate">'+c(typeof(s=null!=(s=h(n,"signInUrl")||(null!=t?h(t,"signInUrl"):t))?s:l)===u?s.call(a,{name:"signInUrl",hash:{},data:r,loc:{start:{line:1,column:380},end:{line:1,column:393}}}):s)+'</span></p><a data-clipboard-text="'+c(typeof(s=null!=(s=h(n,"signInUrl")||(null!=t?h(t,"signInUrl"):t))?s:l)===u?s.call(a,{name:"signInUrl",hash:{},data:r,loc:{start:{line:1,column:428},end:{line:1,column:441}}}):s)+'" class="button link-button copy-org-clipboard-button">'+c((h(n,"i18n")||t&&h(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.org.copyLink"},data:r,loc:{start:{line:1,column:496},end:{line:1,column:550}}}))+"</a></li><li>"+c((h(n,"i18n")||t&&h(t,"i18n")||l).call(a,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.without.account.step4"},data:r,loc:{start:{line:1,column:563},end:{line:1,column:626}}}))+"</li></ol>"},useData:!0}),postRender:function(){_w.attach(".copy-org-clipboard-button").done((()=>{let e=new bw({message:td("enroll.oda.org.copyLink.success","login"),level:"success"});return this.el.prepend(e.render().el),!1}))}}),{Notification:xw}=ld.views.components,{Clipboard:Cw}=ld.util;var Pw=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.explanation.mdm"},data:r,loc:{start:{line:1,column:5},end:{line:1,column:58}}}))+"</div><ol><li>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.mdm.step.copyLink"},data:r,loc:{start:{line:1,column:72},end:{line:1,column:127}}}))+'<a data-clipboard-text="'+l("function"==typeof(o=null!=(o=c(n,"enrollmentLink")||(null!=t?c(t,"enrollmentLink"):t))?o:a)?o.call(s,{name:"enrollmentLink",hash:{},data:r,loc:{start:{line:1,column:151},end:{line:1,column:169}}}):o)+'" class="button link-button copy-clipboard-button">'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.mdm.copyLink"},data:r,loc:{start:{line:1,column:220},end:{line:1,column:270}}}))+"</a></li><li>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.mdm.step.pasteLink"},data:r,loc:{start:{line:1,column:283},end:{line:1,column:339}}}))+"</li><li>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{$1:"<span class='semi-strong'>$1</span>",arguments:"vendor",bundle:"login",code:"enroll.mdm.step.followInstructions"},data:r,loc:{start:{line:1,column:348},end:{line:1,column:473}}}))+"</li><li>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.mdm.step.relogin"},data:r,loc:{start:{line:1,column:482},end:{line:1,column:536}}}))+"</li></ol>"},useData:!0}),getTemplateData:function(){return this.options.appState.get("deviceEnrollment")},postRender:function(){Cw.attach(".copy-clipboard-button").done((()=>{let e=new xw({message:td("enroll.mdm.copyLink.success","login"),level:"success"});return this.el.prepend(e.render().el),!1}))}});const Aw=Ib.extend({noButtonBar:!0,className:"device-enrollment-terminal"}),Ow=Ib.extend({attributes:{"data-se":"android-app-link-setup-options-terminal"},title:function(){return td("enroll.title.oda.with.account","login")},initialize:function(){Ib.prototype.initialize.apply(this,arguments);const e=ww(this.options.appState.get("deviceEnrollment"));this.model.set("hasOVAccount","no"),this.addInput({label:()=>td("enroll.subtitle.fastpass","login",[e.orgName]),"label-top":!0,options:{no:td("enroll.option.noaccount.fastpass","login"),yes:td("enroll.option.account.fastpass","login")},name:"hasOVAccount",type:"radio"})},saveForm:function(){this.$el.find(".o-form-error-container").empty(),this.options.appState.trigger("updateDeviceEnrollmentView","yes"===this.model.get("hasOVAccount"))}}),Iw=Aw.extend({attributes:{"data-se":"android-oda-app-link-with-ov-account-terminal"},title:function(){return td("enroll.title.oda.with.account","login")},initialize:function(){Aw.prototype.initialize.apply(this,arguments),this.add(Ew)}}),Lw=Aw.extend({attributes:{"data-se":"android-oda-app-link-without-ov-account-terminal"},title:function(){return td("enroll.title.oda.without.account","login")},initialize:function(){Aw.prototype.initialize.apply(this,arguments),this.add(Tw)}}),Dw=Aw.extend({attributes:{"data-se":"loopback-terminal"},title:function(){return td("enroll.title.oda","login")},initialize:function(){Aw.prototype.initialize.apply(this,arguments),this.add(Sw)}}),Rw=Aw.extend({attributes:{"data-se":"mdm-terminal"},title:function(){return td("enroll.title.mdm","login")},initialize:function(){Aw.prototype.initialize.apply(this,arguments),this.add(Pw)}}),Mw=ob.extend({postRender:function(){this.$el.click((e=>{e.preventDefault(),this.options.appState.trigger("switchBackToPreselect")}))}});var Nw=Fb.extend({initialize:function(){Fb.prototype.initialize.apply(this,arguments),this.listenTo(this.options.appState,"updateDeviceEnrollmentView",this.handleUpdateDeviceEnrollmentView),this.listenTo(this.options.appState,"switchBackToPreselect",this.handleSwitchBackToPreselect);const e=ww(this.options.appState.get("deviceEnrollment"));switch(this.enrollmentType=(e.enrollmentType||"").toLowerCase(),this.enrollmentType){case na.ODA:this.Header=uw,this.Body=e.isAndroidAppLink?Ow:Dw;break;case na.MDM:case na.WS1:this.Body=Rw}},handleUpdateDeviceEnrollmentView:function(e){this.Body=e?Iw:Lw,this.backLink=this.add(Mw,{options:{name:"back-to-preselect",label:td("oform.back","login")}}).last(),this.renderForm()},handleSwitchBackToPreselect:function(){this.Body=Ow,this.backLink&&this.backLink.remove(),this.render()}});const jw=function(e,t,n){e.add(sd.extend({tagName:"section",template:pl.template({1:function(e,t,n,i,r){return"<li>"+e.escapeExpression(e.lambda(t,t))+"</li>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="password-authenticator--heading">'+e.escapeExpression((a(n,"i18n")||t&&a(t,"i18n")||e.hooks.helperMissing).call(s,{name:"i18n",hash:{bundle:"login",code:"password.complexity.requirements.header"},data:r,loc:{start:{line:1,column:45},end:{line:1,column:115}}}))+'</div><ul class="password-authenticator--list">'+(null!=(o=a(n,"each").call(s,null!=t?a(t,"rulesList"):t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:162},end:{line:1,column:207}}}))?o:"")+"</ul>"},useData:!0}),getTemplateData:()=>({rulesList:t}),attributes:{"data-se":"password-authenticator--rules"}}),{prepend:n,selector:".o-form-fieldset-container"})},Fw=Ib.extend({title:function(){if(this.options.appState.getCurrentViewState().href.endsWith("idp/idx/enroll/update")){var e;const t=this.options.appState.attributes;return null!=t&&null!==(e=t.uiDisplay)&&void 0!==e&&e.label?td("oie.registration.form.customize.label","login",[t.uiDisplay.label]):td("oie.primaryauth.submit","login")}return td("oie.registration.form.title","login")},save:function(){if(this.options.appState.getCurrentViewState().href.endsWith("idp/idx/enroll/update")){var e;const t=this.options.appState.attributes;return null!=t&&null!==(e=t.uiDisplay)&&void 0!==e&&e.buttonLabel?td("oie.registration.form.customize.buttonLabel","login",[t.uiDisplay.buttonLabel]):td("oie.registration.form.update.submit","login")}return td("oie.registration.form.submit","login")},initialize:function(){Ib.prototype.initialize.apply(this,arguments),this.model.set("userProfile.email",this.options.appState.get("lastIdentifier"))},saveForm:function(){this.settings.preRegistrationSubmit(this.model.toJSON(),(e=>{this.model.attributes={...this.model.attributes,...this.model.parse(e)},Ib.prototype.saveForm.call(this,this.model)}),(e=>this.model.trigger("error",this.model,{responseJSON:e})))},triggerAfterError:function(e,t){var n;(null==t||null===(n=t.responseJSON)||void 0===n?void 0:n.errorCauses)&&Array.isArray(t.responseJSON.errorCauses)&&t.responseJSON.errorCauses.forEach((e=>{var t;null!==(t=e.errorKey)&&void 0!==t&&t.includes("password.passwordRequirementsNotMet")&&(e.errorSummary=td("registration.error.password.passwordRequirementsNotMet","login"))})),this.options.appState.trigger("afterError",t)}}),Bw=pb.extend({links:function(){const e=[];return this.options.appState.hasRemediationObject(zy.SELECT_IDENTIFY)&&e.push({type:"link",label:td("haveaccount","login"),name:"back",actionPath:zy.SELECT_IDENTIFY}),e}});var Uw=Fb.extend({Body:Fw,Footer:Bw,createModelClass:function(e,t,n){const i=JSON.parse(JSON.stringify(e.uiSchema));let r=Fb.prototype.createModelClass.apply(this,arguments,e);return r=r.extend({toJSON:function(){const t=Bl.prototype.toJSON.call(this,arguments,e);if(t.userProfile){const n=e.uiSchema,i=t.userProfile;fl.each(i,((e,t)=>{if(fl.isEmpty(e)){const e=n.find((e=>e.name===`userProfile.${t}`));fl.isUndefined(e)||e.required||delete i[t]}}))}return t}}),n.parseRegistrationSchema(i,(n=>{fl.isEqual(n,e.uiSchema)||(e.uiSchema=n,r=Fb.prototype.createModelClass.call(this,e,t))}),(e=>{r=r.extend({local:{parseSchemaError:{value:e,type:"object"},...r.prototype.local}})})),r},postRender:function(){Fb.prototype.postRender.apply(this,arguments);const e=this.model.get("parseSchemaError");e&&this.model.trigger("error",this.model,{responseJSON:e}),this.renderPasswordPolicySettings();const t=Pb(this.options);Array.isArray(t)&&t.length&&this._addIdpView(t)},renderPasswordPolicySettings:function(){var e;const t=this.options.currentViewState.value.filter((e=>"credentials"===e.name))[0],n=null==t||null===(e=t.form)||void 0===e?void 0:e.value;var i,r;n&&n.filter((e=>"passcode"===e.name))&&jw(this,Av(null==t||null===(i=t.relatesTo)||void 0===i||null===(r=i.value)||void 0===r?void 0:r.settings),!1)},_addIdpView:function(e){const t=this.options.settings.get("idpDisplay"),n=t&&"PRIMARY"===t.toUpperCase();this.add(Kb,{prepend:n,selector:n?".o-form-fieldset-container":".o-form-button-bar",options:{idpButtons:e,isPrimaryIdpDisplay:n}})}});const qw=Ib.extend({className:"profile-update",title:function(){return td("oie.profile.additional.title","login")},save:function(){return td("enroll.choices.submit.finish","login")},getUISchema:function(){const e=Ib.prototype.getUISchema.apply(this,arguments);return e.forEach((e=>{"userProfile.secondEmail"===e.name&&(e.explain=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=(s(n,"i18n")||t&&s(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<span class='strong'>$1</span>",bundle:"login",code:"oie.profile.additional.secondemail.subtitle"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:112}}}))?o:""},useData:!0})}))})),e},initialize:function(){Ib.prototype.initialize.apply(this,arguments)}}),Vw=pb.extend({className:"auth-footer side-by-side-links",links:function(){const{uiSchema:e}=this.options.currentViewState,t=e.filter((e=>!1===e.required));if(e.length===t.length)return ub(this.options.appState,td("oie.enroll.skip.profile","login"));this.$el.removeClass(".side-by-side-links")}});var Hw=Fb.extend({Body:qw,Footer:Vw,postRender:function(){Fb.prototype.postRender.apply(this,arguments),this.options.appState.getSchemaByName("userProfile.secondEmail")&&this.model.set("userProfile.secondEmail","")}});const $w=Ib.extend({title:function(){return td("oie.activation.request.email.title.expire","login")},save:function(){return td("oie.activation.request.email.button","login")}});var zw=Fb.extend({Body:$w});const Ww=Ib.extend({title:function(){return td("oie.select.authenticators.enroll.title","login")},subtitle:function(){return this.options.settings.get("brandName")?td("oie.select.authenticators.enroll.subtitle.custom","login",[this.options.settings.get("brandName")]):td("oie.select.authenticators.enroll.subtitle","login")},noButtonBar:!0});var Gw=Fb.extend({Body:Ww});const Kw=Ib.extend({title:function(){return this.isPasswordRecoveryFlow()?td("password.reset.title.generic","login"):td("oie.select.authenticators.verify.title","login")},subtitle:function(){if(this.isPasswordRecoveryFlow())return td("oie.password.reset.verification","login");if(!this.isUnlockSuccess())return td("oie.select.authenticators.verify.subtitle","login");{const e=".o-form-error-container",t=td("oie.select.authenticators.verify.subtitle","login");this.add(`<div class="ion-messages-container"><p>${t}</p></div>`,e)}},isPasswordRecoveryFlow:function(){return this.options.appState.get("isPasswordRecovery")},noButtonBar:!0,showMessages:function(){if(this.isUnlockSuccess()){let e={};return e.subtitle=td("oie.selfservice.unlock_user.landing.to.app.success.message","login"),e.type="success",e=id(e),void Ib.prototype.showMessages.call(this,e)}Ib.prototype.showMessages.call(this)},isUnlockSuccess:function(){return this.options.appState.containsMessageWithI18nKey("oie.selfservice.unlock_user.landing.to.app.success.message")}});var Yw=Fb.extend({Body:Kw,Footer:pb.extend({links:function(){return db(this.options.appState,this.options.settings)}})});const Xw=Ib.extend({noButtonBar:!0,title:function(){return td("oie.select.authenticators.verify.title","login")},subtitle:function(){return td("oie.select.authenticators.verify.subtitle","login")}});var Jw=Fb.extend({Body:Xw});const Qw=Ib.extend({title:function(){return td("oie.password.enroll.title","login")},save:function(){return td("oform.next","login")},initialize:function(){Ib.prototype.initialize.apply(this,arguments);const e=this.getPasswordPolicySettings();this.displayPasswordPolicy(e)},displayPasswordPolicy:function(e){if(e){const t=Av(e);jw(this,t,!0)}},triggerAfterError:function(e,t){t.responseJSON=function(e){var t,n;(null===(t=e.errorCauses)||void 0===t?void 0:t.length)>0&&Array.isArray(e.errorCauses[0].errorSummary)&&e.errorCauses[0].errorSummary.length>0&&(e.errorCauses[0].errorSummary=e.errorCauses[0].errorSummary[0],"password.passwordRequirementsNotMet"===((null===(n=e.errorCauses[0].errorKey)||void 0===n?void 0:n.length)>0&&e.errorCauses[0].errorKey[0])&&(e.errorCauses[0].errorSummary=Qs("registration.error.password.passwordRequirementsNotMet","login")));return e}(t.responseJSON),this.options.appState.trigger("afterError",t)},getPasswordPolicySettings:function(){var e;const t=this.options.currentViewState.relatesTo;return null==t||null===(e=t.value)||void 0===e?void 0:e.settings},getUISchema:function(){const e=Ib.prototype.getUISchema.apply(this,arguments),t={name:"confirmPassword",label:td("oie.password.confirmPasswordLabel","login"),type:"password","label-top":!0,params:{showPasswordToggle:this.settings.get("showPasswordToggle")}},n=[];for(let i of e)n.push(i),"credentials.passcode"===i.name&&n.push(t);return n}});var Zw=l_.extend({Body:Qw,createModelClass:function(){const e=Fb.prototype.createModelClass.apply(this,arguments),t=Object.assign({confirmPassword:{type:"string",required:!0}},e.prototype.local);return e.extend({local:t,validate:function(){return this.get("credentials.passcode")!==this.get("confirmPassword")&&this.get("credential.value")!==this.get("confirmPassword")?{confirmPassword:td("password.error.match","login")}:null}})}});const ek=Ib.extend({title:function(){return td("oie.password.challenge.title","login")},save:function(){return td("mfa.challenge.verify","login")},getUISchema:function(){const e=Ib.prototype.getUISchema.apply(this,arguments),{settings:t}=this.options,n="primaryauth.password.tooltip",i=e.find((({name:e})=>"credentials.passcode"===e));return i&&Wv(n,t)&&(i.explain=td(n,"login"),i["explain-top"]=!0),e}}),tk=o_.extend({links:function(){let e=o_.prototype.links.apply(this,arguments);return e=cb(this.options.appState,this.options.settings).concat(e),e}});var nk=l_.extend({Body:ek,Footer:tk});const ik=Zw.prototype.Body.extend({className:"password-authenticator",title:function(){return this.options.settings.get("brandName")?td("password.expired.title.specific","login",[this.options.settings.get("brandName")]):td("password.expired.title.generic","login")},save:function(){return td("password.expired.submit","login")},getPasswordPolicySettings:function(){var e,t;return(null===(e=this.options.appState.get("recoveryAuthenticator"))||void 0===e?void 0:e.settings)||(null===(t=this.options.appState.get("enrollmentAuthenticator"))||void 0===t?void 0:t.settings)}});var rk=Zw.extend({Body:ik});const ok=Zw.prototype.Body.extend({className:"password-authenticator",subtitle:function(){if(this.options.settings.get("brandName"))return td("password.expiring.subtitle.specific","login",[this.options.settings.get("brandName")])},title:function(){const e=(this.getPasswordPolicySettings()||{}).daysToExpiry;return e>0?td("password.expiring.title","login",[e]):td(0===e?"password.expiring.today":"password.expiring.soon","login")},save:function(){return td("password.expired.submit","login")},showMessages:function(){if(this.options.settings.get("brandName"))return null;Zw.prototype.Body.prototype.showMessages.apply(this,arguments)}}),sk=pb.extend({links:function(){const e=[];return this.options.appState.hasRemediationObject("skip")&&e.push({type:"link",label:td("password.expiring.later","login"),name:"skip",actionPath:"skip"}),e}});var ak=Zw.extend({Body:ok,Footer:sk});const lk=Zw.prototype.Body.extend({className:"password-authenticator",title:function(){return this.options.settings.get("brandName")?td("password.reset.title.specific","login",[this.options.settings.get("brandName")]):td("password.reset.title.generic","login")},save:function(){return td("password.reset","login")}});var ck=Zw.extend({Body:lk}),uk=sd.extend({postRender:function(){this.showCalloutAfterTimeout()},showCalloutAfterTimeout:function(){var e;dv()||(e=Date.now(),sessionStorage.setItem(cv,e)),this.showMeInterval=setInterval((()=>{const e=dv();Date.now()-e>=3e4&&(this.$el.removeClass("hide"),clearInterval(this.showMeInterval),hv())}),250)},remove:function(){var e,t;sd.prototype.remove.apply(this,arguments),clearInterval(this.showMeInterval);const n=this.options.appState.get("currentFormName"),i=(null===(e=this.options.appState.get("currentAuthenticator"))||void 0===e?void 0:e.resend)||(null===(t=this.options.appState.get("currentAuthenticatorEnrollment"))||void 0===t?void 0:t.resend),r=this.options.model.get("formName")!==n;!dv()||i&&!r||hv()}});const hk=uk.extend({className:"phone-authenticator-challenge__resend-warning hide",events:{"click a.resend-link":"handleResendLink"},resendActionKey:"currentAuthenticatorEnrollment-resend",initialize:function(){const e="sms"===this.model.get("mode")?td("oie.phone.verify.sms.resendText","login"):td("oie.phone.verify.call.resendText","login"),t="sms"===this.model.get("mode")?td("oie.phone.verify.sms.resendLinkText","login"):td("oie.phone.verify.call.resendLinkText","login");this.add(id({content:`${e}&nbsp;<a class='resend-link'>${t}</a>`,type:"warning"}))},handleResendLink:function(){this.options.appState.trigger("invokeAction",this.resendActionKey),this.el.classList.contains("hide")||this.el.classList.add("hide"),this.showCalloutAfterTimeout()}}),dk=Ib.extend(Object.assign({className:"phone-authenticator-challenge",title:function(){return td("oie.phone.verify.title","login")},save:function(){return td("mfa.challenge.verify","login")},initialize:function(){Ib.prototype.initialize.apply(this,arguments);const e="sms"===this.model.get("mode")?td("oie.phone.verify.sms.codeSentText","login"):td("mfa.calling","login"),t=td("oie.phone.verify.enterCodeText","login"),n=td("oie.phone.carrier.charges","login");let i=this.model.get("phoneNumber")!==td("oie.phone.alternate.title","login")?this.model.get("nickname"):"",r="";""!==i&&(i=" ("+i+")",r="no-translate authenticator-verify-nickname");const o=i?`<span ${r?'class="'+r+'"':""}>\n      ${i}.</span>`:'<span class="no-translate">.</span>',s=this.model.get("phoneNumber")!==td("oie.phone.alternate.title","login")?"strong no-translate nowrap":"";this.add(`<div class="okta-form-subtitle" data-se="o-form-explain">\n        ${e}&nbsp;<span class='${s}'>${this.model.escape("phoneNumber")}</span>\n        ${o}\n        &nbsp;${t}\n        <p>${n}</p>\n        </div>`,{prepend:!0,selector:".o-form-fieldset-container"})},postRender:function(){Ib.prototype.postRender.apply(this,arguments),this.add(hk,{selector:".o-form-info-container",prepend:!0})}}));var pk=l_.extend({Body:dk,createModelClass:function(){const e=this.options.currentViewState.relatesTo,{methods:t,profile:n,nickname:i}=(null==e?void 0:e.value)||{},r=Fb.prototype.createModelClass.apply(this,arguments),o=Object.assign({mode:{value:t[0].type,type:"string"},phoneNumber:{value:null!=n&&n.phoneNumber?n.phoneNumber:td("oie.phone.alternate.title","login"),type:"string"},nickname:{value:i||"",type:"string"}},r.prototype.local);return r.extend({local:o})}});const fk=hk.extend({className:"phone-authenticator-enroll--warning hide",resendActionKey:"currentAuthenticator-resend"}),mk=pk.prototype.Body.extend({className:"phone-authenticator-enroll",title:function(){return td("oie.phone.enroll.title","login")},postRender:function(){Ib.prototype.postRender.apply(this,arguments),this.add(fk,{selector:".o-form-info-container",prepend:!0})}});var gk=pk.extend({Body:mk});const yk=Ib.extend({className:"phone-authenticator-enroll",title:function(){return td("oie.phone.enroll.title","login")},subtitle:function(){return"voice"===this.model.get("authenticator.methodType")?td("oie.phone.enroll.call.subtitle","login"):td("oie.phone.enroll.sms.subtitle","login")},render:function(){Ib.prototype.render.apply(this,arguments);const e=this.model.get("authenticator.methodType"),t=this.el.querySelector(".phone-authenticator-enroll__phone"),n=this.el.querySelector(".phone-authenticator-enroll__phone-ext");"voice"===e&&(t.classList.contains("phone-authenticator-enroll__phone--small")||t.classList.add("phone-authenticator-enroll__phone--small"),n.classList.remove("hide")),"sms"===e&&(t.classList.remove("phone-authenticator-enroll__phone--small"),n.classList.contains("hide")||n.classList.add("hide")),this.el.querySelector(".phone-authenticator-enroll__phone-code").innerText=`+${this.model.get("phoneCode")}`},handlePhoneCodeChange:function(){this.el.querySelector(".phone-authenticator-enroll__phone-code").innerText=`+${this.model.get("phoneCode")}`},save:function(){return"voice"===this.model.get("authenticator.methodType")?td("oie.phone.call.primaryButton","login"):td("oie.phone.sms.primaryButton","login")},getUISchema:function(){const e=Ib.prototype.getUISchema.apply(this,arguments),t=fl.findIndex(e,(({name:e})=>"authenticator.phoneNumber"===e)),n={"label-top":!0,label:td("mfa.country","login"),type:"select",options:ff(),name:"country",wide:!0},i="okta-phone-number-input",r={label:td("mfa.phoneNumber.placeholder","login"),inputId:i,type:"group",modelType:"string","label-top":!0,name:"phoneCode",className:"phone-authenticator-enroll__phone",input:[{type:"label",label:`+${this.model.get("phoneCode")}`,className:"phone-authenticator-enroll__phone-code no-translate"},Object.assign({inputId:i},e[t])]},o={label:td("phone.extention.label","login"),type:"text",className:"phone-authenticator-enroll__phone-ext hide","label-top":!0,name:"extension"};-1!==t&&(e.splice(t,1,r),e.splice(t,0,n),e.splice(t+2,0,o));const s=fl.find(e,(({name:e})=>"authenticator.methodType"===e));return s&&1===s.options.length&&(s.className="hide"),e},initialize:function(){Ib.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:authenticator.methodType",this.render.bind(this)),this.listenTo(this.model,"change:phoneCode",this.handlePhoneCodeChange.bind(this))}});var vk=l_.extend({Body:yk,createModelClass:function(){const e=Fb.prototype.createModelClass.apply(this,arguments),t=Object.assign({country:{value:this.settings.get("defaultCountryCode"),type:"string"},extension:{type:"string"}},e.prototype.local),n=Object.assign({phoneCode:{deps:["country"],fn:function(e){return gf(e)}}},e.prototype.derived);return e.extend({local:t,derived:n,toJSON:function(){const e=Bl.prototype.toJSON.call(this,arguments),t=this.get("extension");let n=`+${this.get("phoneCode")}${e.authenticator.phoneNumber}`;return"voice"===e.authenticator.methodType&&null!=t&&t.trim().length&&(n=`${n}x${t}`),e.authenticator.phoneNumber=n,e}})}});const bk=Ib.extend({className:"phone-authenticator-challenge",events:{"click a.phone-authenticator-challenge__link":"handleSecondaryLinkClick"},title:function(){return td("oie.phone.verify.title","login")},save:function(){return"sms"===this.model.get("primaryMode")?td("oie.phone.sms.primaryButton","login"):td("oie.phone.call.primaryButton","login")},handleSecondaryLinkClick:function(e){e.preventDefault();const t=this.model.get("secondaryMode");this.model.set("authenticator.methodType",t),this.saveForm(this.model)},initialize:function(){this.model.on("error",(()=>this.model.set("authenticator.methodType",this.model.get("primaryMode")))),Ib.prototype.initialize.apply(this,arguments);const e="sms"===this.model.get("primaryMode")?td("oie.phone.verify.sms.sendText","login"):td("oie.phone.verify.call.sendText","login"),t=td("oie.phone.carrier.charges","login"),n=this.model.get("phoneNumber")!==td("oie.phone.alternate.title","login"),i=n?"strong no-translate nowrap":"";let r=n?this.model.get("nickname"):"",o="";""!==r&&(r=" ("+r+")",o="strong no-translate authenticator-verify-nickname");const s=r?`<span ${o?'class="'+o+'"':""}>\n      ${r}.</span>`:'<span class="no-translate">.</span>';this.add(`<div class="okta-form-subtitle" data-se="o-form-explain">${e}\n        <span ${i?'class="'+i+'"':""}>\n        ${this.model.escape("phoneNumber")}</span>${s}\n        <p>${t}</p>\n      </div>`)},getUISchema:function(){return Ib.prototype.getUISchema.apply(this,arguments).filter((e=>"authenticator.methodType"!==e.name))},render:function(){Ib.prototype.render.apply(this,arguments);const e=this.model.get("secondaryMode");if(e){const t=td("sms"===e?"oie.phone.sms.secondaryButton":"oie.phone.call.secondaryButton","login");this.add(`<a href="#"\n            class="link phone-authenticator-challenge__link"\n            data-se="phone-authenticator-challenge__link">${t}</a>`,".o-form-button-bar")}}});var _k=l_.extend({Body:bk,createModelClass:function({uiSchema:e}){const{options:t}=fl.find(e,(e=>"authenticator.methodType"===e.name)),n=this.options.currentViewState.relatesTo,{profile:i,nickname:r}=(null==n?void 0:n.value)||{},o=Fb.prototype.createModelClass.apply(this,arguments),s=Object.assign({primaryMode:{value:t[0].value,type:"string"},secondaryMode:{value:t[1]&&t[1].value,type:"string"},phoneNumber:{value:null!=i&&i.phoneNumber?i.phoneNumber:td("oie.phone.alternate.title","login"),type:"string"},nickname:{value:r||"",type:"string"}},o.prototype.local);return o.extend({local:s})}});const wk=Ib.extend({title:function(){return td("oie.security.question.enroll.title","login")},save:function(){return td("mfa.challenge.verify","login")}});var kk=l_.extend({Body:wk});const Sk=Ib.extend({title:function(){return td("oie.security.question.challenge.title","login")},save:function(){return td("mfa.challenge.verify","login")},getUISchema:function(){const e=Ib.prototype.getUISchema.apply(this,arguments),t=e.filter((e=>e.name.indexOf("questionKey")>=0)),n=e.filter((e=>e.name.indexOf("answer")>=0));return 1===t.length&&1===n.length&&(n[0].label=t[0].label),e}});var Ek=l_.extend({Body:Sk}),Tk=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="idx-webauthn-enroll-text">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.enroll.webauthn.instructions"},data:r,loc:{start:{line:1,column:36},end:{line:1,column:99}}}))+"</p>"},useData:!0}),initialize:function(){const e=this.options.currentViewState.relatesTo,t=null==e?void 0:e.value.contextualData.activationData;Us.isEdge()&&this.add(sd.extend({tagName:"p",className:"idx-webauthn-enroll-text-edge",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.enroll.webauthn.instructions.edge"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:68}}}))},useData:!0})})),"required"===t.authenticatorSelection.userVerification&&this.add(id({className:"uv-required-callout",size:"slim",type:"warning",subtitle:td("oie.enroll.webauthn.uv.required.instructions","login")})),this.add('<div data-se="webauthn-waiting" class="okta-waiting-spinner"></div>')}});const xk=Ib.extend({title:function(){return td("oie.enroll.webauthn.title","login")},className:"oie-enroll-webauthn",modelEvents:{error:"_stopEnrollment"},getUISchema:function(){const e=[];return fm()?(e.push({View:Tk}),e.push({View:nd({className:"webauthn-setup button button-primary button-wide",title:td("oie.enroll.webauthn.save","login"),click:()=>{this.triggerWebauthnPrompt()}})})):e.push({View:id({className:"webauthn-not-supported",type:"error",subtitle:td("oie.webauthn.error.not.supported","login")})}),e},triggerWebauthnPrompt:function(){this.$el.find(".o-form-error-container").empty(),this._startEnrollment();const e=this.options.currentViewState.relatesTo,t=null==e?void 0:e.value.contextualData.activationData;if(fm()){var n;const e=!0===(null===(n=t.authenticatorSelection)||void 0===n?void 0:n.requireResidentKey)?[]:function(e=[]){const t=[];return e.forEach((e=>{"webauthn"===e.key&&t.push({type:"public-key",id:lm.strToBin(e.credentialId)})})),t}(this.options.appState.get("authenticatorEnrollments").value),i=fl.extend({},t,{challenge:lm.strToBin(t.challenge),user:{id:lm.strToBin(t.user.id),name:t.user.name,displayName:t.user.displayName},excludeCredentials:e});"undefined"!=typeof AbortController&&(this.webauthnAbortController=new AbortController),navigator.credentials.create({publicKey:i,signal:this.webauthnAbortController&&this.webauthnAbortController.signal}).then((e=>{this.model.set({credentials:{clientData:lm.binToStr(e.response.clientDataJSON),attestation:lm.binToStr(e.response.attestationObject),transports:dm(e.response.getTransports,e.response),clientExtensions:dm(e.getClientExtensionResults,e)}}),this.saveForm(this.model)})).catch((e=>{this.model.trigger("error",this.model,{responseJSON:{errorSummary:$v(e)}})})).finally((()=>{this.webauthnAbortController=null}))}},_startEnrollment:function(){this.$(".okta-waiting-spinner").show(),this.$(".webauthn-setup").hide()},_stopEnrollment:function(){this.$(".okta-waiting-spinner").hide(),this.$(".webauthn-setup").show()}});var Ck=l_.extend({Body:xk,postRender:function(){l_.prototype.postRender.apply(this,arguments),this.$el.find('.o-form-button-bar [type="submit"]').remove()}}),Pk=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="idx-webauthn-verify-text">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.verify.webauthn.instructions"},data:r,loc:{start:{line:1,column:36},end:{line:1,column:99}}}))+"</p>"},useData:!0}),initialize:function(){const e=this.options.currentViewState.relatesTo;"required"===(null==e?void 0:e.value.contextualData.challengeData).userVerification&&this.add(id({className:"uv-required-callout",size:"slim",type:"warning",subtitle:td("oie.verify.webauthn.uv.required.instructions","login")})),this.add('<div data-se="webauthn-waiting" class="okta-waiting-spinner"></div>')}});const Ak=sd.extend({id:"help-description-container",className:"help-description js-help-description",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,a=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<h3>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.verify.webauthn.cant.verify.biometric.authenticator.title"},data:r,loc:{start:{line:1,column:4},end:{line:1,column:96}}}))+"</h3><br><p>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.verify.webauthn.cant.verify.biometric.authenticator.description1"},data:r,loc:{start:{line:1,column:108},end:{line:1,column:207}}}))+"</p><br><p>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.verify.webauthn.cant.verify.biometric.authenticator.description2"},data:r,loc:{start:{line:1,column:218},end:{line:1,column:317}}}))+"</p><br><h3>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.verify.webauthn.cant.verify.security.key.title"},data:r,loc:{start:{line:1,column:329},end:{line:1,column:410}}}))+"</h3><br><p>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.verify.webauthn.cant.verify.security.key.description"},data:r,loc:{start:{line:1,column:422},end:{line:1,column:509}}}))+"</p><br>"},useData:!0})}),Ok=sd.extend({id:"help-description-container",className:"help-description js-help-description",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,a=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<ol class="ov-enrollment-info"><li>'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.verify.webauthn.cant.verify.enrollment.step1"},data:r,loc:{start:{line:1,column:35},end:{line:1,column:114}}}))+"</li><br><li>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.verify.webauthn.cant.verify.enrollment.step2"},data:r,loc:{start:{line:1,column:127},end:{line:1,column:206}}}))+"</li><br><li>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.verify.webauthn.cant.verify.enrollment.step3"},data:r,loc:{start:{line:1,column:219},end:{line:1,column:298}}}))+"</li><br><li>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.verify.webauthn.cant.verify.enrollment.step4"},data:r,loc:{start:{line:1,column:311},end:{line:1,column:390}}}))+"</><br></ol>"},useData:!0})});var Ik=o_.extend({links:function(){const e=o_.prototype.links.apply(this,arguments),t=this.options.appState.get("app")&&"Okta_Authenticator"===this.options.appState.get("app").name?Ok:Ak;return e.unshift({label:td("oie.verify.webauthn.cant.verify","login"),name:"cant-verify","aria-controls":"help-description-container",class:"link help js-help",type:"toggle-text-link",additionalOptions:{view:t,selector:".js-help-description"}}),e}}),Lk=sd.extend({className:"setup-webauthn-residentkey-text",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div>"+(null!=(o=(s(n,"i18n")||t&&s(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.enroll.webauthn.rk.link"},data:r,loc:{start:{line:1,column:5},end:{line:1,column:65}}}))?o:"")+"</div>"},useData:!0}),events:{"click .setup-webauthn-residentkey-link":function(e){e.preventDefault(),this.options.appState.trigger("invokeAction",zy.ENROLL_WEBAUTHN_RESIDENTKEY)}}});const Dk=Ib.extend({title:function(){return td("oie.verify.webauth.title","login")},className:"oie-verify-webauthn",getUISchema:function(){const e=[];if(fm()){const t=nd({className:"retry-webauthn button-primary default-custom-button",title:td("mfa.challenge.verify","login"),click:()=>{this.getCredentialsAndSave()}});e.push({View:Pk},{View:t}),this._canSetupWebAuthnResidentKey()&&e.push({View:Lk})}else e.push({View:id({className:"webauthn-not-supported",type:"error",subtitle:td("oie.webauthn.error.not.supported","login")})});return e},remove:function(){Ib.prototype.remove.apply(this,arguments),this.webauthnAbortController&&(this.webauthnAbortController.abort(),this.webauthnAbortController=null)},noButtonBar:!0,modelEvents:{error:"_stopVerification"},getCredentialsAndSave:function(){var e;this.clearErrors(),this._startVerification(),"undefined"!=typeof AbortController&&(this.webauthnAbortController=new AbortController);const t=this.options.currentViewState.relatesTo,n=(null==t?void 0:t.value)||{},i=[];((null===(e=this.options.appState.get("authenticatorEnrollments"))||void 0===e?void 0:e.value)||[]).forEach((e=>{"webauthn"===e.key&&i.push({type:"public-key",id:lm.strToBin(e.credentialId)})}));const r=n.contextualData.challengeData,o=fl.extend({},r,{allowCredentials:i,challenge:lm.strToBin(r.challenge)});navigator.credentials.get({publicKey:o,signal:this.webauthnAbortController&&this.webauthnAbortController.signal}).then((e=>{const t={clientData:lm.binToStr(e.response.clientDataJSON),authenticatorData:lm.binToStr(e.response.authenticatorData),signatureData:lm.binToStr(e.response.signature)};var n;this.options.appState.getSchemaByName("credentials.userHandle")&&fl.extend(t,{userHandle:lm.binToStr(null!==(n=e.response.userHandle)&&void 0!==n?n:"")}),this.model.set({credentials:t}),this.saveForm(this.model)}),(e=>{this.webauthnAbortController&&this.model.trigger("error",this.model,{responseJSON:{errorSummary:$v(e)}})})).finally((()=>{this.webauthnAbortController=null}))},_startVerification:function(){this.$(".okta-waiting-spinner").show(),this.$(".retry-webauthn").hide(),this.$(".setup-webauthn-residentkey-text").hide(),this.$(".retry-webauthn")[0].textContent=td("retry","login")},_stopVerification:function(){this.$(".okta-waiting-spinner").hide(),this.$(".retry-webauthn").show(),this.$(".setup-webauthn-residentkey-text").show()},_canSetupWebAuthnResidentKey:function(){return this.options.appState.hasRemediationObject(zy.ENROLL_WEBAUTHN_RESIDENTKEY)}});var Rk=l_.extend({Body:Dk,Footer:Ik,postRender:function(){l_.prototype.postRender.apply(this,arguments),fm()&&!Us.isSafari()&&this.form.getCredentialsAndSave()}}),Mk={title:function(){return td("oie.email.mfa.title","login")}};const Nk=uk.extend({className:"hide resend-email-view",events:{"click a.resend-link":"handelResendLink"},initialize:function(){this.add(id({content:`${td("email.code.not.received","login")}\n        <a class='resend-link'>${td("email.button.resend","login")}</a>`,type:"warning"}))},handelResendLink:function(){this.options.appState.trigger("invokeAction",this.options.resendEmailAction),this.$el.hasClass("hide")||this.$el.addClass("hide"),this.showCalloutAfterTimeout()}}),jk=Db.extend(Object.assign({save:function(){return td("mfa.challenge.verify","login")},initialize:function(){Db.prototype.initialize.apply(this,arguments),this.startPolling()},postRender:function(){Ib.prototype.postRender.apply(this,arguments),this.$el.find(".resend-email-view").length||this.add(Nk,{selector:".o-form-error-container",prepend:!0,options:{resendEmailAction:this.resendEmailAction}})},saveForm:function(){Ib.prototype.saveForm.apply(this,arguments),this.stopPolling()},remove:function(){Ib.prototype.remove.apply(this,arguments),this.stopPolling()},triggerAfterError:function(e,t){var n,i;Ib.prototype.triggerAfterError.apply(this,arguments);const r=!!this.polling;this.stopPolling(),null!==(n=t.responseJSON)&&void 0!==n&&null!==(i=n.errorSummaryKeys)&&void 0!==i&&i.includes("idx.session.expired")||(this.isRateLimitError(t)?(r&&setTimeout((()=>{e.trigger("clearFormError")}),0),this.startPolling(6e4)):this.startPolling(this.options.appState.get("dynamicRefreshInterval")))},isRateLimitError:function(e){var t,n,i,r;return(null===(t=e.responseJSON)||void 0===t||null===(n=t.errorSummaryKeys)||void 0===n?void 0:n.includes("tooManyRequests"))||"E0000047"===(null===(i=e.responseJSON)||void 0===i?void 0:i.errorCode)&&!(null!==(r=e.responseJSON)&&void 0!==r&&r.errorIntent)}},Mk));var Fk=l_.extend({Body:jk});const Bk=sd.extend({className:"okta-form-subtitle",attributes:{"data-se":"o-form-explain"},template:pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"secondaryEmail"):t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(4,r,0),data:r,loc:{start:{line:1,column:13},end:{line:1,column:433}}}))?o:""},2:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$2:"<span class='strong no-translate'>$2</span>",$1:"<span class='strong no-translate'>$1</span>",arguments:"email;secondaryEmail",bundle:"login",code:"oie.email.verify.alternate.magicLinkToEmailAddress.with.secondary.email"},data:r,loc:{start:{line:1,column:35},end:{line:1,column:269}}}))},4:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<span class='strong no-translate'>$1</span>",arguments:"email",bundle:"login",code:"oie.email.verify.alternate.magicLinkToEmailAddress"},data:r,loc:{start:{line:1,column:277},end:{line:1,column:426}}}))},6:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.email.verify.alternate.magicLinkToYourEmail"},data:r,loc:{start:{line:1,column:441},end:{line:1,column:520}}}))},8:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.email.verify.alternate.instructions"},data:r,loc:{start:{line:1,column:557},end:{line:1,column:628}}}))},10:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.email.verify.alternate.verificationCode.instructions"},data:r,loc:{start:{line:1,column:636},end:{line:1,column:724}}}))},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"email"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(6,r,0),data:r,loc:{start:{line:1,column:0},end:{line:1,column:527}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"useEmailMagicLinkValue"):t,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.program(10,r,0),data:r,loc:{start:{line:1,column:527},end:{line:1,column:731}}}))?o:"")},useData:!0}),getTemplateData:function(){return this.options}}),Uk=sd.extend({className:"okta-form-subtitle",attributes:{"data-se":"o-form-explain"},template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.email.enroll.subtitle"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:56}}}))},useData:!0})}),qk=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<button class="button-link enter-auth-code-instead-link" >'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{code:"oie.email.verify.alternate.show.verificationCode.text"},data:r,loc:{start:{line:1,column:58},end:{line:1,column:127}}}))+"</button>"},useData:!0})});function Vk(){return Bk}function Hk(){return qk}const $k=Fk.prototype.Body,zk=$k.extend(Object.assign({resendEmailAction:"currentAuthenticator-resend",initialize:function(){var e,t,n;$k.prototype.initialize.apply(this,arguments);const i=(null===(e=this.options.appState.get("user"))||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.email)||(null===(n=this.options.appState.get("user"))||void 0===n?void 0:n.identifier)||{},r=this.isUseEmailMagicLink();void 0!==r?(this.noButtonBar=!0,this.events["click .enter-auth-code-instead-link"]="showAuthCodeEntry",r&&this.add(Hk(),{prepend:!0,selector:".o-form-error-container"}),this.add(Vk(),{prepend:!0,selector:".o-form-error-container",options:{email:i,useEmailMagicLinkValue:r}})):this.add(Uk,{prepend:!0,selector:".o-form-error-container"})},postRender:function(){$k.prototype.postRender.apply(this,arguments),void 0!==this.isUseEmailMagicLink()&&(this.isUseEmailMagicLink()?this.showCodeEntryField(!1):this.noButtonBar=!1)},isUseEmailMagicLink:function(){var e,t;return null===(e=this.options.appState.get("currentAuthenticator"))||void 0===e||null===(t=e.contextualData)||void 0===t?void 0:t.useEmailMagicLink},showAuthCodeEntry:function(){this.noButtonBar=!1,this.render(),this.showCodeEntryField(!0),this.removeEnterAuthCodeInsteadLink()},showCodeEntryField:function(e=!0){this.$el.find(".o-form-fieldset-container").toggle(e)},removeEnterAuthCodeInsteadLink:function(){this.$el.find(".enter-auth-code-instead-link").remove()}}));var Wk=Fk.extend({Body:zk});const Gk=Fk.prototype.Body,Kk=Gk.extend(Object.assign({noButtonBar:!0,resendEmailAction:"currentAuthenticatorEnrollment-resend",events:{"click .enter-auth-code-instead-link":"showAuthCodeEntry"},initialize:function(){var e,t;Gk.prototype.initialize.apply(this,arguments);const{email:n,secondaryEmail:i}=(null===(e=this.options.currentViewState.relatesTo)||void 0===e||null===(t=e.value)||void 0===t?void 0:t.profile)||{},r=this.isUseEmailMagicLink();r&&this.add(Hk(),{prepend:!0,selector:".o-form-error-container"}),this.add(Vk(),{prepend:!0,selector:".o-form-error-container",options:{email:n,secondaryEmail:i,useEmailMagicLinkValue:r}})},postRender:function(){Gk.prototype.postRender.apply(this,arguments),this.isUseEmailMagicLink()?this.showCodeEntryField(!1):this.noButtonBar=!1},isUseEmailMagicLink:function(){var e,t;const n=null===(e=this.options.appState.get("currentAuthenticatorEnrollment"))||void 0===e||null===(t=e.contextualData)||void 0===t?void 0:t.useEmailMagicLink;return void 0===n||n},showAuthCodeEntry:function(){this.noButtonBar=!1,this.render(),this.showCodeEntryField(!0),this.removeEnterAuthCodeInsteadLink()},showCodeEntryField:function(e=!0){this.$el.find(".o-form-fieldset-container").toggle(e)},removeEnterAuthCodeInsteadLink:function(){this.$el.find(".enter-auth-code-instead-link").remove()}}));var Yk=Fk.extend({Body:Kk});const Xk=l_.prototype.Body,Jk=sd.extend({template:pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"secondaryEmail"):t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(4,r,0),data:r,loc:{start:{line:1,column:70},end:{line:1,column:471}}}))?o:""},2:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$2:"<span class='strong no-translate'>$2</span>",$1:"<span class='strong no-translate'>$1</span>",arguments:"email;secondaryEmail",bundle:"login",code:"oie.email.verify.subtitle.text.with.email.and.secondary.email"},data:r,loc:{start:{line:1,column:92},end:{line:1,column:316}}}))},4:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<span class='strong no-translate'>$1</span>",arguments:"email",bundle:"login",code:"oie.email.verify.subtitle.text.with.email"},data:r,loc:{start:{line:1,column:324},end:{line:1,column:464}}}))},6:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.email.verify.subtitle.text.without.email"},data:r,loc:{start:{line:1,column:479},end:{line:1,column:555}}}))},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="okta-form-subtitle" data-se="o-form-explain">'+(null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"email"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(6,r,0),data:r,loc:{start:{line:1,column:57},end:{line:1,column:562}}}))?o:"")+"</div>"},useData:!0}),getTemplateData:function(){var e,t,n,i;return{email:null===(e=this.options.appState.get("currentAuthenticatorEnrollment"))||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.email,secondaryEmail:null===(n=this.options.appState.get("currentAuthenticatorEnrollment"))||void 0===n||null===(i=n.profile)||void 0===i?void 0:i.secondaryEmail}}}),Qk=Xk.extend({title:function(){return td("oie.email.challenge.mfa.title","login")},save:function(){return td("oie.email.verify.primaryButton","login")},postRender:function(){Xk.prototype.postRender.apply(this,arguments),this.add(Jk,{prepend:!0,selector:".o-form-info-container"})},getUISchema:function(){return Xk.prototype.getUISchema.apply(this,arguments).filter((e=>"authenticator.methodType"!==e.name))}});var Zk=l_.extend({Body:Qk}),eS=uk.extend({className:"hide resend-ov-link-view",events:{"click a.resend-link":"handelResendLink"},initialize:function(){const e=this.options.appState.get("currentAuthenticator").contextualData.selectedChannel;this.add(id({content:"email"===e?pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=(s(n,"i18n")||t&&s(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.email.notReceived"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:73}}}))?o:""},useData:!0}):pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=(s(n,"i18n")||t&&s(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.sms.notReceived"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:71}}}))?o:""},useData:!0}),type:"warning"}))},handelResendLink:function(){this.options.appState.trigger("invokeAction","currentAuthenticator-resend"),this.$el.addClass("hide"),this.showCalloutAfterTimeout()}}),tS=sd.extend({className:"switch-channel-text",template:pl.template({1:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"sameDeviceOVEnrollmentEnabled"):t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(4,r,0),data:r,loc:{start:{line:1,column:23},end:{line:1,column:325}}}))?o:""},2:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=(s(n,"i18n")||t&&s(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.switch.channel.link.text"},data:r,loc:{start:{line:1,column:60},end:{line:1,column:140}}}))?o:""},4:function(e,t,n,i,r){var o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,a=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="switch-channel-link" aria-label="'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"enroll.totp.aria.cannotScan"},data:r,loc:{start:{line:1,column:200},end:{line:1,column:259}}}))+'">'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"enroll.totp.cannotScan"},data:r,loc:{start:{line:1,column:261},end:{line:1,column:314}}}))+"</a>"},6:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"isSameDeviceChannel"):t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.program(9,r,0),data:r,loc:{start:{line:1,column:325},end:{line:1,column:480}}}))?o:""},7:function(e,t,n,i,r){return""},9:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"isDeviceBootstrapChannel"):t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.program(2,r,0),data:r,loc:{start:{line:1,column:356},end:{line:1,column:480}}}))?o:""},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"isQRcodeChannel"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(6,r,0),data:r,loc:{start:{line:1,column:0},end:{line:1,column:487}}}))?o:""},useData:!0}),getTemplateData:function(){const e=this.options.appState.get("currentAuthenticator").contextualData.selectedChannel;return{sameDeviceOVEnrollmentEnabled:this.settings.get("features.sameDeviceOVEnrollmentEnabled"),isQRcodeChannel:"qrcode"===e,isSameDeviceChannel:"samedevice"===e,isDeviceBootstrapChannel:"devicebootstrap"===e}},postRender:function(){this.$el.find(".switch-channel-link").on("click",(e=>{const t=this.options.appState;e.preventDefault(),t.trigger("switchForm",zy.SELECT_ENROLLMENT_CHANNEL)}))}});const{Notification:nS}=ld.views.components,{Clipboard:iS}=ld.util;var rS=sd.extend({initialize:function(){let e=oS(this.options.appState);if(e&&e.setupOVUrl&&e.isDesktop){this.ulDom&&this.ulDom.remove();const t=Hb("custom-uri-container",e.setupOVUrl);this.ulDom=this.add(t).last()}},template:pl.template({1:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<ol class="qrcode-info ov-info"><li>'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.qrcode.step1"},data:r,loc:{start:{line:1,column:48},end:{line:1,column:114}}}))+"</li><li>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.qrcode.step2"},data:r,loc:{start:{line:1,column:123},end:{line:1,column:189}}}))+"</li><li>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{$1:"<span class='strong'>$1</span>",bundle:"login",code:"oie.enroll.okta_verify.qrcode.step3.updated"},data:r,loc:{start:{line:1,column:198},end:{line:1,column:308}}}))+'</li></ol><div class="qrcode-container"><img class="qrcode" src='+l("function"==typeof(o=null!=(o=c(n,"href")||(null!=t?c(t,"href"):t))?o:a)?o.call(s,{name:"href",hash:{},data:r,loc:{start:{line:1,column:372},end:{line:1,column:380}}}):o)+' alt="'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"mfa.altQrCode"},data:r,loc:{start:{line:1,column:386},end:{line:1,column:431}}}))+'"></img></div>'},3:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<ul class="email-info ov-info"><li>'+(null!=(o=(s(n,"i18n")||t&&s(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<span class='strong'>$1</span>",arguments:"email",bundle:"login",code:"oie.enroll.okta_verify.email.info.updated"},data:r,loc:{start:{line:1,column:500},end:{line:1,column:628}}}))?o:"")+'</li><li class="switch-channel-content"></li></ul>'},5:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<ul class="sms-info ov-info"><li>'+(null!=(o=(s(n,"i18n")||t&&s(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<span class='strong'>$1</span>",arguments:"phoneNumber",bundle:"login",code:"oie.enroll.okta_verify.sms.info.updated"},data:r,loc:{start:{line:1,column:737},end:{line:1,column:869}}}))?o:"")+'</li><li class="switch-channel-content"></li></ul>'},7:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="sameDevice-setup'+(null!=(o=l(n,"if").call(s,null!=t?l(t,"sameDeviceOVEnrollmentEnabled"):t,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:982},end:{line:1,column:1048}}}))?o:"")+'"><p class="explanation" data-se="subheader">'+(null!=(o=l(n,"if").call(s,null!=(o=null!=t?l(t,"deviceMap"):t)?l(o,"isDesktop"):o,{name:"if",hash:{},fn:e.program(10,r,0),inverse:e.program(17,r,0),data:r,loc:{start:{line:1,column:1093},end:{line:1,column:1866}}}))?o:"")+'</p><ol class="ov-info">'+(null!=(o=l(n,"unless").call(s,null!=t?l(t,"sameDeviceOVEnrollmentEnabled"):t,{name:"unless",hash:{},fn:e.program(19,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:1890},end:{line:1,column:2304}}}))?o:"")+'<li><a href="'+a(e.lambda(null!=(o=null!=t?l(t,"deviceMap"):t)?l(o,"setupOVUrl"):o,t))+'" class="button button-primary setup-button">'+a((l(n,"i18n")||t&&l(t,"i18n")||e.hooks.helperMissing).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.setup.title"},data:r,loc:{start:{line:1,column:2386},end:{line:1,column:2451}}}))+"</a></li>"+(null!=(o=l(n,"if").call(s,null!=t?l(t,"sameDeviceOVEnrollmentEnabled"):t,{name:"if",hash:{},fn:e.program(22,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:2460},end:{line:1,column:2778}}}))?o:"")+(null!=(o=l(n,"if").call(s,null!=t?l(t,"showAnotherDeviceLink"):t,{name:"if",hash:{},fn:e.program(24,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:2778},end:{line:1,column:3117}}}))?o:"")+"</ol></div>"},8:function(e,t,n,i,r){return" ov-enrollment-enabled"},10:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="desktop-instructions ov-info">'+e.escapeExpression((a(n,"i18n")||t&&a(t,"i18n")||e.hooks.helperMissing).call(s,{name:"i18n",hash:{$1:"<span class='semi-strong'>$1</span>",bundle:"login",code:"oie.enroll.okta_verify.setup.customUri.prompt"},data:r,loc:{start:{line:1,column:1162},end:{line:1,column:1279}}}))+'</div><div class="desktop-instructions">'+(null!=(o=a(n,"if").call(s,null!=t?a(t,"sameDeviceOVEnrollmentEnabled"):t,{name:"if",hash:{},fn:e.program(11,r,0),inverse:e.program(13,r,0),data:r,loc:{start:{line:1,column:1319},end:{line:1,column:1575}}}))?o:"")+"</div>"+(null!=(o=a(n,"unless").call(s,null!=t?a(t,"sameDeviceOVEnrollmentEnabled"):t,{name:"unless",hash:{},fn:e.program(15,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:1581},end:{line:1,column:1757}}}))?o:"")},11:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<span>$1</span>",bundle:"login",code:"customUri.required.content.prompt"},data:r,loc:{start:{line:1,column:1356},end:{line:1,column:1441}}}))},13:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<span class='semi-strong'>$1</span>",bundle:"login",code:"oie.enroll.okta_verify.setup.customUri.noPrompt"},data:r,loc:{start:{line:1,column:1449},end:{line:1,column:1568}}}))},15:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="desktop-instructions">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.setup.customUri.makeSureHaveOV"},data:r,loc:{start:{line:1,column:1656},end:{line:1,column:1740}}}))+"</div>"},17:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.setup.customUri.makeSureHaveOVToContinue"},data:r,loc:{start:{line:1,column:1765},end:{line:1,column:1859}}}))},19:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=(o=null!=t?a(t,"deviceMap"):t)?a(o,"platformLC"):o,{name:"if",hash:{},fn:e.program(20,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:1931},end:{line:1,column:2168}}}))?o:"")+"<li>"+e.escapeExpression((a(n,"i18n")||t&&a(t,"i18n")||e.hooks.helperMissing).call(s,{name:"i18n",hash:{$1:"<span class='semi-strong'>$1</span>",bundle:"login",code:"oie.enroll.okta_verify.setup.customUri.setup"},data:r,loc:{start:{line:1,column:2172},end:{line:1,column:2288}}}))+"</li>"},20:function(e,t,n,i,r){var o,s=e.escapeExpression,a=e.lambda,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li><a aria-label='"+s((l(n,"i18n")||t&&l(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"customUri.required.content.download.linkText"},data:r,loc:{start:{line:1,column:1978},end:{line:1,column:2053}}}))+"' href=\""+s(a(null!=(o=null!=t?l(t,"deviceMap"):t)?l(o,"downloadHref"):o,t))+'" class="app-store-logo '+s(a(null!=(o=null!=t?l(t,"deviceMap"):t)?l(o,"platformLC"):o,t))+'-app-store-logo"></a></li>'},22:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li><span>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"customUri.required.content.download.title"},data:r,loc:{start:{line:1,column:2507},end:{line:1,column:2579}}}))+'</span>&nbsp;<a href="'+l(e.lambda(null!=(o=null!=t?c(t,"deviceMap"):t)?c(o,"downloadHref"):o,t))+'" target="_blank" id="download-ov" class="download-ov-link">'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"customUri.required.content.download.linkText"},data:r,loc:{start:{line:1,column:2687},end:{line:1,column:2762}}}))+"</a></li>"},24:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li>"+(null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=(o=null!=t?s(t,"deviceMap"):t)?s(o,"isDesktop"):o,{name:"if",hash:{},fn:e.program(25,r,0),inverse:e.program(27,r,0),data:r,loc:{start:{line:1,column:2811},end:{line:1,column:3105}}}))?o:"")+"</li>"},25:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<a class='orOnMobileLink' href='#'>$1</a>",bundle:"login",code:"oie.enroll.okta_verify.setup.customUri.orOnMobile"},data:r,loc:{start:{line:1,column:2838},end:{line:1,column:2965}}}))},27:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<a class='orOnMobileLink' href='#'>$1</a>",bundle:"login",code:"oie.enroll.okta_verify.setup.customUri.orMobile"},data:r,loc:{start:{line:1,column:2973},end:{line:1,column:3098}}}))},29:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"sameDevice"):t,{name:"if",hash:{},fn:e.program(30,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:3136},end:{line:1,column:4013}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"deviceBootstrap"):t,{name:"if",hash:{},fn:e.program(32,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:4013},end:{line:1,column:4794}}}))?o:"")},30:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lambda,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="explanation" data-se="subheader">'+l((u(n,"i18n")||t&&u(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.setup.subtitle "},data:r,loc:{start:{line:1,column:3197},end:{line:1,column:3266}}}))+'</p><ol class="sameDevice-info ov-info"><li>'+(null!=(o=(u(n,"i18n")||t&&u(t,"i18n")||a).call(s,{name:"i18n",hash:{arguments:"sameDevice.downloadHref",bundle:"login",code:"enroll.oda.without.account.step1"},data:r,loc:{start:{line:1,column:3310},end:{line:1,column:3411}}}))?o:"")+"</li><li>"+l((u(n,"i18n")||t&&u(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.setup.openOv"},data:r,loc:{start:{line:1,column:3420},end:{line:1,column:3486}}}))+"</li><li>"+l((u(n,"i18n")||t&&u(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.setup.signInUrl"},data:r,loc:{start:{line:1,column:3495},end:{line:1,column:3564}}}))+"<br><br/><span class='semi-strong no-translate'>"+l(c(null!=(o=null!=t?u(t,"sameDevice"):t)?u(o,"orgUrl"):o,t))+'</span><a data-clipboard-text="'+l(c(null!=(o=null!=t?u(t,"sameDevice"):t)?u(o,"orgUrl"):o,t))+'" class="button link-button copy-org-clipboard-button">'+l((u(n,"i18n")||t&&u(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"enroll.oda.org.copyLink"},data:r,loc:{start:{line:1,column:3740},end:{line:1,column:3794}}}))+"</a></li><li>"+l((u(n,"i18n")||t&&u(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.setup.skipAuth.followInstruction"},data:r,loc:{start:{line:1,column:3807},end:{line:1,column:3893}}}))+'</li></ol><p class="closing">'+l((u(n,"i18n")||t&&u(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.setup.skipAuth.canBeClosed"},data:r,loc:{start:{line:1,column:3922},end:{line:1,column:4002}}}))+"</p>"},32:function(e,t,n,i,r){var o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,a=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="explanation" data-se="subheader">'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.setup.skipAuth.subtitle"},data:r,loc:{start:{line:1,column:4079},end:{line:1,column:4156}}}))+'</p><ol class="deviceBootstrap-info ov-info"><li>'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{$1:"<span class='semi-strong'>$1</span>",arguments:"enrolledDeviceName",bundle:"login",code:"oie.enroll.okta_verify.setup.skipAuth.openOv.suchAs"},data:r,loc:{start:{line:1,column:4205},end:{line:1,column:4359}}}))+"</li><li>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.setup.skipAuth.selectAccount"},data:r,loc:{start:{line:1,column:4368},end:{line:1,column:4450}}}))+"</li><li>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{$1:"<span class='semi-strong'>$1</span>",bundle:"login",code:"oie.enroll.okta_verify.setup.skipAuth.addAccount"},data:r,loc:{start:{line:1,column:4459},end:{line:1,column:4579}}}))+"</li><li>"+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.setup.skipAuth.followInstruction"},data:r,loc:{start:{line:1,column:4588},end:{line:1,column:4674}}}))+'</li></ol><p class="closing">'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.okta_verify.setup.skipAuth.canBeClosed"},data:r,loc:{start:{line:1,column:4703},end:{line:1,column:4783}}}))+"</p>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=a(n,"if").call(s,null!=t?a(t,"href"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:452}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"email"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:452},end:{line:1,column:685}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=t?a(t,"phoneNumber"):t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:685},end:{line:1,column:926}}}))?o:"")+(null!=(o=a(n,"if").call(s,null!=(o=null!=t?a(t,"deviceMap"):t)?a(o,"setupOVUrl"):o,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.program(29,r,0),data:r,loc:{start:{line:1,column:926},end:{line:1,column:4801}}}))?o:"")},useData:!0}),getTemplateData:function(){var e;const t=this.options.appState.get("currentAuthenticator").contextualData;let n="",i=oS(this.options.appState),r=!1;if(t&&null!=t&&t.devicebootstrap&&null!=t&&t.devicebootstrap.enrolledDevices){const e=null==t?void 0:t.devicebootstrap.enrolledDevices;n=Array.isArray(e)&&!fl.isEmpty(e)?e[0]:e}i.securityLevel&&"ANY"===i.securityLevel&&(r=!0);const o=this.options.settings.get("features.sameDeviceOVEnrollmentEnabled");return{href:null===(e=t.qrcode)||void 0===e?void 0:e.href,email:fl.escape(null==t?void 0:t.email),phoneNumber:fl.escape(null==t?void 0:t.phoneNumber),sameDevice:null==t?void 0:t.samedevice,deviceBootstrap:null==t?void 0:t.devicebootstrap,enrolledDeviceName:n,deviceMap:i,showAnotherDeviceLink:r,sameDeviceOVEnrollmentEnabled:o}},postRender:function(){const e=this.options&&this.options.appState,t=this.model;this.$(".orOnMobileLink").click((function(){var n;if(!e||!t)return;const i="qrcode",r=e.get("remediations").find((e=>e.name===zy.SELECT_ENROLLMENT_CHANNEL));if(!r)return;const o=fl.find(r.uiSchema,(e=>"authenticator.id"===e.name));if(!o)return;const s=fl.find(r.uiSchema,(e=>"authenticator.channel"===e.name));s&&(s.options=fl.filter(null==s?void 0:s.options,(e=>e.value===i)),s.value=(null===(n=s.options[0])||void 0===n?void 0:n.value)||i,s.sublabel=null,t.set("authenticator.channel",s.value),t.set("authenticator.id",o.value),t.set("formName",r.name),e.trigger("saveForm",t))})),iS.attach(".copy-org-clipboard-button").done((()=>{let e=new nS({message:td("enroll.oda.org.copyLink.success","login"),level:"success"});return this.el.prepend(e.render().el),!1}))}});function oS(e){var t,n;if(!e)return null;const i=e.get("currentAuthenticator").contextualData;let r={};return null!==(t=i.samedevice)&&void 0!==t&&t.setupOVUrl?r=i.samedevice:null!==(n=i.devicebootstrap)&&void 0!==n&&n.setupOVUrl&&(r=i.devicebootstrap),r.platform&&(r.platformLC=r.platform.toLowerCase(),r.isDesktop=!("ios"===r.platformLC||"android"===r.platformLC)),r}let sS=!0;const aS=Db.extend(Object.assign({title:function(){let e;switch(this.options.appState.get("currentAuthenticator").contextualData.selectedChannel){case"email":e=td("oie.enroll.okta_verify.setup.email.title","login");break;case"sms":e=td("oie.enroll.okta_verify.setup.sms.title","login");break;default:e=td("oie.enroll.okta_verify.setup.title","login")}return e},className:"oie-enroll-ov-poll",noButtonBar:!0,initialize:function(){Db.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"error",this.stopPolling),sS&&this.startPolling()},showMessages:function(){const e={};this.options.appState.containsMessageWithI18nKey("oie.authenticator.app.non_fips_compliant_enrollment_device_incompatible")||this.options.appState.containsMessageWithI18nKey("oie.authenticator.app.non_fips_compliant_enrollment_app_update_required")?e.title=td("oie.okta_verify.enroll.force.upgrade.title","login"):this.options.appState.containsMessageWithI18nKey("oie.authenticator.app.method.push.enroll.enable.biometrics")&&(e.title=td("oie.authenticator.app.method.push.enroll.enable.biometrics.title","login")),Db.prototype.showMessages.call(this,e)},getUISchema:function(){const e=[],t=this.options.appState.get("currentAuthenticator").contextualData.selectedChannel;let n;return"qrcode"===t?(n=".qrcode-container",sS=!0):["email","sms"].includes(t)?(n=".switch-channel-content",sS=!0):["samedevice","devicebootstrap"].includes(t)&&(sS=!1),e.push({View:rS}),e.push({View:tS,options:{selectedChannel:t},selector:n}),["email","sms"].includes(t)&&e.push({View:eS,selector:".o-form-error-container"}),e},remove:function(){Db.prototype.remove.apply(this,arguments),this.stopPolling()}},Lb));var lS=l_.extend({Body:aS}),cS=sd.extend({className:"ov-same-device-enroll-text",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=(s(n,"i18n")||t&&s(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<a class='ov-same-device-enroll-link' href='#'>$1</a>",bundle:"login",code:"oie.enroll.okta_verify.select.channel.ovOnThisDevice"},data:r,loc:{start:{line:1,column:0},end:{line:1,column:144}}}))?o:""},useData:!0}),postRender:function(){const e=this.options&&this.options.appState,t=this.model;this.$(".ov-same-device-enroll-link").click((function(){var n,i,r,o;if(!e||!t)return;const s="samedevice",a=e.get("remediations").find((e=>e.name===zy.SELECT_ENROLLMENT_CHANNEL));if(!a)return;const l=null===(n=a.uiSchema)||void 0===n?void 0:n.find((e=>"authenticator.id"===e.name));if(!l)return;const c=null===(i=a.uiSchema)||void 0===i?void 0:i.find((e=>"authenticator.channel"===e.name));c&&(c.options=null===(r=c.options)||void 0===r?void 0:r.filter((e=>e.value===s)),c.value=(null===(o=c.options[0])||void 0===o?void 0:o.value)||s,c.sublabel=null,t.set("authenticator.channel",c.value),t.set("authenticator.id",l.value),t.set("formName",a.name),e.trigger("saveForm",t))}))}});const uS=Ib.extend({title:function(){return Us.isAndroid()||Us.isIOS()?td("oie.enroll.okta_verify.setup.title","login"):td("oie.enroll.okta_verify.select.channel.title.updated","login")},getUISchema:function(){var e;const t=Ib.prototype.getUISchema.apply(this,arguments),n=fl.find(t,(e=>"authenticator.channel"===e.name));return n.options=fl.filter(null==n?void 0:n.options,(e=>{var t,n;return e.value!==(null===(t=this.options.appState.get("currentAuthenticator"))||void 0===t||null===(n=t.contextualData)||void 0===n?void 0:n.selectedChannel)&&"samedevice"!==e.value})),n.value=null===(e=n.options[0])||void 0===e?void 0:e.value,n.sublabel=null,this.model.set("authenticator.channel",n.value),[{View:td("oie.enroll.okta_verify.select.channel.subtitle","login"),selector:".o-form-fieldset-container"},...t]}});var hS=l_.extend({Body:uS,postRender:function(){var e,t;const n=null===(e=this.options.currentViewState.value)||void 0===e?void 0:e.find((e=>"authenticator"===e.name)).value.form.value;(null==n||null===(t=n.find((e=>"channel"===e.name)).options)||void 0===t?void 0:t.find((e=>"samedevice"===e.value)))&&this.add(new cS({model:this.model,settings:this.settings,appState:this.options.appState}),"form")}});const dS=Ib.extend({className:"oie-enroll-ov-data",title:function(){return"email"===this.options.appState.get("currentAuthenticator").contextualData.selectedChannel?td("oie.enroll.okta_verify.enroll.channel.email.title","login"):td("oie.enroll.okta_verify.enroll.channel.sms.title","login")},save:function(){return td("oie.enroll.okta_verify.setupLink","login")},getUISchema:function(){const e=Ib.prototype.getUISchema.apply(this,arguments),t=fl.find(e,(({name:e})=>"phoneNumber"===e)),n=fl.findIndex(e,(({name:e})=>"phoneNumber"===e)),i={"label-top":!0,label:td("mfa.country","login"),type:"select",options:ff(),name:"country",wide:!0},r={label:td("mfa.phoneNumber.placeholder","login"),type:"group",modelType:"string","label-top":!0,name:"phoneCode",input:[{type:"label",label:`+${this.model.get("phoneCode")}`,className:"country-code-label no-translate"},Object.assign({},t)]};-1!==n&&e.splice(n,1,i,r);const o={View:"email"===this.options.appState.get("currentAuthenticator").contextualData.selectedChannel?td("oie.enroll.okta_verify.enroll.channel.email.subtitle","login"):td("oie.enroll.okta_verify.channel.sms.description.updated","login"),selector:".o-form-fieldset-container"};return e.push(o),e},handlePhoneCodeChange:function(){this.el.querySelector(".country-code-label").innerText=`+${this.model.get("phoneCode")}`},initialize:function(){Ib.prototype.initialize.apply(this,arguments),"sms"===this.options.appState.get("currentAuthenticator").contextualData.selectedChannel&&this.listenTo(this.model,"change:phoneCode",this.handlePhoneCodeChange.bind(this))}});var pS=l_.extend({Body:dS,createModelClass:function(){const e=Fb.prototype.createModelClass.apply(this,arguments);if("sms"!==this.options.appState.get("currentAuthenticator").contextualData.selectedChannel)return e;const t=Object.assign({country:{value:this.settings.get("defaultCountryCode"),type:"string"}},e.prototype.local),n=Object.assign({phoneCode:{deps:["country"],fn:function(e){return gf(e)}}},e.prototype.derived);return e.extend({local:t,derived:n,toJSON:function(){const e=Bl.prototype.toJSON.call(this,arguments);let t=`+${this.get("phoneCode")}${e.phoneNumber}`;return e.phoneNumber=t,e}})},postRender:function(){this.add(tS,"form")}});const fS=sd.extend({className:"okta-form-infobox-warning infobox infobox-warning",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="icon warning-16"></span><p>'+e.escapeExpression("function"==typeof(o=null!=(o=s(n,"warning")||(null!=t?s(t,"warning"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"warning",hash:{},data:r,loc:{start:{line:1,column:40},end:{line:1,column:51}}}):o)+"</p>"},useData:!0})}),mS=Db.extend(Object.assign({noButtonBar:!0,title:function(){return this.isOV()?td("oie.okta_verify.push.title","login"):td("oie.verify.custom_app.title","login",[this.options.appState.getAuthenticatorDisplayName()])},initialize:function(){Db.prototype.initialize.apply(this,arguments),(this.isOV()||this.isCustomApp())&&this.isAutoChallengeSupported()&&(this.hasSavingState=!1),this.listenTo(this.model,"error",this.stopPoll),this.addView()},addView:function(){this.add(nd({className:"button button-wide button-primary send-push link-button-disabled",title:this.isOV()?td("oie.okta_verify.push.sent","login"):td("oie.custom_app.push.sent","login"),click:e=>{e.preventDefault()}})),this.add(`<span class='accessibility-text' role='alert'>\n        ${this.isOV()?td("oie.okta_verify.push.sent","login"):td("oie.custom_app.push.sent","login")}</span>`)},render:function(){Db.prototype.render.apply(this,arguments);const e=this.$el.find('[data-se="o-form-fieldset-autoChallenge"]');this.isAutoChallengeSupported()?(this.isOV()||this.isCustomApp())&&e.length&&this.$el.find(".o-form-fieldset-container").append(e):e.length&&e.hide()},postRender:function(){Db.prototype.postRender.apply(this,arguments);const e=this.isOV()?"okta-verify-push-challenge":" custom-app-push-challenge";this.$el.addClass(e),this.startPoll()},startPoll:function(){this.startPolling(),this.warningTimeout=setTimeout((()=>{const e=this.isOV()?td("oktaverify.warning","login"):td("oie.custom_app.push.warning","login",[this.options.appState.getAuthenticatorDisplayName()]);this.showWarning(e)}),3e4)},stopPoll:function(){this.stopPolling(),this.clearWarning()},showWarning:function(e){this.clearWarning(),this.add(fS,".o-form-error-container",{options:{warning:e}})},clearWarning:function(){this.$(".o-form-error-container div").hasClass("okta-form-infobox-warning")&&this.$(".okta-form-infobox-warning").remove(),clearTimeout(this.warningTimeout)},remove:function(){Db.prototype.remove.apply(this,arguments),this.stopPoll()},isOV:function(){return this.options.appState.get("authenticatorKey")===Yy.OV},isCustomApp:function(){return this.options.appState.get("authenticatorKey")===Yy.CUSTOM_APP},isAutoChallengeSupported:function(){return null!==this.options.appState.getSchemaByName("autoChallenge")&&void 0!==this.options.appState.getSchemaByName("autoChallenge")}},Lb)),gS=l_.extend({Body:mS}),yS=zb.extend({getDeviceChallengePayload:function(){return this.options.currentViewState.relatesTo.value.contextualData.challenge.value},showCustomFormErrorCallout:function(e){const t=Vb(e,!1);return!fl.isEmpty(t)&&(this.showMessages(id(t)),!0)}}),vS=sd.extend({initialize:function(){this.listenTo(this.options.appState,"showNumberChallengeWarning",(()=>{this.startWarningTimeout()})),this.listenTo(this.options.appState,"hideNumberChallengeWarning",(()=>{this.clearWarning()}))},className:"resend-number-challenge-warning hide",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="okta-form-infobox-warning infobox infobox-warning"><span class="icon warning-16"></span><p>'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{$1:"<a href='#' class='resend-number-challenge'>$1</a>",bundle:"login",code:"oie.numberchallenge.warning"},data:r,loc:{start:{line:1,column:103},end:{line:1,column:217}}}))+"</p></div>"},useData:!0}),showWarning:function(){this.$el.removeClass("hide")},clearWarning:function(){this.$el.addClass("hide"),clearTimeout(this.warningTimeout),this.startWarningTimeout()},startWarningTimeout:function(){this.warningTimeout=setTimeout(fl.bind((function(){this.showWarning()}),this),3e4)}}),bS=sd.extend({className:"number-challenge-section",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{$1:"<span class='strong'>$1</span>",arguments:"correctAnswer",bundle:"login",code:"oie.numberchallenge.instruction"},data:r,loc:{start:{line:1,column:3},end:{line:1,column:127}}}))+'</p><div class="phone no-translate"><div class="phone--body"><div class="phone--screen"><span class="phone--number" data-se="challenge-number">'+l("function"==typeof(o=null!=(o=c(n,"correctAnswer")||(null!=t?c(t,"correctAnswer"):t))?o:a)?o.call(s,{name:"correctAnswer",hash:{},data:r,loc:{start:{line:1,column:270},end:{line:1,column:287}}}):o)+'</span></div><div class="phone--home-button"></div></div></div>'},useData:!0}),getTemplateData:function(){var e,t;return{correctAnswer:null===(e=this.options.appState.get("currentAuthenticator"))||void 0===e||null===(t=e.contextualData)||void 0===t?void 0:t.correctAnswer}}}),_S=Db.extend(Object.assign({noButtonBar:!0,className:"okta-verify-number-challenge",events:{"click a.resend-number-challenge":"handleResendNumberChallenge"},handleResendNumberChallenge:function(){this.options.appState.trigger("invokeAction","currentAuthenticator-resend"),this.options.appState.trigger("hideNumberChallengeWarning")},title:function(){return td("oie.okta_verify.push.sent","login")},initialize:function(){Db.prototype.initialize.apply(this,arguments),this.add(bS)},triggerAfterError:function(){Db.prototype.triggerAfterError.apply(this,arguments),this.stopPolling(),this.$el.find(".o-form-fieldset-container").empty()},postRender:function(){Db.prototype.postRender.apply(this,arguments),this.startPoll()},startPoll:function(){this.startPolling(),this.addWarning()},stopPoll:function(){this.stopPolling()},addWarning:function(){this.add(vS,".o-form-error-container"),this.options.appState.trigger("showNumberChallengeWarning")},remove:function(){Db.prototype.remove.apply(this,arguments),this.stopPolling()}},Lb));var wS=l_.extend({initialize:function(){var e,t,n;l_.prototype.initialize.apply(this,arguments);const i=null===(e=this.options)||void 0===e||null===(t=e.appState)||void 0===t?void 0:t.get("currentAuthenticator"),r=null==i?void 0:i.methods[0];(null==r?void 0:r.type)===Xy&&null!=i&&null!==(n=i.contextualData)&&void 0!==n&&n.correctAnswer?this.Body=_S:(null==r?void 0:r.type)===Xy?this.Body=mS:this.Body=yS}});const kS=Ib.extend(Object.assign({className:"okta-verify-totp-challenge",title:function(){return td("oie.okta_verify.totp.title","login")},save:function(){return td("mfa.challenge.verify","login")},showCustomFormErrorCallout:function(e){var t;const n=null==e||null===(t=e.responseJSON)||void 0===t?void 0:t.errorSummaryKeys;let i;if(n&&n.includes("oie.authenticator.oktaverify.method.totp.verify.enable.biometrics"))return i={type:"error",className:"okta-verify-uv-callout-content",title:td("oie.authenticator.app.method.push.verify.enable.biometrics.title","login"),subtitle:td("oie.authenticator.app.method.push.verify.enable.biometrics.description","login"),bullets:[td("oie.authenticator.app.method.push.verify.enable.biometrics.point1","login"),td("oie.authenticator.app.method.push.verify.enable.biometrics.point2","login"),td("oie.authenticator.app.method.push.verify.enable.biometrics.point3","login")]},this.showMessages(id(i)),!0}}));var SS=l_.extend({Body:kS});const ES=Ib.extend(Object.assign({className:"okta-verify-resend-push",title:function(){return td("oie.okta_verify.push.title","login")},save:function(){return td("oie.okta_verify.push.resend","login")},showMessages:function(){let e={};this.options.appState.containsMessageWithI18nKey("oie.authenticator.app.method.push.force.upgrade.number_challenge")?e.title=td("oie.numberchallenge.force.upgrade.title","login"):this.options.appState.containsMessageWithI18nKey("oie.authenticator.app.method.push.verify.enable.biometrics")&&(e.content=null,e.className="okta-verify-uv-callout-content",e.title=td("oie.authenticator.app.method.push.verify.enable.biometrics.title","login"),e.subtitle=td("oie.authenticator.app.method.push.verify.enable.biometrics.description","login"),e.type="error",e.bullets=[td("oie.authenticator.app.method.push.verify.enable.biometrics.point1","login"),td("oie.authenticator.app.method.push.verify.enable.biometrics.point2","login"),td("oie.authenticator.app.method.push.verify.enable.biometrics.point3","login")],e=id(e)),Ib.prototype.showMessages.call(this,e)}}));var TS=l_.extend({Body:ES});const xS=Ib.extend(Object.assign({className:function(){return this.isOV()?"okta-verify-send-push-form":"custom-app-send-push-form"},save:function(){return this.options.appState.get("authenticatorKey")===Yy.OV?td("oie.okta_verify.sendPushButton","login"):td("oie.custom_app.sendPushButton","login")},title:function(){return this.isOV()?td("oie.okta_verify.push.title","login"):td("oie.custom_app.push.title","login")},render:function(){Ib.prototype.render.apply(this,arguments);const e=this.$el.find('[data-se="o-form-fieldset-authenticator.autoChallenge"]');e.length&&this.$el.find(".o-form-button-bar").after(e)},getUISchema:function(){return Ib.prototype.getUISchema.apply(this,arguments).filter((e=>"authenticator.methodType"!==e.name))},isOV:function(){return this.options.appState.get("authenticatorKey")===Yy.OV}})),CS=Kw.extend({getUISchema:function(){const e=Ib.prototype.getUISchema.apply(this,arguments).find((e=>"authenticator.methodType"===e.name));this._sortMethodOptionsIfDeviceKnown(e.options);const t=e.options.map((e=>Object.assign({},e,Rv({authenticatorKey:this.isOV()?Yy.OV:Yy.CUSTOM_APP,value:{methodType:e.value}}))));return[{View:kb,options:{name:e.name,collection:new od(t)}}]},_sortMethodOptionsIfDeviceKnown:function(e){var t,n,i,r;if(null===(t=this.options)||void 0===t||null===(n=t.currentViewState)||void 0===n||null===(i=n.relatesTo)||void 0===i||null===(r=i.value)||void 0===r?void 0:r.deviceKnown){const t=e.findIndex((e=>"signed_nonce"===e.value));if(t>0){const n=e[t];e.splice(t,1),e.unshift(n)}}},isOV:function(){return this.options.appState.get("authenticatorKey")===Yy.OV}});var PS=l_.extend({initialize:function(){l_.prototype.initialize.apply(this,arguments),this.isPushOnlyWithAutoChallengeFlow()?this.Body=xS:(this.Body=CS,this.Footer=pb)},isPushOnlyWithAutoChallengeFlow:function(){const e=this.options.appState.getSchemaByName("authenticator.methodType"),t=this.options.appState.getSchemaByName("authenticator.autoChallenge"),n=null==e?void 0:e.options;return t&&1===n.length&&"push"===n[0].value}});const AS=Ib.extend({noButtonBar:!0,className:"ion-form device-challenge-poll",title:function(){return td("deviceTrust.sso.redirectText","login")},initialize:function(){var e,t;Ib.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"error",(()=>{this.$(".spinner").hide()})),this.add('<div class="credential-sso-extension"><div class="spinner"></div></div>');const n="get"===(null===(e=this.options.currentViewState)||void 0===e||null===(t=e.method)||void 0===t?void 0:t.toLowerCase());this.model.set("useRedirect",n),this.trigger("save",this.model)},showCustomFormErrorCallout:function(e){const t=Vb(e,!1);return!fl.isEmpty(t)&&(this.showMessages(id(t)),!0)}});var OS=l_.extend({Body:AS}),IS=sd.extend({className:"oie-enroll-google-authenticator-barcode",template:pl.template({1:function(e,t,n,i,r){var o,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="google-authenticator-setup-info-title barcode-setup-title">'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.google_authenticator.scanBarcode.title"},data:r,loc:{start:{line:1,column:83},end:{line:1,column:163}}}))+'</div><div class="qrcode-info-container"><p class="google-authenticator-setup-info">'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.google_authenticator.scanBarcode.description"},data:r,loc:{start:{line:1,column:247},end:{line:1,column:333}}}))+'</p><div class="qrcode-container"><img class="qrcode" src='+l("function"==typeof(o=null!=(o=c(n,"href")||(null!=t?c(t,"href"):t))?o:a)?o.call(s,{name:"href",hash:{},data:r,loc:{start:{line:1,column:391},end:{line:1,column:399}}}):o)+' alt="qr code"></img><a href="#" class="cannot-scan-link">'+l((c(n,"i18n")||t&&c(t,"i18n")||a).call(s,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.google_authenticator.scanBarcode.cannotScan"},data:r,loc:{start:{line:1,column:457},end:{line:1,column:542}}}))+"</a></div></div>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"href"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:1,column:565}}}))?o:""},useData:!0}),getTemplateData:function(){var e;return{href:null===(e=this.options.appState.get("currentAuthenticator").contextualData.qrcode)||void 0===e?void 0:e.href}},events:{"click .cannot-scan-link":function(e){e.preventDefault(),this.options.model.set("viewToDisplay","manual")}}}),LS=sd.extend({className:"oie-enroll-google-authenticator-manual-setup",template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,a=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="google-authenticator-setup-info-title manual-setup-title">'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.google_authenticator.cannotScanBarcode.title"},data:r,loc:{start:{line:1,column:70},end:{line:1,column:156}}}))+'</div><p class="google-authenticator-setup-info">'+a((l(n,"i18n")||t&&l(t,"i18n")||s).call(o,{name:"i18n",hash:{bundle:"login",code:"oie.enroll.google_authenticator.manualSetupInstructions"},data:r,loc:{start:{line:1,column:205},end:{line:1,column:291}}}))+"</p>"},useData:!0})});const DS="barcode",RS="manual",MS="enterCode",NS=Ib.extend({title:function(){return td("oie.enroll.google_authenticator.setup.title","login")},noButtonBar:!0,className:"oie-enroll-google-authenticator",enterCodeSubtitle:sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="google-authenticator-setup-info-title enter-code-title">'+e.escapeExpression((o(n,"i18n")||t&&o(t,"i18n")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"i18n",hash:{bundle:"login",code:"oie.enroll.google_authenticator.enterCode.title"},data:r,loc:{start:{line:1,column:68},end:{line:1,column:146}}}))+"</div>"},useData:!0})}),getUISchema:function(){const e=Ib.prototype.getUISchema.apply(this,arguments),t=Ab({className:"google-authenticator-next",title:td("oform.next","login"),click:()=>{this.model.set("viewToDisplay",MS)}}),n=Ab({className:"google-authenticator-verify",title:td("oform.verify","login"),click:()=>{this.$el.submit()}});return e[0].showWhen={viewToDisplay:MS},e.unshift({View:this.enterCodeSubtitle,selector:".o-form-fieldset-container",showWhen:{viewToDisplay:MS}}),e.push({View:IS,selector:".o-form-fieldset-container",showWhen:{viewToDisplay:DS}},{View:LS,selector:".o-form-fieldset-container",showWhen:{viewToDisplay:RS}},{label:!1,className:"shared-secret no-translate",type:"text",placeholder:this.options.appState.get("currentAuthenticator").contextualData.sharedSecret,disabled:!0,showWhen:{viewToDisplay:RS}},{View:t,showWhen:{viewToDisplay:e=>e===DS||e===RS}},{View:n,showWhen:{viewToDisplay:e=>e===MS}}),e}});var jS=l_.extend({Body:NS,createModelClass:function(){const e=Fb.prototype.createModelClass.apply(this,arguments),t=Object.assign({viewToDisplay:{value:"barcode",type:"string",required:!0,values:[DS,RS,MS]}},e.prototype.local);return e.extend({local:t})}});const FS=Ib.extend(Object.assign({className:"google-authenticator-challenge",title:function(){return td("oie.verify.google_authenticator.otp.title","login")},subtitle:function(){return td("oie.verify.google_authenticator.otp.description","login")},save:function(){return td("mfa.challenge.verify","login")}}));var BS=l_.extend({Body:FS});const US=Ib.extend({className:"on-prem-authenticator-enroll",modelEvents:{error:"_checkTokenChange"},title:function(){const e=this.options.appState.getAuthenticatorDisplayName()||td("oie.on_prem.authenticator.default.vendorName","login");return td("oie.on_prem.enroll.title","login",[e])},_checkTokenChange:function(e,t){var n;const i=null==t||null===(n=t.responseJSON)||void 0===n?void 0:n.errorSummaryKeys;i&&i.includes("errors.E0000113")&&(this.model.set("credentials.passcode",""),this.render())},save:function(){return td("mfa.challenge.verify","login")}});var qS=l_.extend({Body:US});const VS=Ib.extend({className:"on-prem-authenticator-verify",modelEvents:{error:"_checkTokenChange"},title:function(){const e=this.options.appState.getAuthenticatorDisplayName()||td("oie.on_prem.authenticator.default.vendorName","login");return td("oie.on_prem.verify.title","login",[e])},_checkTokenChange:function(e,t){var n;const i=null==t||null===(n=t.responseJSON)||void 0===n?void 0:n.errorSummaryKeys;i&&i.includes("errors.E0000113")&&(this.model.set("credentials.passcode",""),this.render())},save:function(){return td("mfa.challenge.verify","login")}});var HS=l_.extend({Body:VS}),$S=Ib.extend({noButtonBar:!0,postRender:function(){const e=this.getContextualData(),t=this.add(`<iframe frameborder="0" title="'${this.title()}'"></iframe>`).last();try{Rf.init({host:e.host,sig_request:e.signedToken,iframe:t.el,post_action:e=>{this.model.set("credentials.signatureData",e),this.saveForm(this.model)}})}catch(e){t.remove(),this.add(id({type:"error",subtitle:td("oie.duo.iFrameError","login")}),".o-form-error-container")}},getContextualData:function(){}});const zS=$S.extend({title:function(){return td("oie.duo.enroll.title","login")},getContextualData:function(){return this.options.appState.get("currentAuthenticator").contextualData}});var WS=l_.extend({Body:zS});const GS=$S.extend({title:function(){return td("oie.duo.verify.title","login")},getContextualData:function(){return this.options.appState.get("currentAuthenticatorEnrollment").contextualData}});var KS=l_.extend({Body:GS});const YS=Ib.extend({initialize:function(){Ib.prototype.initialize.apply(this,arguments),this.model.set("useRedirect",!0),this.add('<div class="okta-waiting-spinner"></div>')}}),XS=l_.extend({postRender:function(){l_.prototype.postRender.apply(this,arguments);const e=this.options.appState.get("messages")||{};this.settings.get("features.skipIdpFactorVerificationBtn")&&!Array.isArray(e.value)?(this.$(".o-form-button-bar").hide(),this.$(".okta-waiting-spinner").show(),this.form.trigger("save",this.model)):(this.$(".okta-waiting-spinner").hide(),this.$(".o-form-button-bar").show())}}),JS=YS.extend({title:function(){const e=this.options.appState.getAuthenticatorDisplayName();return td("oie.idp.challenge.title","login",[e])},subtitle:function(){const e=this.options.appState.getAuthenticatorDisplayName();return td("oie.idp.challenge.description","login",[e])},save:function(){return td("mfa.challenge.verify","login")}});var QS=XS.extend({Body:JS});const ZS=YS.extend({title:function(){const e=this.options.appState.getAuthenticatorDisplayName();return td("oie.idp.enroll.title","login",[e])},subtitle:function(){const e=this.options.appState.getAuthenticatorDisplayName();return td("oie.idp.enroll.description","login",[e])},save:function(){return td("mfa.enroll","login")}});var eE=XS.extend({Body:ZS});const tE=Ib.extend(Object.assign({className:"mfa-verify-custom-otp",title:function(){const e=this.options.appState.getAuthenticatorDisplayName()||td("oie.custom_otp.authenticator.default.vendorName","login");return td("oie.verify.custom_otp.title","login",[e])},subtitle:function(){return td("oie.verify.custom_otp.description","login")},save:function(){return td("mfa.challenge.verify","login")}}));var nE=l_.extend({Body:tE});const iE=Ib.extend({title:function(){const e=this.options.appState.getAuthenticatorDisplayName();return this.options.appState.isAuthenticatorChallenge()?td("oie.symantecVip.challenge.title","login",[e]):td("oie.symantecVip.enroll.title","login",[e])},subtitle:function(){const e=this.options.appState.getAuthenticatorDisplayName();return this.options.appState.isAuthenticatorChallenge()?td("oie.symantecVip.challenge.description","login",[e]):td("oie.symantecVip.enroll.description","login",[e])},save:function(){return this.options.appState.isAuthenticatorChallenge()?td("mfa.challenge.verify","login"):td("mfa.enroll","login")}});var rE=l_.extend({Body:iE});const oE=Ib.extend({title:function(){return td("device.code.activate.title","login")},subtitle:function(){return td("device.code.activate.subtitle","login")},events:{'keyup input[name="userCode"]':function(e){e.preventDefault(),this.addHyphen(e)}},addHyphen:function(e){const t=e.target.value;t&&4===t.length&&!["Backspace","Delete","-"].includes(e.key)&&(e.target.value=t.concat("-"))}});var sE=Fb.extend({Body:oE}),aE=rb.extend({HeaderBeacon:s_.extend({getBeaconClassName:function(){return"smartcard"}})});const lE=Ib.extend({className:"piv-cac-card",modelEvents:{request:"startAuthentication",error:"stopAuthentication"},initialize:function(){Ib.prototype.initialize.apply(this,arguments),this.model.set("useRedirect",!0),this.addInstructions()},title:function(){return td("piv.cac.title","login")},save:function(){return td("retry","login")},addInstructions:function(){this.add(`<div class='piv-verify-text'>\n        <p>${td("piv.cac.card.insert","login")}</p>\n        <div data-se='piv-waiting' class='okta-waiting-spinner'></div>\n      </div>`)},startAuthentication:function(){this.$(".okta-waiting-spinner").show(),this.$(".o-form-button-bar").hide()},stopAuthentication:function(){this.$(".okta-waiting-spinner").hide(),this.$(".o-form-button-bar").show()}});var cE=l_.extend({Header:aE,Body:lE,postRender:function(){l_.prototype.postRender.apply(this,arguments);const e=this.options.appState.get("messages")||{};Array.isArray(e.value)?this.form.stopAuthentication():(this.form.startAuthentication(),this.form.trigger("save",this.model))}});const uE=sd.extend({template:pl.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){return'<div aria-hidden="true" class="yubikey-demo"></div>'},useData:!0})}),hE=Ib.extend({title:function(){return this.options.appState.isAuthenticatorChallenge()?td("oie.yubikey.challenge.title","login"):td("oie.yubikey.enroll.title","login")},subtitle:function(){return td("oie.yubikey.description","login")},save:function(){return td("mfa.challenge.verify","login")},getUISchema:function(){const e=Ib.prototype.getUISchema.apply(this,arguments);return e.unshift({View:uE,selector:".o-form-fieldset-container"}),e}});var dE=l_.extend({Body:hE});const pE=Ib.extend(Object.assign({className:"custom-app-verify-resend-push",title:function(){return td("oie.verify.custom_app.title","login",[this.options.appState.getAuthenticatorDisplayName()])},save:function(){return td("oie.custom_app.push.resend","login")},showMessages:function(){let e={};this.options.appState.containsMessageWithI18nKey("oie.authenticator.custom_app.method.push.verify.enable.biometrics")&&(e.content=null,e.className="okta-verify-uv-callout-content",e.title=td("oie.authenticator.custom_app.method.push.verify.enable.biometrics.title","login",[this.options.appState.getAuthenticatorDisplayName()]),e.subtitle=td("oie.authenticator.custom_app.method.push.verify.enable.biometrics.description","login"),e.type="error",e.bullets=[td("oie.authenticator.custom_app.method.push.verify.enable.biometrics.point1","login"),td("oie.authenticator.custom_app.method.push.verify.enable.biometrics.point2","login",[this.options.appState.getAuthenticatorDisplayName()]),td("oie.authenticator.custom_app.method.push.verify.enable.biometrics.point3","login",[this.options.appState.getAuthenticatorDisplayName()])],e=id(e)),Ib.prototype.showMessages.call(this,e)}}));var fE=l_.extend({Body:pE});const mE=Ib.extend({title:function(){return td("password.expired.title.generic","login")},subtitle:function(){return td("password.expired.custom.subtitle","login")},noSubmitButton:!0,initialize:function(){const{customExpiredPasswordName:e,customExpiredPasswordURL:t}=this.options.currentViewState;this.add(nd({className:"button button-primary button-wide",title:fl.partial(td,"password.expired.custom.submit","login",[e]),click:()=>{ia.redirect(t)}}))}});var gE=Fb.extend({Body:mE});const yE=Ib.extend({className:"password-authenticator",subtitle:function(){return this.settings.get("brandName")?td("password.expiring.soon.subtitle.specific","login",[this.settings.get("brandName")]):td("password.expiring.soon.subtitle.generic","login")},title:function(){var e;const t=(null===(e=this.options.appState.get("currentAuthenticator"))||void 0===e?void 0:e.settings).daysToExpiry;return t>0?td("password.expiring.title","login",[t]):td(0===t?"password.expiring.today":"password.expiring.soon","login")},noSubmitButton:!0,initialize:function(){const{customExpiredPasswordName:e,customExpiredPasswordURL:t}=this.options.currentViewState;this.add(nd({className:"button button-primary button-wide",title:fl.partial(td,"password.expired.custom.submit","login",[e]),click:()=>{ia.redirect(t)}}))}}),vE=pb.extend({links:function(){const e=[];return this.options.appState.hasRemediationObject("skip")&&e.push({type:"link",label:td("password.expiring.later","login"),name:"skip",actionPath:"skip"}),e}});var bE=Fb.extend({Body:yE,Footer:vE});const _E=Ib.extend({noSubmitButton:!0,title:function(){return td("oie.kmsi.title","login")},subtitle:function(){return td("oie.kmsi.subtitle","login")},saveForm:function(e){this.model.set("keepMeSignedIn",e),this.options.appState.trigger("saveForm",this.model)},getUISchema:function(){const e=this;return[{View:nd({className:"button button-secondary",title:td("oie.kmsi.accept","login"),attributes:{"data-se":"stay-signed-in-btn"},click:function(){e.saveForm(!0)}})},{View:nd({className:"button button-secondary",title:td("oie.kmsi.reject","login"),attributes:{"data-se":"do-not-stay-signed-in-btn"},click:function(){e.saveForm(!1)}})}]}});var wE=Fb.extend({Body:_E});const kE=Ib.extend({title:()=>td("account.unlock.title","login")});var SE=Fb.extend({initialize:function(){Fb.prototype.initialize.apply(this,arguments),this.Body=kE}});const EE="_",TE={[zy.IDENTIFY]:{[EE]:t_},[zy.IDENTIFY_RECOVERY]:{[EE]:r_},[zy.DEVICE_CHALLENGE_POLL]:{[EE]:pw},[zy.LAUNCH_AUTHENTICATOR]:{[EE]:vw},[zy.DEVICE_APPLE_SSO_EXTENSION]:{[EE]:mw,[Yy.OV]:OS},[zy.CANCEL_TRANSACTION]:{[EE]:mw},[zy.ENROLL_PROFILE]:{[EE]:Uw},[zy.ENROLL_PROFILE_UPDATE]:{[EE]:Hw},[zy.POLL]:{[EE]:K_},[zy.REQUEST_ACTIVATION]:{[EE]:zw},[zy.SELECT_AUTHENTICATOR_ENROLL]:{[EE]:Gw},[zy.AUTHENTICATOR_ENROLLMENT_DATA]:{[Yy.PHONE]:vk,[Yy.EMAIL]:Zk},[zy.CONSENT_ADMIN]:{[EE]:J_},[zy.CONSENT_ENDUSER]:{[EE]:tw},[zy.CONSENT_GRANULAR]:{[EE]:sw},[zy.CONSENT_EMAIL_CHALLENGE]:{[EE]:cw},[zy.ENROLL_AUTHENTICATOR]:{[Yy.DUO]:WS,[Yy.EMAIL]:Wk,[Yy.GOOGLE_OTP]:jS,[Yy.IDP]:eE,[Yy.ON_PREM]:qS,[Yy.PASSWORD]:Zw,[Yy.PHONE]:gk,[Yy.RSA]:qS,[Yy.SECURITY_QUESTION]:kk,[Yy.SYMANTEC_VIP]:rE,[Yy.WEBAUTHN]:Ck,[Yy.YUBIKEY]:dE},[zy.CHALLENGE_AUTHENTICATOR]:{[Yy.CUSTOM_OTP]:nE,[Yy.DUO]:KS,[Yy.EMAIL]:Yk,[Yy.GOOGLE_OTP]:BS,[Yy.IDP]:QS,[Yy.ON_PREM]:HS,[Yy.OV]:SS,[Yy.PASSWORD]:nk,[Yy.PHONE]:pk,[Yy.RSA]:HS,[Yy.SECURITY_QUESTION]:Ek,[Yy.SYMANTEC_VIP]:rE,[Yy.WEBAUTHN]:Rk,[Yy.YUBIKEY]:dE},[zy.ENROLL_POLL]:{[Yy.OV]:lS},[zy.SELECT_ENROLLMENT_CHANNEL]:{[Yy.OV]:hS},[zy.ENROLLMENT_CHANNEL_DATA]:{[Yy.OV]:pS},[zy.REENROLL_AUTHENTICATOR]:{[Yy.PASSWORD]:rk},[zy.REENROLL_CUSTOM_PASSWORD_EXPIRY]:{[Yy.PASSWORD]:gE},[zy.REENROLL_CUSTOM_PASSWORD_EXPIRY_WARNING]:{[Yy.PASSWORD]:bE},[zy.REENROLL_AUTHENTICATOR_WARNING]:{[Yy.PASSWORD]:ak},[zy.RESET_AUTHENTICATOR]:{[Yy.PASSWORD]:ck,[Yy.GOOGLE_OTP]:jS},[zy.SELECT_AUTHENTICATOR_AUTHENTICATE]:{[EE]:Yw},[zy.SELECT_AUTHENTICATOR_UNLOCK]:{[EE]:Jw},[zy.UNLOCK_ACCOUNT]:{[EE]:SE},[zy.CHALLENGE_POLL]:{[Yy.OV]:wS,[Yy.CUSTOM_APP]:gS},[zy.RESEND]:{[Yy.OV]:TS,[Yy.CUSTOM_APP]:fE},[zy.AUTHENTICATOR_VERIFICATION_DATA]:{[Yy.PHONE]:_k,[Yy.OV]:PS,[Yy.EMAIL]:Zk,[Yy.CUSTOM_APP]:PS},[zy.FAILURE_REDIRECT]:{[EE]:z_},[zy.SUCCESS_REDIRECT]:{[EE]:z_},[zy.REDIRECT_IDP]:{[EE]:n_},[zy.PIV_IDP]:{[EE]:cE},[zy.DEVICE_ENROLLMENT_TERMINAL]:{[EE]:Nw},[zy.USER_CODE]:{[EE]:sE},[zy.KEEP_ME_SIGNED_IN]:{[EE]:wE},[zy.TERMINAL]:{[EE]:V_}};const xE=e=>{let t={};return Object.keys(e).forEach((n=>{if("object"!=typeof e[n])return void(t[n]=e[n]);const i=xE(e[n]);Object.keys(i).forEach((e=>{t[n+"."+e]=i[e]}))})),t},CE={[zy.CONSENT_GRANULAR]:e=>e.optedScopes&&"string"!=typeof e.optedScopes?{...e,optedScopes:xE(e.optedScopes)}:e};var PE=Xh.extend({className:"form-controller",appStateEvents:{"change:currentFormName":"handleFormNameChange",afterError:"handleAfterError",invokeAction:"handleInvokeAction",saveForm:"handleSaveForm",switchForm:"handleSwitchForm"},preRender:function(){this.removeChildren()},postRender:function(){const e=this.options.appState.getCurrentViewState();if(!e)return;this.clearMetadata();let t=e.name;"identify"===t&&this.options.settings.get("flow")===yv&&(t="identify-recovery");const n=function(e,t=EE){const n=TE[e];return n?n[t]||n[EE]||(zs(`Cannot find customized View for ${e} + ${t}.`),Fb):(zs(`Cannot find customized View for ${e}.`),Fb)}(t,this.options.appState.get("authenticatorKey"));try{this.formView=this.add(n,{options:{currentViewState:e}}).last()}catch(e){return void this.options.settings.callGlobalError(e)}this.triggerAfterRenderEvent()},clearMetadata:function(){const e=this.options.appState.get("currentFormName");ev.includes(e)&&uv()},triggerAfterRenderEvent:function(){const e=this.createAfterEventContext();this.trigger("afterRender",e)},handleFormNameChange:function(){this.render()},handleAfterError:function(e){const t=this.createAfterEventContext(),n={xhr:e,errorSummary:e.responseJSON&&e.responseJSON.errorSummary};this.trigger("afterError",t,n)},createAfterEventContext:function(){const e=this.options.appState.get("currentFormName"),t=this.options.appState.get("authenticatorKey"),n=this.options.appState.get("authenticatorMethodType"),i=this.options.appState.get("isPasswordRecoveryFlow"),r={controller:jb(e,t,n,i),formName:e};return t&&(r.authenticatorKey=t),n&&(r.methodType=n),r},handleSwitchForm:function(e){this.options.appState.get("messages")&&this.options.appState.unset("messages"),this.options.appState.set("currentFormName",e)},handleInvokeAction:async function(e="",t={}){const{appState:n,settings:i}=this.options;if(e===Qy&&i.get("oauth2Enabled"))return void n.trigger("restartLoginFlow","resetPassword");const r=n.get("idx"),{stateHandle:o}=r.context;let s,a={exchangeCodeForTokens:!1,stateHandle:o};if("cancel"===e&&(i.getAuthClient().transactionManager.clear({clearIdxResponse:!1}),uv(),n.clearAppStateCache(),n.unset("lastIdentifier"),i.get("oauth2Enabled")))n.trigger("restartLoginFlow");else{if(zy.LAUNCH_AUTHENTICATOR===e&&t)a={...a,actions:[{name:e,params:t}]};else if(r.neededToProceed.find((t=>t.name===e)))a={...a,step:e};else{if(!fl.isFunction(r.actions[e]))return s=new Zd(`Invalid action selected: ${e}`),this.options.settings.callGlobalError(s),void await this.showFormErrors(this.formView.model,s,this.formView.form);a={...a,actions:[{name:e,params:t}]}}await this.invokeAction(a)}},invokeAction:async function(e){const t=this.options.settings.getAuthClient();let n,i;try{n=await t.idx.proceed(e),!1===n.requestDidSucceed&&(i=n)}catch(e){i=e}i?await this.showFormErrors(this.formView.model,i,this.formView.form):await this.handleIdxResponse(n)},handleSaveForm:async function(e){const t=e.get("formName");if(this.toggleFormButtonState(!0),e.trigger("request"),e.get("useRedirect")){if(uv(),!ia.isAndroidOVEnrollment()){const e=this.options.appState.getCurrentViewState();ia.executeOnVisiblePage((()=>{ia.redirectWithFormGet(e.href)}))}return}const n=((e,t)=>{const n=t.toJSON(),i=CE[e];return void 0===i?n:i(n)})(t,e),i=this.transformIdentifier(t,n);if(this.options.settings.get("features.rememberMe")?i.identifier&&Dm(i.identifier):Rm(),!this.options.appState.hasRemediationObject(t))return this.options.settings.callGlobalError(`Cannot find http action for "${t}".`),void await this.showFormErrors(this.formView.model,"Cannot find action to proceed.",this.formView.form);"identify"===t&&this.options.settings.get("flow")===yv&&(i.authenticator="okta_password");const r=this.options.settings.getAuthClient(),o={exchangeCodeForTokens:!1};try{const n=this.options.appState.get("idx"),{stateHandle:a}=n.context,l=await r.idx.proceed({...o,step:t,stateHandle:a,...i});if(l.status===p.FAILURE)throw l.error;if(nb(l))return this.settings.getAuthClient().transactionManager.clear(),void await this.handleIdxResponse(l);if(!1===l.requestDidSucceed&&!l.stepUp)return void await this.showFormErrors(e,l,this.formView.form);const c=this.handleIdxResponse.bind(this,l);var s;t===zy.ENROLL_PROFILE?this.settings.postRegistrationSubmit(null==i||null===(s=i.userProfile)||void 0===s?void 0:s.email,c,(t=>{e.trigger("error",e,{responseJSON:t})})):await c()}catch(t){var a;null!==(a=t.is)&&void 0!==a&&a.call(t,"terminal")?this.options.appState.setNonIdxError(t):await this.showFormErrors(e,t,this.formView.form)}finally{this.toggleFormButtonState(!1)}},transformIdentifier:function(e,t){if(Object.prototype.hasOwnProperty.call(t,"identifier")){const n=Jy[e];t.identifier=this.settings.transformUsername(t.identifier,n)}return t},showFormErrors:async function(e,t,n){var i;const r=e.get("formName");let o,s,a=!0;var l,c;if(e.trigger("clearFormError"),t||(t="FormController - unknown error found",this.options.settings.callGlobalError(t)),null!==(i=t)&&void 0!==i&&i.rawIdxState&&(s=t,t=t.rawIdxState),((e={})=>e.version)(t)?o={responseJSON:{errorCauses:Zv(c=t),errorSummary:eb(c),errorSummaryKeys:tb(c),errorIntent:c.intent}}:t.errorSummary?o={responseJSON:t}:(ia.logConsoleError(t),o={responseJSON:{errorSummary:td("error.unsupported.response","login")}}),fl.isFunction(null==n?void 0:n.showCustomFormErrorCallout)&&(a=!n.showCustomFormErrorCallout(o,null===(l=s)||void 0===l?void 0:l.messages)),e.trigger("error",e,o,a),s=Object.assign({},s,{hasFormError:!0}),r===zy.IDENTIFY){const t=e.get("identifier");this.options.appState.set("lastIdentifier",t)}else this.options.appState.unset("lastIdentifier")},handleIdxResponse:async function(e){await Yv(this.options.appState,e)},toggleFormButtonState:function(e){this.$el.find(".o-form-button-bar .button").toggleClass("link-button-disabled",e)}});const AE={"":"defaultAuth","*wildcard":"defaultAuth"};class OE extends ib{constructor(e){super({routes:AE,...e})}defaultAuth(){this.render(PE)}}function IE(e){let t;const n=!e.stateToken&&!e.clientId&&!e.proxyIdxResponse,i=e.stateToken&&ia.isV1StateToken(e.stateToken),r=e.clientId&&!0===e.useClassicEngine;return t=n||i||r?$y:OE,t}function LE(e={},t={}){const n=Vl.extend(!0,{},e.authParams,fl.pick(t,vp.AUTH_PARAMS)),{el:i,clientId:r,redirectUri:o}=Object.assign({},e,t),s=Object.assign({},{el:i,clientId:r,redirectUri:o,authParams:n});if(!s.el)throw new Zd('"el" is required');if(!s.clientId)throw new Zd('"clientId" is required');if(!s.redirectUri)throw new Zd('"redirectUri" is required');return s}class DE extends Bl{mergeHook(e,t){const n=this.get("hooks")||{};!function(e,t,n){const i=e[t]=e[t]||{before:[],after:[]};n.before&&(i.before=(i.before||[]).concat(n.before)),n.after&&(i.after=(i.after||[]).concat(n.after))}(n,e,t),this.set("hooks",n)}getHook(e){return(this.get("hooks")||{})[e]}}const RE=["ready","afterError","afterRender"];class ME extends(function(e,t){return class{constructor(n){var i,r,o;if(this.Router=void 0,this.options=void 0,this.hooks=void 0,this.router=void 0,this.authClient=void 0,this._eventCallbackMap=void 0,ia.debugMessage("\n          The Okta Sign-In Widget is running in development mode.\n          When you are ready to publish your app, embed the minified version to turn on production mode.\n          See: https://developer.okta.com/code/javascript/okta_sign-in_widget#cdn\n        "),n.stateToken||(n.stateToken=null===(i=window)||void 0===i||null===(r=i.oktaData)||void 0===r||null===(o=r.signIn)||void 0===o?void 0:o.stateToken),this.options=n,this.authClient=function(e,t={}){let{authClient:n,authParams:i}=t;if(!n){const{issuer:r,clientId:o,redirectUri:s,state:a,scopes:l,flow:c,codeChallenge:u,codeChallengeMethod:h,recoveryToken:d}=t;i={issuer:r,clientId:o,redirectUri:s,state:a,scopes:l,flow:c,codeChallenge:u,codeChallengeMethod:h,transformErrorXHR:ia.transformErrorXHR,recoveryToken:d,...i},i.issuer||(i.issuer=t.baseUrl+"/oauth2/default"),n=new e(i)}if(!n._oktaUserAgent)throw new Zd("The passed in authClient should be version 5.4.0 or above.");return n._oktaUserAgent.addEnvironment(`okta-signin-widget-${js.version}`),n}(e,n),!0!==n.useClassicEngine&&this.authClient.options.clientId&&!1===this.authClient.isPKCE())throw new Zd("OAuth2 with interaction code flow requires PKCE to be enabled on the authClient.");this.hooks=new DE({hooks:n.hooks}),this.Router=t(n),this._eventCallbackMap=new WeakMap,this.Router.prototype.Events.listenTo.call(this,this.Router.prototype,"all",this.trigger),this.once("afterRender",(function(e){this.trigger("ready",e)}))}renderEl(e,t,n){if(this.router)throw new Error("An instance of the widget has already been rendered. Call remove() first.");const i=function(e,t,n,i,r,o,s){let a,l;const c=new Promise(((e,t)=>{a=e,l=t})),u=Vl.extend(!0,{},t,n,{authClient:i,hooks:s,globalSuccessFn:e=>{r&&r(e),e&&e.status===na.SUCCESS&&a(e)},globalErrorFn:e=>{o&&o(e),l(e)}}),h=new e(u);return h.start(),{router:h,routerOptions:u,promise:c}}(this.Router,this.options,e,this.authClient,t,n,this.hooks);return this.router=i.router,i.promise}hide(){this.router&&this.router.hide()}show(){this.router&&this.router.show()}remove(){this.router&&(this.router.remove(),this.router=void 0)}showSignInToGetTokens(e){const t=Object.assign(LE(this.options,e),{redirect:"never"}),n=this.renderEl(t).then((e=>e.tokens)),i=this.router.settings.getAuthClient();if(i.isAuthorizationCodeFlow()&&!i.isPKCE())throw new Zd('"showSignInToGetTokens()" should not be used for authorization_code flow. Use "showSignInAndRedirect()" instead');return n}showSignInAndRedirect(e){const t=Object.assign(LE(this.options,e),{redirect:"always"});return this.renderEl(t).then((()=>{}))}showSignIn(e){const t=Object.assign(LE(this.options,e));return this.renderEl(t)}before(e,t){this.hooks.mergeHook(e,{before:[t]})}after(e,t){this.hooks.mergeHook(e,{after:[t]})}getUser(){var e,t;return null===(e=this.router)||void 0===e||null===(t=e.appState)||void 0===t?void 0:t.getUser()}on(e,t){if(RE.includes(e)){const n=t;t=function(...t){try{n.apply(this,t)}catch(t){Ws(`[okta-signin-widget] "${e}" event handler error:`,t)}},this._eventCallbackMap.set(n,t)}this.Router.prototype.Events.on.call(this,e,t)}off(e,t){t&&(t=this._eventCallbackMap.get(t)||t),this.Router.prototype.Events.off.call(this,e,t)}once(e,t){this.Router.prototype.Events.once.call(this,e,t)}stopListening(e,t){this.Router.prototype.Events.stopListening.call(this,e,t)}listenTo(e,t,n){this.Router.prototype.Events.listenTo.call(this,e,t,n)}trigger(e,...t){this.Router.prototype.Events.trigger.apply(this,[e,...t])}}}(Ls,IE)){constructor(e){super(e)}}var NE=__webpack_require__(4828),jE="okta-token-storage",FE=null,BE=null;function UE(){return null!==window.localStorage.getItem(jE)}function qE(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(window.localStorage[jE]){var t=JSON.parse(window.localStorage.getItem(jE));return t.accessToken&&!e?t.accessToken.accessToken:t.accessToken}return""}function VE(){var e=qE();return new Promise((function(t,n){BE?t({"Content-Type":"application/json",charset:"utf8","x-access-token":e,"x-csrf-token":BE}):window.fetch("/csrftoken",{method:"GET",cache:"no-cache"}).then((function(e){return e.text()})).then((function(n){BE=n,t({"Content-Type":"application/json",charset:"utf8","x-access-token":e,"x-csrf-token":n})})).catch((function(e){n(new Error(e))}))}))}function HE(e){return new Promise((function(t){window.fetch("/marketing/userprofile/unauth/users/check-user-email",{method:"POST",body:JSON.stringify({Email:e})}).then((function(e){t(e.ok)})).catch((function(e){console.info("There was an error trying to find a user with the given email: ",e),t(!1)}))}))}function $E(){var e=qE(!0);return e?e.claims.sub:null}function zE(e){if(!document.querySelector("#generic-modal")&&!document.querySelector("#privacy-policy-modal")){var t=document.createElement("div");t.innerHTML='\n  <div id="generic-modal">\n    <div class="auth-modal-wrapper">\n      <h2 class="okta-form-title o-form-head">'.concat(e.title,'</h2>\n      <div class="form-wrapper">\n        ').concat(e.body,'\n        <div class="form-group buttons">\n          <div class="signin-buttons">\n            <button style="cursor: pointer" type="submit" class="btn btn-default close-button">').concat(e.cta,'</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="generic-modal__overlay" aria-hidden="true"></div>'),t.querySelector(".close-button").addEventListener("click",(function(e){e.preventDefault(),WE(t)})),e.timer&&setTimeout((function(){WE(t)}),e.timer),function(e){document.documentElement.classList.add("modal-open"),document.body.appendChild(e)}(t)}}function WE(e){document.documentElement.classList.remove("modal-open"),document.body.removeChild(e)}function GE(){zE({title:"Not Saved",body:"<p>An error occurred. Please try again later.</p>",cta:"Close"})}function KE(e){return KE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KE(e)}function YE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,XE(i.key),i)}}function XE(e){var t=function(e){if("object"!=KE(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=KE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==KE(t)?t:t+""}window.addEventListener("login.success",(function(){BE=null}));var JE={containerClass:"login-sso-dropdown",hiddenClass:"hidden",oktaSettings:{}},QE=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.moduleEl=document.querySelector(".user-info"),this.options={},Object.assign(this.options,JE,t),this.modalEl=null,this.isInternal=null,this.hideSSOPrompt=window.sessionStorage.getItem("hideSSOPrompt"),this.ssoEnabled=!1,this.abeLoginPromptEnabled=!1,this.abeParameter=(0,NE.ce)("utm_content").toLowerCase().includes("abeactivate"),this.checkIfEnabled()},t=[{key:"init",value:function(){var e=this;UE()||this.hideSSOPrompt||"True"!==this.ssoEnabled||this.abeParameter&&this.abeLoginPromptEnabled||this.checkInternal().then((function(t){t&&e.render()}))}},{key:"checkInternal",value:function(){var e=this;return new Promise((function(t){e.getResponseHeaders().then((function(n){e.isInternal=!!n.internal&&n.internal,t(e.isInternal)}))}))}},{key:"getResponseHeaders",value:function(){var e=new window.XMLHttpRequest,t=new URL(document.location).href;return e.open("HEAD",t,!0),new Promise((function(t){e.onreadystatechange=function(){if(4===e.readyState){var n=e.getAllResponseHeaders().trim().split(/[\r\n]+/),i={};n.forEach((function(e){var t=e.split(": "),n=t.shift(),r=t.join(": ");i[n]=r})),t(i)}},e.send(null)}))}},{key:"render",value:function(){var e=this.createMarkup();this.moduleEl.insertAdjacentHTML("beforeend",e),this.modalEl=this.moduleEl.querySelector(".".concat(this.options.containerClass)),this.bindEvents(),this.show()}},{key:"bindEvents",value:function(){var e=this;this.moduleEl&&(this.modalEl.addEventListener("click",(function(e){e.stopPropagation()})),this.modalEl.querySelector(".sso-dropdown_cancel").addEventListener("click",(function(){e.cancel()})),this.modalEl.querySelector(".sso-dropdown_link").addEventListener("click",(function(e){e.preventDefault(),window.sessionStorage.setItem("hideSSOPrompt",!0),window.sessionStorage.setItem("SSOPromptRedirectUri",window.location.href),window.sessionStorage.setItem("SSOCompletionTimer",Date.now()),window.dispatchEvent((0,NE.t3)("adobe.ssoInitiated")),window.location.replace(e.target.href)})),window.addEventListener("click",(function(){e.modalEl.remove()})))}},{key:"show",value:function(){this.modalEl&&this.modalEl.style&&(this.modalEl.style.visibility="visible")}},{key:"hide",value:function(){this.modalEl&&this.modalEl.style&&(this.modalEl.style.visibility="hidden")}},{key:"createMarkup",value:function(){return'<div class="'.concat(this.options.containerClass,'" style="visibility: hidden;">\n      <p class="sso-dropdown_text">It appears your session has expired. Do you want to stay signed in?</p>\n      <a class="sso-dropdown_link primary-button" href="').concat(this.createUrl(),'">Yes, Sign Me In</a>\n      <p class="sso-dropdown_cancel">Cancel</p>\n    </div>')}},{key:"createUrl",value:function(){var e=window.location.origin,t=this.options.oktaSettings.issuer;t+=t.includes("oauth2")?"/v1/authorize":"/oauth2/v1/authorize";var n=new URL(t);return n.searchParams.append("client_id",this.options.oktaSettings.clientId),n.searchParams.append("nonce",(0,NE.uh)(64)),n.searchParams.append("redirect_uri",e),n.searchParams.append("response_mode","form_post"),n.searchParams.append("response_type","code"),n.searchParams.append("state","dsso:"+(0,NE.uh)(59)),n.searchParams.append("scope","openid email profile offline_access"),n}},{key:"cancel",value:function(){this.hide(),this.modalEl.remove(),window.sessionStorage.setItem("hideSSOPrompt",!0)}},{key:"checkIfEnabled",value:function(){var e=this;window.dataLayer&&window.dataLayer.forEach((function(t){t.ssoEnabled&&(e.ssoEnabled=t.ssoEnabled),t.abeLoginPromptEnabled&&(e.abeLoginPromptEnabled=t.abeLoginPromptEnabled)}))}},{key:"checkRedirectUriAndTimeElapsed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=window.sessionStorage.getItem("SSOPromptRedirectUri"),n=window.sessionStorage.getItem("SSOCompletionTimer"),i=(Date.now()-n)/1e3;return!!(t&&n&&i<180)&&(e?t:i)}},{key:"redirect",value:function(){var e=this.checkRedirectUriAndTimeElapsed(!0);e&&e!==window.location.href?setTimeout((function(){window.location=e}),300):this.clearStorage()}},{key:"analytics",value:function(){var e=this.checkRedirectUriAndTimeElapsed();return e?(window.dispatchEvent((0,NE.t3)("adobe.ssoSuccess",e)),!0):(this.clearStorage(),!1)}},{key:"clearStorage",value:function(){window.sessionStorage.removeItem("SSOPromptRedirectUri"),window.sessionStorage.removeItem("SSOCompletionTimer")}}],t&&YE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function ZE(e){return ZE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZE(e)}function eT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,tT(i.key),i)}}function tT(e){var t=function(e){if("object"!=ZE(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ZE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ZE(t)?t:t+""}var nT=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.headers={"Content-Type":"application/json",charset:"utf8"}},(t=[{key:"getUserAudienceLandingPages",value:function(){var e=this;return fetch("/api/user-audience",{method:"GET",headers:this.headers}).then((function(e){return e.json()})).then((function(t){var n={};return t&&(n=e.getUrlAndTextFromResponse(t)),n}))}},{key:"getUrlAndTextFromResponse",value:function(e){var t=Object.keys(e)[0],n=void 0!==t?(0,NE.hJ)(t):"BCG",i=(0,NE.Nm)(e[t]);return{firstLinkText:n,firstLinkHref:void 0!==i?i:"/"}}}])&&eT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function iT(e){return iT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iT(e)}function rT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,oT(i.key),i)}}function oT(e){var t=function(e){if("object"!=iT(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=iT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==iT(t)?t:t+""}var sT="login-sso-dropdown",aT=function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.moduleEl=document.querySelector(".user-info"),this.userAudienceService=new nT,this.modalEl=null,this.abeLoginPromptEnabled=!1,this.abeParameter=(0,NE.ce)("utm_content").toLowerCase().includes("abeactivate"),this.checkIfEnabled(),window.addEventListener("login.success",(function(){t.init()}))},t=[{key:"init",value:function(){this.abeLoginPromptEnabled&&this.abeParameter&&this.render()}},{key:"render",value:function(){var e=this;UE()?this.userAudienceService.getUserAudienceLandingPages().then((function(t){e.createMarkupAndBindEvents(t)})):this.createMarkupAndBindEvents({})}},{key:"createMarkupAndBindEvents",value:function(e){var t=this.createMarkup(e);this.moduleEl.insertAdjacentHTML("beforeend",t),this.modalEl=this.moduleEl.querySelector(".".concat(sT)),this.bindEvents(),this.show()}},{key:"bindEvents",value:function(){var e=this;this.moduleEl&&(this.modalEl.addEventListener("click",(function(e){e.stopPropagation()})),this.modalEl.querySelector(".sso-dropdown_cancel")&&this.modalEl.querySelector(".sso-dropdown_cancel").addEventListener("click",(function(){e.cancel()})),this.modalEl.querySelector(".sso-dropdown_link.abe-login")&&this.modalEl.querySelector(".sso-dropdown_link.abe-login").addEventListener("click",(function(){e.cancel(),window.dispatchEvent((0,NE.t3)("showSignInWidget",{context:{source:"abeLoginPrompt"}}))})),document.querySelectorAll("div.login-container").forEach((function(t){t.addEventListener("click",(function(){e.cancel()}),!0)})))}},{key:"show",value:function(){var e=this;setTimeout((function(){e.modalEl&&e.modalEl.style&&(e.modalEl.style.visibility="visible")}),300)}},{key:"hide",value:function(){this.modalEl&&this.modalEl.style&&(this.modalEl.style.visibility="hidden")}},{key:"createMarkup",value:function(e){return UE()?e&&e.firstLinkText&&e.firstLinkHref?'<div class="'.concat(sT,' logged-in-state" style="visibility: hidden;">\n                      <p class="sso-dropdown_text-reduced-margin">\n                        Please visit your <a href="').concat(e.firstLinkHref,'">').concat(e.firstLinkText,'</a> Insights Center.\n                      </p>\n                      <p class="sso-dropdown_cancel">Cancel</p>\n                    </div>'):void 0:'<div class="'.concat(sT,'" style="visibility: hidden;">\n            <p class="sso-dropdown_text">Please sign in to access your BCG experience.</p>\n            <a class="sso-dropdown_link abe-login" href="javascript:void(0)">SIGN IN</a>\n            <p class="sso-dropdown_cancel">Cancel</p>\n          </div>')}},{key:"cancel",value:function(){this.hide(),this.modalEl.remove()}},{key:"checkIfEnabled",value:function(){var e=this;window.dataLayer&&window.dataLayer.forEach((function(t){t.abeLoginPromptEnabled&&(e.abeLoginPromptEnabled=t.abeLoginPromptEnabled)}))}}],t&&rT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function lT(e){var t,n,i=document.cookie.split("; "),r={};for(n=i.length-1;n>=0;n--)r[(t=i[n].split("="))[0]]=t[1];return r[e]}function cT(e){var t={email:e.email||null,job_level_id:e.job_level_id||null,company:e.company||null,page_id:(0,NE.ew)()||null,page_url:window.location.origin+window.location.pathname||null,source:e.source||null,source_detail:e.source_detail||null,form_topic_id:e.form_topic_id||null,form_subtopic:e.form_subtopic||null,form_data:e.form_data?JSON.stringify(e.form_data):null};if(UE())window.fetch("/csrftoken",{method:"GET",cache:"no-cache"}).then((function(e){return e.text()})).then((function(e){window.fetch("/marketing/userprofile/oktaauth/user-activity",{method:"POST",headers:{"Content-Type":"application/json",charset:"utf8","x-access-token":qE(),"x-csrf-token":e},body:JSON.stringify(t)})}));else{var n=window.grecaptcha_bcg.getResponse(e.recaptchaId);t["g-recaptcha-response"]=n||null,t["g-recaptcha-type"]="invisible",window.fetch("/marketing/userprofile/unauth/user-activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).finally((function(){var t;t=e.recaptchaId,window.grecaptcha_bcg.reset(t)}))}}function uT(e){return uT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uT(e)}function hT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function dT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,pT(i.key),i)}}function pT(e){var t=function(e){if("object"!=uT(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=uT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==uT(t)?t:t+""}function fT(e,t,n){return t=gT(t),function(e,t){if(t&&("object"==uT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mT()?Reflect.construct(t,n||[],gT(e).constructor):t.apply(e,n))}function mT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mT=function(){return!!e})()}function gT(e){return gT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gT(e)}function yT(e,t){return yT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yT(e,t)}var vT="https://www.google.com/recaptcha/api.js?onload=onGrecaptchaLoadCallback&render=explicit",bT="grecaptcha:ready";window.onGrecaptchaLoadCallback=function(){window.grecaptcha_bcg=window.grecaptcha,document.body.dispatchEvent(new Event(bT))},window.successfulCaptchaCheck=function(){console.log("successful captcha"),window.dispatchEvent((0,NE.t3)("grecaptcha_bcg.success"))};var _T=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),fT(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yT(e,t)}(e,window.HTMLElement),t=e,i=[{key:"reinitializeCaptcha",value:function(t){var n=new e;return n.dataset.sitekey=t.dataset.sitekey,n.dataset.useFocus=t.dataset.useFocus,n.setAttribute("data-invisible",""),t.parentNode.replaceChild(n,t),new Promise((function(e){window.grecaptcha_bcg&&(n.init(),e(n))}))}}],(n=[{key:"connectedCallback",value:function(){this.load()}},{key:"handleEvent",value:function(e){"focus"!==e.type&&"submit"!==e.type||this.executeCaptcha()}},{key:"executeCaptcha",value:function(){window.grecaptcha_bcg.execute(this.dataset.grecaptchaId)}},{key:"form",get:function(){return this.closest("form")}},{key:"invisible",get:function(){return this.hasAttribute("data-invisible")}},{key:"sitekey",get:function(){return this.dataset.sitekey}},{key:"callback",get:function(){return this.dataset.recaptchaSuccessCallback||"successfulCaptchaCheck"}},{key:"useFocus",get:function(){var e=this.dataset.useFocus;return!e||"false"!==e}},{key:"valid",get:function(){return!!window.grecaptcha_bcg&&!!window.grecaptcha_bcg.getResponse(this.dataset.grecaptchaId)}},{key:"load",value:function(){var e=this;if(!function(e){return function(e){if(Array.isArray(e))return hT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return hT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hT(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(document.querySelectorAll("script")).find((function(e){return e.src===vT}))){var t=document.createElement("script");t.setAttribute("src",vT),document.querySelector("head").appendChild(t)}window.grecaptcha?window.grecaptcha.ready((function(){return e.init()})):document.body.addEventListener(bT,(function(){return e.init()}))}},{key:"init",value:function(){this.invisible&&this.renderInvisible()}},{key:"renderInvisible",value:function(){var e=document.createElement("div");this.appendChild(e),this.dataset.grecaptchaId=window.grecaptcha_bcg.render(e,{sitekey:this.sitekey,size:"invisible",callback:this.callback,isolated:!0});var t=this.form&&this.useFocus?"focus":"submit";this.form.addEventListener(t,this,!0)}}])&&dT(t.prototype,n),i&&dT(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();function wT(e){return wT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wT(e)}function kT(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ET(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function ST(e,t,n){return(t=OT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ET(e,t){if(e){if("string"==typeof e)return TT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TT(e,t):void 0}}function TT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function xT(){xT=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==wT(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(wT(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function CT(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function PT(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){CT(o,i,r,s,a,"next",e)}function a(e){CT(o,i,r,s,a,"throw",e)}s(void 0)}))}}function AT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,OT(i.key),i)}}function OT(e){var t=function(e){if("object"!=wT(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=wT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wT(t)?t:t+""}function IT(e,t,n){return t=DT(t),function(e,t){if(t&&("object"==wT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,LT()?Reflect.construct(t,n||[],DT(e).constructor):t.apply(e,n))}function LT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(LT=function(){return!!e})()}function DT(e){return DT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DT(e)}function RT(e,t){return RT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RT(e,t)}var MT=__webpack_require__(1354),NT=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),IT(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RT(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){var e=this;this.module=this,this.modal=document.querySelector("okta-siw-modal"),this.widgetContainer=this.module.querySelector("#okta-siw__container"),this.config="",this.oktaConfig=null,this.widget=null,this.hasInitialized=!1,this.hasInitiateRegistration=!1,this.verifier=this.generateCodeVerifier(),this.challenge=this.generateCodeChallenge(this.verifier),this.restrictedEmailDomains=["advisor.bcg.com","advisor.bcgdv.com","advisor.bcgfed.com","bcg-emeritus.com","bcg-inverto.com","bcg.com","bcgbrighthouse.com","bcgdv.com","bcgexpand.com","bcgfed.com","bcgplatinion.com","bcgplatinion-maya.com","expandresearch.com","external.bcgdv.com","inverto.com","thinkbrighthouse.com","quantis.com"],this.emailDomainsLowerEnv=["mailinator.com","maildrop.cc"],this.selPrivacyPolicy=null,this.selPrivacyPolicyCheckbox=null,this.tokenExp=null,this.autoFillSignUp=!1,this.isShowSignUp=!1,this.userProfile={},this.initiateSignIn=!1,this.returnUrlParameter=(0,NE.Nm)((0,NE.ce)("ReturnUrl")),this.captchaReLoaded=!1,window.addEventListener("showSignInWidget",(function(t){e.handleShowSignInEvent(t)})),"true"===(0,NE.ce)("osiwredirectcallback")&&this.checkRedirectCallbackURI(),this.getConfiguration().then(function(){var t=PT(xT().mark((function t(n){return xT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.config=JSON.parse(n),t.next=3,e.init();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.showLoadingError(),console.info("There was an error getting sign in widget configuration: ",t)}))}},{key:"init",value:(c=PT(xT().mark((function e(){var t,n=this;return xT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,this.oktaConfig={issuer:this.config.issuer,clientId:this.config.clientId,redirectUri:this.config.callback,scopes:this.config.scopes,features:{registration:!0,showPasswordToggleOnSignInPage:!0,webauthn:!0,multiOptionalFactorEnroll:!0,showSessionRevocation:!0},codeChallenge:this.challenge,pkce:!0,customButtons:[],helpLinks:{custom:[]},i18n:this.config.labels,registration:{parseSchema:function(e,t,i){n.checkIfAutoFill(e,t,i)},preSubmit:function(){var e=PT(xT().mark((function e(t,i,r){return xT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.generateFingerprint();case 3:t.userProfile.frontendFingerprint=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",r({errorSummary:"Something went wrong, please try again later!"}));case 9:n.checkRegistrationErrors(t,i,r);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,i){return e.apply(this,arguments)}}(),postSubmit:function(e,i,r){if(null!==e&&""!==e)if(t.hasInitiateRegistration=!0,window.dispatchEvent((0,NE.t3)("adobe.registration.success",n.analyticsContext)),n.bspInvisibleCaptcha=n.querySelector("bsp-invisible-captcha"),n.bspInvisibleCaptcha){if(n.recaptchaId=n.bspInvisibleCaptcha.dataset.grecaptchaId,n.bspInvisibleCaptcha&&n.bspInvisibleCaptcha.valid)return n.saveUserActivity(!0),void i(e);n.captchaEvent||(window.addEventListener("grecaptcha_bcg.success",function(){this.captchaEvent=!1,this.saveUserActivity(!0),i(e)}.bind(n),{once:!0}),n.captchaEvent=!0)}else i(e);else r(e)}},hooks:{"enroll-profile":{after:[function(){return window.dispatchEvent((0,NE.t3)("adobe.registration.start",n.analyticsContext))}]},"select-authenticator-enroll":{before:[function(){return n.module.querySelector("#okta-sign-in").classList.add("spinner")}]}}},this.searchParams=new URL(window.location.href).searchParams,this.oktaConfig.otp=this.searchParams.get("otp"),this.oktaConfig.state=this.searchParams.get("state"),this.widget=new ME(this.oktaConfig),this.loginSSOWidget=new QE({oktaSettings:this.oktaConfig}),this.loginABEWidget=new aT,e.prev=8,e.next=11,this.handleAuthenticationOnPageLoad();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.info("There was an error handling authentication on page load: ",e.t0);case 16:this.widget.authClient.token.getUserInfo().then((function(){n.evaluateQueryParamsLoggedIn()})).catch((function(){n.bindEvents(),n.evaluateQueryParams()})).finally((function(){window.addEventListener("logout",function(){var e=PT(xT().mark((function e(t){var i;return xT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.detail,e.next=3,n.logout(i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.widget.authClient.tokenManager.on("expired",(function(){n.refreshTokens()})),window.addEventListener("osiw.processTokens",(function(e){var t=e.detail;n.addTokensToManager(t),n.postLoginUserUpdates()}))}));case 17:case"end":return e.stop()}}),e,this,[[8,13]])}))),function(){return c.apply(this,arguments)})},{key:"handleAuthenticationOnPageLoad",value:(l=PT(xT().mark((function e(){var t,n,i,r;return xT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.widget.authClient,e.next=3,t.tokenManager.getTokens();case 3:if(!(n=e.sent).accessToken||t.tokenManager.hasExpired(n.accessToken)){e.next=9;break}this.addTokensToManager(n),this.postLoginUserUpdates(!0,!0),e.next=32;break;case 9:if(!n.refreshToken){e.next=13;break}this.refreshTokens(),e.next=32;break;case 13:return e.next=15,t.session.exists();case 15:if(!e.sent){e.next=27;break}return e.next=19,this.widget.showSignIn({el:this.widgetContainer});case 19:if(!(i=e.sent)){e.next=25;break}return e.next=23,this.getTokens(i);case 23:(r=e.sent)&&(this.addTokensToManager(r),this.loginSSOWidget.analytics()?this.postLoginUserUpdates(!0,!0):(this.analyticsContext="login:oktaSession",this.postLoginUserUpdates(!0,!1)));case 25:e.next=32;break;case 27:if((UE()||"true"!==lT("bcg.entity.isSet"))&&!window.localStorage.getItem("okta-token-storage")){e.next=30;break}return e.next=30,this.logout("auto");case 30:this.loginSSOWidget.init(),this.loginABEWidget.init();case 32:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"showWidget",value:function(){var e=this;this.widget.showSignIn({el:this.widgetContainer}).then((function(t){return e.loginTimer=Date.now(),e.getTokens(t)})).then((function(t){e.addTokensToManager(t),window.dispatchEvent((0,NE.t3)("adobe.login.initiated",e.hasInitiateRegistration?"registration":e.analyticsContext)),window.dispatchEvent((0,NE.t3)("adobe.login.authenticated",e.lastAuthenticatorVisited)),e.postLoginUserUpdates()})).catch((function(e){console.info("There was an error initializing the widget: ",e)}))}},{key:"resetWidget",value:(a=PT(xT().mark((function e(t){return xT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&(t.firstName&&(this.userProfile.firstName=t.firstName),t.lastName&&(this.userProfile.lastName=t.lastName),void 0!==t.email&&(this.userProfile.email=t.email,document.cookie="ln="+t.email||0)),window.dispatchEvent((0,NE.t3)("osiw.loading")),e.next=4,this.widget.authClient.transactionManager.load();case 4:if(!e.sent){e.next=7;break}return e.next=7,this.widget.authClient.idx.cancel();case 7:return e.next=9,this.widget.remove();case 9:this.hasInitialized=!1,this.widgetReady=!1,this.showingLoadingError=!1,this.hasInitiateRegistration=!1,this.widget=new ME(this.oktaConfig),this.showWidget(),this.hasInitialized=!0;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"handleShowSignInEvent",value:function(e){var t=this,n=function(){var n=PT(xT().mark((function n(){var i,r,o,s;return xT().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=(e||{}).detail,r=(i||{}).context,o=["unregisteredUser","subscription-email","subscription-widget-success-cta","subscription-non-gated-success-cta","request-trial","request-demo"],s=r&&r.email&&t.restrictedEmailDomains.some((function(e){return r.email.includes(e)})),(o.includes(r.source)||r.showRegistration)&&(t.isShowSignUp=!s,t.autoFillSignUp=!0),r.initiateSignIn&&(t.initiateSignIn=!0),"login-icon"===r.source&&"initiate-sign-in"!==r.source&&!t.hasCustomHeader){n.next=9;break}return n.next=9,t.resetWidget(r);case 9:t.hasInitialized||(t.showWidget(),t.hasInitialized=!0),t.analyticsContext="string"==typeof r?r:r.source||r.type,window.dispatchEvent((0,NE.t3)("adobe.login.start",t.analyticsContext));case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),i=document.querySelector("okta-siw");i.hasAttribute("ready")?n():new window.MutationObserver((function(e,t){i.hasAttribute("ready")&&(n(),t.disconnect())})).observe(i,{subtree:!1,childList:!1,attributes:!0})}},{key:"bindEvents",value:function(){var e=this;window.addEventListener("osiw.timeout",(function(){e.showLoadingError(!0)})),this.widget.on("afterRender",(function(t){if(!e.widget.options.otp&&!e.module.querySelector(".infobox-error")&&null===t.controller&&"terminal"===t.formName&&"enroll-poll"!==t.formName)return e.showLoadingError();if(!e.showingLoadingError){e.updateStyles(t),"challenge-authenticator"!==t.formName&&"challenge-poll"!==t.formName||(e.lastAuthenticatorVisited=t.methodType),e.widgetReady||(e.widgetReady=!0,window.dispatchEvent((0,NE.t3)("osiw.ready"))),e.module.innerText.includes(e.config.labels.en["error.expired.session"])&&e.resetOnClose();var n=e.module.querySelector('[name="userProfile.email"]');if(n&&e.userProfile.email&&!n.value){n.focus(),n.value=e.userProfile.email;var i=new Event("input",{bubbles:!0});n.dispatchEvent(i),n.blur()}}})),this.widget.on("afterError",(function(e,t){var n=t.xhr.responseJSON.errorCauses.find((function(e){return!(!e||!e.errorKey)&&e.errorKey.includes("registration.error.invalidLoginEmail")}));n&&(n.errorSummary=function(e){return function(e){if(Array.isArray(e))return TT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ET(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(n.errorSummary)));var i=JSON.stringify(t.xhr.responseJSON);window.dispatchEvent((0,NE.t3)("adobe.login.failed",i))})),this.module.setAttribute("ready","")}},{key:"evaluateQueryParams",value:function(){var e=this,t=this.newDataObj();UE()||("true"===(0,NE.ce)("openlogin")&&(t.context.source="initiate-sign-in"),"true"===(0,NE.ce)("openregistration")&&(t.context.source="unregisteredUser"),(0,NE.ce)("register")&&(t.context.source="subscription-email",t.context.email=(0,NE.ce)("register")),this.returnUrlParameter&&(t.context.source="returnUrl: requesting page behind authentication")),this.oktaConfig.otp&&(t.context.source="one-time-password",window.addEventListener("osiw.closing.modal",(function(){var e=new URL(document.location).pathname;return window.location.replace(e)}))),t.context.source&&window.dispatchEvent((0,NE.t3)("showSignInWidget",t)),(0,NE.ce)("uid")&&this.decryptUID((0,NE.ce)("uid")).then((function(t){t&&e.triggerModal(t)}))}},{key:"evaluateQueryParamsLoggedIn",value:function(){var e=this;(0,NE.ce)("uid")&&(0,NE.ce)("c_c")&&this.decryptUID((0,NE.ce)("uid")).then((function(t){if(JSON.parse(t).email===$E())e.customCampaign=!0,e.customCampaignCode=(0,NE.ce)("c_c"),e.customCampaignAddSubscriptions(e.customCampaignCode);else{var n=e.config.labels.bsp.custom_campaigns.defaults;zE({title:n["generic.modal.title.error"],body:n["generic.modal.body.error"],cta:n["generic.modal.cta.error"]})}}))}},{key:"triggerModal",value:function(e){var t=this,n=this.newDataObj();if(this.isObject(e)){var i=JSON.parse(e);n.context.email=i.email||"",n.context.firstName=i.first_name||"",n.context.lastName=i.last_name||""}else n.context.email=e||"";return"true"===(0,NE.ce)("initiate_signin")&&(n.context.source="initiate-sign-in",this.initiateSignIn=!0),"true"===(0,NE.ce)("initiate_signup")&&(n.context.source="unregisteredUser"),"true"===(0,NE.ce)("abe")?(this.abeActivation=!0,void HE(n.context.email).then((function(e){n.context.source=e?"initiate-sign-in":"unregisteredUser",t.initiateSignIn=e,window.dispatchEvent((0,NE.t3)("showSignInWidget",n)),window.addEventListener("osiw.closing.modal",(function(){t.abeActivation=!1}))}))):(0,NE.ce)("c_c")?(this.customCampaign=!0,this.customCampaignCode=(0,NE.ce)("c_c"),void HE(n.context.email).then((function(e){t.initiateSignIn=e,n.context.source="Campaign",n.context.showRegistration=!e,n.context.initiateSignIn=e,window.dispatchEvent((0,NE.t3)("showSignInWidget",n)),window.addEventListener("osiw.closing.modal",(function(){t.customCampaign=!1})),document.querySelector("body").addEventListener("login_success",(function(){t.customCampaignAddSubscriptions(t.customCampaignCode)}))}))):void window.dispatchEvent((0,NE.t3)("showSignInWidget",n))}},{key:"customCampaignAddSubscriptions",value:function(){var e=this.config.labels.bsp.custom_campaigns[this.customCampaignCode];e&&!this.showPrivacyPolicyModal&&(e.subscriptions&&function(e){var t=$E();t?(e.email=t,VE().then((function(t){t.MethodRequestType="PUT",window.fetch("/marketing/userprofile/oktaauth/users/widget-subscriptions",{method:"POST",body:JSON.stringify(e),headers:t}).then((function(e){return e.json()})).then((function(e){e.Data.success&&(0,NE.t3)("subscriptionsManager.added",e.Data)})).catch((function(e){console.error(e),GE()}))}))):GE()}(e.subscriptions),zE({title:e["generic.modal.title"],body:e["generic.modal.body"],cta:e["generic.modal.cta"],timer:4e3}))}},{key:"updateStyles",value:function(e){var t=this,n=this.widgetContainer.querySelector("#okta-sign-in");if(n){if(n.classList.add("spinner"),this.updateHeaderTitle(e),this.updateLabels(),this.updateCustomModals(e,n),"primary-auth"===e.controller){if(this.checkSignInErrors(),this.isShowSignUp){this.isShowSignUp=!1;var i=this.module.querySelector('[data-se="enroll"]');if(i)return void i.click()}if(this.initiateSignIn){this.initiateSignIn=!1;var r=this.module.querySelector('[type="submit"]');if(r)return void r.click()}var o=this.module.querySelector(".signup-link a");o&&(o.classList.add("button-bcg"),this.module.querySelector(".o-form-button-bar").append(o)),this.hasInitiateRegistration=!1}if("registration"===e.controller){var s=this.module.querySelector(".auth-footer a");s&&(s.classList.add("button-bcg"),this.module.querySelector(".o-form-button-bar").append(s)),this.insertPrivacyPolicyCheckboxMarkup(),this.userActivitySourceMapping(this.analyticsContext)&&this.insertReCaptchaMarkup(),this.selPrivacyPolicy=this.module.querySelector(".osiw-privacy-policy"),this.selPrivacyPolicyCheckbox=this.selPrivacyPolicy.querySelector('input[type="checkbox"]'),this.selPrivacyPolicyCheckbox.addEventListener("change",(function(){t.selPrivacyPolicy.classList.remove("o-form-has-errors")}))}if("mfa-verify-password"===e.controller){var a=this.module.querySelector('[data-se="identifier"]');if(a){var l=a.title,c=this.restrictedEmailDomains.some((function(e){return l.includes(e)})),u=this.module.querySelector('[data-se="forgot-password"]');u&&c&&u.remove()}}if("select-authenticator-authenticate"===e.formName){var h=this.module.querySelectorAll(".select-factor");h&&h.forEach((function(e){e.classList.add("button-bcg"),e.classList.remove("button","link-button")})),this.canUseFastPass()||this.module.querySelectorAll(".authenticator-row").forEach((function(e){e.querySelector('[data-se="okta_verify-signed_nonce"]')&&e.remove()}))}if("authenticator-verification-data"===e.formName){var d=this.module.querySelector('[data-type="save"]');if(d)return void d.click()}if("mfa-verify-passcode"===e.controller||"enroll-email"===e.controller){var p=this.module.querySelector(".enter-auth-code-instead-link");p&&p.click(),this.updateLabels()}if(null!==e.controller&&e.controller.includes("enroll")||null!==e.formName&&e.formName.includes("enroll")){var f=this.module.querySelectorAll(".select-factor");f&&f.forEach((function(e){return e.classList.add("button-bcg")})),this.hasInitiateRegistration=!0}if("enroll-email"===e.controller){var m=this.module.querySelector('[data-se="switchAuthenticator"]');m&&m.remove()}if(null!==e.controller&&e.controller.includes("enroll-choices")||null!==e.formName&&e.formName.includes("select-authenticator-enroll")){var g=this.module.querySelector('[data-se="okta_email"] a');if(g)return g.click();var y=this.module.querySelector('[data-se="button"].skip-all');if(y){if(this.authenticatorsEnrolled||(this.authenticatorsEnrolled=["okta_email"]),this.handleAuthSignupAnalytics(),this.forceClickSkip)return y.click();this.updateOptionalAuthView(y)}}if("enroll-password"===e.controller){var v=this.module.querySelector('[data-type="save"]');v&&(v.value="Set Password")}if("okta_verify"===e.authenticatorKey&&"mfa-verify"===e.controller&&"challenge-poll"===e.formName&&"signed_nonce"===e.methodType){var b=this.module.querySelector(".auth-footer");b.style.display="none",this.module.querySelector("#download-ov")&&(b.style.display="flex")}if("forgot-password"===e.controller||"reset-authenticator"===e.formName||"password"===e.methodType){var _=this.module.querySelector('[data-se="o-form-fieldset-credentials.revokeSessions"]');_&&_.remove()}if("select-authenticator-unlock-account"===e.formName){var w=this.module.querySelectorAll(".select-factor");w&&w.forEach((function(e){return e.classList.add("button-bcg")}))}n.classList.remove("spinner")}}},{key:"updateLabels",value:function(){var e=this;this.module.querySelectorAll(".o-form-label label").forEach((function(t){var n=t.attributes.for.value,i=t.textContent,r=e.module.querySelector("input#"+n);r&&(r.placeholder=i)}))}},{key:"updateHeaderTitle",value:function(e){var t,n=e.controller,i=this.module.querySelector(".terminal")?this.config.labels.bsp["loading.error.title"]:this.module.querySelector(".okta-form-title").innerText;if("request-demo"===this.analyticsContext)t=this.config.labels.bsp["request.demo.title.".concat(n)];else if("request-trial"===this.analyticsContext)t=this.config.labels.bsp["request.trial.title.".concat(n)];else if(this.abeActivation&&["primary-auth","registration"].includes(n))t=this.config.labels.bsp["abe.custom.modal.title"];else if(this.customCampaign&&["primary-auth","registration","enroll-authenticator"].includes(n)){var r=this.config.labels.bsp.custom_campaigns[this.customCampaignCode];if(!r)return;t=r.title}else this.analyticsContext.includes("subscription-widget")?t=this.config.labels.bsp["subscribe.title.".concat(n)]:"registration"===n&&(i=this.config.labels.en["custom.extra.registration.form.title"]);this.hasCustomHeader=!!t;var o=this.module.querySelector(".okta-sign-in-header"),s='\n      <h2 id="okta-header-title">'.concat(t||i,"</h2>\n    ");o.innerHTML=s}},{key:"updateCustomModals",value:function(e,t){if(this.abeActivation){var n=this.config.labels.bsp;if(["primary-auth","registration"].includes(e.controller)){var i=t.querySelector('[data-se="o-form-input-userProfile.email"]');i&&(i.children[0].disabled=!0);var r=t.querySelector('[data-se="back"]');r&&(r.style.display="none");var o=t.querySelector(".siw-main-header");o.innerHTML=n["abe.custom.modal.description"],o.classList.add("abe-header"),o.style.display="block"}if(["primary-auth","mfa-verify-passcode","mfa-verify-password","mfa-verify"].includes(e.controller)||"select-authenticator-authenticate"===e.formName){var s=t.querySelector(".okta-form-title");s.innerHTML=n["abe.custom.modal.authentication"],s.style.display="block"}}if(this.customCampaign){var a=this.customCampaignCode?this.config.labels.bsp.custom_campaigns[this.customCampaignCode]:null;if(!a)return;if(["primary-auth","registration","enroll-authenticator"].includes(e.controller)){var l=t.querySelector('[data-se="o-form-input-userProfile.email"]');l&&(l.children[0].disabled=!0);var c=t.querySelector('[data-se="back"]');c&&(c.style.display="none");var u=t.querySelector(".siw-main-header");u.innerHTML=a.description,u.classList.add("abe-header"),u.style.display="block"}if("enroll-authenticator"===e.formName){var h=t.querySelector(".okta-form-title");h.innerHTML=a.authentication,h.style.display="block",t.querySelector(".identifier-container").style.display="none"}if("enroll-choices"===e.controller||"select-authenticator-enroll"===e.formName){var d=t.querySelector(".okta-form-title");d.innerHTML=a.confirmation,d.style.display="block";var p=t.querySelector(".identifier-container");p&&(p.style.display="none");var f=t.querySelector('[data-se="cancel"]');f&&(f.style.display="none")}if(["mfa-verify-passcode","mfa-verify-password","mfa-verify"].includes(e.controller)||"select-authenticator-authenticate"===e.formName||"select-authenticator-enroll"===e.formName){var m=t.querySelector(".okta-form-title");m.innerHTML=a.authentication,m.style.display="block";var g=t.querySelector(".identifier-container");g&&(g.style.display="none");var y=t.querySelector('[data-se="cancel"]');y&&(y.style.display="none")}}}},{key:"showLoadingError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.showingLoadingError&&"none"!==window.getComputedStyle(this.modal).display){this.showingLoadingError=!0;var t=this.config?this.config.labels.bsp["loading.error.title"]:"Something went wrong",n=this.config?this.config.labels.bsp["loading.error.message"]:"There was an unexpected error. Please try again.",i='\n      <main id="okta-sign-in" class="auth-container main-container">\n        <div class="okta-sign-in-header auth-header">\n          <h2 id="okta-header-title">'.concat(t,'</h2>\n        </div>\n        <div class="infobox infobox-error" role="alert" style="margin: 40px;">\n            <span class="icon error-16"></span>\n            <p>').concat(n,"</p>\n        </div>\n      </main>\n    ");this.widgetContainer.innerHTML=i,window.dispatchEvent((0,NE.t3)("osiw.ready")),e?window.addEventListener("osiw.closing.modal",(function(){window.location.reload()})):this.resetOnClose()}}},{key:"checkSignInErrors",value:function(){var e=this,t=this.module.querySelector('[autocomplete="username"]');this.module.querySelector('[type="submit"]').addEventListener("click",(function(n){(0,NE.gl)(t.value)||(n.preventDefault(),n.stopPropagation(),e.toggleSignInEmailError())})),t.addEventListener("input",(function(){e.toggleSignInEmailError(!0)}))}},{key:"checkRegistrationErrors",value:function(e,t,n){var i=e.userProfile,r=i.email,o=i.firstName,s=i.lastName,a=!1,l=!1;r&&(l=this.restrictedEmailDomains.some((function(e){return r.includes(e)}))),this.selPrivacyPolicyCheckbox.checked||this.selPrivacyPolicy.classList.add("o-form-has-errors");var c=/^(?!.*--)(?!.*\.\.)[^:|@#$%^*()+=/[\]<>â€œ]*$/,u=!c.test(o),h=!c.test(s),d={errorSummary:null,errorCauses:[]};(u||h)&&(d.errorSummary="Invalid Name",u&&d.errorCauses.push({errorSummary:this.config.labels.bsp["custom.registration.error.firstname.invalid"],property:"userProfile.firstName"}),h&&d.errorCauses.push({errorSummary:this.config.labels.bsp["custom.registration.error.lastname.invalid"],property:"userProfile.lastName"})),(String(this.config.issuer).includes("logondev.bcg.com")||String(this.config.issuer).includes("bcg-integration.oktapreview.com"))&&r&&(this.emailDomainsLowerEnv.some((function(e){return r.includes(e)}))||(a=!0));var p=!0;r&&((p=(0,NE.gl)(r))||d.errorCauses.push({errorSummary:this.config.labels.bsp["custom.error.email.invalid"],property:"userProfile.email"})),a||l||!this.selPrivacyPolicyCheckbox.checked||u||h||!p?n(d):(this.userProfile=e.userProfile,t(e))}},{key:"saveUserActivity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.analyticsContext;if(t){var n=this.userActivitySourceMapping(t);if(!n)return void console.warn('Invalid source: "'.concat(t,'". User activity not saved!'));var i=e?"Registration Start":"Registration Complete",r={email:this.userProfile.email,source:n,source_detail:i,form_data:{email:this.userProfile.email,firstName:this.userProfile.firstName,lastName:this.userProfile.lastName},recaptchaId:this.recaptchaId};e||(r.form_data=null);try{cT(r)}catch(e){console.error("Failed to save user activity:",e)}}else console.warn("Context is missing, user activity not saved")}},{key:"userActivitySourceMapping",value:function(e){return e.startsWith("gated content")?"Gated PDF: Registration":{bookmark:"Bookmark",bookmarkPromo:"Bookmark",Campaign:"Campaign","Gated Assessment: Optional Gate":"Gated Assessment: Optional Gate","lead-gen-form":"Gated PDF: Lead Generation Form","login-wall":"Gated Page: Lead Gen and Registration","Persona Index Survey":"Gated Assessment: Optional Gate","request-demo":"Demo Request","request-trial":"Demo Request","subscription-widget":"Subscription Widget","subscription-widget-card":"Subscription Widget"}[e]||null}},{key:"checkIfAutoFill",value:function(e,t,n){this.autoFillSignUp&&(e[0].value=this.userProfile.firstName,e[1].value=this.userProfile.lastName,e[2].value=this.userProfile.email,this.autoFillSignUp=!1),t(e)}},{key:"resetOnClose",value:function(){var e=this;window.dispatchEvent((0,NE.t3)("osiw.loading.onclose")),window.addEventListener("osiw.closing.modal",(function(){setTimeout(PT(xT().mark((function t(){return xT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.module.innerHTML.includes(e.config.labels.en["error.expired.session"])){t.next=3;break}return t.next=3,e.widget.authClient.idx.cancel();case 3:e.widget.remove(),e.hasInitialized=!1,e.widgetReady=!1,e.showingLoadingError=!1,document.cookie="ln=",window.dispatchEvent((0,NE.t3)("osiw.reset",{close:!0,ready:!1}));case 9:case"end":return t.stop()}}),t)}))),350)}),{once:!0})}},{key:"updateOptionalAuthView",value:function(e){var t=this;this.module.querySelectorAll(".authenticator-row").forEach((function(e){e.querySelector('[data-se="okta_verify"]')&&e.remove()})),this.module.querySelector(".authenticator-row")||(window.dispatchEvent((0,NE.t3)("osiw.loading")),e.click()),e.addEventListener("click",PT(xT().mark((function e(){return xT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.modal.classList.contains("spinner")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.widgetSessionHasExpired();case 4:if(!e.sent){e.next=9;break}t.finalizeOnClose=!1,window.dispatchEvent((0,NE.t3)("osiw.reset",{close:!1,ready:!0})),e.next=10;break;case 9:window.dispatchEvent((0,NE.t3)("osiw.loading"));case 10:case"end":return e.stop()}}),e)})))),this.module.querySelector('[data-se="cancel"]').addEventListener("click",(function(){t.finalizeOnClose=!1,window.dispatchEvent((0,NE.t3)("osiw.reset",{close:!1,ready:!0}))})),this.finalizeOnClose||(window.addEventListener("osiw.closing.modal",PT(xT().mark((function n(){var i;return xT().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.finalizeOnClose){n.next=2;break}return n.abrupt("return");case 2:return t.finalizeOnClose=!1,n.next=5,t.widgetSessionHasExpired();case 5:if(!n.sent){n.next=8;break}return window.dispatchEvent((0,NE.t3)("osiw.reset",{close:!0,ready:!0})),n.abrupt("return");case 8:t.widget.authClient.idx.canProceed()&&(e=t.module.querySelector('[data-se="button"].skip-all'),i=t.module.querySelector('[data-se="switchAuthenticator"]'),e?e.click():i&&(t.forceClickSkip=!0,i.click()));case 9:case"end":return n.stop()}}),n)}))),{once:!0}),this.finalizeOnClose=!0,window.dispatchEvent((0,NE.t3)("osiw.loading.onclose")))}},{key:"addTokensToManager",value:function(e){if(e.idToken||e.id_token){var t=e.idToken?e.idToken:this.getTokenObj("idToken",e.id_token);this.widget.authClient.tokenManager.add("idToken",t)}if(e.accessToken||e.access_token){var n=e.accessToken?e.accessToken:this.getTokenObj("accessToken",e.access_token);this.widget.authClient.tokenManager.add("accessToken",n)}if(e.refreshToken||e.refresh_token){var i=e.refreshToken?e.refreshToken:this.getTokenObj("refreshToken",e.refresh_token);this.widget.authClient.tokenManager.add("refreshToken",i)}}},{key:"logout",value:(s=PT(xT().mark((function e(t){return xT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.dataDirty){e.next=5;break}if(window.confirm("Changes made on this page may not be saved. Are you sure you want to leave this page?")){e.next=4;break}return e.abrupt("return");case 4:window.dataDirty=!1;case 5:return window.dispatchEvent((0,NE.t3)("osiw.loading")),e.prev=6,e.next=9,this.revokeTokens();case 9:return e.next=11,this.widget.authClient.closeSession();case 11:return this.widget.authClient.tokenManager.clear(),window.dispatchEvent((0,NE.t3)("adobe.logout",t)),e.next=15,this.postLogoutCleanup();case 15:this.refreshPostLogout(t),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),console.info("There was an error logging out: ",e.t0);case 21:case"end":return e.stop()}}),e,this,[[6,18]])}))),function(e){return s.apply(this,arguments)})},{key:"postLogoutCleanup",value:function(){return new Promise((function(e){window.localStorage.removeItem("subscriptions"),window.sessionStorage.removeItem("searchArgs"),window.sessionStorage.removeItem("initialAggs"),window.localStorage.removeItem("user-storage"),e()}))}},{key:"refreshPostLogout",value:function(e){if("refresh"!==e){var t=document.querySelector('meta[name="sitePrimaryUrl"]').content;if(window.location.pathname.indexOf("/alumni")>-1)window.location.href=t+"/alumni";else if(window.location.pathname.indexOf("/userprofile")>-1)window.location.href=t;else{var n=(0,NE.AC)(document.baseURI).pathname;if(window.location.hash&&window.location.pathname===n)return window.location.reload();window.location.href=(0,NE.AC)(new URL(document.baseURI).href).href}}else window.location.reload()}},{key:"getConfiguration",value:function(){var e=this;return new Promise((function(t,n){window.fetch("/configuration/osiw").then((function(e){return 200!==e.status&&n(e),e.text()})).then((function(e){t(e)})).catch((function(t){e.showLoadingError(),console.info("There was an error getting sign in widget configuration: ",t)}))}))}},{key:"postLoginUserUpdates",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||window.dispatchEvent((0,NE.t3)("osiw.loading")),VE().then((function(i){window.fetch("/marketing/userprofile/oktaauth/users/post-login-user-updates",{method:"POST",headers:i}).then((function(e){if(!e.ok)throw new Error("Response returned with status: ",e.status);return e.json()})).then((function(i){!0===e.hasInitiateRegistration&&(e.saveUserActivity(),window.dispatchEvent((0,NE.t3)("adobe.registration.complete",{user:i,context:e.analyticsContext}))),i&&!i.PrivacyPolicy&&(e.showPrivacyPolicyModal=!0),window.dispatchEvent((0,NE.t3)("login.success",{context:e.analyticsContext,privacyPolicyNeeded:e.showPrivacyPolicyModal})),window.dispatchEvent((0,NE.t3)("adobe.login.success",{user:i,loginTimer:(Date.now()-e.loginTimer)/1e3,hasAuthenticated:n,context:e.analyticsContext})),i&&!i.PrivacyPolicy?(function(){if(!window.location.pathname.includes("/about/privacy-policy")&&!document.querySelector("#privacy-policy-modal")){var e=document.createElement("div");e.innerHTML='\n  <div id="privacy-policy-modal" class="show-form-modal show">\n  <div class="mask"></div>\n  <div class="modal ">\n    <div class="modal-header"></div>\n\n    <div id="privacy-policy" class="modal-body">\n      <div class="form-wrapper">\n        <form class="privacy-policy-form validated-form" id="privacy-policy-form" method="post">\n          <legend class="form__title okta-form-title o-form-head">Accept BCG\'s Privacy Policy</legend>\n          <div class="form-horizontal unlock">\n            <div class="form-group">\n              <div class="privacy-checkbox">\n                <input type="checkbox" id="policy" value="true" class="form-control single-line"\n                  data-val-required="Please agree to privacy policy" name="accept" required="">\n                <label for="policy">&nbsp; By checking this box you agree to BCG\'s <a target="_blank"\n                    href="/about/privacy-policy" class="privacy-link">privacy policy</a></label>\n              </div>\n              <div class="privacy-error">\n                <span class="field-validation-valid error-16-small" data-valmsg-for="policy"\n                  data-valmsg-replace="true"></span>\n              </div>\n            </div>\n            <div class="form-group buttons">\n              <div class="signin-buttons">\n                <button type="submit" class="primary-button icon-can-animate submit-button">Submit<svg><use xlink:href="#arrow"></use></svg></button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n\n  </div>\n</div>';var t=e.querySelector(".submit-button"),n=e.querySelector("#policy"),i=e.querySelector(".field-validation-valid");t.addEventListener("click",(function(e){e.preventDefault(),e.target.closest("form").checkValidity()?VE().then((function(e){window.fetch("/marketing/userprofile/oktaauth/users/privacy-policy",{method:"POST",headers:e,body:JSON.stringify({accept:!0})}).then((function(){window.localStorage.setItem("privacy-policy","true"),window.dispatchEvent((0,NE.t3)("privacy-policy",!0))}))})):i.style.display="block"})),n.addEventListener("change",(function(e){i.style.display=e.target.checked?"none":"block"})),document.documentElement.classList.add("modal-open"),document.body.appendChild(e)}}(),window.addEventListener("privacy-policy",(function(n){e.postLoginRedirects(n,t)}))):e.postLoginRedirects(!1,t)})).catch((function(n){t||e.showLoadingError(!0),console.info("There was an error completing post login updates: ",n)}))}))}},{key:"postLoginRedirects",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(this.returnUrlParameter&&(window.location.href=this.returnUrlParameter),window.location.pathname.includes("/alumni")&&!t){var n=new URL(window.location).href.split("?")[0];window.location=n}if("true"===(0,NE.ce)("abe")&&(window.location.href="/user/audience"),e)return window.location.reload();this.loginSSOWidget.redirect()}},{key:"getTokens",value:function(e){var t=this;return new Promise((function(n,i){window.fetch("/marketing/userprofile/unauth/tokens/interaction-code",{method:"POST",body:JSON.stringify({code_verifier:t.verifier,interaction_code:e.interaction_code,redirectUri:t.config.callback})}).then((function(e){if(!e.ok)throw new Error("Response returned with status: ",e.status);return e.json()})).then((function(e){n(e)})).catch((function(e){t.showLoadingError(!0),console.info("There was an error getting tokens: ",e),window.dispatchEvent((0,NE.t3)("adobe.login.failed",JSON.stringify(e)))}))}))}},{key:"refreshTokens",value:function(){var e=this;this.widget.authClient.tokenManager.get("refreshToken").then((function(t){window.fetch("/marketing/userprofile/unauth/refresh-tokens",{method:"POST",body:JSON.stringify({refresh_token:t.refreshToken})}).then(function(){var t=PT(xT().mark((function t(n){return xT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200===n.status){t.next=5;break}return t.next=3,e.logout("auto");case 3:t.next=6;break;case 5:return t.abrupt("return",n.json());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){e.addTokensToManager(t),e.postLoginUserUpdates(!0,!0)})).catch((function(e){console.info("There was an error refreshing tokens: ",e)}))}))}},{key:"revokeTokens",value:function(){var e=this;return new Promise((function(t,n){VE().then((function(i){e.widget.authClient.tokenManager.get("refreshToken").then((function(e){window.fetch("/marketing/userprofile/oktaauth/users/revoke-tokens",{headers:i,method:"POST",body:JSON.stringify({refresh_token:e?e.refreshToken:""})}).then((function(){t()})).catch((function(e){console.info("There was an error revoking tokens: ",e),n(new Error(e))}))}))}))}))}},{key:"generateFingerprint",value:(o=PT(xT().mark((function e(){var t,n,i,r;return xT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VE();case 2:return t=e.sent,e.next=5,window.fetch("/marketing/userprofile/unauth/generate-fingerprint",{headers:t,method:"POST"});case 5:if((n=e.sent).ok){e.next=8;break}throw new Error("Response returned with status: ".concat(n.status));case 8:return e.next=10,n.json();case 10:if(i=e.sent,r=i.fingerprint){e.next=14;break}throw new Error("Unable to parse response");case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"decryptUID",value:function(e){return new Promise((function(t){window.fetch("/marketing/userprofile/unauth/decrypt",{method:"POST",body:JSON.stringify({text:e})}).then((function(e){return 200===e.status&&e.json()})).then((function(e){e=!!e&&e.decrypted_text,t(e)}))}))}},{key:"checkRedirectCallbackURI",value:function(){if(window.history.replaceState({},document.title,"/"),window.localStorage.getItem("OSIWCallbackRedirectURI")){var e=window.localStorage.getItem("OSIWCallbackRedirectURI");window.localStorage.removeItem("OSIWCallbackRedirectURI"),e!==window.location.href&&window.location.replace(e)}}},{key:"insertPrivacyPolicyCheckboxMarkup",value:function(){this.module.querySelector(".o-form-fieldset-container").insertAdjacentHTML("afterend",'\n      <div class="o-form-fieldset o-form-label-top">\n        <div class="o-form-input osiw-privacy-policy">\n          <div class="privacy-container" style="display: flex;">\n              <input type="checkbox">\n              <p class="privacy-policy">By signing up I agree to the BCG <a target="_blank" class="privacy-link" href="/about/terms-of-use.aspx">terms &amp; conditions</a> and <a target="_blank" class="privacy-link" href="/about/privacy-policy.aspx">privacy policy</a>.</p>\n          </div>\n          <p id="input-container-error93" class="okta-form-input-error o-form-input-error o-form-explain" role="alert">\n            <span class="icon icon-16 error-16-small" role="img" aria-label="Error"></span>Please read and check privacy agreement.\n          </p>\n        </div>\n      </div>\n    ')}},{key:"insertReCaptchaMarkup",value:function(){var e='\n      <bsp-invisible-captcha\n        data-sitekey="'.concat(this.config.captchaKey,'"\n        data-use-focus="false"\n        data-invisible=""\n      ></bsp-invisible-captcha>\n    ');if(this.module.querySelector(".o-form-fieldset-container").insertAdjacentHTML("afterend",e),this.captchaReLoaded){var t=this.module.querySelector("bsp-invisible-captcha");_T.reinitializeCaptcha(t)}this.captchaReLoaded=!0}},{key:"toggleSignInEmailError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.module.querySelector('[data-se="o-form-input-identifier"]'),n=this.module.querySelector(".o-form-input-error"),i='\n      <p id="input-container-error" class="okta-form-input-error o-form-input-error o-form-explain" role="alert" style="display: block;">\n        <span class="icon icon-16 error-16-small" role="img" aria-label="Error"></span>\n        '.concat(this.config.labels.bsp["custom.error.email.invalid"],"\n      </p>\n    ");e?n&&n.remove():n||t.insertAdjacentHTML("afterend",i)}},{key:"generateCodeVerifier",value:function(){var e=new Uint8Array(32);window.crypto.getRandomValues(e);var t=new MT.lib.WordArray.init(e);return this.base64URL(t)}},{key:"generateCodeChallenge",value:function(e){return this.base64URL(MT.SHA256(e))}},{key:"base64URL",value:function(e){return e.toString(MT.enc.Base64).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}},{key:"getTokenObj",value:function(e,t){var n=[];"refreshToken"!==e&&(n=this.decodeJWT(t),this.tokenExp=n.exp);var i=ST(ST(ST(ST({},e,t),"expiresAt",this.tokenExp),"scopes",this.config.scopes),"authorizeUrl",this.config.issuer+"/v1/authorize");return"accessToken"===e?Object.assign(i,{claims:n,tokenType:"Bearer",userinfoUrl:this.config.issuer+"/v1/userinfo"}):"refreshToken"===e?Object.assign(i,{tokenUrl:this.config.issuer+"/v1/token",issuer:this.config.issuer}):"idToken"===e?Object.assign(i,{claims:n,issuer:this.config.issuer,clientId:this.config.clientId}):void 0}},{key:"decodeJWT",value:function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}},{key:"canUseFastPass",value:function(){var e=window.navigator.userAgent,t=!e.includes("Chrome")&&e.includes("Safari"),n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(e);return!t&&!n}},{key:"handleAuthSignupAnalytics",value:(r=PT(xT().mark((function e(){var t,n,i,r,o;return xT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.widget.authClient.idx.proceed();case 2:t=e.sent,n=t.context.authenticatorEnrollments.value,i=kT(n);try{for(i.s();!(r=i.n()).done;)o=r.value,this.authenticatorsEnrolled.includes(o.key)||(window.dispatchEvent((0,NE.t3)("adobe.authenticator.enrolled",o.key)),this.authenticatorsEnrolled.push(o.key))}catch(e){i.e(e)}finally{i.f()}case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"widgetSessionHasExpired",value:(i=PT(xT().mark((function e(){var t,n,i,r;return xT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.widget.authClient.idx.proceed();case 3:return t=e.sent,n=t.context,i=new Date(n.expiresAt),r=new Date,e.abrupt("return",i<r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return i.apply(this,arguments)})},{key:"isObject",value:function(e){try{var t=JSON.parse(e);return"object"===wT(t)&&null!==t}catch(e){return!1}}},{key:"newDataObj",value:function(){return{context:{source:"",email:"",firstName:"",lastName:""}}}}],n&&AT(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i,r,o,s,a,l,c}();function jT(e){return jT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jT(e)}function FT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,BT(i.key),i)}}function BT(e){var t=function(e){if("object"!=jT(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jT(t)?t:t+""}var UT=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.spinnerWrapperClass="spinner-wrapper__light",this.spinnerClass="spinner",this.body=document.querySelector("body"),this.spinnerWrapper=document.createElement("div"),this.spinnerWrapper.classList.add(this.spinnerWrapperClass),this.spinnerIcon=document.createElement("div"),this.spinnerIcon.classList.add(this.spinnerClass),this.preload()},(t=[{key:"preload",value:function(){(new window.Image).src="/styleguide/assets/bcg/img/loading-animation.gif"}},{key:"build",value:function(){return this.spinnerWrapper.appendChild(this.spinnerIcon),this.spinnerWrapper}},{key:"show",value:function(){this.body.appendChild(this.build())}},{key:"hide",value:function(){if(this.isVisible())if(this.spinnerWrapper.parentNode)this.body.removeChild(this.spinnerWrapper);else{var e=this.body.querySelector(".".concat(this.spinnerWrapperClass));e&&this.body.removeChild(e)}}},{key:"isVisible",value:function(){return this.body.querySelectorAll(".".concat(this.spinnerWrapperClass)).length>0}}])&&FT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function qT(e){return qT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qT(e)}function VT(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=HT(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function HT(e,t){if(e){if("string"==typeof e)return $T(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$T(e,t):void 0}}function $T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function zT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,WT(i.key),i)}}function WT(e){var t=function(e){if("object"!=qT(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qT(t)?t:t+""}function GT(e,t,n){return t=YT(t),function(e,t){if(t&&("object"==qT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,KT()?Reflect.construct(t,n||[],YT(e).constructor):t.apply(e,n))}function KT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(KT=function(){return!!e})()}function YT(e){return YT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},YT(e)}function XT(e,t){return XT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XT(e,t)}var JT=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),GT(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XT(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.modal=this,this.widgetContainer=this.querySelector("#okta-siw__container"),this.closeButton=this.querySelector(".okta-siw__close"),this.overlay=document.querySelector(".okta-siw__overlay"),this.widgetReady=!1,this.refreshOnClose=!1,this.handlekeydown=this.getHandleKeydownCallback().bind(this),this.timeoutId=0,this.spinner=new UT,this.bindEvents()}},{key:"bindEvents",value:function(){var e=this;window.addEventListener("showSignInWidget",(function(t){"login-icon"!==t.detail.context.source&&(e.widgetReady=!1),e.startModalOpen()})),this.closeButton.addEventListener("click",(function(){return e.closeModal()})),this.overlay.addEventListener("click",(function(){return e.closeModal()})),window.addEventListener("login.success",(function(t){("login-wall"!==t.detail.context||t.detail.privacyPolicyNeeded)&&(e.disableClose=!1,e.loadingOnClose=!1,e.closeModal())})),window.addEventListener("osiw.loading",(function(){return e.showLoading()})),window.addEventListener("osiw.ready",(function(){e.widgetReady=!0})),window.addEventListener("osiw.reset",(function(t){e.loadingOnClose=!1,e.disableClose=!1,t.detail.ready||(e.widgetReady=!1),t.detail.close&&e.closeModal()})),window.addEventListener("osiw.loading.onclose",(function(){e.loadingOnClose=!0}))}},{key:"startModalOpen",value:function(){var e=this;this.spinner.isVisible()||(document.documentElement.classList.add("modal-open"),this.overlay.classList.add("open")),window.addEventListener("keydown",this.handlekeydown);var t,n=VT(document.body.children);try{for(n.s();!(t=n.n()).done;){var i=t.value;i!==this.modal&&i.setAttribute("aria-hidden","true")}}catch(e){n.e(e)}finally{n.f()}this.widgetReady?this.finishModalOpen():(this.spinner.isVisible()||this.modal.classList.add("spinner"),window.addEventListener("osiw.ready",(function(){e.finishModalOpen()}),{once:!0})),this.timeoutId=setTimeout((function(){e.modal.classList.contains("spinner")&&!e.modal.classList.contains("closing")&&window.dispatchEvent((0,NE.t3)("osiw.timeout"))}),2e4)}},{key:"finishModalOpen",value:function(){this.spinner.isVisible()&&(this.spinner.hide(),document.documentElement.classList.add("modal-open"),this.overlay.classList.add("open")),this.modal.classList.remove("spinner"),this.modal.classList.add("open"),this.getFirstAndLastFocusable()[0].focus(),window.localStorage.setItem("OSIWCallbackRedirectURI",window.location.href)}},{key:"closeModal",value:function(){var e=this;if(!this.disableClose&&"none"!==window.getComputedStyle(this.modal).display)if(window.dispatchEvent((0,NE.t3)("osiw.closing.modal")),this.loadingOnClose)this.showLoading();else{this.modal.classList.add("closing"),this.overlay.classList.add("closing");var t,n=VT(document.body.children);try{for(n.s();!(t=n.n()).done;)t.value.removeAttribute("aria-hidden")}catch(e){n.e(e)}finally{n.f()}window.removeEventListener("keydown",this.handlekeydown),setTimeout((function(){e.modal.classList.remove("open","closing","spinner"),e.overlay.classList.remove("open","closing"),document.querySelector(".login-wall")||document.documentElement.classList.remove("modal-open")}),350),window.dispatchEvent((0,NE.t3)("sticky-toolbar-close-login-modal")),window.localStorage.removeItem("OSIWCallbackRedirectURI"),clearTimeout(this.timeoutId)}}},{key:"showLoading",value:function(){var e=this;this.modal.classList.contains("spinner")||(this.overlay.classList.contains("open")||this.overlay.classList.add("open"),this.disableClose=!0,this.modal.classList.add("closing"),setTimeout((function(){e.modal.classList.remove("open","closing"),e.modal.classList.add("spinner")}),200),window.addEventListener("osiw.ready",(function(){e.disableClose=!1,e.finishModalOpen()}),{once:!0}))}},{key:"getFirstAndLastFocusable",value:function(){var e=function(e){return function(e){if(Array.isArray(e))return $T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||HT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.modal.querySelectorAll('a[href], button, input, select, [tabindex]:not([tabindex="-1"])')).filter((function(e){return 0!==e.getClientRects().length}));return[e[0],e[e.length-1]]}},{key:"getHandleKeydownCallback",value:function(){var e=this;return function(t){if("Escape"===t.key)"block"===window.getComputedStyle(e.modal).display&&e.closeModal();else if("Tab"===t.key){var n=e.getFirstAndLastFocusable();t.shiftKey?document.activeElement===n[0]&&(t.preventDefault(),n[1].focus()):document.activeElement===n[1]&&(t.preventDefault(),n[0].focus())}else"Enter"!==t.key&&" "!==t.key||document.activeElement===e.closeButton&&e.closeModal()}}}],n&&zT(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function QT(e){return QT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QT(e)}function ZT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ex(i.key),i)}}function ex(e){var t=function(e){if("object"!=QT(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=QT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==QT(t)?t:t+""}function tx(e,t,n){return t=ix(t),function(e,t){if(t&&("object"==QT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nx()?Reflect.construct(t,n||[],ix(e).constructor):t.apply(e,n))}function nx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nx=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ix(e)}function rx(e,t){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rx(e,t)}var ox=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tx(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rx(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.module=this,this.dropdown=this.module.querySelector(".login-dropdown"),this.logoutOption=this.module.querySelector(".logout"),this.dropdownUsername=this.module.querySelector(".name"),this.topbarIcon=this.module.querySelector(".login-button-icon"),this.loginButton=this.module.querySelector(".login-container"),this.loginText=this.module.querySelector(".login-text"),this.hideDropdown=this.hideDropdown.bind(this),UE()&&(this.showUserName(),this.hideLoginText()),this.bindEvents()}},{key:"bindEvents",value:function(){var e=this;this.logoutOption.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),window.dispatchEvent((0,NE.t3)("logout",e.currentTarget.className))})),window.addEventListener("login.success",(function(){e.showUserName(),e.hideLoginText()})),this.loginButton.addEventListener("click",(function(t){return e.handleTopbarLogin(t)})),window.addEventListener("show.login.dropdown",(function(){return e.showDropdown()})),window.addEventListener("resize",(function(){return e.setDropdownPosition()})),window.addEventListener("scroll",this.hideDropdown),window.addEventListener("panelChanged",this.hideDropdown),window.addEventListener("searchOpen",this.hideDropdown)}},{key:"showDropdown",value:function(){this.module.classList.contains("isOpen")||(this.module.classList.add("isOpen"),document.body.addEventListener("click",this.hideDropdown),this.setDropdownPosition(),this.dropdown.style.visibility="visible")}},{key:"hideDropdown",value:function(){this.dropdown.style.visibility="hidden",this.module.classList.remove("isOpen"),document.body.removeEventListener("click",this.hideDropdown)}},{key:"setDropdownPosition",value:function(){var e=this.loginButton.getBoundingClientRect().height+12;this.dropdown.style.top="".concat(e,"px"),this.dropdown.style.right=0,this.dropdown.style.left="unset"}},{key:"showUserName",value:function(){var e=qE(!0),t=e.claims.given_name||e.claims.firstname||e.claims.name||"",n=e.claims.family_name||e.claims.lastname||"";this.dropdownUsername.innerText="".concat(t," ").concat(n)}},{key:"showLoginText",value:function(){this.loginButton.classList.remove("logged-in")}},{key:"hideLoginText",value:function(){this.loginButton.classList.add("logged-in")}},{key:"handleTopbarLogin",value:function(e){if(e.stopPropagation(),UE())return this.module.classList.contains("isOpen")?this.hideDropdown():this.showDropdown();this.loginButton.classList.contains("logged-in")?window.location.reload():window.dispatchEvent((0,NE.t3)("showSignInWidget",{context:{source:"login-icon"}}))}}],n&&ZT(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}(),sx=__webpack_require__(9395),ax=__webpack_require__(3843);function lx(e){return lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(e)}function cx(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,hx(i.key),i)}}function ux(e,t,n){return t&&cx(e.prototype,t),n&&cx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hx(e){var t=function(e){if("object"!=lx(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=lx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==lx(t)?t:t+""}var dx=ux((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.buttons=Array.from(document.querySelectorAll("[data-burger-button]")),this.buttons.length<1||(this.bodyEl=document.querySelector("body"),this.menuEl=document.querySelector(".mega-menu"),this.menuElShouldClose=!1,this.buttons.forEach((function(e){e.addEventListener("click",(0,sx.P)(350,(function(){t.bodyEl.hasAttribute("data-mega-menu-is-open")?(t.bodyEl.removeAttribute("data-mega-menu-is-open"),t.menuElShouldClose=!0,t.menuEl.removeAttribute("animate"),(0,ax.F)()):(t.bodyEl.setAttribute("data-mega-menu-is-open",""),t.menuElShouldClose=!1,t.menuEl.removeAttribute("hidden"),setTimeout((function(){t.menuEl.setAttribute("animate","")}),10),(0,ax.h)())})))})),this.menuEl.addEventListener("transitionend",(function(){if(t.menuElShouldClose)t.menuEl.setAttribute("hidden","");else{var e=(0,NE.t3)("mega-menu-open",{context:"BurgerButtons"});window.dispatchEvent(e)}})))})),px=__webpack_require__(2442),fx=__webpack_require__.n(px);function mx(){return!0===window.matchMedia("(prefers-reduced-motion: reduce)")||!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches}function gx(e){return gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(e)}function yx(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,vx(i.key),i)}}function vx(e){var t=function(e){if("object"!=gx(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gx(t)?t:t+""}__webpack_require__(1105);var bx=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.carousel=t,this.stateChangeCallbacks=[],this.carousel&&this.setupStateListeners()},(t=[{key:"setupStateListeners",value:function(){var e=this;if(this.carousel.player&&this.carousel.options.autoPlay){var t=this.carousel.pausePlayer,n=this.carousel.playPlayer;this.carousel.pausePlayer=function(){t.call(e.carousel),e.notifyStateChange()},this.carousel.playPlayer=function(){n.call(e.carousel),e.notifyStateChange()},this.carousel.on("pointerDown",(function(){e.notifyStateChange()})),this.carousel.on("pointerUp",(function(){e.notifyStateChange()}))}}},{key:"onStateChange",value:function(e){"function"==typeof e&&(this.stateChangeCallbacks.push(e),e(this.isPlaying()))}},{key:"notifyStateChange",value:function(){var e=this.isPlaying();this.stateChangeCallbacks.forEach((function(t){t(e)}))}},{key:"play",value:function(){return!(!this.carousel||!this.carousel.options.autoPlay||(this.carousel.playPlayer(),this.notifyStateChange(),0))}},{key:"pause",value:function(){return!(!this.carousel||!this.carousel.options.autoPlay||(this.carousel.pausePlayer(),this.notifyStateChange(),0))}},{key:"next",value:function(){return!!this.carousel&&(this.carousel.next(),!0)}},{key:"previous",value:function(){return!!this.carousel&&(this.carousel.previous(),!0)}},{key:"isPlaying",value:function(){return!(!this.carousel||!this.carousel.player)&&"playing"===this.carousel.player.state}}])&&yx(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function _x(e){return _x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_x(e)}function wx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function kx(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Sx(i.key),i)}}function Sx(e){var t=function(e){if("object"!=_x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_x(t)?t:t+""}function Ex(e,t,n){return t=xx(t),function(e,t){if(t&&("object"==_x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tx()?Reflect.construct(t,n||[],xx(e).constructor):t.apply(e,n))}function Tx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Tx=function(){return!!e})()}function xx(e){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xx(e)}function Cx(e,t){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cx(e,t)}var Px=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ex(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cx(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){var e=this;this.carousel=this,this.carouselItems=this.querySelectorAll(".carousel-cell"),this.options={prevNextButtons:!0,wrapAround:!0},this.eventOptions={ready:function(){e.hasArrowShape&&e.setupCustomArrows(),e.carouselItems.length>9&&window.innerWidth<768&&e.initializeMobileDots(),e.carousel.hasAttribute("data-sync-slide")&&e.flkty.select(parseInt(e.carousel.getAttribute("data-sync-slide"),10),!1,!0)},change:function(t){e.hasSlideNumbering&&e.updateSlideIndicatorNumber(t),e.setAttribute("data-sync-slide",t)},settle:function(){e.carousel.hasAttribute("data-resize-on-settle")&&window.dispatchEvent(new Event("resize"))}},this.htmlInlineOptions=this.dataset.carouselOptions?JSON.parse(this.dataset.carouselOptions):"",this.hasArrowShape=this.htmlInlineOptions&&this.htmlInlineOptions.arrowShape,this.hasSlideNumbering=this.htmlInlineOptions&&!0===this.htmlInlineOptions.carouselNumbering,this.hasSetPreviousNextCells=this.htmlInlineOptions&&!0===this.htmlInlineOptions.createPrevNextCellClassNames,this.hasCallResize=this.htmlInlineOptions&&this.htmlInlineOptions.callResize,this.hasCellClickSelect=this.htmlInlineOptions&&this.htmlInlineOptions.cellClickSelect,this.previousSlide=null,this.nextSlide=null,window.matchMedia("print").matches||this.init()}},{key:"init",value:function(){var e=this;fx().Cell.prototype.select=function(){this.element.classList.add("is-selected")},fx().Cell.prototype.unselect=function(){this.element.classList.remove("is-selected")},[0,1].includes(this.carouselItems.length)||(this.htmlInlineOptions&&(this.options=this.htmlInlineOptions,this.options.dragThreshold=15,this.options.on=this.eventOptions),mx()&&this.options&&this.options.autoPlay&&(this.options.autoPlay=0),this.flkty=new(fx())(this,this.options),this.setupControlsAdapter(),this.addAriaLabelFlickityViewport(),this.adjustFlickityViewport(),this.hasSetPreviousNextCells&&this.flkty.on("select",(function(t){return e.setPrevNextCells(t)})),this.hasCellClickSelect&&this.flkty.on("staticClick",(function(t,n,i,r){if("number"==typeof r){if(e.flkty.selectedIndex===r)return;t&&t.preventDefault(),e.flkty.select(r)}})),this.flkty.on("dragStart",(function(){e.flkty.slider.style.pointerEvents="none"})),this.flkty.on("dragEnd",(function(){e.flkty.slider.style.pointerEvents="auto"})),window.addEventListener("load",(function(t){e.flkty.resize()})),this.flkty.on("settle",(function(){e.flkty.resize()})),this.hasCallResize&&window.addEventListener("resize",(0,NE.Ds)((function(){e.adjustFlickityViewport(),e.flkty.resize()}),100),!1),this.addCellFocusListener(),this.flkty.options.autoPlay&&this.addCarouselFocusListeners(),window.addEventListener("resize",(0,NE.Ds)((function(){e.carouselItems.length>9&&window.innerWidth<768?(e.initializeMobileDots(),e.adjustMobileDotContainerSize(),e.updateMobileDotsTransform()):e.resetMobileDots()}),200)),this.flkty.on("select",(function(){e.carouselItems.length>9&&window.innerWidth<768&&e.updateMobileDotsTransform()})))}},{key:"setupControlsAdapter",value:function(){if(this.flkty){var e=this.getAttribute("moduleId");if(e){var t=document.querySelector('carousel-controls[moduleId="'.concat(e,'"]'));if(t){var n=new bx(this.flkty);"function"==typeof t.setControllerAdapter&&t.setControllerAdapter(n)}}}}},{key:"getControllerAdapter",value:function(){return this.flkty?new bx(this.flkty):null}},{key:"addAriaLabelFlickityViewport",value:function(){var e=this.querySelector(".flickity-viewport");e&&(e.setAttribute("aria-labelledby","RelatedContent"),e.setAttribute("role","navigation"))}},{key:"adjustFlickityViewport",value:function(){var e=this.carouselItems;if(e.length){var t=this.querySelectorAll(".ui-flexible-card--featured");if(0!==t.length){var n=function(e){return function(e){if(Array.isArray(e))return wx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wx(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wx(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e).filter((function(e){return!e.classList.contains("ui-flexible-card--featured")}));if(0!==n.length){var i=n.reduce((function(e,t){return e+t.offsetHeight}),0)/n.length,r=this.querySelector(".flickity-viewport");r&&r.offsetHeight!==i&&(r.style.height="".concat(i,"px")),t.forEach((function(e){e.offsetHeight<i&&(e.style.height="100%")}))}}}}},{key:"addCellFocusListener",value:function(){var e=this;this.carouselItems&&this.carouselItems.forEach((function(t,n){t.addEventListener("focusin",(function(){e.classList.contains("flickity-enabled")&&!t.classList.contains("is-selected")&&e.flkty.selectCell(n)}))}))}},{key:"addCarouselFocusListeners",value:function(){var e=this,t=this.flkty.element;t.addEventListener("focusin",(function(){e.flkty.options.autoPlay&&e.flkty.stopPlayer()})),t.addEventListener("focusout",(function(){e.flkty.options.autoPlay&&!t.contains(document.activeElement)&&e.flkty.playPlayer()}))}},{key:"setupCustomArrows",value:function(){this.querySelectorAll(".flickity-prev-next-button").forEach((function(e){var t=e.querySelector(".flickity-button-icon"),n=t.querySelector("path");n.getAttribute("transform")&&n.removeAttribute("transform"),t.setAttribute("viewBox","0 0 24 24"),e.classList.contains("previous")&&e.setAttribute("data-analytics-gallery-arrow","previous"),e.classList.contains("next")&&e.setAttribute("data-analytics-gallery-arrow","next")}))}},{key:"setPrevNextCells",value:function(e){a(this.previousSlide,"remove","is-previous"),a(this.nextSlide,"remove","is-next"),a(this.previousPreviousSlide,"remove","is-previous-previous"),a(this.nextNextSlide,"remove","is-next-next");var t=this.flkty.slides.length,n=s(e-1,t),i=s(e+1,t),r=s(e-2,t),o=s(e+2,t);function s(e,t){return(e%t+t)%t}function a(e,t,n){e&&e.getCellElements().forEach((function(e){e.classList[t](n)}))}this.previousSlide=this.flkty.slides[n],this.nextSlide=this.flkty.slides[i],this.previousPreviousSlide=this.flkty.slides[r],this.nextNextSlide=this.flkty.slides[o],a(this.previousSlide,"add","is-previous"),a(this.nextSlide,"add","is-next"),a(this.previousPreviousSlide,"add","is-previous-previous"),a(this.nextNextSlide,"add","is-next-next")}},{key:"updateSlideIndicatorNumber",value:function(e){var t=this.closest(".gallery-slideshow-items-wrapper")?this.closest(".gallery-slideshow-items-wrapper").querySelector(".gallery-slideshow-carousel-numbering-index"):"";t&&(t.textContent=++e)}},{key:"enableDrag",value:function(){this.flkty&&(this.flkty.options.draggable=!0)}},{key:"disableDrag",value:function(){this.flkty&&(this.flkty.options.draggable=!1)}},{key:"initializeMobileDots",value:function(){if(fx().data(this)&&!(window.innerWidth>=768)){var e=this.querySelector(".flickity-page-dots");if(e&&!e.closest(".dot-container")){var t=document.createElement("div");t.className="dot-container",e.parentNode.insertBefore(t,e),t.appendChild(e),this.adjustMobileDotContainerSize()}}}},{key:"adjustMobileDotContainerSize",value:function(){var e=this.querySelector(".flickity-page-dots"),t=this.querySelector(".dot-container");if(e&&t){var n=e.querySelector(".flickity-page-dot");if(n){var i=window.getComputedStyle(n),r=n.offsetWidth+parseFloat(i.marginLeft)+parseFloat(i.marginRight);t.style.width="".concat(9*r,"px"),t.style.overflow="hidden"}}}},{key:"updateMobileDotsTransform",value:function(){if(!(window.innerWidth>=768)){var e=this.querySelector(".flickity-page-dots");if(e){var t=this.flkty.slides.length;if(t<=9)e.style.transform="translateX(0)";else{var n=this.flkty.selectedIndex-Math.floor(4.5);n=Math.max(n,0),n=Math.min(n,t-9);var i=e.querySelector(".flickity-page-dot");if(i){var r=window.getComputedStyle(i),o=(i.offsetWidth+parseFloat(r.marginLeft)+parseFloat(r.marginRight))*n;e.style.transform="translateX(-".concat(o,"px)")}}}}}},{key:"resetMobileDots",value:function(){var e=this.querySelector(".flickity-page-dots"),t=this.querySelector(".dot-container");t&&e&&(t.parentNode.insertBefore(e,t),t.remove()),e&&(e.style.transform="")}}],n&&kx(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Ax(e){return Ax="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ax(e)}function Ox(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Ix(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Lx(i.key),i)}}function Lx(e){var t=function(e){if("object"!=Ax(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ax(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ax(t)?t:t+""}var Dx=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalNavigation=document.querySelector(".global-navigation"),this.megaMenu=this.globalNavigation.closest(".mega-menu"),this.runSetupNavState=!0,this.scrollbarWidth=0,this.scrollbarVisible=!1,this.globalNavigation?(this.mediumWidth=1024,this.largeWidth=1920,this.primaryListLinks=Array.from(this.globalNavigation.querySelectorAll(".global-navigation__primary-nav-item__link")),this.secondaryListLinks=Array.from(this.globalNavigation.querySelectorAll(".global-navigation__secondary-nav-item__link")),this.backToPreviousLinks=Array.from(this.globalNavigation.querySelectorAll(".back-to-previous-links__list, .back-to-previous-links__card")),this.throttleSeconds=250,window.localStorage.getItem("BCG_debug")&&this.observeMegaMenu(this.megaMenu),this.initGlobalNavigation()):console.warn("Global Navigation Element not found!")},t=[{key:"initGlobalNavigation",value:function(){var e=this;this.setupPrimaryListLinks(this.primaryListLinks),this.setupSecondaryListLinks(this.secondaryListLinks),this.setupBackToPreviousLinks(this.backToPreviousLinks),window.addEventListener("loadJavascriptModules",(function(t){t.detail.context.classList.contains("dynamicNavItem")&&(e.setUpDynamicLinks(t),e.runSetupNavState&&e.setUpNavState(!0))})),window.addEventListener("resize",(0,sx.P)(this.throttleSeconds,(function(){e.windowResizeHandler()}))),window.addEventListener("mega-menu-open",(function(t){"BurgerButtons"===t.detail.context&&e.windowResizeHandler()})),this.megaMenu.addEventListener("transitionend",(function(){return e.sizePrimaryNav(e.megaMenu)})),this.runSetupNavState&&this.setUpNavState(),this.windowResizeHandler()}},{key:"setUpNavState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.globalNavigation){if(this.globalNavigation.querySelectorAll(".is-active").length>0&&!t)return;var n=Array.from(this.globalNavigation.querySelectorAll(".global-navigation__promo-card .navigation-promo__cta-link, .global-navigation__promo-card .NavigationPromo-list-link a")),i=new URL(window.location.href).pathname;this.removeAllIsActive();var r=this.matchUrlPath(i,n);if(r.length>0)this.highLiteParentPath(r[0]);else{var o=Array.from(this.globalNavigation.querySelectorAll(".global-navigation__secondary-nav-items .global-navigation__secondary-nav-item__link")),s=this.createArrayOfPaths(),a=[];s.forEach((function(t){var n=e.matchUrlPath(t,o);if(n.length>0&&0===a.length&&a.push(n[0]),0===n.length&&0===a.length){if("/press"===t||"/ja-jp/press"===t){var i=e.globalNavigation.querySelector('[data-href$="corporate-newsroom"]');i&&a.push(i)}if("/alumni"===t||"/ja-jp/alumni"===t){var r=e.globalNavigation.querySelector('[data-href$="alumni"]');r&&a.push(r)}}})),a.length>0?this.highLiteParentPath(a[0]):this.autoOpenPrimaryNav()}}}},{key:"matchUrlPath",value:function(e,t){return"/"===e||"/search"===e||"/ja-jp"===e||"/ja-jp/"===e||"/ja-jp/search"===e?[]:t.filter((function(t){var n;return t.href&&"javascript:void(0)"!==t.href?n=t.href.includes(e):t.dataset.href&&(n=t.dataset.href.includes(e)),n}))}},{key:"highLiteParentPath",value:function(e){var t=this.getClientWidth();if(e){var n=e.closest("li");do{n.classList.add("is-active"),n=n.closest("li:not(.is-active)")}while(n)}var i=null,r=this.globalNavigation.querySelector(".global-navigation__secondary-nav-items .global-navigation__secondary-nav-item.is-active");r&&(i=r.closest(".global-navigation__suppress-header-desktop")),t>=this.mediumWidth&&t<this.largeWidth&&r&&!i?this.globalNavigation.classList.add("is-active"):this.globalNavigation.classList.remove("is-active")}},{key:"createArrayOfPaths",value:function(){var e=new URL(window.location.href).pathname.split("/");return e.filter((function(e){return e.length>0})).map((function(t,n){return n<e.length&&n>0&&e.pop(),e.join("/")}))}},{key:"removeAllIsActive",value:function(){Array.from(this.globalNavigation.querySelectorAll(".is-active")).forEach((function(e){return e.classList.remove("is-active")}))}},{key:"sizePrimaryNav",value:function(e){var t=this.globalNavigation.querySelector(".global-navigation__primary-nav-items");if(e&&t){var n=e.getBoundingClientRect().height;n>t.getBoundingClientRect().height&&(t.style.height="".concat(n,"px"))}}},{key:"windowResizeHandler",value:function(){var e=this.getClientWidth(),t=this.globalNavigation.querySelector(".global-navigation__primary-nav-item.is-active, .global-navigation__primary-nav-item__group-item.is-active"),n=this.globalNavigation.querySelector(".global-navigation__secondary-nav-items > ul > .is-active"),i=null;n&&(i=n.closest(".global-navigation__suppress-header-desktop")),e>=this.mediumWidth&&e<this.largeWidth&&!i&&t&&n?this.globalNavigation.classList.add("is-active"):this.globalNavigation.classList.remove("is-active"),this.sizePrimaryNav(this.megaMenu)}},{key:"scrollToTopGlobalNavigation",value:function(){var e=this.getClientWidth();e&&e<this.mediumWidth&&this.megaMenu&&this.megaMenu.scrollTo(0,0)}},{key:"setupPrimaryListLinks",value:function(e){var t=this;e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var n=Array.from(t.globalNavigation.querySelectorAll(".global-navigation__primary-nav-item.is-active, .global-navigation__primary-nav-item__group-item.is-active")),i=Array.from(t.globalNavigation.querySelectorAll(".global-navigation__secondary-nav-item.is-active")),r=e.target.parentElement.querySelector(".global-navigation__promo-card"),o=e.target.closest("li");t.sizePrimaryNav(r),t.scrollToTopGlobalNavigation(),(n.length>0||i>0)&&[].concat(n,i).forEach((function(e){return e.classList.remove("is-active")})),o&&o.classList.add("is-active"),o.classList.contains("is-autoDisplayNavPromo")&&t.autoOpenSecondaryNav()}));var n=Array.from(e.closest("li").querySelectorAll(".global-navigation__secondary-nav-item"));n&&(e.closest("li").setAttribute("data-secondaryLinksParent",!0),e.closest("li").setAttribute("data-secondaryLinksCount",n.length),e.closest("li").style.setProperty("--secondary-nav-columns",n.length>8?2:1))}))}},{key:"autoOpenPrimaryNav",value:function(){this.getClientWidth()<this.mediumWidth||this.globalNavigation.querySelector(".global-navigation__primary-nav-item__link:first-of-type").dispatchEvent(new Event("click"))}},{key:"setupSecondaryListLinks",value:function(e){var t=this;e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var n=t.getClientWidth(),i=e.target.parentElement.querySelector(".global-navigation__promo-card"),r=Array.from(t.globalNavigation.querySelectorAll(".global-navigation__secondary-nav-item.is-active")),o=e.target.closest("li"),s=o.closest(".global-navigation__suppress-header-desktop");t.sizePrimaryNav(i),t.scrollToTopGlobalNavigation(),t.secondaryListLinks.length>0&&r.forEach((function(e){return e.classList.remove("is-active")})),o&&o.classList.add("is-active"),t.globalNavigation&&n>=t.mediumWidth&&n<t.largeWidth&&!s?t.globalNavigation.classList.add("is-active"):t.globalNavigation.classList.remove("is-active")}))}))}},{key:"autoOpenSecondaryNav",value:function(){if(!(this.globalNavigation.querySelector(".global-navigation__secondary-nav-items .is-active")||this.getClientWidth()<this.mediumWidth)){var e=this.globalNavigation.querySelector(".global-navigation__primary-nav-item.has-children.is-active .global-navigation__secondary-nav-item__link:first-of-type");e&&e.dispatchEvent(new Event("click"));var t=this.globalNavigation.querySelector(".global-navigation__primary-nav-item__group-item.has-children.is-active .global-navigation__secondary-nav-item__link:first-of-type");t&&t.dispatchEvent(new Event("click"))}}},{key:"setupBackToPreviousLinks",value:function(e){var t=this;e.forEach((function(e){e.addEventListener("click",(function(n){if(n.preventDefault(),t.getClientWidth()<t.mediumWidth){var i=e.closest(".is-active");i&&i.classList.remove("is-active")}var r=e.closest("ul");if(r){var o=r.querySelectorAll(".is-active");o&&o.forEach((function(e){return e.classList.remove("is-active")}))}t.globalNavigation&&t.globalNavigation.classList.remove("is-active")}))}))}},{key:"setUpDynamicLinks",value:function(e){if(e&&e.detail&&e.detail.context){var t,n=e.detail.context,i=[],r=Array.from(n.querySelectorAll(".global-navigation__secondary-nav-item__link")),o=Array.from(n.querySelectorAll(".back-to-previous-links__list"));n.classList.contains("global-navigation__primary-nav-item")&&n.classList.contains("dynamicNavItem")&&(t=n.querySelector(".global-navigation__primary-nav-item__link"))&&(i.push(t),this.setupPrimaryListLinks(i)),r&&this.setupSecondaryListLinks(r),o&&this.setupBackToPreviousLinks(o)}}},{key:"getClientWidth",value:function(){return document.documentElement.clientWidth}},{key:"observeMegaMenu",value:function(e){var t=this,n=function(){var n=t.globalNavigation.querySelector(".global-navigation__primary-nav-item.is-active, .global-navigation__primary-nav-item__group-item.is-active"),i=t.globalNavigation.querySelector(".global-navigation__secondary-nav-items > ul > .is-active"),r=!1,o=!1,s=!1;n&&(r=!0),i&&(o=!0,s=i.closest(".global-navigation__suppress-header-desktop")),t.scrollbarVisible=e.scrollHeight>e.clientHeight,t.reportElementSize(e,t.mediumWidth,t.largeWidth,s,r,o)};new MutationObserver((function(e){var t,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ox(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ox(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;"attributes"===r.type&&"class"===r.attributeName&&n()}}catch(e){i.e(e)}finally{i.f()}})).observe(e,{attributes:!0,attributeFilter:["class"],subtree:!0});var i=document.documentElement.clientWidth;new ResizeObserver((function(){var e=document.documentElement.clientWidth;e!==i&&(i=e,n())})).observe(e)}},{key:"reportElementSize",value:function(e,t,n,i,r,o){var s=document.documentElement.clientHeight,a=document.documentElement.clientWidth,l=e.scrollHeight>e.clientHeight,c="width (".concat(a,") >= mediumWidth (").concat(t,") && width (").concat(a,") < largeWidth (").concat(n,") && !suppressHeader (").concat(i,")"),u="width (".concat(a,") >= mediumWidth (").concat(t,")"),h="width (".concat(a,") < largeWidth (").concat(n,")"),d="Header is suppressed (".concat(!i,")"),p=a>=t&&a<n&&!i;console.log("Element Size - Height: ".concat(s,"px, Width: ").concat(a,"px, Scrollbar Present: ").concat(l,", Condition Met: ").concat(p));var f=document.getElementById("element-size-display");f||((f=document.createElement("div")).id="element-size-display",f.style.position="fixed",f.style.bottom="30px",f.style.right="30px",f.style.background="rgba(0,0,0,0.7)",f.style.color="#fff",f.style.padding="10px",f.style.borderRadius="5px",f.style.fontSize="14px",f.style.lineHeight="1.3",f.style.zIndex="1000",f.style.whiteSpace="pre-line",document.body.appendChild(f)),f.textContent="Height: ".concat(s,"px\n      Width: ").concat(a,"px\n      Scrollbar: ").concat(l,"\n      MediumWidthCheck: ").concat(u," ").concat(a>=t,"\n      LargeWidthCheck: ").concat(h," ").concat(a<n,"\n      HeaderIsSuppressed: ").concat(d," ").concat(!i,"\n      Condition: ").concat(c," â†’ ").concat(p,"\n      IsPrimaryLinkActionSet: ").concat(r,"\n      IsSecondaryLinkActionSet: ").concat(o,"\n      IsGlobalNavigationActionSet: ").concat(this.globalNavigation.classList.contains("is-active"))}}],t&&Ix(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Rx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rx(Object(n),!0).forEach((function(t){Ux(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nx(e){return Nx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(e)}function jx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fx(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Bx(e,t,n){return t&&Fx(e.prototype,t),n&&Fx(e,n),e}function Ux(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qx(e){return qx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qx(e)}function Vx(e,t){return Vx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vx(e,t)}function Hx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=qx(e);if(t){var r=qx(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function $x(){return $x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qx(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},$x.apply(this,arguments)}var zx={type:"slider",startAt:0,perView:1,focusAt:0,gap:10,autoplay:!1,hoverpause:!0,keyboard:!0,bound:!1,swipeThreshold:80,dragThreshold:120,perSwipe:"",touchRatio:.5,touchAngle:45,animationDuration:400,rewind:!0,rewindDuration:800,animationTimingFunc:"cubic-bezier(.165, .840, .440, 1)",waitForTransition:!0,throttle:10,direction:"ltr",peek:0,cloningRatio:1,breakpoints:{},classes:{swipeable:"glide--swipeable",dragging:"glide--dragging",direction:{ltr:"glide--ltr",rtl:"glide--rtl"},type:{slider:"glide--slider",carousel:"glide--carousel"},slide:{clone:"glide__slide--clone",active:"glide__slide--active"},arrow:{disabled:"glide__arrow--disabled"},nav:{active:"glide__bullet--active"}}};function Wx(e){console.error("[Glide warn]: ".concat(e))}function Gx(e){return parseInt(e)}function Kx(e){return"string"==typeof e}function Yx(e){var t=Nx(e);return"function"===t||"object"===t&&!!e}function Xx(e){return"function"==typeof e}function Jx(e){return void 0===e}function Qx(e){return e.constructor===Array}function Zx(e,t,n){Object.defineProperty(e,t,n)}function eC(e,t){var n=Object.assign({},e,t);return t.hasOwnProperty("classes")&&(n.classes=Object.assign({},e.classes,t.classes),["direction","type","slide","arrow","nav"].forEach((function(i){t.classes.hasOwnProperty(i)&&(n.classes[i]=Mx(Mx({},e.classes[i]),t.classes[i]))}))),t.hasOwnProperty("breakpoints")&&(n.breakpoints=Object.assign({},e.breakpoints,t.breakpoints)),n}var tC=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};jx(this,e),this.events=t,this.hop=t.hasOwnProperty}return Bx(e,[{key:"on",value:function(e,t){if(!Qx(e)){this.hop.call(this.events,e)||(this.events[e]=[]);var n=this.events[e].push(t)-1;return{remove:function(){delete this.events[e][n]}}}for(var i=0;i<e.length;i++)this.on(e[i],t)}},{key:"emit",value:function(e,t){if(Qx(e))for(var n=0;n<e.length;n++)this.emit(e[n],t);else this.hop.call(this.events,e)&&this.events[e].forEach((function(e){e(t||{})}))}}]),e}(),nC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};jx(this,e),this._c={},this._t=[],this._e=new tC,this.disabled=!1,this.selector=t,this.settings=eC(zx,n),this.index=this.settings.startAt}return Bx(e,[{key:"mount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._e.emit("mount.before"),Yx(e)?this._c=function(e,t,n){var i={};for(var r in t)Xx(t[r])?i[r]=t[r](e,i,n):Wx("Extension must be a function");for(var o in i)Xx(i[o].mount)&&i[o].mount();return i}(this,e,this._e):Wx("You need to provide a object on `mount()`"),this._e.emit("mount.after"),this}},{key:"mutate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Qx(e)?this._t=e:Wx("You need to provide a array on `mutate()`"),this}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.settings=eC(this.settings,e),e.hasOwnProperty("startAt")&&(this.index=e.startAt),this._e.emit("update"),this}},{key:"go",value:function(e){return this._c.Run.make(e),this}},{key:"move",value:function(e){return this._c.Transition.disable(),this._c.Move.make(e),this}},{key:"destroy",value:function(){return this._e.emit("destroy"),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&(this.settings.autoplay=e),this._e.emit("play"),this}},{key:"pause",value:function(){return this._e.emit("pause"),this}},{key:"disable",value:function(){return this.disabled=!0,this}},{key:"enable",value:function(){return this.disabled=!1,this}},{key:"on",value:function(e,t){return this._e.on(e,t),this}},{key:"isType",value:function(e){return this.settings.type===e}},{key:"settings",get:function(){return this._o},set:function(e){Yx(e)?this._o=e:Wx("Options must be an `object` instance.")}},{key:"index",get:function(){return this._i},set:function(e){this._i=Gx(e)}},{key:"type",get:function(){return this.settings.type}},{key:"disabled",get:function(){return this._d},set:function(e){this._d=!!e}}]),e}();function iC(){return(new Date).getTime()}function rC(e,t){var n,i,r,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=0,l=function(){a=!1===s.leading?0:iC(),n=null,o=e.apply(i,r),n||(i=r=null)},c=function(){var c=iC();a||!1!==s.leading||(a=c);var u=t-(c-a);return i=this,r=arguments,u<=0||u>t?(n&&(clearTimeout(n),n=null),a=c,o=e.apply(i,r),n||(i=r=null)):n||!1===s.trailing||(n=setTimeout(l,u)),o};return c.cancel=function(){clearTimeout(n),a=0,n=i=r=null},c}var oC={ltr:["marginLeft","marginRight"],rtl:["marginRight","marginLeft"]};function sC(e){if(e&&e.parentNode){for(var t=e.parentNode.firstChild,n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}return[]}function aC(e){return Array.prototype.slice.call(e)}var lC=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};jx(this,e),this.listeners=t}return Bx(e,[{key:"on",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Kx(e)&&(e=[e]);for(var r=0;r<e.length;r++)this.listeners[e[r]]=n,t.addEventListener(e[r],this.listeners[e[r]],i)}},{key:"off",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Kx(e)&&(e=[e]);for(var i=0;i<e.length;i++)t.removeEventListener(e[i],this.listeners[e[i]],n)}},{key:"destroy",value:function(){delete this.listeners}}]),e}(),cC=["ltr","rtl"],uC={">":"<","<":">","=":"="};function hC(e,t){return{modify:function(e){return t.Direction.is("rtl")?-e:e}}}function dC(e,t){return{modify:function(e){var n=Math.floor(e/t.Sizes.slideWidth);return e+t.Gaps.value*n}}}function pC(e,t){return{modify:function(e){return e+t.Clones.grow/2}}}function fC(e,t){return{modify:function(n){if(e.settings.focusAt>=0){var i=t.Peek.value;return Yx(i)?n-i.before:n-i}return n}}}function mC(e,t){return{modify:function(n){var i=t.Gaps.value,r=t.Sizes.width,o=e.settings.focusAt,s=t.Sizes.slideWidth;return"center"===o?n-(r/2-s/2):n-s*o-i*o}}}var gC=!1;try{var yC=Object.defineProperty({},"passive",{get:function(){gC=!0}});window.addEventListener("testPassive",null,yC),window.removeEventListener("testPassive",null,yC)}catch(e){}var vC=gC,bC=["touchstart","mousedown"],_C=["touchmove","mousemove"],wC=["touchend","touchcancel","mouseup","mouseleave"],kC=["mousedown","mousemove","mouseup","mouseleave"],SC='[data-glide-el^="controls"]',EC="".concat(SC,' [data-glide-dir*="<"]'),TC="".concat(SC,' [data-glide-dir*=">"]');function xC(e){return Yx(e)?function(e){return Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t[n],t}),{})}(e):(Wx("Breakpoints option must be an object"),{})}var CC={Html:function(e,t,n){var i={mount:function(){this.root=e.selector,this.track=this.root.querySelector('[data-glide-el="track"]'),this.collectSlides()},collectSlides:function(){this.slides=aC(this.wrapper.children).filter((function(t){return!t.classList.contains(e.settings.classes.slide.clone)}))}};return Zx(i,"root",{get:function(){return i._r},set:function(e){Kx(e)&&(e=document.querySelector(e)),null!==e?i._r=e:Wx("Root element must be a existing Html node")}}),Zx(i,"track",{get:function(){return i._t},set:function(e){i._t=e}}),Zx(i,"wrapper",{get:function(){return i.track.children[0]}}),n.on("update",(function(){i.collectSlides()})),i},Translate:function(e,t,n){var i={set:function(n){var i=function(e,t){var n=[dC,pC,fC,mC].concat(e._t,[hC]);return{mutate:function(i){for(var r=0;r<n.length;r++){var o=n[r];Xx(o)&&Xx(o().modify)?i=o(e,t,undefined).modify(i):Wx("Transformer should be a function that returns an object with `modify()` method")}return i}}}(e,t).mutate(n),r="translate3d(".concat(-1*i,"px, 0px, 0px)");t.Html.wrapper.style.mozTransform=r,t.Html.wrapper.style.webkitTransform=r,t.Html.wrapper.style.transform=r},remove:function(){t.Html.wrapper.style.transform=""},getStartIndex:function(){var n=t.Sizes.length,i=e.index,r=e.settings.perView;return t.Run.isOffset(">")||t.Run.isOffset("|>")?n+(i-r):(i+r)%n},getTravelDistance:function(){var n=t.Sizes.slideWidth*e.settings.perView;return t.Run.isOffset(">")||t.Run.isOffset("|>")?-1*n:n}};return n.on("move",(function(r){if(!e.isType("carousel")||!t.Run.isOffset())return i.set(r.movement);t.Transition.after((function(){n.emit("translate.jump"),i.set(t.Sizes.slideWidth*e.index)}));var o=t.Sizes.slideWidth*t.Translate.getStartIndex();return i.set(o-t.Translate.getTravelDistance())})),n.on("destroy",(function(){i.remove()})),i},Transition:function(e,t,n){var i=!1,r={compose:function(t){var n=e.settings;return i?"".concat(t," 0ms ").concat(n.animationTimingFunc):"".concat(t," ").concat(this.duration,"ms ").concat(n.animationTimingFunc)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";t.Html.wrapper.style.transition=this.compose(e)},remove:function(){t.Html.wrapper.style.transition=""},after:function(e){setTimeout((function(){e()}),this.duration)},enable:function(){i=!1,this.set()},disable:function(){i=!0,this.set()}};return Zx(r,"duration",{get:function(){var n=e.settings;return e.isType("slider")&&t.Run.offset?n.rewindDuration:n.animationDuration}}),n.on("move",(function(){r.set()})),n.on(["build.before","resize","translate.jump"],(function(){r.disable()})),n.on("run",(function(){r.enable()})),n.on("destroy",(function(){r.remove()})),r},Direction:function(e,t,n){var i={mount:function(){this.value=e.settings.direction},resolve:function(e){var t=e.slice(0,1);return this.is("rtl")?e.split(t).join(uC[t]):e},is:function(e){return this.value===e},addClass:function(){t.Html.root.classList.add(e.settings.classes.direction[this.value])},removeClass:function(){t.Html.root.classList.remove(e.settings.classes.direction[this.value])}};return Zx(i,"value",{get:function(){return i._v},set:function(e){cC.indexOf(e)>-1?i._v=e:Wx("Direction value must be `ltr` or `rtl`")}}),n.on(["destroy","update"],(function(){i.removeClass()})),n.on("update",(function(){i.mount()})),n.on(["build.before","update"],(function(){i.addClass()})),i},Peek:function(e,t,n){var i={mount:function(){this.value=e.settings.peek}};return Zx(i,"value",{get:function(){return i._v},set:function(e){Yx(e)?(e.before=Gx(e.before),e.after=Gx(e.after)):e=Gx(e),i._v=e}}),Zx(i,"reductor",{get:function(){var t=i.value,n=e.settings.perView;return Yx(t)?t.before/n+t.after/n:2*t/n}}),n.on(["resize","update"],(function(){i.mount()})),i},Sizes:function(e,t,n){var i={setupSlides:function(){for(var e="".concat(this.slideWidth,"px"),n=t.Html.slides,i=0;i<n.length;i++)n[i].style.width=e},setupWrapper:function(){t.Html.wrapper.style.width="".concat(this.wrapperSize,"px")},remove:function(){for(var e=t.Html.slides,n=0;n<e.length;n++)e[n].style.width="";t.Html.wrapper.style.width=""}};return Zx(i,"length",{get:function(){return t.Html.slides.length}}),Zx(i,"width",{get:function(){return t.Html.track.offsetWidth}}),Zx(i,"wrapperSize",{get:function(){return i.slideWidth*i.length+t.Gaps.grow+t.Clones.grow}}),Zx(i,"slideWidth",{get:function(){return i.width/e.settings.perView-t.Peek.reductor-t.Gaps.reductor}}),n.on(["build.before","resize","update"],(function(){i.setupSlides(),i.setupWrapper()})),n.on("destroy",(function(){i.remove()})),i},Gaps:function(e,t,n){var i={apply:function(e){for(var n=0,i=e.length;n<i;n++){var r=e[n].style,o=t.Direction.value;r[oC[o][0]]=0!==n?"".concat(this.value/2,"px"):"",n!==e.length-1?r[oC[o][1]]="".concat(this.value/2,"px"):r[oC[o][1]]=""}},remove:function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t].style;i.marginLeft="",i.marginRight=""}}};return Zx(i,"value",{get:function(){return Gx(e.settings.gap)}}),Zx(i,"grow",{get:function(){return i.value*t.Sizes.length}}),Zx(i,"reductor",{get:function(){var t=e.settings.perView;return i.value*(t-1)/t}}),n.on(["build.after","update"],rC((function(){i.apply(t.Html.wrapper.children)}),30)),n.on("destroy",(function(){i.remove(t.Html.wrapper.children)})),i},Move:function(e,t,n){var i={mount:function(){this._o=0},make:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=i,n.emit("move",{movement:this.value}),t.Transition.after((function(){n.emit("move.after",{movement:e.value})}))}};return Zx(i,"offset",{get:function(){return i._o},set:function(e){i._o=Jx(e)?0:Gx(e)}}),Zx(i,"translate",{get:function(){return t.Sizes.slideWidth*e.index}}),Zx(i,"value",{get:function(){var e=this.offset,n=this.translate;return t.Direction.is("rtl")?n+e:n-e}}),n.on(["build.before","run"],(function(){i.make()})),i},Clones:function(e,t,n){var i={mount:function(){this.items=[],e.isType("carousel")&&(this.items=this.collect())},collect:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=t.Html.slides,r=e.settings,o=r.perView,s=r.classes,a=r.cloningRatio;if(i.length>0)for(var l=o+ +!!e.settings.peek+Math.round(o/2),c=i.slice(0,l).reverse(),u=i.slice(-1*l),h=0;h<Math.max(a,Math.floor(o/i.length));h++){for(var d=0;d<c.length;d++){var p=c[d].cloneNode(!0);p.classList.add(s.slide.clone),n.push(p)}for(var f=0;f<u.length;f++){var m=u[f].cloneNode(!0);m.classList.add(s.slide.clone),n.unshift(m)}}return n},append:function(){for(var e=this.items,n=t.Html,i=n.wrapper,r=n.slides,o=Math.floor(e.length/2),s=e.slice(0,o).reverse(),a=e.slice(-1*o).reverse(),l="".concat(t.Sizes.slideWidth,"px"),c=0;c<a.length;c++)i.appendChild(a[c]);for(var u=0;u<s.length;u++)i.insertBefore(s[u],r[0]);for(var h=0;h<e.length;h++)e[h].style.width=l},remove:function(){for(var e=this.items,n=0;n<e.length;n++)t.Html.wrapper.removeChild(e[n])}};return Zx(i,"grow",{get:function(){return(t.Sizes.slideWidth+t.Gaps.value)*i.items.length}}),n.on("update",(function(){i.remove(),i.mount(),i.append()})),n.on("build.before",(function(){e.isType("carousel")&&i.append()})),n.on("destroy",(function(){i.remove()})),i},Resize:function(e,t,n){var i=new lC,r={mount:function(){this.bind()},bind:function(){i.on("resize",window,rC((function(){n.emit("resize")}),e.settings.throttle))},unbind:function(){i.off("resize",window)}};return n.on("destroy",(function(){r.unbind(),i.destroy()})),r},Build:function(e,t,n){var i={mount:function(){n.emit("build.before"),this.typeClass(),this.activeClass(),n.emit("build.after")},typeClass:function(){t.Html.root.classList.add(e.settings.classes.type[e.settings.type])},activeClass:function(){var n=e.settings.classes,i=t.Html.slides[e.index];i&&(i.classList.add(n.slide.active),sC(i).forEach((function(e){e.classList.remove(n.slide.active)})))},removeClasses:function(){var n=e.settings.classes,i=n.type,r=n.slide;t.Html.root.classList.remove(i[e.settings.type]),t.Html.slides.forEach((function(e){e.classList.remove(r.active)}))}};return n.on(["destroy","update"],(function(){i.removeClasses()})),n.on(["resize","update"],(function(){i.mount()})),n.on("move.after",(function(){i.activeClass()})),i},Run:function(e,t,n){var i={mount:function(){this._o=!1},make:function(i){var r=this;e.disabled||(!e.settings.waitForTransition||e.disable(),this.move=i,n.emit("run.before",this.move),this.calculate(),n.emit("run",this.move),t.Transition.after((function(){r.isStart()&&n.emit("run.start",r.move),r.isEnd()&&n.emit("run.end",r.move),r.isOffset()&&(r._o=!1,n.emit("run.offset",r.move)),n.emit("run.after",r.move),e.enable()})))},calculate:function(){var t=this.move,n=this.length,r=t.steps,o=t.direction,s=1;if("="===o)return e.settings.bound&&Gx(r)>n?void(e.index=n):void(e.index=r);if(">"!==o||">"!==r)if("<"!==o||"<"!==r){if("|"===o&&(s=e.settings.perView||1),">"===o||"|"===o&&">"===r){var a=function(t){var n=e.index;return e.isType("carousel")?n+t:n+(t-n%t)}(s);return a>n&&(this._o=!0),void(e.index=function(t,n){var r=i.length;return t<=r?t:e.isType("carousel")?t-(r+1):e.settings.rewind?i.isBound()&&!i.isEnd()?r:0:i.isBound()?r:Math.floor(r/n)*n}(a,s))}if("<"===o||"|"===o&&"<"===r){var l=function(t){var n=e.index;return e.isType("carousel")?n-t:(Math.ceil(n/t)-1)*t}(s);return l<0&&(this._o=!0),void(e.index=function(t,n){var r=i.length;return t>=0?t:e.isType("carousel")?t+(r+1):e.settings.rewind?i.isBound()&&i.isStart()?r:Math.floor(r/n)*n:0}(l,s))}Wx("Invalid direction pattern [".concat(o).concat(r,"] has been used"))}else e.index=0;else e.index=n},isStart:function(){return e.index<=0},isEnd:function(){return e.index>=this.length},isOffset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e?!!this._o&&("|>"===e?"|"===this.move.direction&&">"===this.move.steps:"|<"===e?"|"===this.move.direction&&"<"===this.move.steps:this.move.direction===e):this._o},isBound:function(){return e.isType("slider")&&"center"!==e.settings.focusAt&&e.settings.bound}};return Zx(i,"move",{get:function(){return this._m},set:function(e){var t=e.substr(1);this._m={direction:e.substr(0,1),steps:t?Gx(t)?Gx(t):t:0}}}),Zx(i,"length",{get:function(){var n=e.settings,i=t.Html.slides.length;return this.isBound()?i-1-(Gx(n.perView)-1)+Gx(n.focusAt):i-1}}),Zx(i,"offset",{get:function(){return this._o}}),i},Swipe:function(e,t,n){var i=new lC,r=0,o=0,s=0,a=!1,l=!!vC&&{passive:!0},c={mount:function(){this.bindSwipeStart()},start:function(t){if(!a&&!e.disabled){this.disable();var i=this.touches(t);r=null,o=Gx(i.pageX),s=Gx(i.pageY),this.bindSwipeMove(),this.bindSwipeEnd(),n.emit("swipe.start")}},move:function(i){if(!e.disabled){var a=e.settings,l=a.touchAngle,c=a.touchRatio,u=a.classes,h=this.touches(i),d=Gx(h.pageX)-o,p=Gx(h.pageY)-s,f=Math.abs(d<<2),m=Math.abs(p<<2),g=Math.sqrt(f+m),y=Math.sqrt(m);if(!(180*(r=Math.asin(y/g))/Math.PI<l))return!1;i.stopPropagation(),t.Move.make(d*parseFloat(c)),t.Html.root.classList.add(u.dragging),n.emit("swipe.move")}},end:function(i){if(!e.disabled){var s=e.settings,a=s.perSwipe,l=s.touchAngle,c=s.classes,u=this.touches(i),h=this.threshold(i),d=u.pageX-o,p=180*r/Math.PI;this.enable(),d>h&&p<l?t.Run.make(t.Direction.resolve("".concat(a,"<"))):d<-h&&p<l?t.Run.make(t.Direction.resolve("".concat(a,">"))):t.Move.make(),t.Html.root.classList.remove(c.dragging),this.unbindSwipeMove(),this.unbindSwipeEnd(),n.emit("swipe.end")}},bindSwipeStart:function(){var n=this,r=e.settings,o=r.swipeThreshold,s=r.dragThreshold;o&&i.on(bC[0],t.Html.wrapper,(function(e){n.start(e)}),l),s&&i.on(bC[1],t.Html.wrapper,(function(e){n.start(e)}),l)},unbindSwipeStart:function(){i.off(bC[0],t.Html.wrapper,l),i.off(bC[1],t.Html.wrapper,l)},bindSwipeMove:function(){var n=this;i.on(_C,t.Html.wrapper,rC((function(e){n.move(e)}),e.settings.throttle),l)},unbindSwipeMove:function(){i.off(_C,t.Html.wrapper,l)},bindSwipeEnd:function(){var e=this;i.on(wC,t.Html.wrapper,(function(t){e.end(t)}))},unbindSwipeEnd:function(){i.off(wC,t.Html.wrapper)},touches:function(e){return kC.indexOf(e.type)>-1?e:e.touches[0]||e.changedTouches[0]},threshold:function(t){var n=e.settings;return kC.indexOf(t.type)>-1?n.dragThreshold:n.swipeThreshold},enable:function(){return a=!1,t.Transition.enable(),this},disable:function(){return a=!0,t.Transition.disable(),this}};return n.on("build.after",(function(){t.Html.root.classList.add(e.settings.classes.swipeable)})),n.on("destroy",(function(){c.unbindSwipeStart(),c.unbindSwipeMove(),c.unbindSwipeEnd(),i.destroy()})),c},Images:function(e,t,n){var i=new lC,r={mount:function(){this.bind()},bind:function(){i.on("dragstart",t.Html.wrapper,this.dragstart)},unbind:function(){i.off("dragstart",t.Html.wrapper)},dragstart:function(e){e.preventDefault()}};return n.on("destroy",(function(){r.unbind(),i.destroy()})),r},Anchors:function(e,t,n){var i=new lC,r=!1,o=!1,s={mount:function(){this._a=t.Html.wrapper.querySelectorAll("a"),this.bind()},bind:function(){i.on("click",t.Html.wrapper,this.click)},unbind:function(){i.off("click",t.Html.wrapper)},click:function(e){o&&(e.stopPropagation(),e.preventDefault())},detach:function(){if(o=!0,!r){for(var e=0;e<this.items.length;e++)this.items[e].draggable=!1;r=!0}return this},attach:function(){if(o=!1,r){for(var e=0;e<this.items.length;e++)this.items[e].draggable=!0;r=!1}return this}};return Zx(s,"items",{get:function(){return s._a}}),n.on("swipe.move",(function(){s.detach()})),n.on("swipe.end",(function(){t.Transition.after((function(){s.attach()}))})),n.on("destroy",(function(){s.attach(),s.unbind(),i.destroy()})),s},Controls:function(e,t,n){var i=new lC,r=!!vC&&{passive:!0},o={mount:function(){this._n=t.Html.root.querySelectorAll('[data-glide-el="controls[nav]"]'),this._c=t.Html.root.querySelectorAll(SC),this._arrowControls={previous:t.Html.root.querySelectorAll(EC),next:t.Html.root.querySelectorAll(TC)},this.addBindings()},setActive:function(){for(var e=0;e<this._n.length;e++)this.addClass(this._n[e].children)},removeActive:function(){for(var e=0;e<this._n.length;e++)this.removeClass(this._n[e].children)},addClass:function(t){var n=e.settings,i=t[e.index];i&&(i.classList.add(n.classes.nav.active),sC(i).forEach((function(e){e.classList.remove(n.classes.nav.active)})))},removeClass:function(t){var n=t[e.index];null==n||n.classList.remove(e.settings.classes.nav.active)},setArrowState:function(){if(!e.settings.rewind){var n=o._arrowControls.next,i=o._arrowControls.previous;this.resetArrowState(n,i),0===e.index&&this.disableArrow(i),e.index===t.Run.length&&this.disableArrow(n)}},resetArrowState:function(){for(var t=e.settings,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i.forEach((function(e){aC(e).forEach((function(e){e.classList.remove(t.classes.arrow.disabled)}))}))},disableArrow:function(){for(var t=e.settings,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i.forEach((function(e){aC(e).forEach((function(e){e.classList.add(t.classes.arrow.disabled)}))}))},addBindings:function(){for(var e=0;e<this._c.length;e++)this.bind(this._c[e].children)},removeBindings:function(){for(var e=0;e<this._c.length;e++)this.unbind(this._c[e].children)},bind:function(e){for(var t=0;t<e.length;t++)i.on("click",e[t],this.click),i.on("touchstart",e[t],this.click,r)},unbind:function(e){for(var t=0;t<e.length;t++)i.off(["click","touchstart"],e[t])},click:function(e){vC||"touchstart"!==e.type||e.preventDefault();var n=e.currentTarget.getAttribute("data-glide-dir");t.Run.make(t.Direction.resolve(n))}};return Zx(o,"items",{get:function(){return o._c}}),n.on(["mount.after","move.after"],(function(){o.setActive()})),n.on(["mount.after","run"],(function(){o.setArrowState()})),n.on("destroy",(function(){o.removeBindings(),o.removeActive(),i.destroy()})),o},Keyboard:function(e,t,n){var i=new lC,r={mount:function(){e.settings.keyboard&&this.bind()},bind:function(){i.on("keyup",document,this.press)},unbind:function(){i.off("keyup",document)},press:function(n){var i=e.settings.perSwipe;["ArrowRight","ArrowLeft"].includes(n.code)&&t.Run.make(t.Direction.resolve("".concat(i).concat({ArrowRight:">",ArrowLeft:"<"}[n.code])))}};return n.on(["destroy","update"],(function(){r.unbind()})),n.on("update",(function(){r.mount()})),n.on("destroy",(function(){i.destroy()})),r},Autoplay:function(e,t,n){var i=new lC,r={mount:function(){this.enable(),this.start(),e.settings.hoverpause&&this.bind()},enable:function(){this._e=!0},disable:function(){this._e=!1},start:function(){var i=this;this._e&&(this.enable(),e.settings.autoplay&&Jx(this._i)&&(this._i=setInterval((function(){i.stop(),t.Run.make(">"),i.start(),n.emit("autoplay")}),this.time)))},stop:function(){this._i=clearInterval(this._i)},bind:function(){var e=this;i.on("mouseover",t.Html.root,(function(){e._e&&e.stop()})),i.on("mouseout",t.Html.root,(function(){e._e&&e.start()}))},unbind:function(){i.off(["mouseover","mouseout"],t.Html.root)}};return Zx(r,"time",{get:function(){return Gx(t.Html.slides[e.index].getAttribute("data-glide-autoplay")||e.settings.autoplay)}}),n.on(["destroy","update"],(function(){r.unbind()})),n.on(["run.before","swipe.start","update"],(function(){r.stop()})),n.on(["pause","destroy"],(function(){r.disable(),r.stop()})),n.on(["run.after","swipe.end"],(function(){r.start()})),n.on(["play"],(function(){r.enable(),r.start()})),n.on("update",(function(){r.mount()})),n.on("destroy",(function(){i.destroy()})),r},Breakpoints:function(e,t,n){var i=new lC,r=e.settings,o=xC(r.breakpoints),s=Object.assign({},r),a={match:function(e){if(void 0!==window.matchMedia)for(var t in e)if(e.hasOwnProperty(t)&&window.matchMedia("(max-width: ".concat(t,"px)")).matches)return e[t];return s}};return Object.assign(r,a.match(o)),i.on("resize",window,rC((function(){e.settings=eC(r,a.match(o))}),e.settings.throttle)),n.on("update",(function(){o=xC(o),s=Object.assign({},r)})),n.on("destroy",(function(){i.off("resize",window)})),a}},PC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vx(e,t)}(n,e);var t=Hx(n);function n(){return jx(this,n),t.apply(this,arguments)}return Bx(n,[{key:"mount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $x(qx(n.prototype),"mount",this).call(this,Object.assign({},CC,e))}}]),n}(nC);function AC(e){return AC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AC(e)}function OC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,IC(i.key),i)}}function IC(e){var t=function(e){if("object"!=AC(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=AC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==AC(t)?t:t+""}var LC=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.carousel=t,this.stateChangeCallbacks=[],this.isAutoplayRunning=!1,this.carousel&&this.setupStateListeners()},(t=[{key:"setupStateListeners",value:function(){var e=this;this.carousel.settings.autoplay&&(this.isAutoplayRunning=!0,this.carousel.on("swipe.start",(function(){e.isAutoplayRunning&&(e.isAutoplayRunning=!1,e.notifyStateChange())})),this.carousel.on("run.after",(function(){e.notifyStateChange()})))}},{key:"onStateChange",value:function(e){"function"==typeof e&&(this.stateChangeCallbacks.push(e),e(this.isPlaying()))}},{key:"notifyStateChange",value:function(){var e=this.isPlaying();this.stateChangeCallbacks.forEach((function(t){t(e)}))}},{key:"play",value:function(){var e=this;this.carousel&&this.carousel.settings.autoplay&&("function"==typeof this.carousel.play?this.carousel.play():(this.carousel.settings.autoplay=!0,this.carousel._o.autoplay=!0,this.carousel._a||(this.carousel._a=setInterval((function(){e.carousel.go(">")}),this.carousel.settings.autoplay))),this.isAutoplayRunning=!0,this.notifyStateChange())}},{key:"pause",value:function(){this.carousel&&this.carousel.settings.autoplay&&("function"==typeof this.carousel.pause?this.carousel.pause():(clearInterval(this.carousel._a),this.carousel._a=null),this.isAutoplayRunning=!1,this.notifyStateChange())}},{key:"next",value:function(){this.carousel&&this.carousel.go(">")}},{key:"previous",value:function(){this.carousel&&this.carousel.go("<")}},{key:"isPlaying",value:function(){return!!this.carousel&&this.isAutoplayRunning}}])&&OC(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function DC(e){return DC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DC(e)}function RC(e){return function(e){if(Array.isArray(e))return MC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return MC(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MC(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function NC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,jC(i.key),i)}}function jC(e){var t=function(e){if("object"!=DC(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=DC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==DC(t)?t:t+""}function FC(e,t,n){return t=UC(t),function(e,t){if(t&&("object"==DC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,BC()?Reflect.construct(t,n||[],UC(e).constructor):t.apply(e,n))}function BC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(BC=function(){return!!e})()}function UC(e){return UC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},UC(e)}function qC(e,t){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qC(e,t)}var VC=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),FC(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qC(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){this.glide=this.querySelector(".glide"),this.slides=this.querySelectorAll(".glide__slide"),this.options={type:"carousel",animationDuration:500,autoplay:3e3,startAt:1,focusAt:1,perView:4,gap:0,breakpoints:{768:{focusAt:"center",perView:1,gap:0,peek:{before:130,after:130}},450:{autoplay:6e3,focusAt:"center",perView:1,gap:0,peek:{before:60,after:60}},449:{autoplay:6e3,focusAt:"center",gap:0,perView:1,peek:0}}},this.slides.length>1&&this.initGlide()}},{key:"initGlide",value:function(){var e=this;this.glideCarousel=new PC(this.glide,this.options),this.glideCarousel.mount(),this.glide.querySelectorAll(".glide__slide").forEach((function(t){t.addEventListener("click",(function(n){var i=parseInt(t.dataset.slideNum)-1,r=t.className.includes("clone");i!==e.glideCarousel._i&&(r&&0===e.glideCarousel._i&&i>e.glideCarousel._i?e.glideCarousel.go("<"):r&&e.glideCarousel._i===e.slides.length-2&&i<e.glideCarousel._i?e.glideCarousel.go("="+parseInt(e.glideCarousel._i+1)):r&&e.glideCarousel._i===e.slides.length-1&&i<e.glideCarousel._i?e.glideCarousel.go(">"):e.glideCarousel.go("="+i))}))})),this.glideCarousel.on("mount.after",(function(){e.adjustHeights()})),this.glideCarousel.on("resize",(function(){e.adjustHeights()})),setTimeout((function(){e.resize()}),300),this.initCarouselControls()}},{key:"getControllerAdapter",value:function(){return!this._controllerAdapter&&this.glideCarousel&&(this._controllerAdapter=new LC(this.glideCarousel)),this._controllerAdapter}},{key:"initCarouselControls",value:function(){var e=this.querySelector("carousel-controls");if(e&&"function"==typeof e.setControllerAdapter){var t=this.getControllerAdapter();e.setControllerAdapter(t)}}},{key:"resize",value:function(){"function"==typeof Event&&window.dispatchEvent(new Event("resize"))}},{key:"adjustHeights",value:function(){this.imageContainers=this.glide.querySelectorAll(".highlighted-experts-list__profile");var e=RC(this.imageContainers).map((function(e){return e.children[0].offsetHeight}));e=Math.max.apply(Math,RC(e)),this.glide.style.setProperty("--maxImgHeight",e+"px")}}])&&NC(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}(),HC=__webpack_require__(8764);function $C(e){return $C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$C(e)}function zC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,KC(i.key),i)}}function GC(e,t,n){return t&&WC(e.prototype,t),n&&WC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KC(e){var t=function(e){if("object"!=$C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$C(t)?t:t+""}function YC(e,t,n){return t=JC(t),function(e,t){if(t&&("object"==$C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,XC()?Reflect.construct(t,n||[],JC(e).constructor):t.apply(e,n))}function XC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(XC=function(){return!!e})()}function JC(e){return JC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JC(e)}function QC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZC(e,t)}function ZC(e,t){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ZC(e,t)}window.VIDEOJS_NO_DYNAMIC_STYLE=!1;var eP=function(){function e(){return zC(this,e),YC(this,e,arguments)}return QC(e,window.HTMLElement),GC(e,[{key:"connectedCallback",value:function(){}},{key:"getVideoElement",value:function(e){return e.querySelector(".VideoBaseTemplate").content.cloneNode(!0).querySelector("video")}},{key:"mountCookieNotice",value:function(){var e=this.querySelector(".GDPRFixesMountPoint"),t=this.querySelector(".video-youtube-cookie-template").content.cloneNode(!0);t.querySelector("button").addEventListener("click",(function(){window.truste.eu.clickListener()})),e.appendChild(t)}},{key:"mountVideo",value:function(e,t){var n=e.querySelector(".VideoBaseMountPoint");n.innerHTML="",n.appendChild(t)}},{key:"createResponsivePoster",value:function(e,t){var n=function(n){function i(e,t){var n;return zC(this,i),(n=YC(this,i,[e,t])).on("click",n.handleClick),n}return QC(i,n),GC(i,[{key:"createEl",value:function(){var e=t.querySelector(".VideoBaseTemplate").content.querySelector(".responsivePoster").content.cloneNode(!0),n=HC.default.dom.createEl("div",{className:"vjs-poster"});return n.appendChild(e),n}},{key:"handleClick",value:function(t){e.play()}}])}(HC.default.getComponent("Component"));HC.default.registerComponent("ResponsivePoster",n),e.removeChild("PosterImage"),e.addChild(new n(e))}},{key:"createOverlay",value:function(e,t){var n=t.content.cloneNode(!0),i=n.querySelector(".duration-display");i&&(i.innerHTML=i.innerText);var r=function(t){function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return zC(this,i),(t=YC(this,i,[e,n])).on("click",t.handleClick),t.player().on("pause",(function(){t.el().style.opacity=1})),t.player().on("play",(function(){t.el().style.opacity=0})),t}return QC(i,t),GC(i,[{key:"createEl",value:function(){return HC.default.dom.createEl("div",{className:"VideoBaseContentOverlay",innerHTML:n.children[0].innerHTML})}},{key:"handleClick",value:function(t){e.paused()?e.play():e.pause()}}])}(HC.default.getComponent("Component"));return r}},{key:"buildVideoPlayer",value:function(e,t){var n=this;this.hasAttribute("data-modal")?window.matchMedia("(max-width: 767px)").matches?this.usesFullscreen=!0:this.usesFullscreen=!1:this.usesFullscreen=!0;var i={duration:e.dataset.videoDuration,title:e.dataset.videoTitle,section:e.dataset.videoSection,speaker:e.dataset.videoSpeaker},r=(0,HC.default)(e,{fluid:!0,techOrder:[t],controlBar:{seekToLive:!1,pictureInPictureToggle:!1,fullscreenToggle:this.usesFullscreen},userActions:{doubleClick:this.usesFullscreen},sources:[{type:"youtube"===t?"video/youtube":"video/mp4",src:e.querySelector("source").getAttribute("src")}],youtube:{fs:this.usesFullscreen,cc_load_policy:0,ytControls:1,iv_load_policy:3,playsinline:!document.querySelector("html").classList.contains("isMobile"),modestbranding:1}});return window.addEventListener("deepmode-video-pause",(function(){n.pauseOnDeepmode()})),r.on("ready",(function(){var e=r.getChild("bigPlayButton").el();e&&(e.querySelector(".vjs-icon-placeholder").innerHTML='<svg><use href="#play" /></svg>')})),r.on("pause",(function(){r.currentTime()!==r.duration()&&window.dispatchEvent((0,NE.t3)("adobe.video.pause"))})),r.on("play",(function(){n.pauseOtherVideos(r),window.dispatchEvent((0,NE.t3)("adobe.video.start",{context:r,options:i})),Math.round(r.currentTime())<=5&&window.dispatchEvent((0,NE.t3)("adobe.setupMilestones",{context:r,options:i}))})),r.on("loadedmetadata",(function(){i.duration=e.dataset.videoDuration?e.dataset.videoDuration:r.duration()})),this.createResponsivePoster(r,this),r}},{key:"renderCMSDuration",value:function(){}},{key:"buildDurationDisplay",value:function(e){var t=HC.default.getComponent("Component"),n=this.video,i=function(t){function i(e){var t;return zC(this,i),t=YC(this,i,[e]),e.on("loadedmetadata",(function(){t.updateDuration()})),t}return QC(i,t),GC(i,[{key:"updateDuration",value:function(){var t=this,i=n.dataset.videoDuration?n.dataset.videoDuration:this.player_.duration(),r=Math.floor(i/60),o=Math.floor(i%60),s="".concat(r,":").concat(o<10?"0":"").concat(o);this.contentEl().innerHTML=s,e.on("play",(function(){t.hide()}))}},{key:"createEl",value:function(){return HC.default.dom.createEl("div",{className:"duration-display"})}}])}(t);return i}},{key:"getAllTheVideos",value:function(){return document.querySelectorAll(".VideoBase:not(video-playlist-item)")}},{key:"pauseOnDeepmode",value:function(){var e=this.getAllTheVideos();Array.from(e).forEach((function(e){e.player.paused()||e.player.pause()}))}},{key:"pauseOtherVideos",value:function(e){var t=this.getAllTheVideos();Array.from(t).forEach((function(t){t.player&&t.player.id_!==e.id_&&t.player.pause()}))}}])}();function tP(e){return tP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tP(e)}function nP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,iP(i.key),i)}}function iP(e){var t=function(e){if("object"!=tP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=tP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==tP(t)?t:t+""}function rP(e,t,n){return t=sP(t),function(e,t){if(t&&("object"==tP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oP()?Reflect.construct(t,n||[],sP(e).constructor):t.apply(e,n))}function oP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oP=function(){return!!e})()}function sP(e){return sP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sP(e)}function aP(e,t){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aP(e,t)}var lP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rP(this,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aP(e,t)}(t,e),n=t,i=[{key:"connectedCallback",value:function(){this.debugIndex=this.dataset.debugIndex,this.isPlaylistItem=!!this.dataset.isPlaylistItem&&JSON.parse(this.dataset.isPlaylistItem),this.videoJSPlayNow=!!this.dataset.videoJSPlayNow&&JSON.parse(this.dataset.videoJSPlayNow),this.isPlaylistItem||this.renderVideo(this.videoJSPlayNow,this.isPlaylistItem)}},{key:"renderVideo",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(this.video=this.getVideoElement(this),this.mountVideo(this,this.video),this.player=this.buildVideoPlayer(this.video,"html5"),this.player.ready((function(){t&&window.setTimeout((function(){e.player.play()}),250),e.overlayTemplate=e.querySelector(".VideoBaseOverlayTemplate"),window.dispatchEvent((0,NE.t3)("videoPlayerCreated",{context:e.player})),e.overlayTemplate&&(HC.default.registerComponent("Overlay",e.createOverlay(e.player,e.overlayTemplate)),e.player.addChild("Overlay"))})))}}],i&&nP(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(eP);function cP(e){return cP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cP(e)}function uP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function hP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,dP(i.key),i)}}function dP(e){var t=function(e){if("object"!=cP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=cP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==cP(t)?t:t+""}var pP=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pageHeader=document.querySelector(".Page-header"),this.pageHeader&&(this.leftMenu=this.pageHeader.querySelector(".Page-headerMenuLeft"),this.rightMenu=this.pageHeader.querySelector(".Page-headerMenuRight"),this.topBar=this.pageHeader.querySelector(".Page-topBar"),this.interstitialNav=this.pageHeader.querySelector(".interstitial-nav"),this.interstitialNavScroller=this.pageHeader.querySelector(".interstitial-nav > .wrapper"),this.checkHeaderItems(),this.highlightCurrentNavItem(),this.initScrollInterstitialNav(),this.getScrollbarWidth(),this.checkPageScrolling())},(t=[{key:"checkHeaderItems",value:function(){var e=this;this.pageHeader.querySelector("page-bookmark")&&this.pageHeader.setAttribute("data-uses-bookmarking","");var t=this.pageHeader.querySelector(".subscription-widget__show-button");t&&(t.classList.contains("subscription-widget__show-button--hide")||this.pageHeader.setAttribute("data-uses-subscribing",""),new MutationObserver((function(t){var n,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return uP(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uP(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;"class"===r.attributeName&&(r.target.classList.contains("subscription-widget__show-button--hide")?e.pageHeader.removeAttribute("data-uses-subscribing"):e.pageHeader.setAttribute("data-uses-subscribing",""))}}catch(e){i.e(e)}finally{i.f()}})).observe(t,{attributes:!0})),this.pageHeader.querySelector(".login-container.logged-in")&&this.pageHeader.setAttribute("data-user-logged-in","")}},{key:"highlightCurrentNavItem",value:function(){var e=document.querySelector(".interstitial-nav .interstitial-top-level-list");if(e){var t=Array.from(e.querySelectorAll("li")),n=window.location.pathname;e.querySelector(".active")||t&&t.forEach((function(e){var t,i;t=e.querySelector(".menu-item"),i=new URL(t.href).pathname,t&&i.toLowerCase()===n.toLowerCase()?e.classList.add("active"):e.classList.remove("active")}))}}},{key:"initScrollInterstitialNav",value:function(){var e=this;this.interstitialNav&&(this.titleContent=this.topBar.querySelector(".title-content"),this.titleContentWidth=0,this.titleContent&&(this.titleContentWidth=this.titleContent.offsetWidth),this.resizeHandlerForScrollInterstitialNav(),window.addEventListener("resize",(0,sx.P)(350,(function(){e.resizeHandlerForScrollInterstitialNav()}))),window.addEventListener("load",(function(){e.resizeHandlerForScrollInterstitialNav()})))}},{key:"resizeHandlerForScrollInterstitialNav",value:function(){var e=window.innerWidth,t=this.leftMenu.offsetWidth,n=this.rightMenu.offsetWidth;this.interstitialNavScroller.scrollWidth>this.interstitialNavScroller.offsetWidth?this.interstitialNav.classList.add("scrollable"):this.interstitialNav.classList.remove("scrollable"),this.interstitialNavScroller.style.setProperty("--nav-scroller-desktop-width","".concat(e-t-n-this.titleContentWidth-20,"px")),this.interstitialNavScroller.style.setProperty("--nav-scroller-tablet-width","".concat(e-this.titleContentWidth-20,"px")),this.interstitialNavScroller.style.setProperty("--nav-scroller-mobile-width","".concat(e-40,"px"));var i=this.interstitialNav.querySelector(".active");i&&(this.interstitialNavScroller.scrollLeft=i.offsetLeft)}},{key:"getScrollbarWidth",value:function(){var e=this,t=function(){var t=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar";var t=document.createElement("div");t.style.height="1000px",e.appendChild(t),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),n}();e.pageHeader.style.setProperty("--scrollbar-width","".concat(t,"px"))};t(),window.addEventListener("resize",(0,sx.P)(350,(function(){t()})))}},{key:"checkPageScrolling",value:function(){var e=this,t=0;window.addEventListener("scroll",(0,sx.P)(350,(function(){var n=window.scrollY;document.body.getBoundingClientRect().top>t?(e.pageHeader.setAttribute("data-scroll-direction","up"),e.scrollDir="up"):(e.pageHeader.setAttribute("data-scroll-direction","down"),e.scrollDir="down"),t=document.body.getBoundingClientRect().top,n>0?n>120&&"down"===e.scrollDir?e.pageHeader.setAttribute("data-scroll","past-header"):e.pageHeader.setAttribute("data-scroll",""):e.pageHeader.removeAttribute("data-scroll")})))}}])&&hP(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function fP(e){return fP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fP(e)}function mP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,gP(i.key),i)}}function gP(e){var t=function(e){if("object"!=fP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=fP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fP(t)?t:t+""}function yP(e){var t="function"==typeof Map?new Map:void 0;return yP=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(vP())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(e.bind.apply(e,i));return n&&bP(r,n.prototype),r}(e,arguments,_P(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),bP(n,e)},yP(e)}function vP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vP=function(){return!!e})()}function bP(e,t){return bP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bP(e,t)}function _P(e){return _P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_P(e)}var wP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=_P(t),function(e,t){if(t&&("object"==fP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vP()?Reflect.construct(t,n||[],_P(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bP(e,t)}(t,e),n=t,i=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){var e=this;this.expandBtn=this.querySelector(".collapsible-content__expand a"),this.details=this.querySelectorAll("details"),this.collapsibleContainer=this,this.expandBtn&&this.expandBtn.addEventListener("click",(function(t){e.setupExpandBtn(t)})),window.matchMedia("print").matches&&this.forceExpandAllForPrint(),window.matchMedia("print").addEventListener("change",(function(t){e.handlePrint(t)}))}},{key:"setupExpandBtn",value:function(e){var t=this;"false"===this.collapsibleContainer.getAttribute("data-all-open")?this.details.forEach((function(e){t.collapsibleContainer.setAttribute("data-all-open","true"),e.getAttribute("open")||e.setAttribute("open","true"),t.expandBtn.textContent=t.expandBtn.dataset.collapse})):this.details.forEach((function(e){t.collapsibleContainer.setAttribute("data-all-open","false"),e.getAttribute("open")&&e.removeAttribute("open"),t.expandBtn.textContent=t.expandBtn.dataset.expand}))}},{key:"forceExpandAllForPrint",value:function(){this.details.forEach((function(e){e.getAttribute("open")||(e.setAttribute("open","true"),e.setAttribute("wasclosed","true"))}))}},{key:"handlePrint",value:function(e){e.matches?this.forceExpandAllForPrint():this.details.forEach((function(e){e.getAttribute("wasclosed")&&(e.removeAttribute("open"),e.removeAttribute("wasclosed"))}))}}],i&&mP(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(yP(HTMLElement));function kP(e){return kP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kP(e)}function SP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,EP(i.key),i)}}function EP(e){var t=function(e){if("object"!=kP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=kP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kP(t)?t:t+""}function TP(e){var t="function"==typeof Map?new Map:void 0;return TP=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(xP())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(e.bind.apply(e,i));return n&&CP(r,n.prototype),r}(e,arguments,PP(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),CP(n,e)},TP(e)}function xP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xP=function(){return!!e})()}function CP(e,t){return CP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CP(e,t)}function PP(e){return PP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PP(e)}var AP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=PP(t),function(e,t){if(t&&("object"==kP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xP()?Reflect.construct(t,n||[],PP(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CP(e,t)}(t,e),n=t,(i=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){var e=this;this.TabsSelectEl=this.querySelector("select"),this.Tabs=this.querySelectorAll(".tabs-item"),this.TabsSelectEl.addEventListener("change",(function(){e.Tabs.forEach((function(t){t.id===e.TabsSelectEl.value?t.removeAttribute("hidden"):t.setAttribute("hidden","")}))}))}}])&&SP(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(TP(HTMLElement));function OP(e){return OP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OP(e)}function IP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,LP(i.key),i)}}function LP(e){var t=function(e){if("object"!=OP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=OP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==OP(t)?t:t+""}function DP(e){var t="function"==typeof Map?new Map:void 0;return DP=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(RP())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(e.bind.apply(e,i));return n&&MP(r,n.prototype),r}(e,arguments,NP(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),MP(n,e)},DP(e)}function RP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(RP=function(){return!!e})()}function MP(e,t){return MP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},MP(e,t)}function NP(e){return NP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NP(e)}var jP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=NP(t),function(e,t){if(t&&("object"==OP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,RP()?Reflect.construct(t,n||[],NP(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MP(e,t)}(t,e),n=t,i=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){var e=this.querySelector("select"),t=this.querySelectorAll(".tabs-item"),n=this.querySelectorAll(".menu-item");e&&e.addEventListener("change",(function(){t.forEach((function(t){t.hidden=t.id!==e.value})),n.forEach((function(t){var n=t.getAttribute("href").replace("#","");t.parentElement.classList.toggle("active",n===e.value)}))})),n.forEach((function(i){i.addEventListener("click",(function(r){r.preventDefault();var o=i.getAttribute("href").replace("#","");t.forEach((function(e){e.hidden=e.id!==o})),n.forEach((function(e){return e.parentElement.classList.remove("active")})),i.parentElement.classList.add("active"),e&&(e.value=o)}))}))}}],i&&IP(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(DP(HTMLElement));function FP(e){return FP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FP(e)}function BP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,UP(i.key),i)}}function UP(e){var t=function(e){if("object"!=FP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=FP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==FP(t)?t:t+""}function qP(e){var t="function"==typeof Map?new Map:void 0;return qP=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(VP())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(e.bind.apply(e,i));return n&&HP(r,n.prototype),r}(e,arguments,$P(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),HP(n,e)},qP(e)}function VP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(VP=function(){return!!e})()}function HP(e,t){return HP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HP(e,t)}function $P(e){return $P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$P(e)}var zP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=$P(t),function(e,t){if(t&&("object"==FP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,VP()?Reflect.construct(t,n||[],$P(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HP(e,t)}(t,e),n=t,(i=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){var e=this;this.module=this,this.module.TabButtons=Array.from(this.module.querySelectorAll(".tabs-expandable-cards-button")),this.module.TabCloseButtons=Array.from(this.module.querySelectorAll(".tabs-expandable-cards-close-button")),this.module.Tabs=Array.from(this.module.querySelectorAll(".tabs-item")),this.module.TabButtons.forEach((function(t){t.addEventListener("click",(function(){e.module.Tabs.forEach((function(e){e.setAttribute("hidden","")})),e.module.TabButtons.forEach((function(e){e.removeAttribute("data-tab-active")})),t.setAttribute("data-tab-active",""),e.module.querySelector('.tabs-item[id="'+t.getAttribute("data-tab-id")+'"]').removeAttribute("hidden"),e.module.setAttribute("data-tab-showing","")}))})),this.module.TabCloseButtons.forEach((function(t){t.addEventListener("click",(function(){e.module.Tabs.forEach((function(e){e.setAttribute("hidden","")})),e.module.TabButtons.forEach((function(e){e.removeAttribute("data-tab-active")})),e.module.removeAttribute("data-tab-showing")}))}))}}])&&BP(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(qP(HTMLElement));function WP(e){return WP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WP(e)}function GP(){GP=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==WP(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(WP(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function KP(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}var YP=function(){var e,t=(e=GP().mark((function e(){var t,n,i;return GP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null!==FE?Promise.resolve(FE):new Promise((function(e){(function(){var e=new window.XMLHttpRequest,t=new URL(document.location).href;return e.open("HEAD",t,!0),new Promise((function(t){e.onreadystatechange=function(){if(4===e.readyState){var n=e.getAllResponseHeaders().trim().split(/[\r\n]+/),i={};n.forEach((function(e){var t=e.split(": "),n=t.shift(),r=t.join(": ");i[n]=r})),t(i)}},e.send(null)}))})().then((function(t){FE=!!t.internal&&t.internal,e(FE)}))}));case 2:return t=e.sent,n=window.digitalData.userData,i=void 0===n?{}:n,e.abrupt("return",(t?"541611":i.dmdbase_primary_naics)||"");case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){KP(o,i,r,s,a,"next",e)}function a(e){KP(o,i,r,s,a,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();function XP(e){return XP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XP(e)}function JP(){JP=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==XP(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(XP(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function QP(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function ZP(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){QP(o,i,r,s,a,"next",e)}function a(e){QP(o,i,r,s,a,"throw",e)}s(void 0)}))}}function eA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,iA(i.key),i)}}function nA(e,t,n){return t&&tA(e.prototype,t),n&&tA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iA(e){var t=function(e){if("object"!=XP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=XP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==XP(t)?t:t+""}function rA(e,t,n){return t=sA(t),function(e,t){if(t&&("object"==XP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oA()?Reflect.construct(t,n||[],sA(e).constructor):t.apply(e,n))}function oA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oA=function(){return!!e})()}function sA(e){return sA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sA(e)}function aA(e,t){return aA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aA(e,t)}var lA="<div>\x3c!-- Error: (Personalize Module) Response was returned but content missing. --\x3e</div>",cA=function(){function e(){var t;if(eA(this,e),(t=rA(this,e)).controlEl=t,t.options={method:"get"},t.dataset.ajaxUrl){var n=t.dataset.ajaxUrl;t.dataset.params&&(n=n+"&"+t.dataset.params),t.options.url=n}return t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aA(e,t)}(e,window.HTMLElement),nA(e,[{key:"connectedCallback",value:(i=ZP(JP().mark((function e(){var t=this;return JP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkLensCompatibility(),!this.options.url){e.next=14;break}return this.throttledResizeHandler=this.throttled(200,this.triggerAnalytics.bind(this)),this.throttledScrollHandler=this.throttled(200,this.triggerAnalytics.bind(this)),e.next=6,this.mustWaitForDemandbase();case 6:if(e.sent){e.next=12;break}return e.next=9,this.customizeFragmentUri();case 9:this.loadModule(),e.next=13;break;case 12:window.addEventListener("launch.demandbase.ready",ZP(JP().mark((function e(){return JP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.customizeFragmentUri();case 2:t.loadModule();case 3:case"end":return e.stop()}}),e)}))));case 13:this.backendAuthenticated().then((function(e){e||window.addEventListener("login.success",(function(){t.loadModule()}))}));case 14:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"customizeFragmentUri",value:(n=ZP(JP().mark((function e(){var t,n,i,r;return JP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.dataset,n=t.cacheable,i=t.fragmentTypeNaics,"true"===n&&(this.options.url+="&allow-cache=true"),"true"!==i||(0,NE.ce)("naics")){e.next=7;break}return e.next=5,YP();case 5:(r=e.sent)?this.options.url+="&naics=".concat(r):this.controlEl.remove();case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"checkLensCompatibility",value:function(){var e=document.querySelector('meta[name="lens"]').getAttribute("content");"true"===this.dataset.fragmentTypeNaics&&"ja-jp"===e&&this.controlEl.remove()}},{key:"mustWaitForDemandbase",value:(t=ZP(JP().mark((function e(){return JP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="true"===this.dataset.fragmentTypeNaics&&!(0,NE.ce)("naics"),!e.t0){e.next=5;break}return e.next=4,YP();case 4:e.t0=!e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"loadModule",value:function(e){var t=this,n=e||this.options.url;this.getAjaxContent(n).then((function(e){e.response?t.render(e.response):t.render(lA)})).catch((function(e){if(console.log(e),404===e.status&&!t.stopRetry){var i=new URL(window.location.href.concat(n));t.stopRetry=!0,t.loadModule("/?".concat(i.searchParams.toString()))}}))}},{key:"getAjaxContent",value:function(e){var t=this,n=new window.XMLHttpRequest;return new Promise((function(i,r){n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300?i(n):r({status:n.status,statusText:n.statusText,responseText:n.responseText}))},n.open(t.options.method,e),n.send()}))}},{key:"render",value:function(e){var t=e.trim();this.hasContent(t)&&t!==lA&&this.controlEl.classList.remove("absolutelyNotVisible"),this.controlEl.innerHTML="",this.controlEl.insertAdjacentHTML("beforeend","".concat(t)),this.postRender()}},{key:"postRender",value:function(){for(var e=this.controlEl.querySelectorAll("[data-geolocation-module]"),t=0;t<e.length;t++)e[t].removeAttribute("data-geolocation-module");this.scrollToAnchor();try{var n=(0,NE.t3)("loadJavascriptModules",{context:this.controlEl});window.dispatchEvent(n)}catch(e){console.log(e)}this.handleAnalytics()}},{key:"scrollToAnchor",value:function(){var e=window.location.hash;if(e&&""!==e){var t=this.controlEl.querySelector(e);t&&setTimeout((function(){t.scrollIntoView()}),2e3)}}},{key:"handleAnalytics",value:function(){this.hasAnyModule(this.controlEl)&&(this.isInViewport(this.controlEl)?this.fireAnalyticsEvent():(document.addEventListener("scroll",this.throttledScrollHandler),window.addEventListener("resize",this.throttledResizeHandler)))}},{key:"triggerAnalytics",value:function(){this.isInViewport(this.controlEl)&&(document.removeEventListener("scroll",this.throttledScrollHandler),window.removeEventListener("resize",this.throttledResizeHandler),this.fireAnalyticsEvent())}},{key:"fireAnalyticsEvent",value:function(){try{var e=this.controlEl.firstChild?this.controlEl.firstChild.dataset:{},t={detail:{mode:e.mode?e.mode:"",audience:e.audiences?e.audiences:"",moduleName:e.moduleName?e.moduleName:"",moduleType:e.moduleType?e.moduleType:"",moduleWrapperName:this.controlEl.dataset&&this.controlEl.dataset.moduleName?this.controlEl.dataset.moduleName:"",experience:e.experience?e.experience:""}};t.detail.audience&&document.dispatchEvent(new window.CustomEvent("moduleTrack",t))}catch(e){console.log(e)}}},{key:"isLoggedIn",value:function(){return null!==window.localStorage.getItem("okta-token-storage")}},{key:"isInViewport",value:function(e){var t=e.getBoundingClientRect();return t.left>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)}},{key:"throttled",value:function(e,t){var n=0;return function(){var i=(new Date).getTime();if(!(i-n<e))return n=i,t.apply(void 0,arguments)}}},{key:"hasAnyModule",value:function(e){return e.children.length>0&&e.children[0].childElementCount>0}},{key:"hasContent",value:function(e){return Boolean(e.trim())}},{key:"backendAuthenticated",value:function(){return new Promise((function(e){var t=new window.XMLHttpRequest;t.open("GET","/Auth/Status"),t.send(),t.onreadystatechange=function(){if(t.responseText){var n="string"==typeof t.responseText?JSON.parse(t.responseText):t.responseText;e(n.hasSession)}}}))}}]);var t,n,i}(),uA=function(){return nA((function e(t,n){var i=this;if(eA(this,e),this.controlEl=t,this.dataset=this.controlEl.dataset,this.options={method:"get"},this.dataset.ajaxUrl){var r=this.dataset.ajaxUrl;this.dataset.params&&(r=r+"&"+this.dataset.params),this.options.url=r,this.throttledResizeHandler=this.throttled(200,this.triggerAnalytics.bind(this)),this.throttledScrollHandler=this.throttled(200,this.triggerAnalytics.bind(this)),this.loadModule(),this.backendAuthenticated().then((function(e){e||window.addEventListener("login.success",(function(){i.loadModule()}))}))}}),[{key:"loadModule",value:function(e){var t=this,n=e||this.options.url;this.getAjaxContent(n).then((function(e){e.response?t.render(e.response):t.render(lA)})).catch((function(e){if(console.log(e),404===e.status&&!t.stopRetry){var i=new URL(window.location.href.concat(n));t.stopRetry=!0,t.loadModule("/?".concat(i.searchParams.toString()))}}))}},{key:"getAjaxContent",value:function(e){var t=this,n=new window.XMLHttpRequest;return new Promise((function(i,r){n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300?i(n):r({status:n.status,statusText:n.statusText,responseText:n.responseText}))},n.open(t.options.method,e),n.send()}))}},{key:"render",value:function(e){var t=e.trim();this.hasContent(t)&&t!==lA&&this.controlEl.classList.remove("absolutelyNotVisible"),this.controlEl.innerHTML="",this.controlEl.insertAdjacentHTML("beforeend","".concat(t)),this.postRender()}},{key:"postRender",value:function(){for(var e=this.controlEl.querySelectorAll("[data-geolocation-module]"),t=0;t<e.length;t++)e[t].removeAttribute("data-geolocation-module");this.scrollToAnchor();try{var n=(0,NE.t3)("loadJavascriptModules",{context:this.controlEl});window.dispatchEvent(n)}catch(e){console.log(e)}this.handleAnalytics()}},{key:"scrollToAnchor",value:function(){var e=window.location.hash;if(e&&""!==e){var t=this.controlEl.querySelector(e);t&&setTimeout((function(){t.scrollIntoView()}),2e3)}}},{key:"handleAnalytics",value:function(){this.hasAnyModule(this.controlEl)&&(this.isInViewport(this.controlEl)?this.fireAnalyticsEvent():(document.addEventListener("scroll",this.throttledScrollHandler),window.addEventListener("resize",this.throttledResizeHandler)))}},{key:"triggerAnalytics",value:function(){this.isInViewport(this.controlEl)&&(document.removeEventListener("scroll",this.throttledScrollHandler),window.removeEventListener("resize",this.throttledResizeHandler),this.fireAnalyticsEvent())}},{key:"fireAnalyticsEvent",value:function(){try{var e=this.controlEl.firstChild?this.controlEl.firstChild.dataset:{},t={detail:{mode:e.mode?e.mode:"",audience:e.audiences?e.audiences:"",moduleName:e.moduleName?e.moduleName:"",moduleType:e.moduleType?e.moduleType:"",moduleWrapperName:this.controlEl.dataset&&this.controlEl.dataset.moduleName?this.controlEl.dataset.moduleName:"",experience:e.experience?e.experience:""}};t.detail.audience&&document.dispatchEvent(new window.CustomEvent("moduleTrack",t))}catch(e){console.log(e)}}},{key:"isLoggedIn",value:function(){return null!==window.localStorage.getItem("okta-token-storage")}},{key:"isInViewport",value:function(e){var t=e.getBoundingClientRect();return t.left>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)}},{key:"throttled",value:function(e,t){var n=0;return function(){var i=(new Date).getTime();if(!(i-n<e))return n=i,t.apply(void 0,arguments)}}},{key:"hasAnyModule",value:function(e){return e.children.length>0&&e.children[0].childElementCount>0}},{key:"hasContent",value:function(e){return Boolean(e.trim())}},{key:"backendAuthenticated",value:function(){return new Promise((function(e){var t=new window.XMLHttpRequest;t.open("GET","/Auth/Status"),t.send(),t.onreadystatechange=function(){if(t.responseText){var n="string"==typeof t.responseText?JSON.parse(t.responseText):t.responseText;e(n.hasSession)}}}))}}])}(),hA=nA((function e(){eA(this,e),document.querySelectorAll("[data-ps-targeted-module-list-item]").forEach((function(e){return new uA(e)}))})),dA={waitForTrustarcCookies:function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,t=function(n){if(n<=0)return Promise.reject({msg:"Failure: Cookie could not be found."});var i=document.cookie.includes("notice_behavior=implied,eu"),r=document.cookie.includes("notice_behavior=expressed,eu");return i||r?Promise.resolve({impliedNonEu:i,expressedEu:r,msg:"Success: Cookie was found."}):new Promise((function(i){return setTimeout((function(){return i(t(n-1))}),e)}))};return t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:10)},checkTrustarcPreferences:function(e){var t=window.localStorage.getItem("truste.eu.cookie.notice_preferences");return t?"2:"===JSON.parse(t).value:(console.info("Truste userPreference local storage item was not found"),"implied"===e)},checkGDPR:function(){var e=this;return new Promise((function(t,n){e.waitForTrustarcCookies(20,300).then((function(n){if(n.expressedEu){var i=e.checkTrustarcPreferences("expressed");t(!!i)}else if(n.impliedNonEu){var r=e.checkTrustarcPreferences("implied");t(!!r)}else t(!1)})).catch((function(e){console.info("TrustArc cookies not found"),t(!1)}))}))}};function pA(e){return pA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pA(e)}function fA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,mA(i.key),i)}}function mA(e){var t=function(e){if("object"!=pA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=pA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pA(t)?t:t+""}function gA(e,t,n){return t=vA(t),function(e,t){if(t&&("object"==pA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yA()?Reflect.construct(t,n||[],vA(e).constructor):t.apply(e,n))}function yA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yA=function(){return!!e})()}function vA(e){return vA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vA(e)}function bA(e,t){return bA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bA(e,t)}var _A=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gA(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bA(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){var e=this;window.addEventListener("video.modal.open",(function(t){if(t.detail&&t.detail.el){var n=t.detail.el.querySelector(".VideoModal-dialog");n&&n===e.dialog&&e.dialogOpenCallback()}})),this.init()}},{key:"init",value:function(){var e=this;this.dialog=this.querySelector(".VideoModal-dialog"),this.dialogOpenbutton=this.querySelector(".VideoModal-button"),this.playerTemplate=this.dialog.querySelector("template"),this.videoType=this.dataset.videoType;var t=this.dialog.closest("flickity-carousel");t&&(this.insideCarousel=!0,this.carouselParentEl=t),"youtube"===this.videoType?dA.checkGDPR().then((function(t){if(t)e.dialogOpenbutton.style.display="block";else{var n=e.querySelector(".GDPRFixesMountPoint");n.innerHTML="",n.style.position="static",n.style.zIndex="",e.mountCookieNotice()}})):this.dialogOpenbutton.style.display="block",this.dialogOpenbutton.addEventListener("click",(function(){e.dialogOpenCallback()})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&e.dialogCloseButton.click()}))}},{key:"dialogOpenCallback",value:function(){var e=this;this.dialog.id+="__"+(new Date).getTime(),this.dialog.querySelector("[data-video-type]")&&this.dialog.querySelector("[data-video-type]").player&&this.dialog.querySelector("[data-video-type]").player.dispose(),this.dialog.querySelector(".VideoModal-player-wrapper")&&this.dialog.querySelector(".VideoModal-player-wrapper").remove(),this.temporaryWrappingElement=document.createElement("div"),this.temporaryWrappingElement.classList.add("VideoModal-player-wrapper"),this.temporaryWrappingElement.appendChild(this.playerTemplate.content.cloneNode(!0)),this.dialog.appendChild(this.temporaryWrappingElement),this.dialogCloseButton=this.dialog.querySelector(".VideoModal-dialog-tool-close"),this.dialogToolsBar=this.dialog.querySelector(".VideoModal-dialog-tools"),this.dialog.addEventListener("click",(function(t){!t.target.closest(".VideoModal-player-wrapper")&&t.target.closest(".VideoModal-dialog")&&e.closeDialog()})),this.dialogToolsBar.addEventListener("click",(function(){e.closeDialog()})),this.dialogCloseButton.addEventListener("click",(function(){e.closeDialog()}));var t=this.dialog.querySelector(".VideoModal-player-wrapper");t&&["touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointercancel","mousedown","mousemove","mouseup","mouseover","mouseout","click"].forEach((function(e){t.addEventListener(e,(function(e){e.stopPropagation()}))})),this.dialog.showModal(),(0,ax.h)(),this.insideCarousel&&this.carouselParentEl.disableDrag(),document.documentElement.classList.add("modal-open"),setTimeout((function(){e.videoPlayerElement=e.dialog.querySelector("[data-video-type]"),e.videoPlayerElement&&(e.videoPlayerElement.id=e.dialog.id+"__"+(new Date).getTime(),e.videoPlayer=e.videoPlayerElement.player,e.videoPlayer&&e.shouldAutoplay()&&e.videoPlayer.ready((function(){setTimeout((function(){var t=e.videoPlayer.play();void 0!==t&&t.then((function(){})).catch((function(e){console.log("AutoPlay was prevented ".concat(e))}))}),2e3)})))}),250)}},{key:"closeDialog",value:function(){var e=this;this.dialog.close(),setTimeout((function(){var t=e.dialog.querySelector("[data-video-type]").player;t&&t.dispose();var n=e.dialog.querySelector(".VideoModal-player-wrapper");n&&n.remove()}),250),(0,ax.F)(),this.insideCarousel&&this.carouselParentEl.enableDrag(),window.dispatchEvent((0,NE.t3)("video.modal.close")),document.documentElement.classList.remove("modal-open")}},{key:"shouldAutoplay",value:function(){return!0}},{key:"mountCookieNotice",value:function(){var e=this.querySelector(".GDPRFixesMountPoint"),t=this.querySelector(".video-youtube-cookie-template").content.cloneNode(!0),n=t.querySelector("button");e.style.position="relative",e.style.zIndex="100",n.addEventListener("click",(function(){window.truste.eu.clickListener()})),e.appendChild(t)}}])&&fA(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function wA(e){return wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wA(e)}function kA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function SA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,EA(i.key),i)}}function EA(e){var t=function(e){if("object"!=wA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=wA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wA(t)?t:t+""}function TA(e,t,n){return t=CA(t),function(e,t){if(t&&("object"==wA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xA()?Reflect.construct(t,n||[],CA(e).constructor):t.apply(e,n))}function xA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xA=function(){return!!e})()}function CA(e){return CA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CA(e)}function PA(e,t){return PA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PA(e,t)}var AA=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),TA(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PA(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.activePlayerEl=this.querySelector(".VideoPlaylist-player"),this.activePlayerMetadataEl=this.querySelector(".VideoPlaylist-playermeta"),this.activePlayer=this.activePlayerEl.querySelector(".VideoBase"),this.playlistItems=function(e){return function(e){if(Array.isArray(e))return kA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return kA(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kA(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.querySelectorAll(".VideoPlaylist-item")),this.setupVideo(this.activePlayer,!1,!1),this.bindClickEvents()}},{key:"setupVideo",value:function(e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){this.activePlayer.querySelector(".video-js")&&(0,HC.default)(this.activePlayer.querySelector(".video-js")).dispose(),this.activePlayerEl.innerHTML="";var n=e.cloneNode(!0);n.dataset.videoJSPlayNow=t,n.dataset.isPlaylistItem=!1,this.activePlayerEl.appendChild(n)}else e.dataset.videoJSPlayNow=t,e.renderVideo(t)}},{key:"bindClickEvents",value:function(){var e=this;this.playlistItems.forEach((function(t){t.addEventListener("click",(function(){e.setupVideo(t.querySelector(".VideoBase"),!0,!0);var n=t.querySelector(".VideoPlaylist-item-playermeta").innerHTML;e.activePlayerMetadataEl.innerHTML=n,e.playlistItems.forEach((function(e){e.classList.remove("active")})),t.classList.add("active")}))}))}}],n&&SA(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}(),OA=__webpack_require__(1107);function IA(e){return IA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IA(e)}function LA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,DA(i.key),i)}}function DA(e){var t=function(e){if("object"!=IA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=IA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==IA(t)?t:t+""}function RA(e,t,n){return t=NA(t),function(e,t){if(t&&("object"==IA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MA()?Reflect.construct(t,n||[],NA(e).constructor):t.apply(e,n))}function MA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(MA=function(){return!!e})()}function NA(e){return NA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NA(e)}function jA(e,t){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jA(e,t)}var FA=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=RA(this,t)).player=null,e.overlay=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jA(e,t)}(t,e),n=t,i=[{key:"connectedCallback",value:function(){this.debugIndex=this.dataset.debugIndex,this.isPlaylistItem=!!this.dataset.isPlaylistItem&&JSON.parse(this.dataset.isPlaylistItem),this.videoJSPlayNow=!!this.dataset.videoJSPlayNow&&JSON.parse(this.dataset.videoJSPlayNow),this.isPlaylistItem||this.renderVideo(this.videoJSPlayNow,this.isPlaylistItem)}},{key:"renderVideo",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments.length>1&&void 0!==arguments[1]&&arguments[1]||dA.checkGDPR().then((function(n){n?((0,OA.Z)(),e.overlayTemplate=e.querySelector(".VideoBaseOverlayTemplate"),e.video=e.getVideoElement(e),e.mountVideo(e,e.video),e.player=e.buildVideoPlayer(e.video,"youtube"),window.dispatchEvent((0,NE.t3)("videoPlayerCreated",{context:e.player})),e.overlayTemplate&&(HC.default.registerComponent("Overlay",e.createOverlay(e.player,e.overlayTemplate)),e.player.addChild("Overlay")),t&&setTimeout((function(){e.player&&t&&e.player.ready((function(){setTimeout((function(){e.player.play()}),500)}))}),500)):e.mountCookieNotice()}))}}],i&&LA(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(eP);function BA(e){return BA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BA(e)}function UA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,qA(i.key),i)}}function qA(e){var t=function(e){if("object"!=BA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=BA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==BA(t)?t:t+""}var VA=function(){return e=function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataObject=this.getPageData(t),this.dataObject},t=[{key:"getPageData",value:function(e){var t=function(e){var n={};return Object.keys(e).forEach((function(i){"object"===BA(e[i])&&null!==e[i]?Object.assign(n,t(e[i])):n[i]=e[i]})),n};return t(e)}}],t&&UA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function HA(e){return HA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HA(e)}function $A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,zA(i.key),i)}}function zA(e){var t=function(e){if("object"!=HA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=HA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==HA(t)?t:t+""}var WA=function(){return e=function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.video=n,this.intervalTime=t,this.subscribers=[],this.lastTime=0,this.createExecutor=function(){i.interval=setInterval((function(){i.execute()}),i.intervalTime)}},t=[{key:"execute",value:function(){if(this.video.el()){var e=Math.round(this.video.currentTime());e!==this.lastTime&&(this.lastTime=e,this.subscribers.forEach((function(t){t&&t.time===e&&t.callback()})))}else clearInterval(this.interval)}},{key:"subscribe",value:function(e,t){var n=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);return this.subscribers.push({id:n,time:e,callback:t}),this.createExecutor(),n}},{key:"unsubscribe",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t.id!==e})),this.createExecutor()}}],t&&$A(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),GA=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"No Tracking Message";KA(i).then((function(){e?window.digitalData.data.videoMilestone=e.dcr:r&&(window.digitalData.data.videoMilestone=""),window.digitalData.data.videoName=t,window.digitalData.data.videoPlayer=n,window.digitalData.data.videoDuration=i.duration(),window.digitalData.data.videoTimeViewed=i.duration()/4,window._satellite.track(o)}))},KA=function(e){return new Promise((function(t){!function n(){if(e.duration())return t();setTimeout(n,1e3)}()}))};function YA(e){return YA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YA(e)}function XA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,JA(i.key),i)}}function JA(e){var t=function(e){if("object"!=YA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=YA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==YA(t)?t:t+""}var QA=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()},t=[{key:"init",value:function(){var e=this;(0,NE.N2)().then((function(){window.addEventListener("adobe.subscriptions.widget.types",(function(t){return e.handleSubscriptionWidgetTypes(t.detail.context[0])})),window.addEventListener("adobe.subscriptions.stickytoolbar",(function(t){return e.handleSubscriptionStickyToolbar(t.detail.context[0])})),window.addEventListener("adobe.subscription.page",(function(t){return e.handleSubscriptionPage(t.detail)})),window.addEventListener("adobe.nongated.subscription.page",(function(t){return e.handleNongatedSubscriptionPage(t.detail)})),window.addEventListener("adobe.login.initiated",(function(t){return e.handleLoginInitiated(t.detail)})),window.addEventListener("adobe.login.start",(function(t){return e.handleLoginStart(t.detail)})),window.addEventListener("adobe.login.success",(function(t){return e.handleLoginSuccess(t.detail)})),window.addEventListener("adobe.login.failed",(function(t){return e.handleLoginFailed(t.detail)})),window.addEventListener("adobe.logout",(function(t){return e.handleLogout(t.detail)})),window.addEventListener("adobe.login.authenticated",(function(t){return e.handleLoginAuthenticated(t.detail)})),window.addEventListener("adobe.ssoInitiated",(function(){return e.handleSSOInitiated()})),window.addEventListener("adobe.ssoSuccess",(function(t){return e.handleSSOSuccess(t.detail)})),window.addEventListener("adobe.registration.start",(function(t){return e.handleRegistrationStart(t.detail)})),window.addEventListener("adobe.registration.success",(function(t){return e.handleRegistrationSuccess(t.detail)})),window.addEventListener("adobe.registration.complete",(function(t){return e.handleRegistrationComplete(t.detail.user,t.detail.context)})),window.addEventListener("adobe.authenticator.enrolled",(function(t){return e.handleAuthenticatorEnrolled(t.detail)})),window.addEventListener("adobe.form.start",(function(t){return e.handleFormStart(t.detail.context)})),window.addEventListener("adobe.form.success",(function(t){return e.handleFormSuccess(t.detail.context)})),window.addEventListener("adobe.video.start",(function(e){!function(e){if(window._satellite){var t=e.detail.context,n=e.detail.context.tagAttributes["data-video-type"],i=e.detail.options.title;GA(null,i,n,t,!0,"cust_video_start")}}(e)})),window.addEventListener("adobe.setupMilestones",(function(e){return function(e){var t=e.detail.context;KA(t).then((function(){var n=new WA(1e3,t),i=e.detail.context.tagAttributes["data-video-type"],r=e.detail.options.title,o=t.duration(),s=[{interval:Math.round(o/4),dcr:"cust_video_25percent_complete"},{interval:Math.round(o/2),dcr:"cust_video_50percent_complete"},{interval:Math.round(o/4*3),dcr:"cust_video_75percent_complete"},{interval:Math.round(o),dcr:"cust_video_100percent_complete"}],a=function(e,n,i){GA(e,n,i,t,!1,e.dcr)};n.subscribe(s[0].interval,(function(){a(s[0],r,i)})),n.subscribe(s[1].interval,(function(){a(s[1],r,i)})),n.subscribe(s[2].interval,(function(){a(s[2],r,i)})),n.subscribe(s[3].interval,(function(){a(s[3],r,i)}))}))}(e)})),window.addEventListener("adobe.video.pause",(function(){window._satellite.track("cust_video_pause")})),window.addEventListener("adobe.slide.change",(function(t){return e.handleSlideChange(t)})),window.addEventListener("adobe.demo.request",(function(t){return e.handleDemoRequest(t.detail)})),window.addEventListener("adobe.freetrial.request",(function(t){return e.handleFreeTrialRequest(t.detail)}))}))}},{key:"makeHeapCalls",value:function(){}},{key:"handleSubscriptionStickyToolbar",value:function(e){window.digitalData.data.subscribedContent=e,window._satellite.track("track_content_subscription",e)}},{key:"handleSubscriptionWidgetTypes",value:function(e){window.digitalData.data.subscribedContent=e,window._satellite.track("track_content_subscription")}},{key:"handleSubscriptionPage",value:function(e){window.digitalData.data.subscribedContent=e,window._satellite.track("track_content_subscription")}},{key:"handleNongatedSubscriptionPage",value:function(e){window.digitalData.data.subscribedContent=e,window._satellite.track("track_content_subscription")}},{key:"handleRegistrationStart",value:function(e){window._satellite&&window._satellite.track("registration_starts",e)}},{key:"handleRegistrationSuccess",value:function(e){window._satellite&&window._satellite.track("registration_success",e)}},{key:"handleRegistrationComplete",value:function(e,t){window._satellite&&(window.digitalData.userData.customerID=e.User_ID,window._satellite.track("registration_complete",t))}},{key:"handleAuthenticatorEnrolled",value:function(e){var t={okta_password:"password",phone_number:"phone",webauthn:"biometrics"}[e];t&&window._satellite.track("registration_authenticator",{authenticator:t})}},{key:"handleLoginStart",value:function(e){e&&"undefined"!==e&&null!==e&&window._satellite&&(window.digitalData.userData&&("object"===YA(e)&&(e=JSON.stringify(e)),window.digitalData.userData.loginLocation=e),window._satellite.track("login_starts"))}},{key:"handleLoginSuccess",value:function(e){var t=e.user,n=e.loginTimer,i=e.hasAuthenticated,r=window.digitalData.userData.loginLocation;this.getData(this.buildEndpoint(!0)).then((function(e){if(e){Object.assign(window.digitalData.userData,new VA(e.userData)),window.digitalData.userData.customerID=t.UserID,window.digitalData.userData.loginLocation=r,window.localStorage.setItem("userData",JSON.stringify(window.digitalData.userData));var o=document.querySelector("body");if(o.dataset.isLoggedIn=!0,!i){var s=new window.CustomEvent("login_success",{detail:window.digitalData.userData});o.dispatchEvent(s),window._satellite.track("login_success",{timer:n})}}}))}},{key:"handleLogout",value:function(e){this.getData(this.buildEndpoint(!0)).then((function(t){if(t){window.digitalData.userData=new VA(t.userData),window.digitalData.userData.logoutLocation=e||"auto",window._satellite&&window._satellite.track("logout_success"),window.localStorage.removeItem("userData");var n=document.querySelector("body"),i=new window.CustomEvent("logout_success",{detail:window.digitalData.userData});n.dataset.isLoggedIn=!1,n.dispatchEvent(i)}else window.digitalData.userData=new VA({})}))}},{key:"handleLoginInitiated",value:function(e){window._satellite&&window._satellite.track("login_initiated",e)}},{key:"handleLoginFailed",value:function(e){e&&"undefined"!==e&&null!==e&&window._satellite&&window._satellite.track("login_failed",e)}},{key:"handleLoginAuthenticated",value:function(e){var t={email:"otp",password:"password",signed_nonce:"fastPass",push:"pushNotification",sms:"phone",webauthn:"biometrics",totp:"oktaVerifyCode"}[e];t&&window._satellite.track("login_authenticator",{authenticator:t})}},{key:"updatePageData",value:function(){window._satellite&&window._satellite.track("overlay_open")}},{key:"handleFormStart",value:function(e){window._satellite&&"register"!==this.getFormName(e)&&(window.digitalData.data.formName=this.getFormName(e),window.digitalData.data.formAction="start",window._satellite.track("track_form"))}},{key:"handleFormSuccess",value:function(e){window._satellite&&(e&&e.classList.contains("aa-contact-us-from-person")&&(window.digitalData.data.contactUsName=e.getAttribute("data-aa-contact-us-from-person-name"),window._satellite.track("track_contactus_form")),window.digitalData.data.formAction="complete",window._satellite.track("track_form"))}},{key:"getData",value:function(e){return fetch(e).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)}))}},{key:"getFormName",value:function(e){var t="";return e.search("sharePage")>=0?t="email share":e.search("ContactUs")>=0||e.search("sendMail")>=0||e.search("sendEmail")>=0?t="contact us":e.search("register")>=0?t="register":"subscription-widget"===e&&(t=e),t}},{key:"handleSSOInitiated",value:function(){window._satellite&&window._satellite.track("SSOInitiated")}},{key:"handleSSOSuccess",value:function(e){window._satellite&&window._satellite.track("SSOSuccess",{time:e})}},{key:"handleLoginSSO",value:function(e){e&&"undefined"!==e&&null!==e&&window._satellite&&window._satellite.track("SSOSuccess",{time:e})}},{key:"handleLoginSSOFailed",value:function(e){window._satellite&&window._satellite.track("SSOLoginFailed",e)}},{key:"handleSlideChange",value:function(e){window._satellite&&"layered-authors-list"===e.type&&window._satellite.track("authorView",{name:e.name})}},{key:"handleDemoRequest",value:function(e){window._satellite&&window._satellite.track("DemoRequest",e)}},{key:"handleFreeTrialRequest",value:function(e){window._satellite&&window._satellite.track("FreeTrialRequest",e)}},{key:"buildEndpoint",value:function(){return window.location.pathname+"?analytics_data=true"}}],t&&XA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function ZA(e){return ZA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZA(e)}function eO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,tO(i.key),i)}}function tO(e){var t=function(e){if("object"!=ZA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ZA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ZA(t)?t:t+""}function nO(e,t,n){return t=rO(t),function(e,t){if(t&&("object"==ZA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iO()?Reflect.construct(t,n||[],rO(e).constructor):t.apply(e,n))}function iO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(iO=function(){return!!e})()}function rO(e){return rO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rO(e)}function oO(e,t){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oO(e,t)}var sO=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),nO(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oO(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.isHoverableDevice=window.matchMedia("(hover: hover) and (pointer: fine)"),this.parentNodeElem=this.parentNode,this.transitionSelector=this.dataset.transitionSelector,this.promoBlockNode=this.dataset.promoBlockNode,this.items=this.promoBlockNode?this.querySelectorAll(".carousel-cell .".concat(this.promoBlockNode)):this.querySelectorAll(".carousel-cell .Promo4"),this.videoModalOpenBtns=this.querySelectorAll(".VideoPromoModal-open"),this.init()}},{key:"init",value:function(){var e=this;if("true"!==this.dataset.skipMobileCardClickSetup){if(this.isHoverableDevice.matches||this.addEventListener("click",(function(t){t.preventDefault();var n=e.promoBlockNode?t.target.closest(".".concat(e.promoBlockNode)):t.target.closest(".Promo4");if(n){var i=n.querySelector(".Promo-title a"),r=n.querySelector(".primary-button");if(i&&t.target===i&&t.target.href.length>0)return void(window.location=t.target.href);if("true"===n.dataset.hiddenContentOpen)r&&t.target===r&&t.target.href.length>0?window.location=t.target.href:n.dataset.hiddenContentOpen=!1;else{var o=n.querySelector(".Promo-category a");o&&t.target===o&&t.target.href.length>0?window.location=t.target.href:(e.items.forEach((function(e){e.dataset.hiddenContentOpen&&(e.dataset.hiddenContentOpen=!1)})),n.dataset.hiddenContentOpen=!0)}}else e.items.forEach((function(e){e.dataset.hiddenContentOpen&&(e.dataset.hiddenContentOpen=!1)}))})),this.transitionSelector){var t=this.querySelector(".".concat(this.transitionSelector));t&&t.addEventListener("transitionend",(function(e){e.target.scrollTop=0}))}this.setupVideoModalOpenBtns()}else this.setupVideoModalOpenBtns()}},{key:"setupVideoModalOpenBtns",value:function(){this.videoModalOpenBtns.forEach((function(e){e.addEventListener("click",(function(){var t=e.closest('[data-component-type="Promo"]');window.dispatchEvent((0,NE.t3)("video.modal.open",{el:t}))}))}))}}])&&eO(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function aO(e){return aO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aO(e)}function lO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,cO(i.key),i)}}function cO(e){var t=function(e){if("object"!=aO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=aO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==aO(t)?t:t+""}function uO(e,t,n){return t=dO(t),function(e,t){if(t&&("object"==aO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hO()?Reflect.construct(t,n||[],dO(e).constructor):t.apply(e,n))}function hO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hO=function(){return!!e})()}function dO(e){return dO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dO(e)}function pO(e,t){return pO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pO(e,t)}var fO=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),uO(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pO(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.videoModalOpenBtns=this.querySelectorAll(".VideoPromoModal-open"),this.init()}},{key:"init",value:function(){this.setupVideoModalOpenBtns()}},{key:"setupVideoModalOpenBtns",value:function(){this.videoModalOpenBtns.forEach((function(e){e.addEventListener("click",(function(){var t=e.closest('[data-component-type="Promo"]');window.dispatchEvent((0,NE.t3)("video.modal.open",{el:t}))}))}))}}])&&lO(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function mO(e){return mO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mO(e)}function gO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,yO(i.key),i)}}function yO(e){var t=function(e){if("object"!=mO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mO(t)?t:t+""}function vO(e){var t="function"==typeof Map?new Map:void 0;return vO=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(bO())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(e.bind.apply(e,i));return n&&_O(r,n.prototype),r}(e,arguments,wO(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_O(n,e)},vO(e)}function bO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bO=function(){return!!e})()}function _O(e,t){return _O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_O(e,t)}function wO(e){return wO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wO(e)}var kO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=wO(t),function(e,t){if(t&&("object"==mO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bO()?Reflect.construct(t,n||[],wO(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_O(e,t)}(t,e),n=t,(i=[{key:"connectedCallback",value:function(){this.build();var e=this;new MutationObserver((function(t){t.forEach((function(t){e.build()}))})).observe(document.querySelector("body"),{attributes:!0,childList:!1,characterData:!1,subtree:!0,attributeOldValue:!0,attributeFilter:["id"]})}},{key:"build",value:function(){if(!this.hasAttribute("data-module-js-initialized")){this.setAttribute("data-module-js-initialized","true");var e=document.querySelectorAll('a[data-anchorableBodyText]:not([data-anchorableBodyText=""])');if(e.length>=1){this.anchorListItems=this.querySelector(".List-items");var t="";e.forEach((function(e,n){var i=e.getAttribute("data-anchorableBodyText"),r=e.getAttribute("id");t+='<a href="#'+r+'">'+i+"</a>"})),this.anchorListItems.innerHTML=t}}}}])&&gO(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(vO(HTMLElement));function SO(e){return SO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SO(e)}function EO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,TO(i.key),i)}}function TO(e){var t=function(e){if("object"!=SO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=SO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==SO(t)?t:t+""}function xO(e,t,n){return t=PO(t),function(e,t){if(t&&("object"==SO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,CO()?Reflect.construct(t,n||[],PO(e).constructor):t.apply(e,n))}function CO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(CO=function(){return!!e})()}function PO(e){return PO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PO(e)}function AO(e,t){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},AO(e,t)}var OO=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xO(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AO(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.isReducedMotion=mx(),this.videoSource=this.dataset.ambientVideoSource,this.init()}},{key:"init",value:function(){this.isReducedMotion||window.innerWidth>767&&(this.createVideoElement(),this.loadVideo())}},{key:"createVideoElement",value:function(){this.video=document.createElement("video"),this.videoSource&&(this.video.src=this.videoSource,this.video.autoplay=!0,this.video.playsinline=!0,this.video.muted=!0,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.setAttribute("muted",""))}},{key:"loadVideo",value:function(){this.appendChild(this.video),this.classList.add("video__is-enabled")}}])&&EO(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function IO(e){return IO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IO(e)}function LO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,DO(i.key),i)}}function DO(e){var t=function(e){if("object"!=IO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=IO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==IO(t)?t:t+""}function RO(e,t,n){return t=NO(t),function(e,t){if(t&&("object"==IO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MO()?Reflect.construct(t,n||[],NO(e).constructor):t.apply(e,n))}function MO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(MO=function(){return!!e})()}function NO(e){return NO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NO(e)}function jO(e,t){return jO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jO(e,t)}var FO=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),RO(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jO(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){var e,t,n;this.body=document.querySelector("body"),this.isReducedMotion=!0===window.matchMedia("(prefers-reduced-motion: reduce)")||!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches||!0===this.body.classList.contains("reduced-motion"),this.isMobile=!1,e=window.matchMedia("(max-width: 767px)").matches,t=window.matchMedia("(pointer: coarse)").matches,n=window.matchMedia("(pointer: fine)").matches,e&&t&&!n&&(console.log("isMobile device is true"),this.isMobile=!0),this.hero=this.querySelector(".publication-hero"),this.resizeTitle=!0,this.heroAnimatedPanel=this.hero.querySelector(".heroAnimatedPanel"),this.heroAnimatedPanel_header=this.hero.querySelector(".heroAnimatedPanel_header"),this.heroAnimatedPanel_image=this.heroAnimatedPanel.querySelector(".heroAnimatedPanel_image"),this.heroAnimatedPanel_title=this.heroAnimatedPanel_header.querySelector(".heroAnimatedPanel_title"),this.heroAnimatedPanel_details=this.querySelector(".heroAnimatedPanel_details"),this.heroAnimatedPanel_subtopic=this.querySelector(".heroAnimatedPanel_subTopicLink"),this.mediaWrapper=this.querySelector(".mediaWrapper"),this.keyTakeAways=this.querySelector(".keyTakeAways"),this.keyTakeAwaysOpacityMax=100,this.heroAnimatedPanel_detailsOpacityMax=100,this.heroTitleMinFontSize=30,this.scrollAmount=900,this.scrollDepth=this.scrollAmount+window.innerHeight,this.style.setProperty("--scrollDepth","".concat(this.scrollDepth,"px")),this.prevScrollY=0,this.currentScrollY=0,this.isScrolled=!1,this.RAFisScrolling=!1,this.init()}},{key:"init",value:function(){var e=this;if(this.isReducedMotion||this.isMobile)return this.body.classList.add("reduced-motion"),void console.log("do not animate");this.queryHeroDimensions(),window.addEventListener("scroll",(function(t){e.currentScrollY=window.scrollY,!e.RAFisScrolling&&e.currentScrollY<e.scrollDepth-e.heroHeight&&(window.requestAnimationFrame((function(){return e.scrollHandler()})),e.RAFisScrolling=!0)})),window.addEventListener("resize",(function(){e.RAFisScrolling||(window.requestAnimationFrame((function(){return e.resizeHandler()})),e.RAFisScrolling=!0)}))}},{key:"scrollHandler",value:function(e){this.heroScrollActivated(this.currentScrollY),this.doAnimations(this.currentScrollY),this.setAnimationCompletionStatus(this.currentScrollY),this.RAFisScrolling=!1}},{key:"resizeHandler",value:function(){this.scrollDepth=this.scrollAmount+window.innerHeight,this.style.setProperty("--scrollDepth","".concat(this.scrollDepth,"px")),this.resetDimensions(),this.queryHeroDimensions(),this.doAnimations(this.currentScrollY)}},{key:"queryHeroDimensions",value:function(){this.heroAnimatedPanel_imageBottomSpacing=this.getStyle(this.mediaWrapper,"marginBottom"),this.heroAnimatedPanelHeight=this.heroAnimatedPanel.getBoundingClientRect().height,this.heroAnimatedPanelWidth=this.heroAnimatedPanel.getBoundingClientRect().width,this.heroTitleFontSize=this.getStyle(this.heroAnimatedPanel_title,"fontSize"),this.heroAnimatedPanel_subtopicHeight=this.heroAnimatedPanel_subtopic.getBoundingClientRect().height,this.heroHeight=this.hero.getBoundingClientRect().height,this.heroAnimatedPanel_imageRadius=this.getStyle(this.mediaWrapper,"borderRadius"),this.heroWidth=this.getBoxContentWidth(this.hero),this.heroAnimatedPanel_details_opacity=this.getStyle(this.heroAnimatedPanel_details,"opacity"),this.heroAnimatedPanel_details_height=this.getStyle(this.heroAnimatedPanel_details,"height"),this.keyTakeAwaysOpacity=this.keyTakeAways?this.getStyle(this.keyTakeAways,"opacity"):null,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth}},{key:"getScrollAdjustFactors",value:function(e,t){var n=this.scrollDepth-this.heroHeight;return e?(e-t)/n:t/n}},{key:"heroScrollActivated",value:function(e){return e>0?(this.classList.add("scroll-activated"),!0):(this.classList.remove("scroll-activated"),!1)}},{key:"setAnimationCompletionStatus",value:function(e){this.getAnimationCompletionStatus()?this.classList.add("hero-animation-complete"):this.classList.remove("hero-animation-complete")}},{key:"getAnimationCompletionStatus",value:function(){return window.scrollY+window.innerHeight>=this.scrollDepth}},{key:"doAnimations",value:function(e){this.animateHeroAnimatedPanelSize(e),this.animatedMediaBottomSpacing(e),this.animateFontSize(e),this.animateHeroRadius(e),this.animateKeyTakeAwaysOpacity(e),this.animatedDetailsOpacity(e),this.animateDetailsHeight(e),this.animatedSubtopicHeight(e),this.animatedSubtopicOpacity(e),this.RAFisScrolling=!1}},{key:"resetDimensions",value:function(){this.heroAnimatedPanel.removeAttribute("style"),this.mediaWrapper.removeAttribute("style"),this.heroAnimatedPanel_title.removeAttribute("style"),this.keyTakeAways&&this.keyTakeAways.removeAttribute("style"),this.heroAnimatedPanel_details.removeAttribute("style"),this.heroAnimatedPanel_subtopic.removeAttribute("style")}},{key:"getStyle",value:function(e,t){if(e){var n=window.getComputedStyle(e);return parseFloat(n[t])}}},{key:"getBoxContentWidth",value:function(e){var t=window.getComputedStyle(e),n=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),i=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),r=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),o=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth);return e.getBoundingClientRect().width-r-o-n-i}},{key:"animateHeroRadius",value:function(e){var t=this.getScrollAdjustFactors(null,this.heroAnimatedPanel_imageRadius);this.mediaWrapper.style.borderRadius=this.heroAnimatedPanel_imageRadius-e*t+"px"}},{key:"animatedMediaBottomSpacing",value:function(e){var t=this.getScrollAdjustFactors(null,this.heroAnimatedPanel_imageBottomSpacing);this.mediaWrapper.style.marginBottom=this.heroAnimatedPanel_imageBottomSpacing-e*t+"px"}},{key:"animateFontSize",value:function(e){var t=this.getScrollAdjustFactors(this.heroTitleFontSize,this.heroTitleMinFontSize);this.resizeTitle&&(this.heroAnimatedPanel_title.style.fontSize=this.heroTitleFontSize-e*t+"px")}},{key:"animateHeroAnimatedPanelSize",value:function(e){var t=this.getScrollAdjustFactors(this.heroHeight,this.heroAnimatedPanelHeight),n=this.getScrollAdjustFactors(this.heroWidth,this.heroAnimatedPanelWidth);this.heroAnimatedPanel.style.height=this.heroAnimatedPanelHeight+e*t+"px",this.heroAnimatedPanel.style.width=this.heroAnimatedPanelWidth+e*n+"px"}},{key:"animateKeyTakeAwaysOpacity",value:function(e){var t=this.getScrollAdjustFactors(null,this.keyTakeAwaysOpacityMax);this.keyTakeAways&&(this.keyTakeAways.style.opacity=this.keyTakeAwaysOpacity+e*t+"%")}},{key:"animatedDetailsOpacity",value:function(e){var t=this.getScrollAdjustFactors(null,this.heroAnimatedPanel_detailsOpacityMax);this.heroAnimatedPanel_details.style.opacity=this.heroAnimatedPanel_detailsOpacityMax-e*t+"%"}},{key:"animateDetailsHeight",value:function(e){var t=this.getScrollAdjustFactors(null,this.heroAnimatedPanel_details_height);this.heroAnimatedPanel_details.style.maxHeight=this.heroAnimatedPanel_details_height-e*t+"px"}},{key:"animatedSubtopicHeight",value:function(e){var t=this.getScrollAdjustFactors(null,this.heroAnimatedPanel_subtopicHeight);this.heroAnimatedPanel_subtopic.style.height=this.heroAnimatedPanel_subtopicHeight-e*t+"px"}},{key:"animatedSubtopicOpacity",value:function(e){var t=this.getScrollAdjustFactors(null,100);this.heroAnimatedPanel_subtopic.style.opacity=100-e*t+"%"}}])&&LO(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function BO(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!function(){var e=document.querySelector(".response-modal-background"),t=document.getElementById("menu")||document.body;if(!e){var n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("h1"),o=document.createElement("p"),s=document.createElement("button"),a=document.createElement("div"),l=document.createElement("div");i.classList.add("response-modal"),r.textContent="Success",i.appendChild(r),o.textContent="You saved your data successfully",i.appendChild(o),s.textContent="OK",a.classList.add("response-modal__button-wrapper"),a.appendChild(s),i.appendChild(a),n.classList.add("response-modal-background"),n.appendChild(i),l.classList.add("animation","animation-response-modal"),n.appendChild(l),t.after(n)}}();var o=document.querySelector(".response-modal-background"),s=o.querySelector(".response-modal"),a=o.querySelector(".response-modal h1"),l=o.querySelector(".response-modal p"),c=o.querySelector(".response-modal button"),u=function(t){o.style.display="none",null!=i&&(window.location=i),e&&!i&&r&&r(),c.removeEventListener("click",u)};c.addEventListener("click",u),a.textContent=t,e?a.classList.remove("error-response"):a.classList.add("error-response"),l.textContent=n,o.style.display="block",s.style.display="block",s.classList.add("response-modal-slide-up")}function UO(e){return UO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UO(e)}function qO(){qO=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==UO(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(UO(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function VO(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function HO(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){VO(o,i,r,s,a,"next",e)}function a(e){VO(o,i,r,s,a,"throw",e)}s(void 0)}))}}function $O(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=WO(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function zO(e){return function(e){if(Array.isArray(e))return GO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||WO(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WO(e,t){if(e){if("string"==typeof e)return GO(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GO(e,t):void 0}}function GO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function KO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,YO(i.key),i)}}function YO(e){var t=function(e){if("object"!=UO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=UO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==UO(t)?t:t+""}function XO(e,t,n){return t=QO(t),function(e,t){if(t&&("object"==UO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JO()?Reflect.construct(t,n||[],QO(e).constructor):t.apply(e,n))}function JO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(JO=function(){return!!e})()}function QO(e){return QO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QO(e)}function ZO(e,t){return ZO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ZO(e,t)}var eI=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),XO(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZO(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){this.elem=this.querySelector("form"),this.loggedInState=!1,this.emailInput=this.elem.querySelector(".all-subscriptions-module__email"),this.subscriptionEndpoint=this.elem.getAttribute("action"),this.userTokenEndpoint="/marketing/userprofile/marketingauth/users/subscriptions",this.checkboxes=Array.from(this.elem.querySelectorAll("input[type=checkbox]")),this.selectAllNewsletters=this.elem.querySelector('[data-select-all-subs="newsletters"]'),this.selectAllIndustries=this.elem.querySelector('[data-select-all-subs="industries"]'),this.selectAllCapabilities=this.elem.querySelector('[data-select-all-subs="capabilities"]'),this.newsLetters=Array.from(this.elem.querySelectorAll(".all-subscriptions-module__cards input[type=checkbox]")),this.industrieEalerts=Array.from(this.elem.querySelectorAll(".all-subscriptions-module__industries input[type=checkbox]")),this.capabilitieEalerts=Array.from(this.elem.querySelectorAll(".all-subscriptions-module__capabilities input[type=checkbox]")),this.eAlerts=[].concat(zO(this.industrieEalerts),zO(this.capabilitieEalerts)),this.spinner=new UT,this.unsubscribeCheckbox=this.elem.querySelector('[data-checkbox-role="unsubscribe"]'),this.unsubscribeCheckboxLabel=this.elem.querySelector(".all-subscriptions-module__unsubscribe .CheckboxInput .CheckboxInput-label"),this.formSubmitSection=this.elem.querySelector(".all-subscriptions-module__submit"),this.subscriptions=[],this.formSubmitSectionShowing=!1,this.loggedInState="true"===this.elem.dataset.userLoggedIn,this.loggedInStateEvent="true"===this.elem.dataset.userLoggedIn,this.promptedLogginSubmit=!1,this.thirdRailCase=!1,this.hasUserToken=!1,this.urlParams=new URLSearchParams(window.location.search),this.bindEvents(),this.initializeForm(this.loggedInState),this.showSubscriptions(),this.inputValueHash=this.populateInputHash()}},{key:"checkForThirdRail",value:function(){var e=null!=this.urlParams.get("usertoken")?encodeURIComponent(this.urlParams.get("usertoken")):null,t=document.querySelector('[data-third-rail-items="true"]');return e&&t?(this.elem.dataset.hasUserToken=!0,this.thirdRailCase=!0,!0):(this.thirdRailCase=!1,!1)}},{key:"checkForUserToken",value:function(){return null!=this.urlParams.get("usertoken")&&encodeURIComponent(this.urlParams.get("usertoken"))?(this.elem.dataset.hasUserToken=!0,this.hasUserToken=!0,!0):(this.elem.dataset.hasUserToken=!1,this.hasUserToken=!1,!1)}},{key:"toggleHideInterstitialNav",value:function(e){e?document.documentElement.classList.remove("hide-interstitial-on-subcription-page"):document.documentElement.classList.add("hide-interstitial-on-subcription-page")}},{key:"populateInputHash",value:function(){var e={1:{label:"Industries & Capabilities",type:"email"}};return this.eAlerts.forEach((function(t){var n=t.parentNode.querySelector("span").textContent,i=t.value;e[i]={label:n,type:"e-alert"}})),this.newsLetters.forEach((function(t){var n=t.closest(".subscription-promo__card").querySelector(".subscription-promo__card__title").textContent,i=t.value;e[i]={label:n,type:"email"}})),e}},{key:"getCheckedInputs",value:function(){var e=[];return this.eAlerts.forEach((function(t){t.checked&&(e.push(t.value),e.includes("1")||e.push("1"))})),this.newsLetters.forEach((function(t){t.checked&&e.push(t.value)})),e}},{key:"getSubscriptionDiff",value:function(e){var t={newSubs:[],newUnsubs:[]};if(e.includes("unsubscribe")){for(var n in this.inputValueHash)"unsubscribe"!==n&&t.newUnsubs.push(n);return t}var i,r=$O(this.subscriptions);try{for(r.s();!(i=r.n()).done;){var o=i.value;e.includes(o)||t.newUnsubs.push(o)}}catch(e){r.e(e)}finally{r.f()}var s,a=$O(e);try{for(a.s();!(s=a.n()).done;){var l=s.value;this.subscriptions.includes(l)||t.newSubs.push(l)}}catch(e){a.e(e)}finally{a.f()}return t}},{key:"getInputValueHashItem",value:function(e){for(var t in this.inputValueHash)if(e===t)return this.inputValueHash[t];return!1}},{key:"setAdobeAnalyticData",value:function(){var e=[],t=Array.from(this.elem.querySelectorAll('input[name^="User.DalUser.Subscriptions"]:checked')),n=Array.from(this.elem.querySelectorAll('input[name^="User.DalUser.User_Interests_Industries"]:checked')),i=Array.from(this.elem.querySelectorAll('input[name^="User.DalUser.User_Interests_Capabilities"]:checked'));[].concat(t,n,i).forEach((function(t){var n,i=t.value,r={};n="newsletter-subs"===t.dataset.checkboxRole?t.closest(".subscription-promo__card").querySelector(".subscription-promo__card__title").textContent:t.closest(".CheckboxInput-label").querySelector("span").textContent,r.id=i,r.name=n,r.subcribe=!0,e.push(r)})),window.dispatchEvent((0,NE.t3)("adobe.nongated.subscription.page",e))}},{key:"setAdobeDigitalData",value:function(e){var t=this,n=[],i=!0;e.newSubs.length&&(i=!0,e.newSubs.forEach((function(e){var r=t.getInputValueHashItem(e),o={};r&&(o.id=e,o.name=r.label,o.subscribe=i,n.push(o))}))),e.newUnsubs.length&&(i=!1,e.newUnsubs.forEach((function(e){var r=t.getInputValueHashItem(e),o={};r&&(o.id=e,o.name=r.label,o.subscribe=i,n.push(o))}))),window.dispatchEvent((0,NE.t3)("adobe.subscription.page",n))}},{key:"showSubscriptions",value:function(){"/SUBSCRIPTION"===window.location.pathname.toUpperCase()&&null==(0,NE.ak)("usertoken")&&null==(0,NE.ak)("userToken")&&document.querySelector(".all-subscriptions-module").classList.add("show")}},{key:"showResponseModal",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n?BO(!0,e,t,null,n):BO(!0,e,t,null)}},{key:"showSubmitButton",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Array.from(this.elem.querySelectorAll("input[type=checkbox]:checked")),i=this.getSubscriptionDiff(this.getCheckedInputs()),r=i.newSubs.length>0||i.newUnsubs.length>0;0!==n.length||r||(t=!1),t?(this.formSubmitSection.style.display="flex",setTimeout((function(){document.documentElement.classList.add("subscription-submit-visible"),e.formSubmitSection.classList.add("all-subscriptions-module__submit--scrolled"),e.formSubmitSectionShowing=!0}),10)):(document.documentElement.classList.remove("subscription-submit-visible"),this.formSubmitSection.classList.remove("all-subscriptions-module__submit--scrolled"),this.formSubmitSectionShowing=!1,setTimeout((function(){e.formSubmitSection.style.display="none"}),300))}},{key:"handleUnsubscribe",value:function(){return!!this.unsubscribeCheckbox.checked&&(this.uncheckAllCheckboxes(),!0)}},{key:"uncheckAllCheckboxes",value:function(){this.checkboxes.forEach((function(e){"unsubscribe"!==e.dataset.checkboxRole&&(e.checked=!1)}))}},{key:"toggleRegularCheckbox",value:function(e){e.checked&&"unsubscribe"!==e.dataset.checkboxRole&&(this.unsubscribeCheckbox.checked=!1),e.checked||("newsletter-subs"===e.dataset.checkboxRole&&(this.selectAllNewsletters.querySelector('[data-checkbox-role="select-all"]').checked=!1),"industry-subs"===e.dataset.checkboxRole&&(this.selectAllIndustries.querySelector('[data-checkbox-role="select-all"]').checked=!1),"capability-subs"===e.dataset.checkboxRole&&(this.selectAllCapabilities.querySelector('[data-checkbox-role="select-all"]').checked=!1)),this.checkboxSectionAllChecked(e)}},{key:"checkboxSectionAllChecked",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e&&(t=e.closest("[data-sub-type]")),t){var n=t.querySelectorAll("input[type=checkbox]").length,i=t.querySelectorAll("input[type=checkbox]:checked").length;"newsletter"===t.dataset.subType?this.selectAllNewsletters.querySelector('[data-checkbox-role="select-all"]').checked=n===i:"industry"===t.dataset.subType?this.selectAllIndustries.querySelector('[data-checkbox-role="select-all"]').checked=n===i:"capability"===t.dataset.subType&&(this.selectAllCapabilities.querySelector('[data-checkbox-role="select-all"]').checked=n===i)}}},{key:"toggleAllSubs",value:function(e,t){var n=e.target.closest("[data-select-all-subs]").querySelector("input");"newsLetters"===t?this.newsLetters.forEach((function(e){n.checked?e.checked=!0:e.checked=!1})):"industries"===t?this.industrieEalerts.forEach((function(e){var t=e.closest(".subscription-ealert");n.checked?(e.checked=!0,t&&t.classList.add("subscription-ealert--sub-active")):(e.checked=!1,t&&t.classList.remove("subscription-ealert--sub-active"))})):"capabilities"===t&&this.capabilitieEalerts.forEach((function(e){var t=e.closest(".subscription-ealert");n.checked?(e.checked=!0,t&&t.classList.add("subscription-ealert--sub-active")):(e.checked=!1,t&&t.classList.remove("subscription-ealert--sub-active"))}))}},{key:"setUserSubscriptionsHelper",value:function(e){this.subscriptions=e}},{key:"setUserSubscriptions",value:function(){var e=this,t="".concat(this.subscriptionEndpoint),n=null!=this.urlParams.get("usertoken")?encodeURIComponent(this.urlParams.get("usertoken")):null;n&&(t="".concat(this.userTokenEndpoint,"?userToken=").concat(n)),VE().then((function(n){window.fetch(t,{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(t){var n=t.Data;"Opt-Out"===n["bcg-gdpr-status"]&&(e.unsubscribeCheckbox.checked=!0);var i,r=[],o=$O(n["email-type"]);try{for(o.s();!(i=o.n()).done;){var s=i.value;r.push(s+"")}}catch(e){o.e(e)}finally{o.f()}(n.industries.length>0||n.capabilities.length>0)&&(r=(r=r.concat(n.industries)).concat(n.capabilities)),e.setUserSubscriptionsHelper(r),e.updatedSubscriptionUi(n)})).catch((function(e){return console.log(e)}))}))}},{key:"updatedSubscriptionUi",value:function(e){var t=this,n=this.elem,i=[n.querySelector('[data-sub-type="newsletter"]'),n.querySelector('[data-sub-type="industry"]'),n.querySelector('[data-sub-type="capability"]')],r=e,o=r["email-type"]?r["email-type"].map((function(e){return parseInt(e.Id)})):[],s=r.industries?r.industries.map((function(e){return e.Id})):[],a=r.capabilities?r.capabilities.map((function(e){return e.Id})):[],l=s.concat(a),c=o.concat(l);this.checkboxes.forEach((function(e){e.checked=!1;var t=e.closest(".subscription-ealert");t&&t.classList.remove("subscription-ealert--sub-active")})),0===c.length?this.unsubscribeCheckbox.checked=!0:c.forEach((function(e){var t=n.querySelector('input[value="'.concat(e,'"]'));if(t){t.checked=!0;var i=t.closest(".subscription-ealert");i&&i.classList.add("subscription-ealert--sub-active")}})),i.forEach((function(e){t.checkboxSectionAllChecked(null,e)}))}},{key:"initializeForm",value:function(e){this.elem.dataset.userLoggedIn=e,this.emailInput&&(this.emailInput.value=""),(this.checkForThirdRail()||this.checkForUserToken())&&(e=!0),e?(this.toggleHideInterstitialNav(!0),this.setUserSubscriptions()):(this.toggleHideInterstitialNav(!1),this.uncheckAllCheckboxes())}},{key:"handleLogin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"no-context";this.loggedInState=!0,this.loggedInStateEvent=!0,"subscription-widget"===e&&this.promptedLogginSubmit?this.getFormData():this.initializeForm(this.loggedInState)}},{key:"handleLogout",value:function(){this.loggedInState=!1,this.loggedInStateEvent=!1,this.initializeForm(this.loggedInState)}},{key:"handleFormSubmit",value:(i=HO(qO().mark((function e(t){var n,i,r,o;return qO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target,i=null!==window.localStorage.getItem("okta-token-storage"),!this.loggedInStateEvent||i||this.checkForThirdRail()||this.checkForUserToken()){e.next=7;break}window.location.reload(),e.next=20;break;case 7:if(!(this.loggedInState||this.thirdRailCase||this.hasUserToken)){e.next=11;break}this.loggedInFormSubmit(),e.next=20;break;case 11:if(r=n.querySelector(".all-subscriptions-module__email"),this.email=r.value,this.handleEmailInput()){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,HE(this.email);case 17:o=e.sent,this.promptedLogginSubmit=!0,window.dispatchEvent((0,NE.t3)("showSignInWidget",{context:{source:"subscription-widget",showRegistration:!o,email:this.email}}));case 20:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"handleEmailInput",value:function(){var e=this.elem.querySelector(".email-error");return this.elem.checkValidity()?(e.textContent="",e.classList.remove("hasError"),!0):(e.classList.add("hasError"),this.emailInput.validity.valueMissing?(e.textContent=this.emailInput.dataset.fieldRequired,!1):(e.textContent=this.emailInput.dataset.fieldError,!1))}},{key:"getFormData",value:function(){this.setAdobeAnalyticData();var e={},t=this.elem.querySelector(".all-subscriptions-module__email"),n=Array.from(this.elem.querySelectorAll('input[name^="User.DalUser.Subscriptions"]:checked')),i=Array.from(this.elem.querySelectorAll('input[name^="User.DalUser.User_Interests_Industries"]:checked')),r=Array.from(this.elem.querySelectorAll('input[name^="User.DalUser.User_Interests_Capabilities"]:checked'));t.value&&(e.email=t.value),n.length>0&&n.forEach((function(t){e.emailTypeId?e.emailTypeId+=","+t.value:e.emailTypeId=t.value})),i.length>0&&i.forEach((function(t){e.industries?e.industries+=","+t.value:e.industries=t.value})),r.length>0&&r.forEach((function(t){e.capabilities?e.capabilities+=","+t.value:e.capabilities=t.value})),this.loggedOutFormSubmit(JSON.stringify(e))}},{key:"loggedOutFormSubmit",value:function(e){var t=this,n="",i="";this.spinner.show();var r=this;VE().then((function(o){o.MethodRequestType="PUT",window.fetch("/marketing/userprofile/oktaauth/users/widget-subscriptions",{method:"POST",body:e,headers:o}).then((function(e){return e.json()})).then((function(e){var o=e.Data;t.spinner.hide(),o.success?(t.emailInput.value="",n="Saved Successfully",i="Your subscriptions have been updated",t.showResponseModal(n,i,(function(){r.promptedLogginSubmit&&(r.promptedLogginSubmit=!1,r.initializeForm(!0))}))):(n="Not Saved",o.errors&&(i=o.errors[0]),t.showResponseModal(n,i)),t.showSubmitButton(!1)})).catch((function(e){console.log(e),t.spinner.hide(),BO("Not Saved","An error occurred. Please try again later.")}))}))}},{key:"loggedInFormSubmit",value:function(){var e=this;this.spinner.show();var t=this.handleUnsubscribe(),n=this.getCheckedInputs(),i=this.getSubscriptionDiff(n);this.setAdobeDigitalData(i);var r={DalUser:{User_ID:null,User_Type:null,OKTA_ID:null,User_CRM_ID:null,User_CRM_Email:null,User_CRM_Hash:null,Third_Rail_Unsubscription_Value:null,User_Email_Third_Rail:null,Subscriptions:[],UnSubscriptions:[],User_Interests_Capabilities:[],User_Interests_Industries:[],Marketo_Lead_Id:null}},o=this.elem.querySelector('input[name="User.DalUser.User_ID"]').value;0===o.length?r.DalUser.User_ID=null:r.DalUser.User_ID=o,Array.from(this.elem.querySelectorAll('input[name^="User.DalUser.Subscriptions"]:checked')).forEach((function(e){var t={Subscription_ID:0,User_ID:e.dataset.userid?e.dataset.userid:null,SYS_Email_Type_ID:e.value};r.DalUser.Subscriptions.push(t)})),Array.from(this.elem.querySelectorAll('input[name^="User.DalUser.User_Interests_Industries"]:checked')).forEach((function(e){var t={User_Interests_Industries_ID:0,User_ID:e.dataset.userid?e.dataset.userid:null,SYS_Interests_Industries_ID:e.value};r.DalUser.User_Interests_Industries.push(t)})),Array.from(this.elem.querySelectorAll('input[name^="User.DalUser.User_Interests_Capabilities"]:checked')).forEach((function(e){var t={User_Interests_Capabilities_ID:0,User_ID:e.dataset.userid?e.dataset.userid:null,SYS_Interests_Capabilities_ID:e.value};r.DalUser.User_Interests_Capabilities.push(t)}));var s="".concat(this.subscriptionEndpoint,"?userToken&unsubscribe"),a=null!=this.urlParams.get("usertoken")?encodeURIComponent(this.urlParams.get("usertoken")):null;Array.from(this.elem.querySelectorAll('input[name^="unsubscribe_third_rail"]:checked')).forEach((function(e){r.DalUser.Third_Rail_Unsubscription_Value=e.value})),r.DalUser.User_Email_Third_Rail=null!=this.urlParams.get("useremail")?decodeURIComponent(this.urlParams.get("useremail")):null,r.DalUser.Marketo_Lead_Id=null!=this.urlParams.get("mktleadid")?decodeURIComponent(this.urlParams.get("mktleadid")):null,a?t?(r.DalUser.Third_Rail_Unsubscription_Value="all",s="".concat(this.userTokenEndpoint,"?userToken=").concat(a,"&unsubscribe=unsubscribe")):s="".concat(this.userTokenEndpoint,"?userToken=").concat(a,"&unsubscribe"):s="".concat(this.subscriptionEndpoint,t?"?userToken&unsubscribe=unsubscribe":"?userToken&unsubscribe"),VE().then((function(n){n.MethodRequestType="PUT",window.fetch(s,{method:"POST",body:JSON.stringify(r),headers:n}).then((function(e){return e.json()})).then((function(n){var i=n.Data;e.spinner.hide(),i.success?(window.localStorage.setItem("subscriptions",JSON.stringify(i)),BO(!0,"Saved Successfully",t?"You are now unsubscribed from all BCG communications.":"Your subscriptions have been updated")):i["prompt-login"]?window.dispatchEvent((0,NE.t3)("showSignInWidget",{context:{source:"subscription-widget",email:e.email}})):BO(!1,"Not Saved","An error occurred. Please try again later."),e.setUserSubscriptions(),e.showSubmitButton(!1)})).catch((function(t){e.spinner.hide(),console.log(t),BO(!1,"Not Saved","An error occurred. Please try again later.")}))}))}},{key:"bindEvents",value:function(){var e=this;window.addEventListener("login.success",(function(t){return e.handleLogin(t.detail.context)})),window.addEventListener("logout",this.handleLogout.bind(this)),this.elem.addEventListener("submit",function(){var t=HO(qO().mark((function t(n){return qO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleFormSubmit(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.emailInput.addEventListener("input",this.handleEmailInput.bind(this)),this.selectAllNewsletters.querySelector(".CheckboxInput > .CheckboxInput-label > input").addEventListener("click",(function(t){return e.toggleAllSubs(t,"newsLetters")})),this.selectAllIndustries.querySelector(".CheckboxInput > .CheckboxInput-label > input").addEventListener("click",(function(t){return e.toggleAllSubs(t,"industries")})),this.selectAllCapabilities.querySelector(".CheckboxInput > .CheckboxInput-label > input").addEventListener("click",(function(t){return e.toggleAllSubs(t,"capabilities")})),this.unsubscribeCheckbox.addEventListener("click",(function(){return e.handleUnsubscribe()})),!1===this.formSubmitSectionShowing&&this.elem.addEventListener("click",(function(t){"checkbox"===t.target.type&&e.showSubmitButton()})),this.checkboxes.forEach((function(t){return t.addEventListener("click",(function(){return e.toggleRegularCheckbox(t)}))}))}}],n&&KO(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();function tI(e){return tI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tI(e)}function nI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,iI(i.key),i)}}function iI(e){var t=function(e){if("object"!=tI(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=tI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==tI(t)?t:t+""}function rI(e,t,n){return t=sI(t),function(e,t){if(t&&("object"==tI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oI()?Reflect.construct(t,n||[],sI(e).constructor):t.apply(e,n))}function oI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oI=function(){return!!e})()}function sI(e){return sI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sI(e)}function aI(e,t){return aI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aI(e,t)}var lI=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rI(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aI(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){var e=this;this.module=this,this.embedHtmlEl=this.querySelector(".raw-html-container--html-embed"),this.embedType=this.embedHtmlEl.dataset.htmlEmbedType,this.mount=this.module.querySelector(".raw-html-container__html-mount");try{this.waitForTrustarcCookies(20,300).then((function(t){t.expressedEu?e.checkTrustarcPreferences("expressed")?e.mountHtml():e.mountCookieNotice():t.impliedNonEu&&(e.checkTrustarcPreferences("implied")?e.mountHtml():e.mountCookieNotice())})).catch((function(t){console.info(t),e.mountHtml()}))}catch(e){console.info("gdprFixHtmlEmbeds initialization failed",e)}}},{key:"mountHtml",value:function(){var e=this.module.querySelector(".raw-html-container__template").content.cloneNode(!0);this.mount.appendChild(e)}},{key:"mountCookieNotice",value:function(){var e=this.createCookieNoticeOverlay("content","Modify Cookie Settings"),t=document.createElement("div");if(this.module.closest(".grid-row"))t.appendChild(e);else{var n=document.createElement("div"),i=document.createElement("div");t.classList.add("container-1"),n.classList.add("grid-row"),n.classList.add("containing-element"),i.classList.add("grid-column"),t.appendChild(n),n.appendChild(i),i.appendChild(e)}this.mount.appendChild(t)}},{key:"waitForTrustarcCookies",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return new Promise((function(n,i){var r=0,o=setInterval((function(){var t=document.cookie.match(/\bnotice_behavior=implied,eu\b/),s=document.cookie.match(/\bnotice_behavior=expressed,eu\b/),a={impliedNonEu:t,expressedEu:s};r>=e?(clearInterval(o),a.msg="Failure: Cookie could not be found.",i(a)):(t||s)&&(clearInterval(o),a.msg="Success: Cookie was found.",n(a)),r++}),t)}))}},{key:"checkTrustarcPreferences",value:function(e){var t=window.localStorage.getItem("truste.eu.cookie.notice_preferences");return t?"2:"===JSON.parse(t).value:(console.info("Truste userPreference local storage item was not found"),"implied"===e)}},{key:"createCookieNoticeOverlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"content",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Modify Cookie Settings",n="To view this ".concat(e,", you must consent to all cookies");window.bcgMessages&&window.bcgMessages.contentTypeMessage&&(n=window.bcgMessages.contentTypeMessage).replace("$CONTENT_TYPE",e);var i=document.createTextNode(n),r=document.createElement("div"),o=document.createElement("div");o.classList.add("gdpr-fixes__change-cookies-notice__child-wrapper");var s=document.createElement("div");s.classList.add("gdpr-fixes__change-cookies-notice__child-wrapper"),r.classList.add("gdpr-fixes__change-cookies-notice");var a=document.createElement("p");a.appendChild(i);var l=document.createElement("button");l.setAttribute("type","button");var c=document.createTextNode(t);return l.appendChild(c),l.addEventListener("click",(function(e){e.preventDefault(),window.truste.eu.clickListener()})),o.appendChild(a),r.appendChild(o),s.appendChild(l),r.appendChild(s),r}}],n&&nI(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function cI(e){return cI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cI(e)}function uI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function hI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,yI(i.key),i)}}function dI(e,t,n){return t=fI(t),function(e,t){if(t&&("object"==cI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pI()?Reflect.construct(t,n||[],fI(e).constructor):t.apply(e,n))}function pI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pI=function(){return!!e})()}function fI(e){return fI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fI(e)}function mI(e,t){return mI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mI(e,t)}function gI(e,t,n){return(t=yI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yI(e){var t=function(e){if("object"!=cI(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=cI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==cI(t)?t:t+""}var vI=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return gI(t=dI(this,e,[].concat(i)),"validateForm",(function(){t.form.checkValidity()&&t.captchaSuccess?t.form.classList.add("ContactFormValid"):t.form.classList.remove("ContactFormValid")})),gI(t,"recaptchaSuccessCallback",(function(e,n){var i,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return uI(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uI(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(e);try{for(r.s();!(i=r.n()).done;)"attributes"===i.value.type&&t.captcha.classList.contains("isCaptcha")&&(console.log('The "isCaptcha" class was added'),t.captchaSuccess=!0,t.validateForm())}catch(e){r.e(e)}finally{r.f()}})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mI(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.initialized||(this.module=this,this.form=this.module.querySelector("form"),this.fields=this.form.querySelectorAll(".fieldset__field"),this.successMessage=this.form.querySelector(".form__successMsg"),this.captcha=this.form.querySelector(".fieldset__captchaWrapper"),this.captchaSuccess=!1,this.bindEvents(),this.initialized=!0)}},{key:"updateSubmitButtonStyle",value:function(){new window.MutationObserver(this.recaptchaSuccessCallback).observe(this.captcha,{attributes:!0,attributeFilter:["class"]}),this.form.addEventListener("keyup",this.validateForm)}},{key:"bindEvents",value:function(){var e=this;this.updateSubmitButtonStyle(),this.form.addEventListener("submit",(function(t){return e.formSubmit(t)}));var t=this.form.querySelectorAll(".input, .select, .textarea");t.forEach((function(t){return t.addEventListener("focus",e.fieldFocus)})),t.forEach((function(t){return t.addEventListener("keyup",e.fieldKeyup)})),this.form.querySelectorAll(".fieldset__errorMessage").forEach((function(t){return t.addEventListener("click",e.fieldFocus)}))}},{key:"formSubmit",value:function(e){var t=this;e.preventDefault();var n=this.captcha;this.successMessage.classList.remove("error"),this.fields.forEach((function(e){var t,n=!0,i=e.parentNode,r=i.querySelector(".fieldset__errorMessage");if("textarea"===e.tagName.toLowerCase()){var o=e.getAttribute("pattern"),s=new RegExp(o),a=e.value;o&&a&&(n=null!==a.match(s))}if(!e.hasAttribute("data-errmsg")||e.validity.valid&&n)i.classList.add("isValid");else{i.classList.add("hasError"),i.classList.contains("isValid")&&i.classList.remove("isValid");var l=(0,NE.Fg)(e.dataset.errmsg);t=JSON.parse(l),(e.validity.badInput||e.validity.typeMismatch||e.validity.patternMismatch||!n)&&(r.textContent=t.typeMismatch),e.validity.valueMissing&&(r.textContent=t.valueMissing)}})),this.fields.length===this.form.querySelectorAll(".isValid").length&&n.classList.contains("isCaptcha")&&(this.form.classList.add("form--submitting"),window.fetch(this.form.getAttribute("action"),{method:this.form.getAttribute("method"),body:new FormData(this.form)}).then((function(e){return e.json()})).then((function(e){e.messageType&&"error"===e.messageType?(console.warn("Failed Email: ",e.error),t.successMessage.classList.add("error"),t.successMessage.innerHTML=e.message||"<p>Failed. Your email could not be sent.</p>"):(t.successMessage.classList.remove("error"),t.successMessage.innerHTML=e.message||"<h3>Thank you</h3><p>Your message has been sent</p>"),t.form.classList.add("hidden"),t.successMessage.classList.remove("hidden");var n=(0,NE.t3)("adobe.form.success",{context:t.form});window.dispatchEvent(n)})).catch((function(e){return console.info(e)})))}},{key:"fieldFocus",value:function(){this.parentNode.classList.remove("hasError");var e=this.parentNode.querySelector(".fieldset__errorMessage");e&&e.replaceChildren()}},{key:"fieldKeyup",value:function(e){e.preventDefault();var t=this,n=this.parentNode;if(n.classList.add("hasValue"),t.validity.valid&&n.classList.add("isValid"),"textarea"===t.tagName.toLowerCase()){var i=!0,r=t.getAttribute("pattern"),o=new RegExp(r),s=t.value;r&&s&&(i=null!==s.match(o)),i||n.classList.remove("isValid")}}}],n&&hI(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function bI(e){return bI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bI(e)}function _I(e){return function(e){if(Array.isArray(e))return wI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wI(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wI(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function kI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,SI(i.key),i)}}function SI(e){var t=function(e){if("object"!=bI(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=bI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bI(t)?t:t+""}function EI(e,t,n){return t=xI(t),function(e,t){if(t&&("object"==bI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,TI()?Reflect.construct(t,n||[],xI(e).constructor):t.apply(e,n))}function TI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(TI=function(){return!!e})()}function xI(e){return xI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xI(e)}function CI(e,t){return CI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CI(e,t)}var PI=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),EI(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CI(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){var e=this;this.originalSelectEl=this.querySelector("select"),this.originalSelectEl.style.display="none",this.originalSelectEl.setAttribute("aria-hidden","true"),this.originalSelectLabelEl=this.querySelector(".Select-label span"),this.originalSelectLabel=this.originalSelectLabelEl?this.originalSelectLabelEl.innerText:"";var t=this.originalSelectEl?this.originalSelectEl.getAttribute("name"):"needId",n=this.originalSelectEl.querySelectorAll("option");this.optionsLookup={},this.options=[],n.forEach((function(t){e.options.push(t.text),e.optionsLookup[t.innerText]={value:n.value,label:t.innerText}}));var i='<div class="combo js-select">\n      <div id="'.concat(t,'-combo1-label" class="combo-label">').concat(this.originalSelectLabel,'</div>\n      <div aria-controls="listbox1" aria-expanded="false" aria-haspopup="listbox" aria-labelledby="').concat(t,'-combo1-label" id="').concat(t,'-combo1" class="combo-input" role="combobox" tabindex="0"></div>\n      <div class="combo-menu" role="listbox" id="').concat(t,'-listbox1" aria-labelledby="').concat(t,'-combo1-label" tabindex="-1">\n      </div>\n    </div>\n    ');this.insertAdjacentHTML("beforeend",i);var r=this.querySelector(".js-select");this.el=r,this.labelEl=r.querySelector(".combo-label"),this.comboEl=r.querySelector("[role=combobox]"),this.listboxEl=r.querySelector("[role=listbox]"),this.noPlaceholder=this.getAttribute("data-noplaceholder"),this.idBase=this.comboEl.id||"combo",this.activeIndex=0,this.open=!1,this.searchString="",this.searchTimeout=null,r&&this.comboEl&&this.listboxEl&&this.init()}},{key:"init",value:function(){var e=this;this.comboEl.innerHTML=this.options[0],this.labelEl.addEventListener("click",this.onLabelClick.bind(this)),this.comboEl.addEventListener("blur",this.onComboBlur.bind(this)),this.listboxEl.addEventListener("focusout",this.onComboBlur.bind(this)),this.comboEl.addEventListener("click",this.onComboClick.bind(this)),this.comboEl.addEventListener("keydown",this.onComboKeyDown.bind(this)),this.originalSelectEl.addEventListener("change",this.onOriginalSelectChange.bind(this)),this.originalSelectEl.addEventListener("forceupdate",this.onOriginalSelectChange.bind(this)),this.options.forEach((function(t,n){var i=e.createOption(t,n);e.listboxEl.appendChild(i)})),this.originalSelectEl.selectedIndex!==this.activeIndex&&this.selectOption(this.originalSelectEl.selectedIndex,!0),(this.noPlaceholder||0!==this.activeIndex)&&this.el.classList.add("has-value")}},{key:"createOption",value:function(e,t){var n=this,i=document.createElement("div");return i.setAttribute("role","option"),i.id="".concat(this.idBase,"-").concat(t),i.className=t===this.originalSelectEl.selectedIndex?"combo-option option-current":"combo-option",i.setAttribute("aria-selected","".concat(0===t)),i.innerText=e,0!==t||this.noPlaceholder||(i.setAttribute("disabled",!0),i.setAttribute("hidden",!0)),i.addEventListener("click",(function(e){e.stopPropagation(),n.onOptionClick(t)})),i.addEventListener("mousedown",this.onOptionMouseDown.bind(this)),i}},{key:"createOptions",value:function(){}},{key:"destroyOption",value:function(){}},{key:"destroyAllOptions",value:function(){}},{key:"getSearchString",value:function(e){var t=this;return"number"==typeof this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.searchTimeout=window.setTimeout((function(){t.searchString=""}),500),this.searchString+=e,this.searchString}},{key:"onLabelClick",value:function(){this.comboEl.focus()}},{key:"onComboBlur",value:function(e){this.listboxEl.contains(e.relatedTarget)||this.open&&(this.selectOption(this.activeIndex),this.updateMenuState(!1,!1))}},{key:"onComboClick",value:function(){this.open&&this.selectOption(0),this.updateMenuState(!this.open,!1)}},{key:"onComboKeyDown",value:function(e){var t=e.key,n=this.options.length-1,i=this.getActionFromKey(e,this.open);switch(i){case 3:case 2:this.updateMenuState(!0);case 4:case 8:case 7:case 6:return e.preventDefault(),this.onOptionChange(this.getUpdatedIndex(this.activeIndex,n,i));case 1:e.preventDefault(),this.selectOption(this.activeIndex);case 0:return e.preventDefault(),this.updateMenuState(!1);case 10:return this.onComboType(t);case 5:return e.preventDefault(),this.updateMenuState(!0)}}},{key:"onComboType",value:function(e){this.updateMenuState(!0);var t=this.getSearchString(e),n=this.getIndexByLetter(this.options,t,this.activeIndex+1);n>=0?this.onOptionChange(n):(window.clearTimeout(this.searchTimeout),this.searchString="")}},{key:"onOptionChange",value:function(e){this.activeIndex=e,this.comboEl.setAttribute("aria-activedescendant","".concat(this.idBase,"-").concat(e));var t=this.el.querySelectorAll("[role=option]");_I(t).forEach((function(e){e.classList.remove("option-current")})),t[e].classList.add("option-current"),this.isScrollable(this.listboxEl)&&this.maintainScrollVisibility(t[e],this.listboxEl),this.isElementInView(t[e])||t[e].scrollIntoView({behavior:"smooth",block:"nearest"})}},{key:"onOptionClick",value:function(e){this.onOptionChange(e),this.selectOption(e),this.updateMenuState(!1)}},{key:"onOptionMouseDown",value:function(){this.ignoreBlur=!0}},{key:"selectOption",value:function(e,t){this.activeIndex=e;var n=this.options[e];this.comboEl.innerHTML=n;var i=this.el.querySelectorAll("[role=option]");_I(i).forEach((function(e){e.setAttribute("aria-selected","false")})),i[e].setAttribute("aria-selected","true"),0!==this.activeIndex||this.noPlaceholder?this.el.classList.add("has-value"):this.el.classList.remove("has-value"),this.activeIndex!==this.originalSelectEl.selectedIndex&&this.updateOriginalSelectValue(e,t)}},{key:"updateMenuState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.open!==e){this.open=e,this.comboEl.setAttribute("aria-expanded","".concat(e)),e?this.el.classList.add("open"):this.el.classList.remove("open");var n=e?"".concat(this.idBase,"-").concat(this.activeIndex):"";this.comboEl.setAttribute("aria-activedescendant",n),""!==n||this.isElementInView(this.comboEl)||this.comboEl.scrollIntoView({behavior:"smooth",block:"nearest"}),t&&this.comboEl.focus()}}},{key:"updateOriginalSelectValue",value:function(e,t){this.originalSelectEl.selectedIndex=e,t||this.originalSelectEl.dispatchEvent(new Event("change"))}},{key:"onOriginalSelectChange",value:function(){var e=this.originalSelectEl.selectedIndex;e!==this.activeIndex&&this.selectOption(e,!0)}},{key:"filterOptions",value:function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(n){return 0===n.toLowerCase().indexOf(e.toLowerCase())&&t.indexOf(n)<0}))}},{key:"getActionFromKey",value:function(e,t){var n=e.key,i=e.altKey,r=e.ctrlKey,o=e.metaKey;if(!t&&["ArrowDown","ArrowUp","Enter"," "].includes(n))return 5;if("Home"===n)return 2;if("End"===n)return 3;if("Backspace"===n||"Clear"===n||1===n.length&&" "!==n&&!i&&!r&&!o)return 10;if(t){if("ArrowUp"===n&&i)return 1;if("ArrowDown"===n&&!i)return 4;if("ArrowUp"===n)return 8;if("PageUp"===n)return 7;if("PageDown"===n)return 6;if("Escape"===n)return 0;if("Enter"===n||" "===n)return 1}}},{key:"getIndexByLetter",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[].concat(_I(e.slice(i)),_I(e.slice(0,i))),o=this.filterOptions(r,t)[0];if(o)return e.indexOf(o);if((n=t.split("")).every((function(e){return e===n[0]}))){var s=this.filterOptions(r,t[0]);return e.indexOf(s[0])}return-1}},{key:"getUpdatedIndex",value:function(e,t,n){switch(n){case 2:return 0;case 3:return t;case 8:return Math.max(0,e-1);case 4:return Math.min(t,e+1);case 7:return Math.max(0,e-10);case 6:return Math.min(t,e+10);default:return e}}},{key:"isElementInView",value:function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}},{key:"isScrollable",value:function(e){return e&&e.clientHeight<e.scrollHeight}},{key:"maintainScrollVisibility",value:function(e,t){var n=e.offsetHeight,i=e.offsetTop,r=t.offsetHeight,o=t.scrollTop,s=i+n>o+r;i<o?t.scrollTo(0,i):s&&t.scrollTo(0,i-r+n)}}],n&&kI(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}(),AI=__webpack_require__(736);function OI(e){return OI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OI(e)}function II(){II=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==OI(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(OI(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function LI(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function DI(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){LI(o,i,r,s,a,"next",e)}function a(e){LI(o,i,r,s,a,"throw",e)}s(void 0)}))}}function RI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,MI(i.key),i)}}function MI(e){var t=function(e){if("object"!=OI(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=OI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==OI(t)?t:t+""}function NI(e,t,n){return t=FI(t),function(e,t){if(t&&("object"==OI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jI()?Reflect.construct(t,n||[],FI(e).constructor):t.apply(e,n))}function jI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jI=function(){return!!e})()}function FI(e){return FI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FI(e)}function BI(e,t){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BI(e,t)}var UI=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),NI(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BI(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){var e=this;this.module=this,this.waitingOnLoginSuccess=!1,this.checkLoggedInEvent=!1,this.form=this.module.querySelector("form"),this.form.addEventListener("submit",function(){var t=DI(II().mark((function t(n){return II().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),n.stopPropagation(),t.next=4,e.handleSubscriptionSubmit(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.submitButton=this.form.querySelector(".subscribe__button"),this.dataSubscriptionTypes=this.module.dataset.subscriptionTypes,this.dataEmailType=parseInt(this.module.dataset.emailType),this.dataEmailTypeFriendly=this.module.dataset.emailTypeFriendly,this.dataSubscriptionTypesFriendly=this.module.dataset.subscriptionTypesFriendly,this.adobeData={},this.setupAnalyticObject(),this.spinner=new UT,window.addEventListener("login.success",(function(t){return e.handleLoginSuccess(t.detail.context)})),window.addEventListener("logout",(function(){return e.handleLogout()})),this.checkLoggedIn()&&(this.checkLoggedInEvent=!0,this.syncSubscriptions()),this.updateLoggedInState()}},{key:"setupAnalyticObject",value:function(){this.dataSubscriptionTypes?(this.adobeData.id=this.dataSubscriptionTypes,this.adobeData.name=this.dataSubscriptionTypesFriendly):(this.adobeData.id=this.dataEmailType,this.adobeData.name=this.dataEmailTypeFriendly),this.adobeData.subscribe=!0}},{key:"checkUiState",value:function(){if(null===window.localStorage.getItem("subscriptions"))this.updateSubscriptionTitle(this.checkLoggedIn());else{var e=this.getSubscriptions("subscriptions"),t=e["email-type"]?e["email-type"].map((function(e){return parseInt(e.Id)})):[],n=e.industries?e.industries.map((function(e){return e.Id})):[],i=e.capabilities?e.capabilities.map((function(e){return e.Id})):[],r=n.concat(i),o=this.cleanUpDomSubcriptionTypes(this.dataSubscriptionTypes);if(0===t.length&&0===r.length&&this.updateUi(!1),1!==this.dataEmailType)t.includes(this.dataEmailType)&&this.updateUi(!0);else{for(var s=0,a=o.length,l=!0;s<a;s++)r.includes(o[s])||(l=!1);l?this.updateUi(!0):this.updateUi(!1)}}}},{key:"updateSubscriptionTitle",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.module.querySelector(".subscribe__title--loggedin"),r=this.module.querySelector(".subscribe__title--notloggedin"),o=this.module.querySelector(".subscribe__title--loggedinsubscribed");t?t&&!n?e=i:t&&n&&(e=o):e=r,this.toggleSubscribeTitleHidden(e)}},{key:"toggleSubscribeTitleHidden",value:function(e){Array.from(this.module.querySelectorAll(".subscribe__title")).forEach((function(t){t===e?t.classList.remove("subscribe__title--hidden"):t.classList.add("subscribe__title--hidden")}))}},{key:"cleanUpDomSubcriptionTypes",value:function(e){for(var t=e.split(","),n=[],i=0;i<t.length;i++)0!==t[i].length&&n.push(t[i]);return n}},{key:"syncSubscriptions",value:function(){var e=this,t=new URLSearchParams(window.location.search),n="/marketing/userprofile/oktaauth/users/subscriptions?userToken&unsubscribe";if(!this.checkLoggedIn()){var i=null!=t.get("usertoken")?encodeURIComponent(t.get("usertoken")):null;n="/marketing/userprofile/marketingauth/users/subscriptions?userToken="+i+"&unsubscribe"}VE().then((function(t){window.fetch(n,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){e.setSubscriptions("subscriptions",t.Data),e.checkUiState()})).catch((function(e){return console.error(e)}))}))}},{key:"updateUi",value:function(e){var t="subscribe--user-subscribed",n=this.checkLoggedIn();e&&n?(this.module.classList.add(t),this.submitButton.textContent=this.submitButton.dataset.subscribeSuccess,this.toggleSubmitButton(!0)):(this.module.classList.remove(t),this.submitButton.textContent=this.submitButton.dataset.subscribe,this.toggleSubmitButton()),this.updateSubscriptionTitle(n,e)}},{key:"toggleSubmitButton",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.submitButton.setAttribute("disabled","disabled"):this.submitButton.removeAttribute("disabled")}},{key:"checkLoggedIn",value:function(){return null!==window.localStorage.getItem("okta-token-storage")}},{key:"updateLoggedInState",value:function(){var e="subscribe--user-logged-in";this.checkLoggedIn()?(this.module.classList.add(e),this.clearEmailInput()):this.module.classList.remove(e)}},{key:"handleLoginSuccess",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"no-context";if(this.checkLoggedInEvent=!0,this.updateLoggedInState(),"subscription-widget"===e&&this.waitingOnLoginSuccess){var t=this.getData();this.submitForm(JSON.stringify(t)),this.module.scrollIntoView(),this.waitingOnLoginSuccess=!1,this.module.dataset.waitingOnLoginSuccess="false"}else this.syncSubscriptions()}},{key:"handleLogout",value:function(){this.checkLoggedInEvent=!1,window.localStorage.getItem("subscriptions")&&window.localStorage.removeItem("subscriptions"),this.updateLoggedInState(),this.updateUi(!1)}},{key:"clearEmailInput",value:function(){this.module.querySelector('input[type="email"]').value="",this.module.querySelector(".email-error.field-validation-error").textContent=""}},{key:"getSubscriptions",value:function(e){var t=window.localStorage.getItem(e);return t?JSON.parse(t):""}},{key:"setSubscriptions",value:function(e,t){var n=JSON.stringify(t);window.localStorage.setItem(e,n)}},{key:"getData",value:function(){var e={};return this.email&&(e.email=this.email),e.emailTypeId=this.dataEmailType.toString(),e.industries="",e.capabilities="",e}},{key:"handleSubscriptionSubmit",value:(i=DI(II().mark((function e(t){var n,i,r,o,s;return II().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,i=n.querySelector(".email-error"),r=n.querySelector('input[type="email"]'),this.email=r.value,o=this.checkLoggedIn(),i.textContent="",null!==window.localStorage.getItem("okta-token-storage")?this.localStorage=!0:this.localStorage=!1,!0!==this.checkLoggedInEvent||this.localStorage){e.next=11;break}window.location.reload(),e.next=18;break;case 11:if(o){e.next=18;break}if(n.checkValidity()){e.next=18;break}if(!r.validity.valueMissing){e.next=16;break}return i.textContent=r.dataset.fieldRequired,e.abrupt("return");case 16:return i.textContent=r.dataset.fieldError,e.abrupt("return");case 18:if(!o){e.next=22;break}this.triggerSubmit(),e.next=28;break;case 22:return e.next=24,HE(this.email);case 24:s=e.sent,this.waitingOnLoginSuccess=!0,this.module.dataset.waitingOnLoginSuccess="true",window.dispatchEvent((0,NE.t3)("showSignInWidget",{context:{source:"subscription-widget",showRegistration:!s,email:this.email}}));case 28:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"triggerSubmit",value:function(){var e=this.getData();this.submitForm(JSON.stringify(e)),window.dispatchEvent((0,NE.t3)("adobe.form.start",{context:"subscription-widget"}))}},{key:"submitForm",value:function(e){var t=this;this.spinner.show(),this.checkLoggedIn()?(this.hasSubmittedForm=!0,VE().then((function(n){n.MethodRequestType="PUT",window.fetch("/marketing/userprofile/oktaauth/users/widget-subscriptions",{method:"POST",body:e,headers:n}).then((function(e){return e.json()})).then((function(e){t.spinner.hide(),e.Data.success&&(e.Data.emailAddress=t.email,t.setSubscriptions("subscriptions",e.Data),t.clearEmailInput(),t.checkUiState(),window.dispatchEvent((0,NE.t3)("adobe.subscriptions.widget.types",{context:[t.adobeData]})),window.dispatchEvent((0,NE.t3)("adobe.form.success",{context:t.form})))})).catch((function(e){t.spinner.hide(),console.error(e)}))}))):this.email||this.checkUiState()}}],n&&RI(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();function qI(e){return qI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qI(e)}function VI(){VI=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==qI(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(qI(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function HI(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function $I(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){HI(o,i,r,s,a,"next",e)}function a(e){HI(o,i,r,s,a,"throw",e)}s(void 0)}))}}function zI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,WI(i.key),i)}}function WI(e){var t=function(e){if("object"!=qI(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qI(t)?t:t+""}function GI(e,t,n){return t=YI(t),function(e,t){if(t&&("object"==qI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,KI()?Reflect.construct(t,n||[],YI(e).constructor):t.apply(e,n))}function KI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(KI=function(){return!!e})()}function YI(e){return YI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},YI(e)}function XI(e,t){return XI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XI(e,t)}var JI=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),GI(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XI(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){var e=this;this.module=this,this.subscriptionModuleType=this.module.dataset.subscriptionModuleType,this.waitingOnLoginSuccess=!1,this.checkLoggedInEvent=!1,this.form=this.module.querySelector("form"),this.form.addEventListener("submit",function(){var t=$I(VI().mark((function t(n){return VI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),n.stopPropagation(),t.next=4,e.handleSubscriptionSubmit(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.submitButton=this.form.querySelector('button[type="submit"]'),this.dataSubscriptionEmailType=parseInt(this.module.dataset.subscriptionEmailType),this.dataSubscriptionType=this.module.dataset.subscriptionType,this.dataSubscriptionIndustries=this.module.dataset.subscriptionIndustries,this.dataSubscriptionCapabilities=this.module.dataset.subscriptionCapabilities,this.dataSubscriptionTypes=this.dataSubscriptionIndustries?this.dataSubscriptionIndustries:this.dataSubscriptionCapabilities,this.adobeData={},this.spinner=new UT,window.addEventListener("login.success",(function(t){return e.handleLoginSuccess(t.detail.context)})),window.addEventListener("logout",(function(){return e.handleLogout()})),window.addEventListener("subscribed",(function(t){var n=JSON.parse(t.detail.context);n&&(parseInt(n.emailTypeId)>1&&parseInt(n.emailTypeId)===e.dataSubscriptionEmailType||n.industries.length>0&&n.industries===e.dataSubscriptionIndustries||n.capabilities.length>0&&n.capabilities===e.dataSubscriptionCapabilities)&&e.updateUi(!0)})),this.checkLoggedIn()&&(this.checkLoggedInEvent=!0,this.syncSubscriptions()),this.setupAnalyticObject(),this.updateLoggedInState()}},{key:"setupAnalyticObject",value:function(){this.dataSubscriptionTypes?(this.adobeData.id=this.dataSubscriptionTypes,this.adobeData.name=this.dataSubscriptionTypesFriendly):(this.adobeData.id=this.dataSubscriptionEmailType,this.adobeData.name=this.dataSubscriptionType),this.adobeData.subscribe=!0}},{key:"checkUiState",value:function(){if(null!=window.localStorage.getItem("subscriptions")){var e=this.getSubscriptions("subscriptions"),t=e["email-type"]?e["email-type"].map((function(e){return parseInt(e.Id)})):[],n=e.industries?e.industries.map((function(e){return e.Id})):[],i=e.capabilities?e.capabilities.map((function(e){return e.Id})):[],r=n.concat(i),o=this.cleanUpDomSubcriptionTypes(this.dataSubscriptionTypes);if(0===t.length&&0===r.length&&this.updateUi(!1),1!==this.dataSubscriptionEmailType)t.includes(this.dataSubscriptionEmailType)&&this.updateUi(!0);else{for(var s=0,a=o.length,l=!0;s<a;s++)r.includes(o[s])||(l=!1);l?this.updateUi(!0):this.updateUi(!1)}}}},{key:"cleanUpDomSubcriptionTypes",value:function(e){for(var t=e.split(","),n=[],i=0;i<t.length;i++)0!==t[i].length&&n.push(t[i]);return n}},{key:"syncSubscriptions",value:function(){var e=this,t=new URLSearchParams(window.location.search),n="/marketing/userprofile/oktaauth/users/subscriptions?userToken&unsubscribe";if(!this.checkLoggedIn()){var i=null!=t.get("usertoken")?encodeURIComponent(t.get("usertoken")):null;n="/marketing/userprofile/marketingauth/users/subscriptions?userToken="+i+"&unsubscribe"}VE().then((function(t){window.fetch(n,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){e.setSubscriptions("subscriptions",t.Data),e.checkUiState()})).catch((function(e){return console.error(e)}))}))}},{key:"updateUi",value:function(e){var t="subscribe-form--user-subscribed",n=this.checkLoggedIn();e&&n?(this.module.classList.add(t),this.toggleSubmitButton(!0)):(this.module.classList.remove(t),this.toggleSubmitButton()),"siderail"===this.subscriptionModuleType&&window.dispatchEvent((0,NE.t3)("subscription-update-ui",{context:[{subscribed:e,loggedin:n}]}))}},{key:"toggleSubmitButton",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.submitButton.setAttribute("disabled","disabled"):this.submitButton.removeAttribute("disabled")}},{key:"checkLoggedIn",value:function(){return null!==window.localStorage.getItem("okta-token-storage")}},{key:"updateLoggedInState",value:function(){var e="subscribe-form--user-logged-in";this.checkLoggedIn()?(this.module.classList.add(e),this.clearEmailInput()):this.module.classList.remove(e)}},{key:"handleLoginSuccess",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"no-context";if(this.checkLoggedInEvent=!0,this.updateLoggedInState(),"subscription-widget"===e&&this.waitingOnLoginSuccess){var t=this.getFormData();this.submitForm(JSON.stringify(t)),this.module.scrollIntoView(),this.waitingOnLoginSuccess=!1,this.module.dataset.waitingOnLoginSuccess="false"}else this.syncSubscriptions()}},{key:"handleLogout",value:function(){this.checkLoggedInEvent=!1,window.localStorage.getItem("subscriptions")&&window.localStorage.removeItem("subscriptions"),this.updateLoggedInState(),this.updateUi(!1)}},{key:"clearEmailInput",value:function(){this.module.querySelector('input[type="email"]').value=""}},{key:"getSubscriptions",value:function(e){var t=window.localStorage.getItem(e);return t?JSON.parse(t):""}},{key:"setSubscriptions",value:function(e,t){var n=JSON.stringify(t);window.localStorage.setItem(e,n)}},{key:"getFormData",value:function(){var e={};return this.email&&(e.email=this.email),e.emailTypeId=this.dataSubscriptionEmailType.toString(),e.industries=this.dataSubscriptionIndustries,e.capabilities=this.dataSubscriptionCapabilities,e}},{key:"handleSubscriptionSubmit",value:(i=$I(VI().mark((function e(t){var n,i,r,o,s;return VI().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,i=n.querySelector(".subscribe-form__email-error"),r=n.querySelector('input[type="email"]'),this.email=r.value,o=this.checkLoggedIn(),i.textContent="",null!==window.localStorage.getItem("okta-token-storage")?this.localStorage=!0:this.localStorage=!1,!0!==this.checkLoggedInEvent||this.localStorage){e.next=11;break}window.location.reload(),e.next=18;break;case 11:if(o){e.next=18;break}if(n.checkValidity()){e.next=18;break}if(!r.validity.valueMissing){e.next=16;break}return i.textContent=r.dataset.fieldRequired,e.abrupt("return");case 16:return i.textContent=r.dataset.fieldError,e.abrupt("return");case 18:if(!o){e.next=22;break}this.triggerSubmit(),e.next=28;break;case 22:return e.next=24,HE(this.email);case 24:s=e.sent,this.waitingOnLoginSuccess=!0,this.module.dataset.waitingOnLoginSuccess="true",window.dispatchEvent((0,NE.t3)("showSignInWidget",{context:{source:"subscription-widget",showRegistration:!s,email:this.email}}));case 28:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"triggerSubmit",value:function(){var e=this.getFormData();this.submitForm(JSON.stringify(e)),window.dispatchEvent((0,NE.t3)("adobe.form.start",{context:"subscription-widget"}))}},{key:"submitForm",value:function(e){var t=this;this.spinner.show(),this.checkLoggedIn()?(this.hasSubmittedForm=!0,VE().then((function(n){n.MethodRequestType="PUT",window.fetch("/marketing/userprofile/oktaauth/users/widget-subscriptions",{method:"POST",body:e,headers:n}).then((function(e){return e.json()})).then((function(n){t.spinner.hide(),n.Data.success&&(n.Data.emailAddress=t.email,t.setSubscriptions("subscriptions",n.Data),t.clearEmailInput(),t.checkUiState(),window.dispatchEvent((0,NE.t3)("adobe.subscriptions.widget.types",{context:[t.adobeData]})),window.dispatchEvent((0,NE.t3)("adobe.form.success",{context:t.form})),window.dispatchEvent((0,NE.t3)("subscribed",{context:[e]})))})).catch((function(e){t.spinner.hide(),console.error(e)}))}))):this.email||this.checkUiState()}}],n&&zI(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();function QI(e){return QI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QI(e)}function ZI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,eL(i.key),i)}}function eL(e){var t=function(e){if("object"!=QI(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=QI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==QI(t)?t:t+""}function tL(e,t,n){return t=iL(t),function(e,t){if(t&&("object"==QI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nL()?Reflect.construct(t,n||[],iL(e).constructor):t.apply(e,n))}function nL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nL=function(){return!!e})()}function iL(e){return iL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iL(e)}function rL(e,t){return rL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rL(e,t)}var oL=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tL(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rL(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.module=this,this.desktop="true"===this.module.dataset.desktopInstance,this.sideRailBtn=this.module.querySelector(".sticky-toolbar-icon-button"),this.sideRailBtnLabelDesktop=document.querySelector(".StickyToolbar.desktop-only .StickyToolbarWidgetSubscribe-button-label"),this.sideRailBtnLabelMobile=document.querySelector(".StickyToolbar.mobile-only .StickyToolbarWidgetSubscribe-button-label"),this.parentContainer=this.module.parentNode,this.subscribeForm=this.parentContainer.querySelector(".subscribe-form"),this.subscribeSubmitBtn=this.parentContainer.querySelector(".subscribe-form__subscribe-button"),this.dataSubscriptionEmailType=this.subscribeForm.dataset.subscriptionEmailType,this.dataSubscriptionIndustries=this.subscribeForm.dataset.subscriptionIndustries,this.dataSubscriptionCapabilities=this.subscribeForm.dataset.subscriptionCapabilities,this.init()}},{key:"init",value:function(){var e=this;window.addEventListener("subscribed",(function(t){return e.handleSubscribed(t.detail.context)})),window.addEventListener("subscription-update-ui",(function(t){return e.handleSubscriptionUpdate(t.detail.context)})),window.addEventListener("logout",(function(t){return e.handleLogout(t)})),this.sideRailBtn.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),document.body.dataset.isLoggedIn&&e.subscribeSubmitBtn.click()}))}},{key:"checkMatchingSubscription",value:function(e){var t=JSON.parse(e);if(t)return parseInt(t.emailTypeId)>1&&parseInt(t.emailTypeId)===this.dataSubscriptionEmailType||t.industries.length>0&&t.industries===this.dataSubscriptionIndustries||t.capabilities.length>0&&t.capabilities===this.dataSubscriptionCapabilities}},{key:"handleSubscribed",value:function(e){this.checkMatchingSubscription(e)&&(this.sideRailBtnLabelDesktop.textContent="Subscribed",this.sideRailBtnLabelMobile.textContent="Subscribed",this.subscribeForm.classList.add("subscribe-form--user-subscribed"))}},{key:"handleSubscriptionUpdate",value:function(e){e[0].loggedin&&e[0].subscribed?(this.sideRailBtnLabelDesktop.textContent="Subscribed",this.sideRailBtnLabelMobile.textContent="Subscribed"):(this.sideRailBtnLabelDesktop.textContent="Subscribe",this.sideRailBtnLabelMobile.textContent="Subscribe")}},{key:"handleLogout",value:function(e){this.sideRailBtnLabelDesktop.textContent="Subscribe",this.sideRailBtnLabelMobile.textContent="Subscribe"}}])&&ZI(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function sL(e){return sL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sL(e)}function aL(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,lL(i.key),i)}}function lL(e){var t=function(e){if("object"!=sL(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=sL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sL(t)?t:t+""}function cL(e,t,n){return t=hL(t),function(e,t){if(t&&("object"==sL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uL()?Reflect.construct(t,n||[],hL(e).constructor):t.apply(e,n))}function uL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uL=function(){return!!e})()}function hL(e){return hL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hL(e)}function dL(e,t){return dL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dL(e,t)}var pL=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cL(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dL(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.module=this,this.lensSelectorCardLocations=this.module.querySelectorAll(".PageFooter-lensSelector-item"),this.preferredLens=null,this.flagsImagesLoaded=!0,this.cookieExpiration=60,this.lensUrlParameterBlacklist=["register","openlogin","returnurl","redir"],this.inactiveLens=[],this.skipRedirects=!1,this.init()}},{key:"init",value:function(){if(this.bindEvents(),this.preferredLens=this.getPreferredLensCookie(),this.isHomepage=document.body.classList.contains("homepage"),this.metaLens=document.querySelectorAll('meta[name="lens"]')[0].getAttribute("content"),this.siteId=document.querySelectorAll('meta[name="site-id"]')[0].getAttribute("content"),this.isGlobalLens=!(!this.metaLens||"global"!==this.metaLens),this.inactiveLens=this.getInactiveLens(),this.geoTargetingCountryCode=this.getGeoTargetingCountryCode(),this.inactiveLens.length>0&&-1!==this.inactiveLens.indexOf(this.geoTargetingCountryCode.toLowerCase())&&(this.skipRedirects=!0),this.preferredLensValue=this.preferredLens?this.preferredLens.split("-")[1]:"",this.inactiveLens.length>0&&-1!==this.inactiveLens.indexOf(this.preferredLensValue.toLowerCase())&&(this.skipRedirects=!0),!this.skipRedirects){if(this.isGlobalLens&&!this.preferredLens&&!this.getVirtualLensCookie()&&"/"===window.location.pathname){var e=this.getLensElementByCountryCode(this.geoTargetingCountryCode);e&&this.redirectToLensHomepage(e)}if(this.preferredLens&&this.isHomepage&&this.isGlobalLens){var t=this.getLensElement(this.preferredLens);t&&(this.setVirtualLensCookie(t.dataset.virtual,this.cookieExpiration),"/"===window.location.pathname&&this.redirectToLensHomepage(t))}}if(this.preferredLens){var n=this.findElementInSelector(this.preferredLens);n&&this.updateSelectorButton(n)}this.preferredLens||this.correctLensSelector()}},{key:"getInactiveLens",value:function(){return Array.from(this.lensSelectorCardLocations).filter((function(e){return"true"===e.dataset.inactiveLens})).map((function(e){return e.dataset.virtualCountry.toLowerCase()}))}},{key:"correctLensSelector",value:function(){var e,t=this,n=Array.from(t.lensSelectorCardLocations).filter((function(e){return t.siteId===e.dataset.virtual}));1===n.length?e=n[0]:n.length>1&&(e=n.filter((function(e){return""===e.dataset.virtualCountry}))[0]),t.updateSelectorButton(e)}},{key:"getUrlLens",value:function(){var e=window.location.pathname;if(e){var t=e.split("/")[1];if(2===t.indexOf("-"))return t}return"en-"}},{key:"getRedirectTarget",value:function(e){var t,n,i=this.getLensElement(e);if(i){if(t=i.dataset.description,n=i.dataset.value,t&&n)return t+"-"+n;if(t&&!n)return t+"-"}return!1}},{key:"getParameterByName",value:function(e){var t=window.location.href;e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}},{key:"hasBlacklistedUrlParameter",value:function(){var e=this,t=!1;return Array.from(this.lensUrlParameterBlacklist).forEach((function(n){e.getParameterByName(n)&&(t=!0)})),t}},{key:"getLensElement",value:function(e){return this.findElementInSelector(e)||!1}},{key:"getLensElementByCountryCode",value:function(e){var t;return Array.from(this.lensSelectorCardLocations).forEach((function(n){"noRedirect"in n.dataset||n.dataset.virtualCountry===e.toLowerCase()&&(t&&!n.dataset.primaryLens||(t=n))})),t||!1}},{key:"redirectToLensHomepage",value:function(e){var t=e.dataset.primaryUrl,n="/"===window.location.pathname?window.location.href.replace(/\/$/,""):window.location.href,i=t.replace(/^\/\/|^.*?:(\/\/)?/,""),r=n.replace(/^\/\/|^.*?:(\/\/)?/,""),o="global"===this.metaLens,s="/"===new URL(t,window.location).pathname;o&&s||this.hasBlacklistedUrlParameter()||i&&r!==i&&window.location.replace(t+window.location.search)}},{key:"redirectToContent",value:function(e){var t=e.getAttribute("data-primary-url");t.endsWith("/")||(t+="/");var n=window.location.pathname.substring(1),i="global"===this.metaLens,r="/"===new URL(t,window.location).pathname;(!i&&r||!i&&!r)&&(n=n.split("/").slice(1).join("/"));var o=t+n;window.location.href.startsWith(o)&&!r||window.location.replace(o+window.location.search)}},{key:"findElementInSelector",value:function(e){var t,n=this.getVirtualLensCookie();return Array.from(this.lensSelectorCardLocations).forEach((function(i){var r=i.dataset.virtual;i.dataset.description+"-"+i.dataset.virtualCountry===e&&r===n&&(t=i)})),t||!1}},{key:"setPreferredLensCookie",value:function(e,t){this.setCookie("preferred-lens",e,t)}},{key:"getPreferredLensCookie",value:function(){return this.getCookie("preferred-lens")||!1}},{key:"getGeoTargetingCountryCode",value:function(){var e="",t="; ".concat(document.cookie).split("; ".concat("BCG-GEO","="));if(2===t.length){var n=t.pop().split(";").shift();if(n){var i=this.paramsToObj(n);i&&i.Country&&(e=i.Country)}}return e}},{key:"paramsToObj",value:function(e){var t,n,i,r={},o=e.split("&");for(n=0,i=o.length;n<i;n++)r[(t=o[n].split("="))[0]]=t[1];return r}},{key:"setLensFlagCookie",value:function(e,t){this.setCookie("lens-flag",e,t)}},{key:"setVirtualLensCookie",value:function(e,t){this.setCookie("virtual-lens",e,t)}},{key:"getVirtualLensCookie",value:function(){return this.getCookie("virtual-lens")||!1}},{key:"getCookie",value:function(e){return lT(e)}},{key:"setCookie",value:function(e,t,n){!function(e,t,n){var i;if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),i="; expires="+r.toGMTString()}else i="";document.cookie=e+"="+t+i+"; path=/"}(e,t,n)}},{key:"updateSelectorButton",value:function(e){e.classList.add("selected")}},{key:"loadFlag",value:function(e){e&&e.dataset.src&&(e.src=e.dataset.src)}},{key:"loadFlags",value:function(){var e=this;Array.from(this.lensSelectorCardLocations).forEach((function(t){var n=t.querySelector("img");e.loadFlag(n)})),this.flagsImagesLoaded=!1}},{key:"handleLocationSelected",value:function(e){var t=e.target.closest("li"),n="".concat(t.dataset.description,"-").concat(t.dataset.value),i=t.dataset.virtual,r=t.dataset.imgSrc;this.setPreferredLensCookie(n,this.cookieExpiration),this.setVirtualLensCookie(i,this.cookieExpiration),r&&this.setLensFlagCookie(r,this.cookieExpiration),this.redirectToContent(t)}},{key:"bindEvents",value:function(){var e=this;Array.from(this.lensSelectorCardLocations).forEach((function(t){t.addEventListener("click",(function(t){return e.handleLocationSelected(t)}))})),window.addEventListener("modalConfirm",(function(){var e=window.location.origin;window.location.replace(e)}))}}])&&aL(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function fL(e){return fL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fL(e)}function mL(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,gL(i.key),i)}}function gL(e){var t=function(e){if("object"!=fL(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=fL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fL(t)?t:t+""}function yL(e,t,n){return t=bL(t),function(e,t){if(t&&("object"==fL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vL()?Reflect.construct(t,n||[],bL(e).constructor):t.apply(e,n))}function vL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vL=function(){return!!e})()}function bL(e){return bL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bL(e)}function _L(e,t){return _L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_L(e,t)}var wL=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yL(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_L(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){var e=this;this.toolbar=document.querySelector(".StickyToolbar.mobile-only"),this.toolbar.querySelector("[data-mobile-expand-button]").addEventListener("click",(function(){document.body.setAttribute("data-sticky-toolbar-mobile-open","all"),(0,ax.h)("small-screens-only")}));var t=this.toolbar.querySelector("[data-mobile-expand-subscribe-button]");t&&t.addEventListener("click",(function(){document.body.setAttribute("data-sticky-toolbar-mobile-open","subscribe")})),this.toolbar.querySelector("[data-mobile-hide-button]").addEventListener("click",(function(){document.body.removeAttribute("data-sticky-toolbar-mobile-open"),e.recommended&&(e.recommended.setAttribute("hidden",!0),e.recommendedList.setAttribute("hidden",!0)),(0,ax.F)()})),window.addEventListener("scroll",(0,sx.P)(350,(function(){window.scrollY>0?e.toolbar.setAttribute("data-scroll",""):e.toolbar.removeAttribute("data-scroll")})))}}])&&mL(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function kL(e){return kL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kL(e)}function SL(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,EL(i.key),i)}}function EL(e){var t=function(e){if("object"!=kL(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=kL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kL(t)?t:t+""}function TL(e,t,n){return t=CL(t),function(e,t){if(t&&("object"==kL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xL()?Reflect.construct(t,n||[],CL(e).constructor):t.apply(e,n))}function xL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xL=function(){return!!e})()}function CL(e){return CL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CL(e)}function PL(e,t){return PL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PL(e,t)}var AL=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),TL(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PL(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.siderailSelector="sticky-toolbar-desktop-page-subscription",this.cacheSelectors(),this.init()}},{key:"cacheSelectors",value:function(){this.stickyToolbarElem=document.querySelector(this.siderailSelector),this.mainElem=this.stickyToolbarElem.closest("main"),this.expandSiderailButton=this.stickyToolbarElem.querySelector("[data-desktop-expand-button]"),this.shiftArea=this.stickyToolbarElem.querySelector(".StickyToolbar-shift-area"),this.siderailBlockers=Array.from(document.querySelectorAll("[data-block-siderail]")),this.siderailBlockers=this.siderailBlockers[0]}},{key:"init",value:function(){var e=this;this.initPageScroll(),this.initExpandButton(),window.addEventListener("scroll",(0,sx.P)(200,(function(){e.initPageScroll()})))}},{key:"initPageScroll",value:function(){if(this.mainElem.getBoundingClientRect().top<=100?this.setAttribute("data-show-widgets",!0):this.removeAttribute("data-show-widgets"),!this.getAttribute("data-desktop-expand-button-clicked")&&this.siderailBlockers){var e=this.stickyToolbarElem.getBoundingClientRect();this.siderailBlockers.getBoundingClientRect().top<e.bottom+this.stickyToolbarElem.scrollHeight?(this.removeAttribute("data-show-widgets"),this.setAttribute("data-siderail-blocked",!0),this.expandSiderailButton.setAttribute("data-desktop-expand-button","collapsed")):(this.setAttribute("data-show-widgets",!0),this.removeAttribute("data-siderail-blocked"),this.expandSiderailButton.setAttribute("data-desktop-expand-button","expanded"))}}},{key:"initExpandButton",value:function(){var e=this;this.expandSiderailButton.addEventListener("click",(function(){var t=e.expandSiderailButton.getAttribute("data-desktop-expand-button"),n="expanded"===t?"collapsed":"expanded";e.expandSiderailButton.setAttribute("data-desktop-expand-button",n),e.shiftArea.setAttribute("data-collapsed","expanded"===t),e.setAttribute("data-desktop-expand-button-clicked",!0)}))}}])&&SL(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function OL(e){if(e.innerHTML.includes("loading-buttons-js"))IL(e);else if("A"===e.tagName||"BUTTON"===e.tagName){e.disabled=!0,e.setAttribute("data-original-text",e.innerHTML),e.setAttribute("data-original-width",e.style.width),e.setAttribute("data-original-height",e.style.height);var t=e.offsetWidth,n=e.offsetHeight;e.style.width=t+"px",e.style.height=n+"px",e.innerHTML="";var i=document.createElement("span");i.classList.add("loading-buttons-js"),i.style.display="inline-block",i.style.width="16px",i.style.height="16px",i.style.border="2px solid rgba(0, 0, 0, 0.1)",i.style.borderRadius="50%",i.style.borderTopColor="var(--white)",i.style.animation="spin 0.6s linear infinite",i.style.verticalAlign="middle";var r=document.styleSheets[0];r.insertRule("@keyframes spin { to { transform: rotate(360deg); } }",r.cssRules.length),e.appendChild(i)}else console.error("button must be a button or a link.")}function IL(e){if("A"===e.tagName||"BUTTON"===e.tagName){e.style.width=e.getAttribute("data-original-width")||"",e.style.height=e.getAttribute("data-original-height")||"";var t=e.getAttribute("data-original-text");t&&(e.innerHTML=t),e.disabled=!1}else console.error("button must be a button or a link.")}function LL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Array.isArray(e)){var n=DL(t);return e.find((function(e){var t=e.BSPContent_ID===n.BSPContent_ID,i=null!==e.Content_ID&&null!==e.Publication_ID&&e.Content_ID===n.Content_ID&&e.Publication_ID===n.Publication_ID;return t||i}))||null}}function DL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return RL();var t=e.getAttribute("content-id")||e.dataset.bspcontentId,n=e.getAttribute("legacycontent-id")||e.dataset.contentId,i=e.getAttribute("publication-id")||e.dataset.publicationId,r=e.dataset.contentType,o={BSPContent_ID:t||null,Content_ID:n||null,Publication_ID:i||null};return r&&(o.Content_Type=r),o}function RL(){var e=document.querySelector('meta[name="brightspot.contentId"]'),t=e?e.getAttribute("content"):null,n=null,i=null,r=document.querySelector('meta[name="page_id"]'),o=r?r.getAttribute("content").trim():null;if(o){var s=o.indexOf("-"),a=o.indexOf("-",s+1);n=o.substring(4,s),i=o.substring(s+1,a)}return{BSPContent_ID:t,Publication_ID:n,Content_ID:i}}function ML(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(i,r){(function(e){return new Promise((function(t,n){new Promise((function(e,t){BE?e(BE):window.fetch("/csrftoken",{cache:"no-cache"}).then((function(e){if(!e.ok)throw new Error("Response returned with status code ".concat(e.status));return e.text()})).then((function(t){BE=t,e(t)})).catch((function(e){return t(new Error(e))}))})).then((function(n){t({"Content-Type":"application/json","x-access-token":qE(),"x-csrf-token":n,MethodRequestType:e?"PUT":null})})).catch((function(e){n(new Error(e))}))}))})(n).then((function(n){window.fetch("/marketing/userprofile/oktaauth/bookmarks",{headers:n,method:e,body:t}).then((function(e){return e.json()})).then((function(e){return i(e)}))})).catch((function(e){r(new Error(e))}))}))}var NL=function(){return new Promise((function(e,t){ML("GET").then((function(t){return e(t)})).catch((function(e){return t(new Error(e))}))}))},jL=function(e){return new Promise((function(t,n){ML("POST",JSON.stringify(DL(e))).then((function(e){return t(e)})).catch((function(e){return n(new Error(e))}))}))},FL=function(e){return new Promise((function(t,n){ML("POST",e,!0).then((function(e){return t(e)})).catch((function(e){return n(new Error(e))}))}))};function BL(e){return BL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BL(e)}function UL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UL(Object(n),!0).forEach((function(t){VL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VL(e,t,n){return(t=GL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HL(){HL=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==BL(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(BL(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function $L(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function zL(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){$L(o,i,r,s,a,"next",e)}function a(e){$L(o,i,r,s,a,"throw",e)}s(void 0)}))}}function WL(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,GL(i.key),i)}}function GL(e){var t=function(e){if("object"!=BL(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=BL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==BL(t)?t:t+""}function KL(e,t,n){return t=XL(t),function(e,t){if(t&&("object"==BL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YL()?Reflect.construct(t,n||[],XL(e).constructor):t.apply(e,n))}function YL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YL=function(){return!!e})()}function XL(e){return XL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},XL(e)}function JL(e,t){return JL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JL(e,t)}var QL=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),KL(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JL(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){var e=this;this.form=this.querySelector("form"),this.formUI=this.querySelector(".lead-gen-form__right--initial"),this.successUI=this.querySelector(".lead-gen-form__right--success"),this.rightPanel=this.querySelector(".lead-gen-form__right"),this.submitButton=this.querySelector("#submit-button"),this.openButton=this.querySelector("#open-button"),this.registrationButton=this.querySelector("#registration-button"),this.formStarted=!1,this.formFields=this.form.querySelectorAll("input, select"),this.fieldsWrapper=this.form.querySelector(".lead-gen-form__fields"),this.errorMessage=this.querySelector(".lead-gen-form__error-message"),this.formName=this.querySelector("#lead-gen-title").innerText,this.attachmentName=this.dataset.attachmentName,this.formTopic=this.dataset.formTopic,this.emailInput=this.querySelector("#lead-gen-email"),this.checkboxes=this.querySelector(".lead-gen-form__checkboxes"),this.invisibleCaptcha=this.querySelector("bsp-invisible-captcha"),this.captchaEvent=!1,this.userStatus={},this.isUserActivitySaved=!1,this.savedBookmark=!1,this.errorMessages={first_name:{valueMissing:"Please provide First Name",invalidInput:"First Name may not contain special characters"},last_name:{valueMissing:"Please provide Last Name",invalidInput:"Last Name may not contain special characters"},company:{valueMissing:"Please provide Company",invalidInput:"Company may not contain special characters"},email:{valueMissing:"Please provide an e-mail address",invalidInput:"Please enter a valid e-mail address"},job_function_id:{valueMissing:"Please select a Job Function"},privacy_policy:{valueMissing:"Please read and check privacy agreement"}},this.formFields.forEach((function(t){t.title=e.errorMessages[t.name]?e.errorMessages[t.name].valueMissing:""})),this.bindEvents(),UE()?this.handleEmailInput().then((function(){return e.removeSkeleton()})):this.removeSkeleton()}},{key:"bindEvents",value:function(){var e=this;this.formFields.forEach((function(t){t.addEventListener("input",(function(t){var n=t.target;e.formStarted||(e.subTopic=window.lastUniqueTrackingValueClicked||null,e.trackFormStart(),e.formStarted=!0),e.validateField(n),n.classList.contains("hasError")&&n.classList.remove("hasError")})),t.addEventListener("invalid",(function(t){var n=t.target;n.validity.valid||n.classList.add("hasError"),e.validateField(n)})),t.addEventListener("onchange",(function(t){var n=t.target;e.validateField(n)}))})),this.form.addEventListener("submit",(function(t){t.preventDefault(),e.showSpinner(),e.submitForm()})),this.openButton.addEventListener("click",(function(){UE()&&!e.isUserActivitySaved&&e.saveUserActivityAuth(!0),e.saveContentBookmark(),e.download("manual")})),this.registrationButton.addEventListener("click",(function(){return e.openSignInWidget(!0)})),this.emailInput&&(this.emailInput.addEventListener("input",function(){this.emailInput.validity.valid&&(this.submitButton.disabled=!0)}.bind(this)),this.emailInput.addEventListener("input",(0,NE.Ds)(zL(HL().mark((function t(){return HL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.emailInput.validity.valid){t.next=4;break}return e.showSpinner(),t.next=4,e.handleEmailInput();case 4:case"end":return t.stop()}}),t)}))),500))),window.addEventListener("osiw.closing.modal",(function(){e.recaptchaId&&window.grecaptcha_bcg.reset(e.recaptchaId),e.hideSpinner()})),UE()||window.addEventListener("login.success",(function(){e.showSkeleton(),e.email=$E(),e.handleEmailInput(),e.removeRecaptcha(),e.removeSkeleton()}))}},{key:"handleEmailInput",value:(a=zL(HL().mark((function e(){var t,n;return HL().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.email=UE()?$E():this.emailInput.value,e.prev=1,e.next=4,window.fetch("/marketing/userprofile/unauth/aggregate-user-status?email=".concat(encodeURIComponent(this.email)));case 4:if(!(t=e.sent).ok){e.next=11;break}return e.next=8,t.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=null;case 12:n=e.t0,this.userStatus=n||{},422===t.status?UE()?this.showSuccessUI():(this.newUser=!1,this.showOrHideMissingFields(!1)):404===t.status?(this.newUser=!0,this.showOrHideMissingFields(!0)):200===t.status?this.hasAllUserFields()&&UE()?this.showSuccessUI():(this.newUser=!1,this.showOrHideMissingFields(!1)):console.error("There was an error checking user status:",t),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(1),console.error("There was an error checking user profile status:",e.t1);case 20:case"end":return e.stop()}}),e,this,[[1,17]])}))),function(){return a.apply(this,arguments)})},{key:"showOrHideMissingFields",value:function(e){var t=this,n=["email","first_name","last_name","company","job_function_id","opt_in_to_marketing_emails","privacy_policy"];this.formFields.forEach((function(i){var r=i.getAttribute("name");("email"!==r||UE())&&(e||r===n[1]&&!1===t.userStatus.fn||r===n[2]&&!1===t.userStatus.ln||r===n[3]&&!1===t.userStatus.cn||r===n[4]&&!1===t.userStatus.jf||r===n[5]&&!1===t.userStatus.gs||r===n[6]&&!1===t.userStatus.pp?(i.required=!0,i.disabled=!1,i.parentElement.style.display="block"):n.includes(r)&&(i.required=!1,i.disabled=!0,i.parentElement.style.display="none"),"opt_in_to_marketing_emails"===r&&(i.required=!1))})),this.formUI.querySelectorAll('[required]:not([type="hidden"])').length>1?this.formUI.classList.add("full-height"):this.formUI.classList.remove("full-height"),this.hideSpinner()}},{key:"submitForm",value:(s=zL(HL().mark((function e(){var t;return HL().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.email){e.next=4;break}return e.next=3,this.handleEmailInput();case 3:return e.abrupt("return");case 4:if(!UE()){e.next=7;break}return this.processForm(),e.abrupt("return");case 7:t=this.form.checkValidity(),this.recaptchaId=this.invisibleCaptcha.dataset.grecaptchaId;try{this.invisibleCaptcha&&this.invisibleCaptcha.valid&&t&&this.processForm(),this.captchaEvent||(window.addEventListener("grecaptcha_bcg.success",function(){this.captchaEvent=!1,this.showSpinner(),this.processForm()}.bind(this),{once:!0}),this.captchaEvent=!0),this.hideSpinner()}catch(e){console.info(e),this.showErrorMessage(),this.hideSpinner()}case 10:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"processForm",value:(o=zL(HL().mark((function e(){var t;return HL().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.formData=Object.fromEntries(new FormData(this.form)),"opt_in_to_marketing_emails"in this.formData&&(this.formData.opt_in_to_marketing_emails="on"===this.formData.opt_in_to_marketing_emails),"privacy_policy"in this.formData&&(this.formData.privacy_policy="on"===this.formData.privacy_policy),delete(t=qL({},this.formData))["g-recaptcha-response"],t.form_subtopic=this.subTopic||"",t.lead_gen_title=this.formName,this.formData.form_data=JSON.stringify(t),this.formData.page_id=(0,NE.ew)(),this.formData.page_url=window.location.href,this.formData.source="Gated PDF: Lead Generation Form",this.formData.source_detail="Download Click",delete this.formData.form_topic_id,delete this.formData.subTopic,this.formData["g-recaptcha-type"]="invisible",!UE()){e.next=27;break}return this.formData.email=this.email,this.saveUserActivityAuth(),e.next=20,this.marketingConsent();case 20:return e.next=22,this.updateUserProfile();case 22:this.saveContentBookmark(),this.download("auto"),this.showSuccessUI(),e.next=28;break;case 27:this.saveUserActivity();case 28:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"saveUserActivity",value:function(){var e=this;window.fetch("/marketing/userprofile/unauth/lead-generation-activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.formData)}).then((function(t){if(!t.ok)throw new Error("Response returned with status code ".concat(t.status));e.trackFormSuccess(),!1===e.newUser||e.userStatus.uds?(e.openSignInWidget(!1===e.userStatus.uos),!1===e.isUserActivitySaved&&window.addEventListener("login.success",zL(HL().mark((function t(){return HL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.showSkeleton(),!0!==e.userStatus.uos){t.next=4;break}return t.next=4,e.marketingConsent();case 4:return t.next=6,e.updateUserProfile();case 6:e.saveContentBookmark(),e.download("auto"),e.showSuccessUI(),e.removeSkeleton();case 10:case"end":return t.stop()}}),t)}))))):!0===e.newUser&&(!1===e.isUserActivitySaved&&window.addEventListener("login.success",zL(HL().mark((function t(){return HL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateUserProfile();case 2:e.saveContentBookmark();case 3:case"end":return t.stop()}}),t)})))),e.download("auto"),e.showSuccessUI()),e.isUserActivitySaved=!0})).catch((function(t){console.info(t),window.grecaptcha_bcg.reset(e.recaptchaId),window.grecaptcha_bcg.execute(e.recaptchaId),e.showErrorMessage(),e.isUserActivitySaved=!1,e.hideSpinner()}))}},{key:"saveUserActivityAuth",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(t=JSON.stringify({page_id:(0,NE.ew)(),page_url:window.location.href,source:"Gated PDF: Lead Generation Form",source_detail:"Download Click"})),VE().then((function(n){window.fetch("/marketing/userprofile/oktaauth/lead-gen-user-activity",{method:"POST",headers:n,body:t||JSON.stringify(e.formData)}).then((function(t){t.ok&&(e.isUserActivitySaved=!0)}))}))}},{key:"marketingConsent",value:(r=zL(HL().mark((function e(){var t;return HL().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.userStatus.gs||!this.formData.opt_in_to_marketing_emails){e.next=12;break}return e.prev=1,e.next=4,VE();case 4:return t=e.sent,e.next=7,window.fetch("/marketing/userprofile/oktaauth/marketing-consent",{method:"POST",headers:qL(qL({},t),{},{MethodRequestType:"POST"})});case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",Error());case 12:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(){return r.apply(this,arguments)})},{key:"updateUserProfile",value:(i=zL(HL().mark((function e(){var t,n,i,r;return HL().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(this.formData.form_data)).company&&!t.job_function_id){e.next=17;break}return e.prev=2,e.next=5,VE();case 5:return n=e.sent,i={},t.company&&(i["company-name"]=t.company),t.job_function_id&&(i["job-function-id"]=t.job_function_id),r=JSON.stringify(i),e.next=12,window.fetch("/marketing/userprofile/oktaauth/user-profile",{method:"POST",headers:qL(qL({},n),{},{MethodRequestType:"PATCH"}),body:r});case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(2),e.abrupt("return",Error());case 17:case"end":return e.stop()}}),e,this,[[2,14]])}))),function(){return i.apply(this,arguments)})},{key:"showErrorMessage",value:function(){var e=this;this.errorMessage.style.display="block",setTimeout((function(){e.errorMessage.style.display="none"}),5e3)}},{key:"showSuccessUI",value:function(){var e=this;this.formUI.style.display="none",this.successUI.style.display="flex";var t=this.querySelector(".recaptcha-notice");t&&(t.style.display="none");var n=UE()||this.userStatus.uos;n?(this.successUI.classList.remove("show-registration"),this.successUI.classList.add("hide-registration")):(this.successUI.classList.add("show-registration"),this.successUI.classList.remove("hide-registration")),n||window.addEventListener("login.success",(function(){e.successUI.classList.remove("show-registration"),e.successUI.classList.add("hide-registration")}))}},{key:"download",value:function(e){this.trackFormDownload(e),this.querySelector("#lead-gen-download-".concat(e)).click()}},{key:"openSignInWidget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={context:{source:"lead-gen-form",showRegistration:e,initiateSignIn:!e,email:this.email,firstName:e?this.formData.first_name:"",lastName:e?this.formData.last_name:""}};window.dispatchEvent((0,NE.t3)("showSignInWidget",t))}},{key:"validateField",value:function(e){if("none"!==e.parentElement.style.display){var t=e.validity,n=this.errorMessages[e.name];t.valueMissing?(e.setCustomValidity(n.valueMissing),e.title=n.valueMissing):t.badInput||t.patternMismatch||t.typeMismatch?(e.setCustomValidity(n.invalidInput),e.title=n.invalidInput,"email"===e.type&&e.removeAttribute("title")):(e.setCustomValidity(""),e.title="")}}},{key:"trackFormStart",value:function(){window._satellite&&(window.digitalData.data.formName=this.formName,window.digitalData.data.formTopic=this.formTopic,window.digitalData.data.formSubTopic=this.subTopic,window.digitalData.data.formAction="start",window._satellite.track("track_form"))}},{key:"trackFormSuccess",value:function(){window._satellite&&(window.digitalData.data.formAction="complete",window._satellite.track("track_form"))}},{key:"trackFormDownload",value:function(e){window._satellite&&window._satellite.track("form_download",{downloadedFile:this.attachmentName,downloadType:e})}},{key:"hasAllUserFields",value:function(){return Object.values(this.userStatus).every((function(e){return!0===e}))}},{key:"showSpinner",value:function(){OL(this.submitButton)}},{key:"hideSpinner",value:function(){IL(this.submitButton)}},{key:"removeSkeleton",value:function(){this.rightPanel.classList.remove("skeleton")}},{key:"showSkeleton",value:function(){this.rightPanel.classList.add("skeleton")}},{key:"removeRecaptcha",value:function(){this.invisibleCaptcha&&(this.invisibleCaptcha.remove(),this.querySelector(".recaptcha-notice").remove())}},{key:"saveContentBookmark",value:function(){!this.savedBookmark&&UE()&&(jL(this),this.savedBookmark=!0)}}],n&&WL(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i,r,o,s,a}();function ZL(e){return ZL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZL(e)}function eD(e,t){if(e){if("string"==typeof e)return tD(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tD(e,t):void 0}}function tD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function nD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function iD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nD(Object(n),!0).forEach((function(t){rD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rD(e,t,n){return(t=cD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oD(){oD=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==ZL(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ZL(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function sD(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function aD(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){sD(o,i,r,s,a,"next",e)}function a(e){sD(o,i,r,s,a,"throw",e)}s(void 0)}))}}function lD(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,cD(i.key),i)}}function cD(e){var t=function(e){if("object"!=ZL(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ZL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ZL(t)?t:t+""}function uD(e,t,n){return t=dD(t),function(e,t){if(t&&("object"==ZL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hD()?Reflect.construct(t,n||[],dD(e).constructor):t.apply(e,n))}function hD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hD=function(){return!!e})()}function dD(e){return dD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dD(e)}function pD(e,t){return pD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pD(e,t)}var fD=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),uD(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pD(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.hasGatedAccess="true"===this.dataset.hasGatedAccess,this.isLoggedIn="true"===this.dataset.isLoggedIn,this.lsItem="login-wall-reload",this.showingMissingFields=this.isLoggedIn,this.newUser=!1,this.form=this.querySelector("#login-wall-form"),this.jobLevelInput=this.querySelector("#login-wall-job-level"),this.companyNameInput=this.querySelector("#login-wall-company"),this.emailInput=this.querySelector("#login-wall-email"),this.submitButton=this.querySelector("#login-wall-submit"),this.invisibleCaptcha=this.querySelector("bsp-invisible-captcha"),this.jobLevel=null,this.companyName=null,this.email=null,this.init(),this.bindEvents()}},{key:"init",value:function(){var e=this;document.querySelector("#truste-consent-content")&&this.classList.add("consent-bar"),this.hasGatedAccess?(window.localStorage.getItem(this.lsItem)&&window.localStorage.removeItem(this.lsItem),this.showLoginWall(),this.loadedLoginWall(),setTimeout((function(){return e.hideLoginWall()}),2500)):(this.loadedLoginWall(),setTimeout((function(){return e.showLoginWall()}),2e3)),this.isLoggedIn||window.addEventListener("login.success",function(){var t=aD(oD().mark((function t(n){return oD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.detail.privacyPolicyNeeded){t.next=5;break}return t.next=3,e.handleLoginSuccess();case 3:t.next=6;break;case 5:window.addEventListener("privacy-policy",aD(oD().mark((function t(){return oD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleLoginSuccess();case 2:case"end":return t.stop()}}),t)}))));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.form&&(this.form.addEventListener("submit",function(){var t=aD(oD().mark((function t(n){return oD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!UE()){t.next=6;break}return t.next=4,e.handleSubmit();case 4:t.next=11;break;case 6:if(e.recaptchaId=e.invisibleCaptcha.dataset.grecaptchaId,!e.invisibleCaptcha||!e.invisibleCaptcha.valid){t.next=10;break}return t.next=10,e.handleSubmit();case 10:e.captchaEvent||(window.addEventListener("grecaptcha_bcg.success",function(){this.captchaEvent=!1,this.handleSubmit()}.bind(e),{once:!0}),e.captchaEvent=!0);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.emailInput&&(this.emailInput.addEventListener("input",function(){this.emailInput.validity.valid&&(this.submitButton.disabled=!0)}.bind(this)),this.emailInput.addEventListener("input",(0,NE.Ds)(aD(oD().mark((function t(){return oD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.emailInput.validity.valid){t.next=3;break}return t.next=3,e.handleEmailInput();case 3:""===e.emailInput.value.trim()?e.submitButton.disabled=!0:e.submitButton.disabled=!1;case 4:case"end":return t.stop()}}),t)}))),500))))}},{key:"bindEvents",value:function(){var e=this;this.checkConsentLsItem()||this.consentBar(),window.addEventListener("osiw.closing.modal",(function(){e.hideSpinner()}))}},{key:"handleSubmit",value:(s=aD(oD().mark((function e(){var t,n;return oD().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.showSpinner(),t=this.emailInput&&this.emailInput.value!==this.email,!this.showingMissingFields||t){e.next=20;break}if(this.jobLevelInput&&(this.jobLevel=this.jobLevelInput.querySelector("select").value),this.companyNameInput&&(this.companyName=this.companyNameInput.value),n={email:this.email,company:this.companyName,job_level_id:this.jobLevel,source:"Gated Page: Lead Gen and Registration",source_detail:"CTA Click",recaptchaId:this.recaptchaId,form_data:{}},this.email&&(n.form_data.email=this.email),this.companyName&&(n.form_data.company=this.companyName),this.jobLevel&&(n.form_data.job_level_id=this.jobLevel),cT(n),!this.isLoggedIn){e.next=17;break}return e.next=13,this.updateUserProfile();case 13:window.localStorage.setItem(this.lsItem,"true"),window.location.reload(),e.next=18;break;case 17:this.openSignInWidget(this.email,this.newUser);case 18:e.next=27;break;case 20:if(!t){e.next=25;break}return e.next=23,this.handleEmailInput();case 23:e.next=27;break;case 25:cT({email:this.email,source:"Gated Page: Lead Gen and Registration",source_detail:"CTA Click",recaptchaId:this.recaptchaId}),this.openSignInWidget(this.email,this.newUser);case 27:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"updateUserProfile",value:(o=aD(oD().mark((function e(){var t,n,i;return oD().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.dispatchEvent((0,NE.t3)("osiw.loading")),e.prev=1,e.next=4,VE();case 4:return t=e.sent,n={},this.jobLevel&&(n["job-level-id"]=this.jobLevel),this.companyName&&(n["company-name"]=this.companyName),i=JSON.stringify(n),e.next=11,window.fetch("/marketing/userprofile/oktaauth/user-profile",{method:"POST",headers:iD(iD({},t),{},{MethodRequestType:"PATCH"}),body:i});case 11:if(e.sent.ok){e.next=14;break}return e.abrupt("return",Error());case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",Error());case 19:case"end":return e.stop()}}),e,this,[[1,16]])}))),function(){return o.apply(this,arguments)})},{key:"handleEmailInput",value:(r=aD(oD().mark((function e(){var t,n,i,r,o,s;return oD().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.email=this.emailInput.value,this.showSpinner(),e.prev=2,e.next=5,window.fetch("/marketing/userprofile/unauth/user-profile-status?email=".concat(encodeURIComponent(this.email)));case 5:if(!(t=e.sent).ok){e.next=12;break}return e.next=9,t.json();case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:n=e.t0,r=(i=n||{}).jl,o=i.cn,s=i.uos,422===t.status?(this.newUser=!1,this.showOrHideMissingFields({jobLevel:!1,companyName:!1})):404===t.status?(this.newUser=!0,this.showOrHideMissingFields({jobLevel:!0,companyName:!0})):200===t.status?(this.newUser=!s,this.showOrHideMissingFields({jobLevel:!r,companyName:!o})):(console.error("There was an error checking user status:",t),this.hideSpinner()),e.next=23;break;case 18:e.prev=18,e.t1=e.catch(2),console.error("There was an error checking user profile status:",e.t1),this.hideSpinner(),this.handleEmailInput();case 23:case"end":return e.stop()}}),e,this,[[2,18]])}))),function(){return r.apply(this,arguments)})},{key:"openSignInWidget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];window.dispatchEvent((0,NE.t3)("showSignInWidget",{context:{source:"login-wall",showRegistration:t,initiateSignIn:!t,email:e}}))}},{key:"showMissingField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(e.classList.remove("login-wall__input--hidden"),e.required=!0,e.className.includes("select")&&(e.children[1].required=!0,e.children[1].addEventListener("change",(function(e){e.target.classList.add("selected"),e.target.parentElement.children[2].classList.add("selected")}))),t?(e.classList.remove("login-wall__input--half"),e.classList.add("login-wall__input--full")):(e.classList.remove("login-wall__input--full"),e.classList.add("login-wall__input--half")),this.hideSpinner())}},{key:"hideMissingField",value:function(e){e&&(e.classList.add("login-wall__input--hidden"),e.required=!1,e.className.includes("select")&&(e.children[1].required=!1),this.hideSpinner())}},{key:"showOrHideMissingFields",value:function(e){var t=e.jobLevel,n=e.companyName,i=!t||!n;t?this.showMissingField(this.jobLevelInput,i):(this.hideMissingField(this.jobLevelInput),this.jobLevel=null),n?this.showMissingField(this.companyNameInput,i):(this.hideMissingField(this.companyNameInput),this.companyName=null),this.showingMissingFields=t||n}},{key:"handleLoginSuccess",value:(i=aD(oD().mark((function e(){return oD().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.jobLevel&&!this.companyName){e.next=3;break}return e.next=3,this.updateUserProfile();case 3:window.localStorage.setItem(this.lsItem,"true"),setTimeout((function(){window.location.reload()}),1e3);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"loadedLoginWall",value:function(){this.classList.add("login-wall--loaded")}},{key:"hideLoginWall",value:function(){this.classList.add("login-wall--hidden"),this.classList.remove("login-wall--visible"),document.querySelector("html").classList.remove("no-scrolling")}},{key:"showLoginWall",value:function(){this.classList.add("login-wall--visible"),this.classList.remove("login-wall--hidden"),document.querySelector("html").classList.add("no-scrolling")}},{key:"showSpinner",value:function(){OL(this.submitButton),this.emailInput&&(this.emailInput.disabled=!0)}},{key:"hideSpinner",value:function(){IL(this.submitButton),this.emailInput&&(this.emailInput.disabled=!1,this.emailInput.focus())}},{key:"consentBar",value:function(){var e=this,t=document.querySelector("#consent_blackbar"),n=new window.MutationObserver((function(t,n){var i,r=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=eD(e))){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw r}}}}(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;"childList"===o.type&&o.addedNodes.length>0&&e.classList.add("consent-bar")}}catch(e){r.e(e)}finally{r.f()}}));n.observe(t,{childList:!0,subtree:!1})}},{key:"checkConsentLsItem",value:function(){return function(e){return function(e){if(Array.isArray(e))return tD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eD(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(window.localStorage.length).keys()).map((function(e){return window.localStorage.key(e)})).some((function(e){return e.includes("truste.")}))}}],n&&lD(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i,r,o,s}();function mD(e){return mD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mD(e)}function gD(){gD=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==mD(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(mD(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function yD(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function vD(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,bD(i.key),i)}}function bD(e){var t=function(e){if("object"!=mD(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mD(t)?t:t+""}function _D(e,t,n){return t=kD(t),function(e,t){if(t&&("object"==mD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wD()?Reflect.construct(t,n||[],kD(e).constructor):t.apply(e,n))}function wD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wD=function(){return!!e})()}function kD(e){return kD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kD(e)}function SD(e,t){return SD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},SD(e,t)}var ED=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_D(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SD(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.module=this,this.form=this.module.querySelector(".gated-content__form"),this.submit=this.module.querySelector("#gated-content-form-submit"),this.email=this.module.querySelector(".gated-content__input"),this.successMsg=this.module.querySelector("#gated-content__success"),this.loggedInMsg=this.module.querySelector("#gated-content__logged-in"),this.download=this.module.querySelector("#gated-content-download"),this.bookmarkInitiated=!1,this.autoDownloadEvent=!1,this.bspId=this.module.attributes["data-bspcontent-id"].value,"rtf"===this.module.parentElement.className&&(this.module.querySelector(".grid-row").className=""),this.bindEvents()}},{key:"bindEvents",value:function(){var e=this;this.form&&this.form.addEventListener("submit",function(){var t,n=(t=gD().mark((function t(n){var i,r;return gD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),OL(e.submit),i=e.email.value,t.next=5,e.userExistsWithEmail(i);case 5:r=t.sent,window.dispatchEvent((0,NE.t3)("showSignInWidget",{context:{source:"gated content "+e.bspId,showRegistration:!r,initiateSignIn:r,email:i}})),e.autoDownloadEvent||(window.addEventListener("login.success",(function(t){t.detail.context.includes(e.bspId)&&e.download.click()}),{once:!0}),e.autoDownloadEvent=!0);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(e){yD(o,i,r,s,a,"next",e)}function a(e){yD(o,i,r,s,a,"throw",e)}s(void 0)}))});return function(e){return n.apply(this,arguments)}}()),window.addEventListener("login.success",(function(t){e.form&&(e.form.remove(),t.detail.context.includes("gated content")?e.successMsg.style.display="flex":e.loggedInMsg.style.display="flex")})),this.download.addEventListener("click",(function(){e.bookmarkInitiated||(jL(e.module),e.bookmarkInitiated=!0)})),window.addEventListener("osiw.closing.modal",(function(){IL(e.submit)}))}},{key:"userExistsWithEmail",value:function(e){var t=this;return new Promise((function(n,i){window.fetch("/marketing/userprofile/unauth/users/check-user-email",{method:"POST",body:JSON.stringify({Email:e})}).then((function(e){200!==e.status&&422!==e.status||n(!0),n(!1)})).catch((function(e){i(e),IL(t.submit)}))}))}}],n&&vD(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function TD(e){return TD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TD(e)}function xD(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,CD(i.key),i)}}function CD(e){var t=function(e){if("object"!=TD(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=TD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==TD(t)?t:t+""}function PD(e,t,n){return t=OD(t),function(e,t){if(t&&("object"==TD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,AD()?Reflect.construct(t,n||[],OD(e).constructor):t.apply(e,n))}function AD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(AD=function(){return!!e})()}function OD(e){return OD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},OD(e)}function ID(e,t){return ID=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ID(e,t)}var LD=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),PD(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ID(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){var e=this;if(this.toolbar=document.querySelector(".StickyToolbar.mobile-only"),this.toolbar){this.recommended=this.querySelector("sticky-toolbar-mobile .StickyToolbarWidgetRecommendedContent"),this.recommendedExpand=this.querySelector("sticky-toolbar-mobile [data-recommended-button]"),this.recommendedList=this.querySelector("sticky-toolbar-mobile .StickyToolbarWidgetRecommendedContent-content"),this.recommended&&this.recommendedExpand&&this.recommendedList&&this.recommendedExpand.addEventListener("click",(function(){e.recommendedList.toggleAttribute("hidden")}));var t=this.toolbar.querySelector("[data-mobile-expand-button]");t&&t.addEventListener("click",(function(){document.body.setAttribute("data-sticky-toolbar-mobile-open","all"),e.recommended&&e.recommendedList&&(e.recommended.removeAttribute("hidden"),e.recommendedList.setAttribute("hidden",!0)),(0,ax.h)("small-screens-only")}));var n=this.toolbar.querySelector("[data-mobile-expand-subscribe-button]");n&&n.addEventListener("click",(function(){document.body.setAttribute("data-sticky-toolbar-mobile-open","subscribe"),e.recommended.setAttribute("hidden",!0),e.recommendedList.setAttribute("hidden",!0)}));var i=this.toolbar.querySelector("[data-mobile-expand-share-button]");i&&i.addEventListener("click",(function(){document.body.setAttribute("data-sticky-toolbar-mobile-open","share"),e.recommended&&(e.recommended.setAttribute("hidden",!0),e.recommendedList.setAttribute("hidden",!0)),(0,ax.h)("small-screens-only")}));var r=this.toolbar.querySelector("[data-mobile-expand-recommended-button]");r&&r.addEventListener("click",(function(){document.body.setAttribute("data-sticky-toolbar-mobile-open","recommended"),e.recommended&&(e.recommended.removeAttribute("hidden"),e.recommendedList.removeAttribute("hidden")),(0,ax.h)("small-screens-only")}));var o=this.toolbar.querySelector("[data-mobile-hide-button]");o&&o.addEventListener("click",(function(){document.body.removeAttribute("data-sticky-toolbar-mobile-open"),e.recommended&&(e.recommended.setAttribute("hidden",!0),e.recommendedList.setAttribute("hidden",!0)),(0,ax.F)()})),window.addEventListener("scroll",(0,sx.P)(350,(function(){window.scrollY>0?e.toolbar.setAttribute("data-scroll",""):e.toolbar.removeAttribute("data-scroll")})))}}}])&&xD(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function DD(e){return DD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DD(e)}function RD(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,MD(i.key),i)}}function MD(e){var t=function(e){if("object"!=DD(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=DD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==DD(t)?t:t+""}function ND(e,t,n){return t=FD(t),function(e,t){if(t&&("object"==DD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jD()?Reflect.construct(t,n||[],FD(e).constructor):t.apply(e,n))}function jD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jD=function(){return!!e})()}function FD(e){return FD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FD(e)}function BD(e,t){return BD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BD(e,t)}var UD=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ND(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BD(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.cacheSelectors(),this.init()}},{key:"cacheSelectors",value:function(){this.StickyToolbarDesktop=document.querySelector(".StickyToolbar.ReadingExperience.desktop-only"),this.StickyToolbarDesktopCustomEl=this.StickyToolbarDesktop.querySelector("sticky-toolbar-desktop"),this.articleBody=document.querySelector(".ReadingExperience-articleBody"),this.articleBodyContainer=this.articleBody.closest("main"),this.desktopExpandContainer=this.querySelector(".StickyToolbarWidgetDesktopExpandButton"),this.desktopExpand=this.querySelector("[data-desktop-expand-button]"),this.shiftArea=this.querySelector(".StickyToolbar-shift-area"),this.recommendedList=this.StickyToolbarDesktopCustomEl.querySelector(".StickyToolbarList"),this.recommended=this.StickyToolbarDesktopCustomEl.querySelector(".StickyToolbarWidgetRecommendedContent"),this.recommendedContent=this.StickyToolbarDesktopCustomEl.querySelector(".StickyToolbarWidgetRecommendedContent-content"),this.recommendedExpand=this.querySelector("sticky-toolbar-desktop [data-recommended-button]"),this.showsOnScroll=Array.from(this.articleBodyContainer.querySelectorAll("[data-shows-on-scroll]")),this.hidesOnScroll=Array.from(this.articleBodyContainer.querySelectorAll("[data-hides-on-scroll]")),this.siderailBlockers=Array.from(document.querySelectorAll("[data-block-siderail]")),this.siderailBlockers=this.siderailBlockers[0],this.siderailBlockersStatus="unblocked"}},{key:"init",value:function(){var e=this;this.scrollPercentageThreshhold=50,this.articleBodyScroll=this.checkArticleBodyScrolling(),window.addEventListener("scroll",(0,sx.P)(200,(function(){e.checkArticleBodyScrolling()}))),window.addEventListener("resize",(0,sx.P)(200,(function(){e.checkArticleBodyScrolling()}))),this.desktopExpandButtonHandler(),this.handleRecommendedList()}},{key:"checkArticleBodyScrolling",value:function(){this.articleBodyContRect=this.articleBody.getBoundingClientRect();var e=Math.min(Math.max(Math.floor(-1*this.articleBodyContRect.top/this.articleBody.scrollHeight*100),0),100);return this.articleBodyScroll=e,this.handleSiderailBlockers(),this.handleArticleBodyScrolling(e),e}},{key:"handleArticleBodyScrolling",value:function(e){this.recommendedList&&(e>this.scrollPercentageThreshhold?(this.hidesOnScroll.forEach((function(e){e.setAttribute("data-hides-on-scroll",!1)})),this.showsOnScroll.forEach((function(e){e.removeAttribute("data-hidden"),setTimeout((function(){e.setAttribute("data-shows-on-scroll",!0)}),10)}))):(this.hidesOnScroll.forEach((function(e){e.setAttribute("data-hides-on-scroll",!0)})),this.showsOnScroll.forEach((function(e){e.setAttribute("data-shows-on-scroll",!1),e.setAttribute("data-hidden","")}))))}},{key:"handleSiderailBlockers",value:function(){if(!this.getAttribute("data-desktop-expand-button-clicked")&&this.siderailBlockers){var e=this.StickyToolbarDesktopCustomEl.getBoundingClientRect();this.siderailBlockers.getBoundingClientRect().top<e.bottom?"blocked"!==this.siderailBlockersStatus&&(this.desktopExpand.click(),this.siderailBlockersStatus="blocked"):"blocked"===this.siderailBlockersStatus&&(this.desktopExpand.click(),this.siderailBlockersStatus="unblocked")}}},{key:"handleRecommendedList",value:function(){var e=this;this.recommendedList?this.recommendedExpand.addEventListener("click",(function(){e.recommendedContent.toggleAttribute("hidden")})):this.recommended&&this.recommended.remove()}},{key:"desktopExpandButtonHandler",value:function(){var e=this;this.desktopExpand.addEventListener("click",(function(){"collapsed"===e.desktopExpand.getAttribute("data-desktop-expand-button")?(e.hidesOnScroll.forEach((function(e){e.setAttribute("data-hides-on-scroll",!0)})),e.desktopExpand.setAttribute("data-desktop-expand-button","expanded"),e.shiftArea.setAttribute("data-collapsed",!1),window.dispatchEvent(new Event("scroll"))):(e.hidesOnScroll.forEach((function(e){e.setAttribute("data-hides-on-scroll",!1)})),e.desktopExpand.setAttribute("data-desktop-expand-button","collapsed"),e.shiftArea.setAttribute("data-collapsed",!0)),e.setAttribute("data-desktop-expand-button-clicked",!0),e.StickyToolbarDesktopCustomEl.removeAttribute("data-siderail-blocked")}))}}])&&RD(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function qD(e){return qD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qD(e)}function VD(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,HD(i.key),i)}}function HD(e){var t=function(e){if("object"!=qD(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qD(t)?t:t+""}function $D(e,t,n){return t=WD(t),function(e,t){if(t&&("object"==qD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zD()?Reflect.construct(t,n||[],WD(e).constructor):t.apply(e,n))}function zD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zD=function(){return!!e})()}function WD(e){return WD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WD(e)}function GD(e,t){return GD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},GD(e,t)}var KD=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$D(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GD(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){var e=this;this.isHoverableDevice=window.matchMedia("(hover: hover) and (pointer: fine)"),this.tooltipTrigger=this.querySelector(".annotation__link"),this.tooltipTarget=this.querySelector(".annotation__tooltip"),this.superScriptEl=this.querySelector(".annotation__sup"),this.showClass="show",this.reverseClass="reverse",this.isVis=!1,this.isRightSideOfScreen()&&this.tooltipTarget.classList.add(this.reverseClass),this.isHoverableDevice.matches||this.tooltipTrigger.addEventListener("click",(function(){e.toggleShow()})),window.addEventListener("resize",(0,sx.P)(250,(function(){e.isRightSideOfScreen()?e.tooltipTarget.classList.add(e.reverseClass):e.tooltipTarget.classList.remove(e.reverseClass)}))),this.moveAnnotationToBottomOfPage()}},{key:"show",value:function(){var e=this;console.log(this.superScriptEl.getBoundingClientRect().right),this.isRightSideOfScreen()?this.tooltipTarget.classList.add(this.reverseClass):this.tooltipTarget.classList.remove(this.reverseClass),this.tooltipTrigger.classList.add(this.showClass),this.isVis=!0,document.body.addEventListener("click",(function(){e.hide()}),{once:!0})}},{key:"hide",value:function(){this.tooltipTrigger.classList.remove(this.showClass),this.isVis=!1}},{key:"toggleShow",value:function(){this.isVis?this.hide():this.show()}},{key:"isRightSideOfScreen",value:function(){var e=!1;return window.innerWidth-this.superScriptEl.getBoundingClientRect().right<200&&(e=!0),e}},{key:"moveAnnotationToBottomOfPage",value:function(){var e=this.tooltipTarget.cloneNode(!0);null===document.querySelector(".PageFootnotesForPrint")&&document.querySelector(".PageFooter").insertAdjacentHTML("beforebegin",'<section class="PageFootnotesForPrint" data-modulewell>\n        <div class="PageFootnotesForPrint__inner" data-module>\n          <br/><br/>\n        </div>\n      </section>\n      '),document.querySelector(".PageFootnotesForPrint .PageFootnotesForPrint__inner").appendChild(e)}}])&&VD(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function YD(e){return YD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YD(e)}function XD(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,JD(i.key),i)}}function JD(e){var t=function(e){if("object"!=YD(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=YD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==YD(t)?t:t+""}function QD(e,t,n){return t=eR(t),function(e,t){if(t&&("object"==YD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ZD()?Reflect.construct(t,n||[],eR(e).constructor):t.apply(e,n))}function ZD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ZD=function(){return!!e})()}function eR(e){return eR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eR(e)}function tR(e,t){return tR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tR(e,t)}var nR=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),QD(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tR(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){var e=this;this.toolbar=document.querySelector(".StickyToolbar.mobile-only"),window.addEventListener("scroll",(0,sx.P)(350,(function(){window.scrollY>0?e.toolbar.setAttribute("data-scroll",""):e.toolbar.removeAttribute("data-scroll")})))}}])&&XD(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function iR(e){return iR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iR(e)}function rR(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,oR(i.key),i)}}function oR(e){var t=function(e){if("object"!=iR(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=iR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==iR(t)?t:t+""}function sR(e,t,n){return t=lR(t),function(e,t){if(t&&("object"==iR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aR()?Reflect.construct(t,n||[],lR(e).constructor):t.apply(e,n))}function aR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(aR=function(){return!!e})()}function lR(e){return lR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lR(e)}function cR(e,t){return cR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cR(e,t)}var uR=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),sR(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cR(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.siderailSelector="sticky-toolbar-desktop-page-person",this.cacheSelectors(),this.init()}},{key:"cacheSelectors",value:function(){this.stickyToolbarElem=document.querySelector(this.siderailSelector),this.mainElem=this.stickyToolbarElem.closest("main"),this.expandSiderailButton=this.stickyToolbarElem.querySelector("[data-desktop-expand-button]"),this.shiftArea=this.stickyToolbarElem.querySelector(".StickyToolbar-shift-area"),this.siderailBlockers=Array.from(document.querySelectorAll("[data-block-siderail]")),this.siderailBlockers=this.siderailBlockers[0]}},{key:"init",value:function(){var e=this;this.initPageScroll(),this.initExpandButton(),window.addEventListener("scroll",(0,sx.P)(200,(function(){e.initPageScroll()})))}},{key:"initPageScroll",value:function(){if(this.mainElem.getBoundingClientRect().top<=100?this.setAttribute("data-show-widgets",!0):this.removeAttribute("data-show-widgets"),!this.getAttribute("data-desktop-expand-button-clicked")&&this.siderailBlockers){var e=this.stickyToolbarElem.getBoundingClientRect();this.siderailBlockers.getBoundingClientRect().top<e.bottom+this.stickyToolbarElem.scrollHeight?(this.removeAttribute("data-show-widgets"),this.setAttribute("data-siderail-blocked",!0),this.expandSiderailButton.setAttribute("data-desktop-expand-button","collapsed")):(this.setAttribute("data-show-widgets",!0),this.removeAttribute("data-siderail-blocked"),this.expandSiderailButton.setAttribute("data-desktop-expand-button","expanded"))}}},{key:"initExpandButton",value:function(){var e=this;this.expandSiderailButton.addEventListener("click",(function(){var t=e.expandSiderailButton.getAttribute("data-desktop-expand-button"),n="expanded"===t?"collapsed":"expanded";e.expandSiderailButton.setAttribute("data-desktop-expand-button",n),e.shiftArea.setAttribute("data-collapsed","expanded"===t),e.setAttribute("data-desktop-expand-button-clicked",!0)}))}}])&&rR(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function hR(e){return hR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hR(e)}function dR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function pR(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,fR(i.key),i)}}function fR(e){var t=function(e){if("object"!=hR(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=hR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==hR(t)?t:t+""}function mR(e,t,n){return t=yR(t),function(e,t){if(t&&("object"==hR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gR()?Reflect.construct(t,n||[],yR(e).constructor):t.apply(e,n))}function gR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gR=function(){return!!e})()}function yR(e){return yR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yR(e)}function vR(e,t){return vR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vR(e,t)}var bR={selItems:"[data-list-loadmore-items]",selPagination:"[data-list-loadmore-pagination]",pageCacheRegex:/(page|p)=([0-9]*)$/},_R="data-list-loadmore",wR=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mR(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vR(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(e){this.el=this,this.settings=Object.assign({},bR,e),this.hasAttribute("infinite-scroll")&&(this.settings.infiniteScroll=!0),this.el.setAttribute(_R,""),this.pageHrefCache=[1],this.init()}},{key:"init",value:function(){this.elItems=this.el.querySelector(this.settings.selItems),this.setBinds()}},{key:"loadMore",value:function(t,n){var i=this,r=this,o=this.el.className,s=e.findClassNameMatches(document,o),a=Array.from(s).indexOf(this.el);this.pageHrefCache.push(this.getPageNum(t)),this.el.setAttribute(_R,"loading"),window.fetch(t,{credentials:"include"}).then((function(e){return i.el.setAttribute(_R,""),e.text()})).then((function(t){var s=document.createElement("div");s.innerHTML=t;var l=e.findClassNameMatches(s,o),c=l[a].querySelector(r.settings.selItems),u=l[a].querySelector(r.settings.selPagination);"function"==typeof n?n(c,u,l[a]):i.render(c,u,r.elItems,r.elPagination)})).catch((function(e){console.log(e)}))}},{key:"next",value:function(e){if(this.elPagination){var t=this.elPagination.querySelector("a");t&&this.loadMore(t.href,e)}}},{key:"setBinds",value:function(){var e=this,t=this;this.elPagination&&(this.settings.infiniteScroll?(this.intersectionObserver=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){var n=t.elPagination.querySelector("a");n&&t.loadMore(n.href)}}))})),this.intersectionObserver.observe(this.elPagination)):this.elPagination.addEventListener("click",(function(t){var n=t.target;"A"===n.nodeName.toUpperCase()&&(t.preventDefault(),e.loadMore(n.href))})))}},{key:"getPageNum",value:function(e){try{var t=this.settings.pageCacheRegex.exec(e);return parseInt(t[2])}catch(t){return console.info("ListLoadMore","".concat(e," not a new page number")),0}}},{key:"updatePaginationDOM",value:function(e){var t=this;(function(e){return function(e){if(Array.isArray(e))return dR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return dR(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dR(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()})(e.querySelectorAll(":scope > a")).forEach((function(e){t.pageHrefCache.indexOf(t.getPageNum(e.href))>=0&&e.parentNode.removeChild(e)})),this.elPagination.innerHTML=e.innerHTML}},{key:"elPagination",get:function(){return this.el.querySelector(this.settings.selPagination)}},{key:"render",value:function(e,t){e&&this.elItems.insertAdjacentHTML("beforeend",e.innerHTML),t?this.updatePaginationDOM(t):this.elPagination.parentNode.removeChild(this.elPagination),this.dispatchRendered()}},{key:"dispatchRendered",value:function(){var e=new window.CustomEvent("Ajax:Rendered",{detail:{ListLoadMore:!0},bubbles:!0});document.body.dispatchEvent(e)}}],i=[{key:"findClassNameMatches",value:function(e,t){return e.querySelectorAll('[class="'.concat(t,'"]'))}}],n&&pR(t.prototype,n),i&&pR(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();function kR(e){return kR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kR(e)}function SR(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ER(i.key),i)}}function ER(e){var t=function(e){if("object"!=kR(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=kR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kR(t)?t:t+""}function TR(e,t,n){return t=CR(t),function(e,t){if(t&&("object"==kR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xR()?Reflect.construct(t,n||[],CR(e).constructor):t.apply(e,n))}function xR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xR=function(){return!!e})()}function CR(e){return CR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CR(e)}function PR(e,t){return PR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PR(e,t)}var AR=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),TR(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PR(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){var e=this,t=this.getAttribute("data-toggle"),n=this.querySelectorAll('[data-toggle-trigger="'+t+'"]'),i=this;this.handleToggle=function(e){e.preventDefault();var t=this.getAttribute("data-toggle-trigger"),n="data-toggle-in";t&&(i.getAttribute(n)===t?(document.body.removeAttribute(n),i.removeAttribute(n,t)):(document.body.setAttribute(n,t),i.setAttribute(n,t)))},n.forEach((function(t){return t.addEventListener("click",e.handleToggle,!0)}))}},{key:"disconnectedCallback",value:function(){var e=this;this.querySelectorAll("[data-toggle-trigger]").forEach((function(t){return t.removeEventListener("click",e.handleToggle,!0)}))}}])&&SR(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function OR(e){return OR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OR(e)}function IR(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,LR(i.key),i)}}function LR(e){var t=function(e){if("object"!=OR(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=OR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==OR(t)?t:t+""}function DR(e){var t="function"==typeof Map?new Map:void 0;return DR=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(RR())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(e.bind.apply(e,i));return n&&MR(r,n.prototype),r}(e,arguments,NR(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),MR(n,e)},DR(e)}function RR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(RR=function(){return!!e})()}function MR(e,t){return MR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},MR(e,t)}function NR(e){return NR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NR(e)}var jR="active-search-expanded",FR=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=NR(t),function(e,t){if(t&&("object"==OR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,RR()?Reflect.construct(t,n||[],NR(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MR(e,t)}(t,e),n=t,(i=[{key:"connectedCallback",value:function(){this.addEvents(),this.handlerWindowScroll()}},{key:"addEvents",value:function(){var e=this;document.addEventListener("scroll",(function(){e.handlerWindowScroll()}))}},{key:"handlerWindowScroll",value:function(){var e=document.documentElement;0!==window.scrollY||document.body.classList.contains("deep-mode-open")?e.classList.remove(jR):e.classList.add(jR)}}])&&IR(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(DR(HTMLElement));function BR(e){return BR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BR(e)}function UR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UR(Object(n),!0).forEach((function(t){VR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VR(e,t,n){return(t=GR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HR(){HR=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==BR(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(BR(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function $R(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function zR(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){$R(o,i,r,s,a,"next",e)}function a(e){$R(o,i,r,s,a,"throw",e)}s(void 0)}))}}function WR(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,GR(i.key),i)}}function GR(e){var t=function(e){if("object"!=BR(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=BR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==BR(t)?t:t+""}function KR(e,t,n){return t=XR(t),function(e,t){if(t&&("object"==BR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YR()?Reflect.construct(t,n||[],XR(e).constructor):t.apply(e,n))}function YR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YR=function(){return!!e})()}function XR(e){return XR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},XR(e)}function JR(e,t){return JR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JR(e,t)}var QR=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),KR(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JR(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:(a=zR(HR().mark((function e(){return HR().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.module=this,this.clickedCta=null,this.selectors={module:"product-hero",demoCtas:".product-hero__cta",trialCta:".product-hero__ctaTrial",floatingCta:".product-hero__floating-button"},this.demoCtas=this.module.querySelectorAll(this.selectors.demoCtas),this.trialCta=this.module.querySelector(this.selectors.trialCta),this.productHeros=document.querySelectorAll(this.selectors.module),this.onlyOneHero=this.productHeros&&1===this.productHeros.length,this.floatingButton=this.module.querySelector(this.selectors.floatingCta),this.demos=[],this.trialRedirected=!1,e.next=12,this.initModule();case 12:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"initModule",value:(s=zR(HR().mark((function e(){return HR().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.trialCta&&(this.initTrialCta(),"true"===(0,NE.ce)("requesttrial")&&this.onlyOneHero&&this.trialCta.click()),this.bindLoginEvents(),e.next=4,this.checkDemoRequested();case 4:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:this.onlyOneHero&&this.bindFloatingBtnEvents(),this.demoCtas&&this.initDemoCtas();case 8:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"initDemoCtas",value:function(){var e=this;this.demoCtas.forEach((function(t){t.addEventListener("click",function(){var t=zR(HR().mark((function t(n){return HR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),e.clickedCta=n.target,!UE()){t.next=7;break}return t.next=5,e.processRequest();case 5:t.next=8;break;case 7:window.dispatchEvent((0,NE.t3)("showSignInWidget",{context:{source:"request-demo"}}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}},{key:"initTrialCta",value:function(){var e=this;this.trialCta.addEventListener("click",(function(t){t.preventDefault(),e.clickedCta=t.target,UE()?e.trialRedirect():window.dispatchEvent((0,NE.t3)("showSignInWidget",{context:{source:"request-trial"}}))}))}},{key:"bindLoginEvents",value:function(){var e=this;window.addEventListener("login.success",function(){var t=zR(HR().mark((function t(n){return HR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("request-trial"!==n.detail.context){t.next=4;break}e.trialRedirect(),t.next=7;break;case 4:if("request-demo"!==n.detail.context){t.next=7;break}return t.next=7,e.processRequest();case 7:return t.next=9,e.checkDemoRequested();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"bindFloatingBtnEvents",value:function(){var e=this;window.addEventListener("showFloatingRequestButton",(function(){e.floatingButton.classList.add("is-visible")})),window.addEventListener("hideFloatingRequestButton",(function(){e.floatingButton.classList.remove("is-visible")})),new window.IntersectionObserver((function(e){e[0].isIntersecting?window.dispatchEvent((0,NE.t3)("hideFloatingRequestButton")):window.dispatchEvent((0,NE.t3)("showFloatingRequestButton"))}),{root:null,rootMargin:"0px",threshold:0}).observe(this.module)}},{key:"processRequest",value:(o=zR(HR().mark((function e(){var t,n,i,r,o,s;return HR().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkDemoRequested(this.clickedCta);case 2:if(!e.sent){e.next=4;break}return e.abrupt("return");case 4:return t=this.clickedCta.getAttribute("ph-0"),e.prev=5,e.next=8,VE();case 8:return i=e.sent,r=new URLSearchParams({moduleId:t,url:window.location.pathname,csrfToken:i["x-csrf-token"]}),e.next=12,window.fetch("/DemoRequest",{method:"POST",headers:qR(qR({},i),{},{"Content-Type":"application/x-www-form-urlencoded"}),body:r.toString()});case 12:return o=e.sent,n=o.status,e.next=16,o.json();case 16:if(!(s=e.sent)){e.next=26;break}if(!s.success){e.next=24;break}return this.updateDemoRequested(t),e.next=22,this.checkDemoRequested();case 22:e.next=26;break;case 24:return e.next=26,this.initModule();case 26:e.next=34;break;case 28:return e.prev=28,e.t0=e.catch(5),console.info("There was an error processing demo request: ",e.t0),n=e.t0,e.next=34,this.initModule();case 34:return e.prev=34,window.dispatchEvent((0,NE.t3)("adobe.demo.request",{type:"demo-request",id:t,requestInfo:n})),e.finish(34);case 37:case"end":return e.stop()}}),e,this,[[5,28,34,37]])}))),function(){return o.apply(this,arguments)})},{key:"postSuccess",value:function(e){e.innerText=e.getAttribute("ph-2"),e.classList.add("disabled")}},{key:"checkDemoRequested",value:(r=zR(HR().mark((function e(t){var n,i=this;return HR().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=JSON.parse(window.localStorage.getItem("user-storage")))||!n.demoRequested){e.next=5;break}this.demos=n.demoRequested,e.next=13;break;case 5:if(!UE()){e.next=12;break}return e.next=8,this.getDemosRequested();case 8:this.demos=e.sent,this.demos.length>0&&window.localStorage.setItem("user-storage",JSON.stringify(n?Object.assign(n,{demoRequested:this.demos}):{demoRequested:this.demos})),e.next=13;break;case 12:return e.abrupt("return",!1);case 13:if(!t||!this.demos.includes(t.getAttribute("ph-0"))){e.next=15;break}return e.abrupt("return",!0);case 15:document.querySelectorAll(this.selectors.demoCtas).forEach((function(e){var t=e.getAttribute("ph-0");i.demos&&i.demos.includes(t)&&i.postSuccess(e)}));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"updateDemoRequested",value:function(e){var t=JSON.parse(window.localStorage.getItem("user-storage"));if(t&&t.demoRequested)return this.demos=t.demoRequested,void(t.demoRequested.includes(e)||(t.demoRequested.push(e),window.localStorage.setItem("user-storage",JSON.stringify(t))));window.localStorage.setItem("user-storage",JSON.stringify(t?Object.assign(t,{demoRequested:[e]}):{demoRequested:[e]}))}},{key:"getDemosRequested",value:(i=zR(HR().mark((function e(){var t,n,i,r;return HR().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,VE();case 4:return n=e.sent,e.next=7,window.fetch("/DemoRequests",{headers:n});case 7:return i=e.sent,e.next=10,i.json();case 10:(r=e.sent)&&r.forEach((function(e){return t.push(e.Module_ID)})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),t=[],console.info("There was an error getting demos requested: ",e.t0);case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,null,[[1,14]])}))),function(){return i.apply(this,arguments)})},{key:"trialRedirect",value:function(){this.clickedCta&&(this.trialRedirected||(window.dispatchEvent((0,NE.t3)("adobe.freetrial.request",{type:"trial-request",target:this.clickedCta.dataset.target||"no target",href:this.clickedCta.dataset.href||"no href"})),this.trialRedirected=!0),!this.clickedCta.dataset.target&&this.clickedCta.dataset.href?window.open(this.clickedCta.dataset.href,"_self"):this.clickedCta.dataset.href&&window.open(this.clickedCta.dataset.href,this.clickedCta.dataset.target))}}],n&&WR(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i,r,o,s,a}();function ZR(e){return ZR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZR(e)}function eM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,tM(i.key),i)}}function tM(e){var t=function(e){if("object"!=ZR(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ZR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ZR(t)?t:t+""}function nM(e,t,n){return t=rM(t),function(e,t){if(t&&("object"==ZR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iM()?Reflect.construct(t,n||[],rM(e).constructor):t.apply(e,n))}function iM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(iM=function(){return!!e})()}function rM(e){return rM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rM(e)}function oM(e,t){return oM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oM(e,t)}var sM=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),nM(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oM(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.cacheElements(),this.handleFormSubmit(),this.handleTracking()}},{key:"handleFormSubmit",value:function(){var e=this;this.searchForm.addEventListener("submit",(function(t){t.preventDefault();var n=new window.URLSearchParams(new window.FormData(e.searchForm)).toString(),i=window.location.pathname+"?"+n;window.history.replaceState({},document.title,i),e.setLoadingState(!0),e.getNewSearch(i).then((function(t){e.clearSearchForm(),e.renderSearchResults(t),document.body.dispatchEvent(new window.CustomEvent("Search:onSearchUpdate",{detail:{responseMarkup:t}}))}))}))}},{key:"submitSearch",value:function(e,t){var n,i=this;e&&document.body.addEventListener("Ajax:Rendered",(function(n){var r=document.querySelector(".search-facets-wrapper #".concat(e));!r||n.detail&&n.detail.ListLoadMore||(i.scrollToElement(r),r.closest(".sk-hierarchical-refinement-option")&&(r.closest(".sk-hierarchical-refinement-option").focus(),t||r.closest(".sk-hierarchical-refinement-option").blur()))})),"function"==typeof Event?n=new window.Event("submit"):(n=document.createEvent("Event")).initEvent("submit",!0,!0),this.searchForm.dispatchEvent(n)}},{key:"getNewSearch",value:function(e){return new Promise((function(t,n){window.fetch(e,{credentials:"include"}).then((function(e){t(e.text())})).catch((function(){n()}))}))}},{key:"clearSearchForm",value:function(){this.searchResults.innerHTML=""}},{key:"setLoadingState",value:function(e){e?document.querySelector("body").setAttribute("data-loading",!0):document.querySelector("body").removeAttribute("data-loading")}},{key:"renderSearchResults",value:function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelector(".SearchResultsModule-ajax").innerHTML;n&&(this.searchResults.innerHTML=n),this.setLoadingState(!1),this.dispatchRendered()}},{key:"dispatchRendered",value:function(){var e=new window.CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(e)}},{key:"findClosest",value:function(e,t){for(var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e&&!n.call(e,t);)e=e.parentElement;return e}},{key:"scrollToElement",value:function(e){if(e){var t=e.closest(".sk-hierarchical-refinement-list__hierarchical-options");t.scrollHeight>t.clientHeight&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}},{key:"handleTracking",value:function(){var e=this;document.addEventListener("click",(function(t){if(t.target&&t.target.matches("a.Link")){var n=e.findClosest(t.target,".search-result-container");if(!n)return;var i=n.querySelector(".title").textContent;if(!i)return;"undefined"!=typeof digitalData&&"undefined"!=typeof _satellite&&(digitalData.page.search.resultClicked=i,_satellite.track("search_result_click"))}}))}},{key:"cacheElements",value:function(){this.searchForm=this.querySelector(".SearchResultsModule-form"),this.searchResults=this.querySelector(".SearchResultsModule-ajax")}}],n&&eM(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function aM(e){return aM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aM(e)}function lM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,cM(i.key),i)}}function cM(e){var t=function(e){if("object"!=aM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=aM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==aM(t)?t:t+""}function uM(e,t,n){return t=dM(t),function(e,t){if(t&&("object"==aM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hM()?Reflect.construct(t,n||[],dM(e).constructor):t.apply(e,n))}function hM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hM=function(){return!!e})()}function dM(e){return dM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dM(e)}function pM(e,t){return pM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pM(e,t)}var fM=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),uM(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pM(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.cacheElements(),this.addSortSelectEvents(),this.addSortSelectElementEvent(),this.addFilterEvents(),this.addMobileOverlayEvents(),this.addResetEvent(),this.addClearEvent(),this.gatherSelectedFilters(),this.lastFilterUsed=null}},{key:"cacheElements",value:function(){this.searchResultsModule=document.querySelector(".SearchResultsModule"),this.searchForm=document.querySelector(".SearchResultsModule-form"),this.searchSortInput=this.querySelector(".search-facets-wrapper .search-sort input"),this.searchSorts=this.querySelectorAll('.search-facets-wrapper .search-sort [data-qa="option"]'),this.searchSortsMobile=this.querySelectorAll('.search-facets-wrapper-mobile .search-sort [data-qa="option"]'),this.searchSortsBoth=this.querySelectorAll('.search-sort [data-qa="option"]'),this.searchSortSelectElement=this.querySelector("select.search-sort-select"),this.filters=this.querySelectorAll(".filter-link label input"),this.selectedFiltersArray=[],this.selectedFiltersReset=this.querySelector(".SearchResultsModule-filters-selected-reset"),this.selectedFiltersClearButtons=this.querySelectorAll("[data-clear-all-filters]"),this.filtersOpenButton=this.querySelector("[data-open-mobile-filters]"),this.filtersCloseButton=this.querySelector("[data-close-mobile-filters]"),this.filtersMobile=this.querySelector(".search-facets-wrapper-mobile"),this.selectedFiltersContent=this.querySelector(".selected-filters-container")}},{key:"handleSortSelect",value:function(e){var t=e.getAttribute("data-key");this.searchSortInput.value=t,this.gatherSelectedFilters(),this.searchResultsModule.submitSearch(),"undefined"!=typeof digitalData&&"undefined"!=typeof _satellite&&(digitalData.page.search.sortBy=t,_satellite.track("track_search_sorting"))}},{key:"addSortSelectEvents",value:function(){var e=this;this.searchSorts&&this.searchSorts.forEach((function(t){t.addEventListener("click",(function(n){e.handleSortSelect(t)}))})),this.searchSortsMobile&&this.searchSortsMobile.forEach((function(t){t.addEventListener("click",(function(n){e.handleSortSelect(t)}))}))}},{key:"addSortSelectElementEvent",value:function(){var e=this;this.searchSortSelectElement&&this.searchSortSelectElement.addEventListener("change",(function(t){var n=e.searchSortSelectElement.value;e.gatherSelectedFilters(),e.searchResultsModule.submitSearch(),"undefined"!=typeof digitalData&&"undefined"!=typeof _satellite&&(digitalData.page.search.sortBy=n,_satellite.track("track_search_sorting"))}))}},{key:"addFilterEvents",value:function(){var e=this;this.filters&&this.filters.forEach((function(t){var n=!1;t.addEventListener("click",(function(t){if(t.target.getAttribute("checked")){var i=t.target.value;document.querySelectorAll('input[value="'+i+'"]').forEach((function(e){return e.removeAttribute("checked")})),t.target.remove()}e.gatherSelectedFilters(),e.searchResultsModule.submitSearch(t.target.id,n),n=!1,"undefined"!=typeof digitalData&&"undefined"!=typeof _satellite&&(digitalData.page.search.sortBy=t.target.getAttribute("data-display"),_satellite.track("track_search_filter"))})),e.findClosest(t,".sk-hierarchical-refinement-option").addEventListener("keydown",(function(e){"Space"===e.code&&(n=!0,e.target.querySelector("input").click())}))}))}},{key:"handleSelectedFiltersRemove",value:function(){var e=this;this.querySelectorAll(".selected-filter a").forEach((function(t){t.addEventListener("click",(function(n){n.preventDefault(),e.removeSelectedFilter(t)}))}))}},{key:"removeSelectedFilter",value:function(e){var t=e.getAttribute("data-value"),n=this.querySelectorAll('input[value="'.concat(t,'"]'));n&&(n.forEach((function(e){e.checked&&e.remove()})),this.gatherSelectedFilters(),this.searchResultsModule.submitSearch())}},{key:"gatherSelectedFilters",value:function(){var e=this;this.selectedFiltersArray=[],this.querySelectorAll(".filter-label input").forEach((function(t){if(t.checked){var n=t.getAttribute("name"),i=t.getAttribute("value"),r=t.getAttribute("data-display");e.selectedFiltersArray.push({label:n,value:i,display:r})}})),this.renderSelectedFiltersForMobile(),this.selectedFiltersArray.length>0?this.searchResultsModule.setAttribute("data-filters-active","true"):this.searchResultsModule.setAttribute("data-filters-active","false")}},{key:"renderSelectedFiltersForMobile",value:function(){var e=this;this.selectedFiltersArray.length>0&&this.selectedFiltersContent&&(this.selectedFiltersContent.innerHTML="",this.selectedFiltersArray.forEach((function(t){var n=t.value,i=t.display,r="";r+='<div class="sk-selected-filters-option sk-selected-filters__item selected-filter">',r+='<a class="icon-deep-mode-close" data-value="'.concat(n,'"></a>'),r+='<div class="sk-selected-filters-option__name">'.concat(i,"</div>"),r+="</div>",e.selectedFiltersContent.innerHTML+=r})),this.handleSelectedFiltersRemove())}},{key:"addResetEvent",value:function(){var e=this;this.selectedFiltersReset&&this.selectedFiltersReset.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e.filters.forEach((function(e){e.checked=!1})),e.gatherSelectedFilters(),e.searchResultsModule.submitSearch()}))}},{key:"addClearEvent",value:function(){var e=this;this.selectedFiltersClearButtons&&this.selectedFiltersClearButtons.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e.filters.forEach((function(e){e.checked=!1})),e.gatherSelectedFilters(),e.searchResultsModule.submitSearch()}))}))}},{key:"addMobileOverlayEvents",value:function(){var e=this;this.filtersOpenButton&&(this.filtersOpenButton.addEventListener("click",(function(t){t.preventDefault(),e.filtersMobile.style.display="block",document.querySelector("body").classList.add("search-mobile-overlay-open")})),this.filtersCloseButton.addEventListener("click",(function(t){t.preventDefault(),e.filtersMobile.style.display="none",document.querySelector("body").classList.remove("search-mobile-overlay-open")})),document.body.classList.contains("search-mobile-overlay-open")&&(this.filtersMobile.style.display="block"))}},{key:"findClosest",value:function(e,t){for(var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e&&!n.call(e,t);)e=e.parentElement;return e}}],n&&lM(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function mM(e){return mM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mM(e)}function gM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,yM(i.key),i)}}function yM(e){var t=function(e){if("object"!=mM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mM(t)?t:t+""}__webpack_require__(8105),__webpack_require__(2169);var vM=function(){return e=function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.data=null,this.get(t)},(t=[{key:"get",value:function(e){return this.data?new Promise.resolve(this.data):new Promise((function(t,n){var i=new XMLHttpRequest;i.open("GET",e||this.url),i.onload=function(){200==i.status?t(i.response):n(Error(i.statusText))},i.onerror=function(){n(Error("Network Error"))},i.send()}))}}])&&gM(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function bM(e){return bM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bM(e)}function _M(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,wM(i.key),i)}}function wM(e){var t=function(e){if("object"!=bM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=bM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bM(t)?t:t+""}var kM=function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.oktaSettings=null,this.authClient=null,this.getConfiguration().then((function(){t.authClient=t.createAuthClient()}))},t=[{key:"createAuthClient",value:function(){return new As({issuer:this.oktaSettings.baseUrl,clientId:this.oktaSettings.clientId,redirectUri:this.oktaSettings.redirectUri,pkce:!1,tokenManager:{autoRenew:!1,syncStorage:!0}})}},{key:"getFreshTokens",value:function(e,t){var n=this;return new Promise((function(i,r){n.authenticateUser({email:e.trim(),password:t}).then((function(e){return n.authorizeUser(e,"okta.myAccount.email.manage")})).then((function(e){return n.getNewAccessToken(e)})).then((function(e){i(e)})).catch((function(e){r(e,"UserTokensService Failed...")}))}))}},{key:"authenticateUser",value:function(e){var t=this;return new Promise((function(n,i){t.authClient.signInWithCredentials({username:e.email,password:e.password}).then((function(e){"SUCCESS"==e.status&&e.sessionToken?n(e.sessionToken):i(e.status)})).catch((function(e){i(e,"Okta /Authentication failed")}))}))}},{key:"authorizeUser",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(i,r){var o={scopes:t.oktaSettings.authParams.scopes,responseType:t.oktaSettings.authParams.responseType,clientId:t.oktaSettings.clientId,redirectUri:t.oktaSettings.redirectUri};e&&(o.sessionToken=e),n&&o.scopes.push(n),t.authClient.token.getWithoutPrompt(o).then((function(e){i(e)})).catch((function(e){r(e,"Okta /Authorization failed")}))}))}},{key:"getNewAccessToken",value:function(e){var t=this;return new Promise((function(n,i){var r={code:e.code,state:e.state,redirectUri:t.oktaSettings.redirectUri};yl().post({url:"/marketing/userprofile/unauth/tokens",data:JSON.stringify(r),context:t,contentType:"application/json;",success:function(e){n(e);var t=new CustomEvent("osiw.processTokens",{detail:e});window.dispatchEvent(t)},error:function(e){i(e,"BE /unauth/tokens failed")}})}))}},{key:"autoLogin",value:function(e,t){var n=this;this.authenticateUser({email:e,password:t}).then((function(e){return n.authorizeUser(e)})).then((function(e){setTimeout((function(){return n.getNewAccessToken(e)}),1e4)}))}},{key:"getConfiguration",value:function(){var e=this;return new vM("/Configuration/searchConfigPostLogin").then((function(t){e.oktaSettings=JSON.parse(t).oktaSettings}))}}],t&&_M(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function SM(e){return SM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SM(e)}function EM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,TM(i.key),i)}}function TM(e){var t=function(e){if("object"!=SM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=SM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==SM(t)?t:t+""}var xM=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},(t=[{key:"addEmail",value:function(e,t){return new Promise((function(n,i){window.fetch("/marketing/userprofile/oktaauth/users/email",{method:"POST",headers:{"Content-Type":"application/json",charset:"utf8","x-access-token":t.token,"x-csrf-token":t.csrfToken,MethodRequestType:"PUT"},body:JSON.stringify(e)}).then((function(e){if(200==e.status)return e.json();i(e)})).then((function(e){e.challenge_id&&""!=e.challenge_id?n(e):i(e)})).catch((function(e){i(new Error(e))}))}))}},{key:"verifyEmail",value:function(e,t){return new Promise((function(n,i){window.fetch("/marketing/userprofile/oktaauth/users/verify-email",{method:"POST",headers:{"Content-Type":"application/json",charset:"utf8","x-access-token":t.token,"x-csrf-token":t.csrfToken,MethodRequestType:"POST"},body:JSON.stringify(e)}).then((function(e){if(200==e.status)return e.json();i(e)})).then((function(e){n(e)})).catch((function(e){i(new Error(e))}))}))}}])&&EM(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),CM={init:function(){var e=this;window.addEventListener("load",(function(){e.oldFormData={},e.oldLoginFormData={},e.originalValMap={},e.tempDirty=!1,e.formDirty=!1,e.submitting=!1,e.monthNumMap={January:1,February:2,March:3,April:4,May:5,June:6,July:7,August:8,September:9,October:10,November:11,December:12},e.jobs_total=yl()("#board-memberships-other-pos > section").length,e.deleted_jobs=0,e.jobs_total_temp=0,e.deleted_jobs_temp=0,e.education_total=yl()("#education > section").length,e.deleted_education=0,e.education_total_temp=0,e.deleted_education_temp=0,e.history_total=yl()("#bcg-history > section").length,e.deleted_history=0,e.history_total_temp=0,e.deleted_history_temp=0,e.jobHistory_total=yl()("#job-history > section").length,e.deleted_jobHistory=0,e.jobHistory_total_temp=0,e.deleted_jobHistory_temp=0,e.other_social_total=yl()(".other-social-container > section").length,e.deleted_other_social=0,e.other_social_total_temp=0,e.deleted_other_social_temp=0,e.widgetIdUpdateEmail=null,e.recaptchaToken=null,e.spinner=new UT,window.dataDirty=!1,window.isViewMode=!0,e.setUpEditProfile(document.querySelector(".edit-btn")),e.userTokensService=new kM,e.updateEmailService=new xM}))},assignBoardMemViewMode:function(){for(var e=yl()("#board-memberships-other-pos .job-sub-section"),t=0;t<e.length;t++){var n=yl()(e[t]);i=n.find(".job-input").val(),r=n.find(".company-input").val(),o=void 0,s=void 0,a=void 0,l=void 0,c=void 0,o=yl()("#board-memberships-other-pos .view-mode-positions .label-input-group"),s=yl()(o[o.length-1]),a=s.clone(),l=a.find(".label-side-title"),c=a.find("h1.readonly"),l.html(i),c.html(r),a.css("display","flex"),s.after(a)}var i,r,o,s,a,l,c},assignJobHistoryViewMode:function(){for(var e=yl()("#job-history .job-history-sub-section"),t=0;t<e.length;t++){var n=yl()(e[t]),i=n.find(".start-date-month").val(),r=n.find(".start-date-year").val(),o=n.find(".end-date-month").val(),s=n.find(".end-date-year").val();a=n.find(".job-input").val(),l=n.find(".company-input").val(),c=i,u=r,h=o,d=s,p=void 0,f=void 0,m=void 0,g=void 0,y=void 0,v=void 0,b=void 0,p=yl()("#job-history .view-mode-positions .label-input-group"),f=yl()(p[p.length-1]),m=f.clone(),g=function(e,t,n,i){return"January"==e&&"January"==n&&"1900"==t&&"1900"==i?"":e.slice(0,3)+" "+t+" - <br>"+n.slice(0,3)+" "+i}(c,u,h,d),y=a+function(e,t){return""!=e&&""!=t?" at <br>":""}(a,l)+l,v=m.find(".label-side-title"),b=m.find("h1.readonly"),m.css("display","flex"),v.html(g),b.html(y),f.after(m)}var a,l,c,u,h,d,p,f,m,g,y,v,b},assignHistoryViewMode:function(){for(var e=yl()("#bcg-history .bcg-history-sub-section"),t=0;t<e.length;t++){var n=yl()(e[t]),i=n.find(".start-date-month").val(),r=n.find(".start-date-year").val(),o=n.find(".end-date-month").val(),s=n.find(".end-date-year").val();a=n.find(".job-input").val(),l=n.find(".company-input").val(),c=i,u=r,h=o,d=s,p=void 0,f=void 0,m=void 0,g=void 0,y=void 0,v=void 0,b=void 0,p=yl()("#bcg-history .view-mode-positions .label-input-group"),f=yl()(p[p.length-1]),m=f.clone(),g=function(e,t,n,i){return"January"==e&&"January"==n&&"1900"==t&&"1900"==i?"":e.slice(0,3)+" "+t+" - <br>"+n.slice(0,3)+" "+i}(c,u,h,d),y=a+function(e,t){return""!=e&&""!=t?" at <br>":""}(a,l)+l,v=m.find(".label-side-title"),b=m.find("h1.readonly"),m.css("display","flex"),v.html(g),b.html(y),f.after(m)}var a,l,c,u,h,d,p,f,m,g,y,v,b},assignEducationViewMode:function(){for(var e=yl()("#education .education-sub-section"),t=0;t<e.length;t++){var n=yl()(e[t]),i=n.find(".start-date-month").val(),r=n.find(".start-date-year").val(),o=n.find(".end-date-month").val(),s=n.find(".end-date-year").val();a=n.find(".program-input").val(),l=n.find(".degree-input").val(),c=n.find(".school-input").val(),u=i,h=r,d=o,p=s,f=void 0,m=void 0,g=void 0,y=void 0,v=void 0,b=void 0,_=void 0,f=yl()("#education .view-mode-positions .label-input-group"),m=yl()(f[f.length-1]),g=m.clone(),y=function(e,t,n,i){return"January"==e&&"January"==n&&"1900"==t&&"1900"==i?"":e.slice(0,3)+" "+t+" - <br>"+n.slice(0,3)+" "+i}(u,h,d,p),v=c+"<br>"+l+function(e,t){return""!=e&&""!=t?" in ":""}(l,a)+a,b=g.find(".label-side-title"),_=g.find("h1.readonly"),g.css("display","flex"),b.html(y),_.html(v),m.after(g)}var a,l,c,u,h,d,p,f,m,g,y,v,b,_},assignAreaOfResViewMode:function(){var e=yl()(".area-res-dropdown");e.val(e.attr("value"));var t=yl()(".area-res-dropdown option:selected").text();"0"!=e.val()&&""!=e.val()&&null!=e.val()&&e.after('<p class = "readonly display-view-hidden-edit appear-animation">'+t+"</p>")},applyEditMode:function(e){for(var t=yl()(e).closest(".profile-container").parent().find(".readonly"),n=0;n<t.length;n++){var i=yl()(t[n]);i.hasClass("login-email")||i.hasClass("login-password")||i.is("p")||(window.isViewMode&&0==i.closest("#login-change-form").length?(i.is("select")?i.prop("disabled",!1):i.prop("readonly",!1),i.addClass("edit-mode"),i.removeClass("readonly")):(i.is("select")?i.attr("disabled","disabled"):i.attr("readonly","readonly"),i.removeClass("edit-mode"),i.addClass("readonly")))}window.isViewMode=!window.isViewMode},storeTempDataTotals:function(){this.jobs_total_temp=this.jobs_total,this.deleted_jobs_temp=this.deleted_jobs,this.history_total_temp=this.history_total,this.deleted_history_temp=this.deleted_history,this.jobHistory_total_temp=this.jobHistory_total,this.deleted_jobHistory_temp=this.deleted_jobHistory,this.education_total_temp=this.education_total,this.deleted_education_temp=this.deleted_education,this.other_social_total_temp=this.other_social_total,this.deleted_other_social_temp=this.deleted_other_social},revertTempDataTotals:function(){this.jobs_total=this.jobs_total_temp,this.deleted_jobs=this.deleted_jobs_temp,this.history_total=this.history_total_temp,this.deleted_history=this.deleted_history_temp,this.jobHistory_total=this.jobHistory_total_temp,this.deleted_jobHistory=this.deleted_jobHistory_temp,this.education_total=this.education_total_temp,this.deleted_education=this.deleted_education_temp,this.other_social_total=this.other_social_total_temp,this.deleted_other_social=this.deleted_other_social_temp},toggleEditMode:function(e){var t=yl()(e),n=t.closest(".user-profile-wrapper").find(".my-profile-edit-form"),i=t.closest(".user-profile-wrapper").find(".edit-profile-picture");i.toggleClass("view-profile-mode"),i.toggleClass("edit-profile-mode"),t.toggleClass("view-profile-mode"),t.toggleClass("edit-profile-mode"),n.toggleClass("view-profile-mode"),n.toggleClass("edit-profile-mode"),t.hasClass("view-profile-mode")?(t.html('EDIT DETAILS <svg><use xlink:href="#edit"></use></svg>'),this.enableSave("main")):(t.html('SAVE <svg class="chevron"><use xlink:href="#chevron-right"></use></svg>'),this.setOldFormData(),this.storeTempDataTotals()),this.applyEditMode(e)},assignInitIDs:function(e){var t=yl()(e),n=t.closest(".profile-container").parent().find("#board-memberships-other-pos > section"),i=t.closest(".profile-container").parent().find("#education > section"),r=t.closest(".profile-container").parent().find("#bcg-history > section"),o=t.closest(".profile-container").parent().find("#job-history > section"),s=t.closest(".profile-container").parent().find(".other-social-container > section");function a(e,t){for(var n=0;n<e.length;n++){var i=yl()(e[n]);0==n&&i.addClass("first-sub-section"),i.addClass("saved-section"),i.attr("id",t+n),i.prepend('<button type = \'button\' class = \'remove-block-btn icon-nav-menu-search-close\'><svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.4531 3.5V3.54688H13.5H17.25C17.4365 3.54688 17.6153 3.62095 17.7472 3.75282C17.879 3.88468 17.9531 4.06352 17.9531 4.25C17.9531 4.43648 17.879 4.61532 17.7472 4.74718C17.6153 4.87905 17.4365 4.95312 17.25 4.95312H16.5H16.4531V5V18.5C16.4531 18.8854 16.3 19.255 16.0275 19.5275C15.755 19.8 15.3854 19.9531 15 19.9531H3C2.61461 19.9531 2.245 19.8 1.97249 19.5275C1.69997 19.255 1.54688 18.8854 1.54688 18.5V5V4.95312H1.5H0.75C0.56352 4.95312 0.384677 4.87905 0.252816 4.74718C0.120954 4.61532 0.046875 4.43648 0.046875 4.25C0.046875 4.06352 0.120954 3.88468 0.252816 3.75282C0.384677 3.62095 0.56352 3.54688 0.75 3.54688H4.5H4.54688V3.5V2.75C4.54688 2.16569 4.77899 1.60532 5.19215 1.19216C5.60532 0.778989 6.1657 0.546875 6.75 0.546875H11.25C11.8343 0.546875 12.3947 0.778989 12.8078 1.19216C13.221 1.60532 13.4531 2.16569 13.4531 2.75V3.5ZM12 3.54688H12.0469V3.5V2.75C12.0469 2.53866 11.9629 2.33597 11.8135 2.18652C11.664 2.03708 11.4613 1.95312 11.25 1.95312H6.75C6.53866 1.95312 6.33597 2.03708 6.18652 2.18652C6.03708 2.33597 5.95312 2.53866 5.95312 2.75V3.5V3.54688H6H12ZM15 18.5469H15.0469V18.5V5V4.95312H15H3H2.95312V5V18.5V18.5469H3H15ZM7.45312 8.75V14.75C7.45312 14.9365 7.37905 15.1153 7.24718 15.2472C7.11532 15.379 6.93648 15.4531 6.75 15.4531C6.56352 15.4531 6.38468 15.379 6.25282 15.2472C6.12095 15.1153 6.04688 14.9365 6.04688 14.75V8.75C6.04688 8.56352 6.12095 8.38468 6.25282 8.25282C6.38468 8.12095 6.56352 8.04688 6.75 8.04688C6.93648 8.04688 7.11532 8.12095 7.24718 8.25282C7.37905 8.38468 7.45312 8.56352 7.45312 8.75ZM11.9531 8.75V14.75C11.9531 14.9365 11.879 15.1153 11.7472 15.2472C11.6153 15.379 11.4365 15.4531 11.25 15.4531C11.0635 15.4531 10.8847 15.379 10.7528 15.2472C10.621 15.1153 10.5469 14.9365 10.5469 14.75V8.75C10.5469 8.56352 10.621 8.38468 10.7528 8.25282C10.8847 8.12095 11.0635 8.04688 11.25 8.04688C11.4365 8.04688 11.6153 8.12095 11.7472 8.25282C11.879 8.38468 11.9531 8.56352 11.9531 8.75Z" fill="#898888" stroke="#898888" stroke-width="0.09375"/></svg></button>')}}function l(e,t){for(var n=0;n<e.length;n++)yl()(e[n]).attr("id",t+"-"+n)}a(n,"job-"),a(i,"education-"),a(r,"bcg-history-"),a(o,"job-history-"),a(s,"other-social-"),l(yl()("#bcg-history .start-date-month"),"bcg-history-start-date-month"),l(yl()("#bcg-history .end-date-month"),"bcg-history-end-date-month"),l(yl()("#job-history .start-date-month"),"job-history-start-date-month"),l(yl()("#job-history .end-date-month"),"job-history-end-date-month"),l(yl()("#education .start-date-month"),"education-start-date-month"),l(yl()("#education .end-date-month"),"education-end-date-month"),l(yl()("#education .end-date-month"),"education-end-date-month"),l(yl()(".dummy-social-field"),"dummy-social-field")},applyNewSocialChanges:function(e){var t=e.val(),n=e.parent().parent().find(".user-social-handle"),i="";switch(e.parent().parent().find(".user-social-type").val()){case"facebook":i="https://www.facebook.com/"+t;break;case"linkedin":i="https://www.linkedin.com/in/"+t;break;case"twitter":i="https://www.twitter.com/"+t}""==t&&(i=""),n.val(i),n.attr("value",i)},reAttachSocialDropdown:function(){for(var e=yl()(".social-dropdown"),t=0;t<e.length;t++){var n=yl()(e[t]);n.val(n.attr("value"))}},createSocialDropdown:function(){var e=yl()(".social-container").eq(0),t=yl()(".social-container"),n=yl()(t[t.length-1]),i=e.clone();i.prepend('<button class = \'remove-block-btn icon-nav-menu-search-close\' type = \'button\'><svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.4531 3.5V3.54688H13.5H17.25C17.4365 3.54688 17.6153 3.62095 17.7472 3.75282C17.879 3.88468 17.9531 4.06352 17.9531 4.25C17.9531 4.43648 17.879 4.61532 17.7472 4.74718C17.6153 4.87905 17.4365 4.95312 17.25 4.95312H16.5H16.4531V5V18.5C16.4531 18.8854 16.3 19.255 16.0275 19.5275C15.755 19.8 15.3854 19.9531 15 19.9531H3C2.61461 19.9531 2.245 19.8 1.97249 19.5275C1.69997 19.255 1.54688 18.8854 1.54688 18.5V5V4.95312H1.5H0.75C0.56352 4.95312 0.384677 4.87905 0.252816 4.74718C0.120954 4.61532 0.046875 4.43648 0.046875 4.25C0.046875 4.06352 0.120954 3.88468 0.252816 3.75282C0.384677 3.62095 0.56352 3.54688 0.75 3.54688H4.5H4.54688V3.5V2.75C4.54688 2.16569 4.77899 1.60532 5.19215 1.19216C5.60532 0.778989 6.1657 0.546875 6.75 0.546875H11.25C11.8343 0.546875 12.3947 0.778989 12.8078 1.19216C13.221 1.60532 13.4531 2.16569 13.4531 2.75V3.5ZM12 3.54688H12.0469V3.5V2.75C12.0469 2.53866 11.9629 2.33597 11.8135 2.18652C11.664 2.03708 11.4613 1.95312 11.25 1.95312H6.75C6.53866 1.95312 6.33597 2.03708 6.18652 2.18652C6.03708 2.33597 5.95312 2.53866 5.95312 2.75V3.5V3.54688H6H12ZM15 18.5469H15.0469V18.5V5V4.95312H15H3H2.95312V5V18.5V18.5469H3H15ZM7.45312 8.75V14.75C7.45312 14.9365 7.37905 15.1153 7.24718 15.2472C7.11532 15.379 6.93648 15.4531 6.75 15.4531C6.56352 15.4531 6.38468 15.379 6.25282 15.2472C6.12095 15.1153 6.04688 14.9365 6.04688 14.75V8.75C6.04688 8.56352 6.12095 8.38468 6.25282 8.25282C6.38468 8.12095 6.56352 8.04688 6.75 8.04688C6.93648 8.04688 7.11532 8.12095 7.24718 8.25282C7.37905 8.38468 7.45312 8.56352 7.45312 8.75ZM11.9531 8.75V14.75C11.9531 14.9365 11.879 15.1153 11.7472 15.2472C11.6153 15.379 11.4365 15.4531 11.25 15.4531C11.0635 15.4531 10.8847 15.379 10.7528 15.2472C10.621 15.1153 10.5469 14.9365 10.5469 14.75V8.75C10.5469 8.56352 10.621 8.38468 10.7528 8.25282C10.8847 8.12095 11.0635 8.04688 11.25 8.04688C11.4365 8.04688 11.6153 8.12095 11.7472 8.25282C11.879 8.38468 11.9531 8.56352 11.9531 8.75Z" fill="#898888" stroke="#898888" stroke-width="0.09375"/></svg></button>'),i.css("display","flex"),n.after(i)},getSocialInputs:function(){var e=function(e){var t=e.find(".user-social-type").val(),n="",i=e.find(".user-social-handle").val(),r="",o="";switch(t){case"facebook":n="icon-social-share-facebook",r=i,o='<svg class="facebook"><use xlink:href="#facebook"></use></svg>';break;case"twitter":n="icon-social-share-twitter",r=i,o='<svg class="twitter"><use xlink:href="#twitter"></use></svg>';break;case"linkedin":n="icon-social-share-linkedin",r=i,o='<svg class="linkedin"><use xlink:href="#linkedin"></use></svg>';break;case"other":n="icon-social-share-other",r=i,o=""}""!=r&&yl()(".social-icons").append('<a href = "'+r+'" target = "_blank" rel="noopener noreferrer" class = "'+n+'">'+o+"</a>"),function(e,t,n){var i=e.find(".dummy-social-field");if(""==n)i.attr("value",""),i.val("");else{var r="";switch(t){case"facebook":r=n.substring(25,n.length);break;case"twitter":r=n.substring(24,n.length);break;case"linkedin":r=n.substring(28,n.length);break;case"other":r=n,i=e.find("user-social-handle")}i.attr("value",r),i.val(r)}}(e,t,i)},t=yl()(".social-container");t.splice(3,1);var n=yl()(".other-social-container > section");yl().merge(t,n);for(var i=0;i<t.length;i++){var r=yl()(t[i]);""!=r.find(".user-social-handle").val()&&e(r)}},assignHiddenDates:function(e){for(var t=function(e){var t={};if(""==e||null==e)return t.year="1900",t.month="January",t;for(var n,i="",r="",o=0,s=0;s<10;s++)if("/"==e[s])o+=1;else{if(" "==e[s])break;0===o?r+=e[s]:2===o&&(i+=e[s])}switch(parseInt(r)){case 1:n="January";break;case 2:n="February";break;case 3:n="March";break;case 4:n="April";break;case 5:n="May";break;case 6:n="June";break;case 7:n="July";break;case 8:n="August";break;case 9:n="September";break;case 10:n="October";break;case 11:n="November";break;case 12:n="December"}return t.month=n,t.year=i,t},n=0;n<e.length;n++){var i=yl()(e[n]),r=i.find(".hidden-start-date").val(),o=i.find(".start-date-month"),s=i.find(".start-date-year"),a=t(r),l=i.find(".hidden-end-date").val(),c=i.find(".end-date-month"),u=i.find(".end-date-year"),h=t(l);o.attr("value",a.month),o.val(a.month),s.val(a.year),s.attr("value",a.year),c.attr("value",h.month),c.val(h.month),u.val(h.year),u.attr("value",h.year)}},changeMonth:function(e,t){for(var n=this.monthNumMap[e.val()],i=e.parent().parent().find(t),r=i.val().split(""),o="",s=0;s<3&&"/"!=r[0];s++)r.splice(0,1);o+=n+r.join(""),i.val(o)},changeYear:function(e,t){for(var n,i=e.val(),r=e.parent().parent().find(t),o=r.val().split(""),s=0,a=0,l=0;l<10;l++)if("/"==o[l])s+=1;else{if(" "==o[l])break;2==s&&(o[l]=i[a],a+=1)}n=o.join(""),r.val(n)},addSection:function(e,t){var n=this,i=yl()(t),r=yl()(e).attr("id"),o=null,s=!0,a=!1,l=i.closest(".profile-container").parent().find("#board-memberships-other-pos"),c=i.closest(".profile-container").parent().find("#education"),u=i.closest(".profile-container").parent().find("#bcg-history"),h=i.closest(".profile-container").parent().find("#job-history"),d=i.closest(".profile-container").parent().find(".other-social-container");function p(e,t,i,r,l){var c=e.find("#"+i+(r-1));0==c.length&&(a=!0,c=0==r?e.find("#Deleted_"+i+"0"):e.find("#Deleted_"+i+(r-1))),0==r&&(c=e.find("#Deleted_"+i+"0"));var u,h,d=c.clone();switch(i){case"job-":n.jobs_total+=1;break;case"education-":n.education_total+=1;break;case"bcg-history-":n.history_total+=1;break;case"job-history-":n.jobHistory_total+=1;break;case"other-social-":n.other_social_total+=1}r+=1,d.attr("id",i+(r-1)),d.removeClass("first-sub-section"),d.removeClass("deleted-section"),1==r?(yl()(t+" .view-mode-positions").after(d),d.addClass("first-sub-section")):(d.removeClass("first-sub-section"),c.after(d)),(o=e.find("#"+i+(r-1))).css("display","block"),o.addClass("isCurrentSession"),o.prepend('<button type = \'button\' class = \'remove-block-btn icon-nav-menu-search-close\'><svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.4531 3.5V3.54688H13.5H17.25C17.4365 3.54688 17.6153 3.62095 17.7472 3.75282C17.879 3.88468 17.9531 4.06352 17.9531 4.25C17.9531 4.43648 17.879 4.61532 17.7472 4.74718C17.6153 4.87905 17.4365 4.95312 17.25 4.95312H16.5H16.4531V5V18.5C16.4531 18.8854 16.3 19.255 16.0275 19.5275C15.755 19.8 15.3854 19.9531 15 19.9531H3C2.61461 19.9531 2.245 19.8 1.97249 19.5275C1.69997 19.255 1.54688 18.8854 1.54688 18.5V5V4.95312H1.5H0.75C0.56352 4.95312 0.384677 4.87905 0.252816 4.74718C0.120954 4.61532 0.046875 4.43648 0.046875 4.25C0.046875 4.06352 0.120954 3.88468 0.252816 3.75282C0.384677 3.62095 0.56352 3.54688 0.75 3.54688H4.5H4.54688V3.5V2.75C4.54688 2.16569 4.77899 1.60532 5.19215 1.19216C5.60532 0.778989 6.1657 0.546875 6.75 0.546875H11.25C11.8343 0.546875 12.3947 0.778989 12.8078 1.19216C13.221 1.60532 13.4531 2.16569 13.4531 2.75V3.5ZM12 3.54688H12.0469V3.5V2.75C12.0469 2.53866 11.9629 2.33597 11.8135 2.18652C11.664 2.03708 11.4613 1.95312 11.25 1.95312H6.75C6.53866 1.95312 6.33597 2.03708 6.18652 2.18652C6.03708 2.33597 5.95312 2.53866 5.95312 2.75V3.5V3.54688H6H12ZM15 18.5469H15.0469V18.5V5V4.95312H15H3H2.95312V5V18.5V18.5469H3H15ZM7.45312 8.75V14.75C7.45312 14.9365 7.37905 15.1153 7.24718 15.2472C7.11532 15.379 6.93648 15.4531 6.75 15.4531C6.56352 15.4531 6.38468 15.379 6.25282 15.2472C6.12095 15.1153 6.04688 14.9365 6.04688 14.75V8.75C6.04688 8.56352 6.12095 8.38468 6.25282 8.25282C6.38468 8.12095 6.56352 8.04688 6.75 8.04688C6.93648 8.04688 7.11532 8.12095 7.24718 8.25282C7.37905 8.38468 7.45312 8.56352 7.45312 8.75ZM11.9531 8.75V14.75C11.9531 14.9365 11.879 15.1153 11.7472 15.2472C11.6153 15.379 11.4365 15.4531 11.25 15.4531C11.0635 15.4531 10.8847 15.379 10.7528 15.2472C10.621 15.1153 10.5469 14.9365 10.5469 14.75V8.75C10.5469 8.56352 10.621 8.38468 10.7528 8.25282C10.8847 8.12095 11.0635 8.04688 11.25 8.04688C11.4365 8.04688 11.6153 8.12095 11.7472 8.25282C11.879 8.38468 11.9531 8.56352 11.9531 8.75Z" fill="#898888" stroke="#898888" stroke-width="0.09375"/></svg></button>'),n.traverseBlock(o,r-1,s,a),l&&(h="1/1/1900 12:00:00 AM",(u=o).find(".hidden-start-date").val(h),u.find(".hidden-start-date").attr("value",h),u.find(".hidden-end-date").val(h),u.find(".hidden-end-date").attr("value",h),u.find(".start-date-month").val("January"),u.find(".start-date-month").attr("value","January"),u.find(".start-date-year").val("1900"),u.find(".start-date-year").attr("value","1900"),u.find(".end-date-month").val("January"),u.find(".end-date-month").attr("value","January"),u.find(".end-date-year").val("1900"),u.find(".end-date-year").attr("value","1900"))}switch(r){case"add-position-btn":p(l,"#board-memberships-other-pos","job-",n.jobs_total,!1);break;case"add-education-btn":p(c,"#education","education-",n.education_total,!0);break;case"add-bcg-history-btn":p(u,"#bcg-history","bcg-history-",n.history_total,!0);break;case"add-job-history-btn":p(h,"#job-history","job-history-",n.jobHistory_total,!0);break;case"add-social-btn":var f=d.find("#other-social-"+(n.other_social_total-1));0==f.length&&(a=!0,f=0==n.other_social_total?d.find("#Deleted_other-social-0"):d.find("#Deleted_other-social-"+(n.other_social_total-1)));var m=f.clone();n.other_social_total+=1,m.attr("id","other-social-"+(n.other_social_total-1)),m.removeClass("first-sub-section"),m.removeClass("deleted-section"),1==n.other_social_total?(yl()(".other-social-container .social-side-title").after(m),m.addClass("first-sub-section")):(f.removeClass("first-sub-section"),f.after(m)),(o=d.find("#other-social-"+(n.other_social_total-1))).css("display","flex"),o.addClass("isCurrentSession"),n.traverseBlock(o,n.other_social_total-1,s,a)}n.updateFormValidation()},removeSection:function(e,t){var n=this,i=yl()(e).parent();i.css("display","none"),i.removeClass("saved-section"),i.addClass("deleted-section"),i.hasClass("job-sub-section")?(i.hasClass("isCurrentSession")?(i.remove(),n.jobs_total-=1,n.fixOrder("board",t)):(n.deleted_jobs+=1,n.jobs_total-=1,this.markDeletedSection(i,n.deleted_jobs-1),n.fixOrder("board",t)),0==n.jobs_total&&n.addSection(yl()("#add-position-btn"),t)):i.hasClass("education-sub-section")?(i.hasClass("isCurrentSession")?(n.education_total-=1,n.fixOrder("education",t),i.remove()):(n.deleted_education+=1,n.education_total-=1,this.markDeletedSection(i,n.deleted_education-1),n.fixOrder("education",t)),0==n.education_total&&n.addSection(yl()("#add-education-btn"),t)):i.hasClass("bcg-history-sub-section")?(i.hasClass("isCurrentSession")?(n.history_total-=1,n.fixOrder("history",t),i.remove()):(n.deleted_history+=1,n.history_total-=1,this.markDeletedSection(i,n.deleted_history-1),n.fixOrder("history",t)),0==n.history_total&&n.addSection(yl()("#add-bcg-history-btn"),t)):i.hasClass("job-history-sub-section")?(i.hasClass("isCurrentSession")?(n.jobHistory_total-=1,n.fixOrder("jobHistory",t),i.remove()):(n.deleted_jobHistory+=1,n.jobHistory_total-=1,this.markDeletedSection(i,n.deleted_jobHistory-1),n.fixOrder("jobHistory",t)),0==n.jobHistory_total&&n.addSection(yl()("#add-job-history-btn"),t)):i.hasClass("other-social-sub-section")&&(i.hasClass("isCurrentSession")?(n.other_social_total-=1,n.fixOrder("social",t),i.remove()):(n.deleted_other_social+=1,n.other_social_total-=1,this.markDeletedSection(i,n.deleted_other_social-1),n.fixOrder("social",t)),0==n.other_social_total&&n.addSection(yl()("#add-social-btn"),t))},fixOrder:function(e,t){var n=yl()(t),i=null,r="";switch(e){case"board":i=n.closest(".profile-container").parent().find("#board-memberships-other-pos section"),r="job-";break;case"history":i=n.closest(".profile-container").parent().find("#bcg-history section"),r="bcg-history-";break;case"jobHistory":i=n.closest(".profile-container").parent().find("#job-history section"),r="job-history-";break;case"education":i=n.closest(".profile-container").parent().find("#education section"),r="education-";break;case"social":i=n.closest(".profile-container").parent().find(".other-social-container > section"),r="other-social-"}var o=-1,s=!1;!function(e){for(var t=!1,n=0;!t;)if(yl()(e[n]).hasClass("deleted-section"))e.splice(n,1),n=0;else if((n+=1)>e.length-1){t=!0;break}}(i);for(var a=0;a<i.length;a++)if(i[a].id!=r+a){0==a&&yl()(i[a]).addClass("first-sub-section"),o=a,s=!0;break}if(s)for(var l=o;l<i.length;l++){var c=yl()(i[l]);c.attr("id",r+l),this.traverseBlock(c,l,!1,!1)}this.updateFormValidation()},addListeners:function(e){var t=this;yl()(".add-btn").on("click",(function(){t.addSection(this,e)})),yl()(".form-section").on("click",".remove-block-btn",(function(){t.removeSection(this,e)})),yl()(".other-social-container").on("click",".remove-block-btn",(function(){t.removeSection(this,e)})),yl()(".add-social-btn a").on("click",(function(){t.createSocialDropdown()})),yl()(".form-section").on("change",".start-date-month",(function(){t.changeMonth(yl()(this),".hidden-start-date")})),yl()(".form-section").on("change",".end-date-month",(function(){t.changeMonth(yl()(this),".hidden-end-date")})),yl()(".form-section").on("change",".start-date-year",(function(){t.changeYear(yl()(this),".hidden-start-date")})),yl()(".form-section").on("change",".end-date-year",(function(){t.changeYear(yl()(this),".hidden-end-date")})),yl()("#privacy_settings").on("click",".privacy-btn",(function(){for(var e=yl()("#privacy_settings input"),t=0;t<e.length;t++)yl()(e[t]).prop("checked",!1)})),yl()(".label-input-group").on("change",".dummy-social-field",(function(){t.applyNewSocialChanges(yl()(this))})),document.querySelector(".logout-btn.view-profile-mode").addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t=new window.CustomEvent("logout",{detail:e.currentTarget.className});window.dispatchEvent(t)})),this.watchForChanges();var n=document.querySelector("html").classList.contains("isSafari"),i=document.querySelector("html").classList.contains("isiPhone"),r=document.querySelector("html").classList.contains("isiPad");n&&(i||r)&&this.applyiOSWarning(),document.querySelector("#show-password-checkbox").addEventListener("click",(function(){document.querySelectorAll(".password").forEach((function(e){"password"===e.getAttribute("type")?e.setAttribute("type","text"):e.setAttribute("type","password")}))}))},applyiOSWarning:function(){yl()("html a").on("click",(function(e){if(!yl()(e.currentTarget).attr("href").includes("javascript:void(0)")&&""!=yl()(e.currentTarget).attr("href")&&window.dataDirty){e.preventDefault();var t=window.location.origin+yl()(e.currentTarget).attr("href");yl()(e.currentTarget).attr("href")!=window.location.href&&window.location.href!=t&&window.confirm("Changes made on this page may not be saved. Are you sure you want to leave this page?")&&(window.location=t)}}))},applyUnloadWarning:function(){window.dataDirty=!0,yl()(window).on("beforeunload",(function(){if(window.dataDirty)return"Changes made on this page may not be saved. Are you sure you want to leave this page?"})),yl()(window).on("pagehide",(function(){return"Changes made on this page may not be saved. Are you sure you want to leave this page?"}))},removeUnloadWarning:function(){window.dataDirty=!1,yl()(window).unbind("beforeunload"),yl()(window).unbind("pagehide")},watchForChanges:function(){var e=this,t=function(t){if(!(yl()(".profile-container.edit-profile.view-profile-mode").length>0)){t.hasClass("current-input")||(t.addClass("current-input"),e.tempDirty=!1);var n=e.originalValMap[t.attr("id")];null==n?e.originalValMap[t.attr("id")]=t.val():""!=n&&""==t.val()&&(e.originalValMap[t.attr("id")]="")}},n=function(t){if(!(yl()(".profile-container.edit-profile.view-profile-mode").length>0)){var n=e.originalValMap[t.attr("id")];t.val()!=n?(t.hasClass("dirty-input")||t.addClass("dirty-input"),e.tempDirty=!0,e.applyUnloadWarning()):(t.hasClass("dirty-input")&&t.removeClass("dirty-input"),e.tempDirty=!1,e.formDirty=yl()(".dirty-input").length>0,e.formDirty?e.applyUnloadWarning():e.removeUnloadWarning())}},i=function(t){yl()(".profile-container.edit-profile.view-profile-mode").length>0||t.hasClass("current-input")&&(t.removeClass("current-input"),e.tempDirty?t.addClass("dirty-input"):t.removeClass("dirty-input"),e.formDirty=yl()(".dirty-input").length>0,e.formDirty&&!e.submitting?e.applyUnloadWarning():e.removeUnloadWarning())};yl()("input").focus((function(){t(yl()(this))})),yl()("select").focus((function(){t(yl()(this))})),yl()("input").keyup((function(){n(yl()(this))})),yl()("select").change((function(){n(yl()(this))})),yl()("input").focusout((function(){i(yl()(this))})),yl()("select").focusout((function(){i(yl()(this))})),yl()("input[type=radio]").change((function(){var t=yl()(this);t.prop("checked")&&("FullAddress.Is_Preferred"==t.attr("name")?e.originalValMap["preferred-address"]!=t.attr("id")?(e.tempDirty=!0,e.formDirty=!0):(e.tempDirty=!1,e.formDirty=!1):"DalUser.Privacy_Setting_ID"==t.attr("name")&&(e.originalValMap.privacy!=t.attr("id")?(e.tempDirty=!0,e.formDirty=!0):(e.tempDirty=!1,e.formDirty=!1)))}))},concatenateAddress:function(e){var t=function(e,t){var n="#FullAddress_"+t+"_City",i="#FullAddress_"+t+"_State";return""==e.parent().find(n).val()&&""==e.parent().find(i)?", ":" "},n=yl()(e),i=n.closest(".profile-container").parent().find("#view-mode-private-address"),r=n.closest(".profile-container").parent().find("#view-mode-professional-address");yl()("#FullAddress_Private_Country_ID ").val(yl()("#FullAddress_Private_Country_ID ").attr("value")),yl()("#FullAddress_Business_Country_ID ").val(yl()("#FullAddress_Business_Country_ID ").attr("value"));var o="",s=yl()("#FullAddress_Private_Country_ID option:selected").val()?yl()("#FullAddress_Private_Country_ID option:selected").text().trim():"",a=yl()("#FullAddress_Business_Country_ID option:selected").val()?yl()("#FullAddress_Business_Country_ID option:selected").text().trim():"",l="",c=[],u="",h=[];l+=i.parent().find("#FullAddress_Private_City").val()+t(i,"Private")+i.parent().find("#FullAddress_Private_State").val()+" "+i.parent().find("#FullAddress_Private_PostalCode").val(),c.push(i.parent().find("#FullAddress_Private_Street_1").val()),c.push(i.parent().find("#FullAddress_Private_Street_2").val()),c.push(i.parent().find("#FullAddress_Private_Street_3").val()),c.push(l),l="",l+=r.parent().find("#FullAddress_Business_City").val()+t(r,"Business")+r.parent().find("#FullAddress_Business_State").val()+" "+r.parent().find("#FullAddress_Business_PostalCode").val(),h.push(r.parent().find("#FullAddress_Business_Street_1").val()),h.push(r.parent().find("#FullAddress_Business_Street_2").val()),h.push(r.parent().find("#FullAddress_Business_Street_3").val()),h.push(l);for(var d=0;d<c.length;d++)o+='<p class = "appear-animation readonly"> '+c[d]+"</p>";for(var p=0;p<h.length;p++)u+='<p class = "appear-animation readonly"> '+h[p]+"</p>";o+='<p class = "appear-animation readonly"> '+s+"</p>",u+='<p class = "appear-animation readonly"> '+a+"</p>",i.html(o),r.html(u)},attachGeneralUserCountry:function(){var e=yl()("#DalUser_Associated_Country_ID");0!=e.length&&(e.val(e.attr("value")),yl()("#DalUser_Associated_Country_ID").before('<div class = "icon-lens-selector-carrot-drop-down dynamic-dropdown hidden-view-display-edit"></div>'))},traverseBlock:function(e,t,n,i){if(this.checkAttr(e,t,n,i),0!=e.children().length)this.traverseBlock(e.children().eq(0),t,n,i);else if(0!=e.next().length)this.traverseBlock(e.next(),t,n,i);else{for(var r=!0;r;){if((e=e.parent()).hasClass("job-sub-section")||e.hasClass("education-sub-section")||e.hasClass("bcg-history-sub-section")||e.hasClass("job-history-sub-section")||e.hasClass("other-social-sub-section"))return;if(0!=e.next().length){r=!1;break}}this.traverseBlock(e.next().eq(0),t,n,i)}},markDeletedSection:function(e,t){if(null!=e.attr("name")){var n="Deleted."+e.attr("name");e.attr("name",n)}if(null!=e.attr("id")){var i="Deleted_"+e.attr("id");e.attr("id",i)}if(null!=e.attr("for")){var r="Deleted_"+e.attr("for");e.attr("for",r)}if(null!=e.attr("data-valmsg-for")){var o="Deleted_"+e.attr("data-valmsg-for");e.attr("data-valmsg-for",o)}if(this.checkAttr(e,t,!1,!1),0!=e.children().length)this.markDeletedSection(e.children().eq(0),t);else if(0!=e.next().length)this.markDeletedSection(e.next(),t);else{for(var s=!0;s;){if((e=e.parent()).hasClass("job-sub-section")||e.hasClass("education-sub-section")||e.hasClass("bcg-history-sub-section")||e.hasClass("job-history-sub-section")||e.hasClass("other-social-sub-section"))return;if(0!=e.next().length){s=!1;break}}this.markDeletedSection(e.next().eq(0),t)}},checkAttr:function(e,t,n,i){if(n&&(e.is("input")||e.is("select"))&&(e.attr("value",""),e.val("")),null!=e.attr("id")){var r=this.findNumAndReplace(e.attr("id"),t);!i||e.hasClass("bcg-history-sub-section")||e.hasClass("job-history-sub-section")||e.hasClass("job-sub-section")||e.hasClass("education-sub-section")||e.hasClass("other-social-sub-section")||(r=r.substring(8,r.length)),e.attr("id",r)}if(null!=e.attr("name")){var o=this.findNumAndReplace(e.attr("name"),t);i&&(o=o.substring(8,o.length)),e.attr("name",o)}if(null!=e.attr("for")){var s=this.findNumAndReplace(e.attr("for"),t);i&&(s=s.substring(8,s.length)),e.attr("for",s)}if(null!=e.attr("data-valmsg-for")){var a=this.findNumAndReplace(e.attr("data-valmsg-for"),t);i&&(a=a.substring(8,a.length)),e.attr("data-valmsg-for",a)}},findNumAndReplace:function(e,t){for(var n=-1,i=""+t,r=e.split(""),o="",s=0;s<e.length;s++)isNaN(e[s])||(o+=e[s],n=-1==n?s:n);if(i!==o)for(var a=0;a<o.length;a++)a>i.length-1?r.splice(n,1):(r[n]=i[a],n+=1);return r.join("")},setOldFormData:function(){this.oldFormData=yl()("#main-form").html()},setOldLoginFormData:function(){this.oldLoginFormData=yl()("#login-change-form").html()},revertFormData:function(e){yl()("#main-form").html(this.oldFormData),this.addListeners(e),this.reAttachSocialDropdown(),this.attachGeneralUserCountry(),yl()("#FullAddress_Private_Country_ID ").val(yl()("#FullAddress_Private_Country_ID ").attr("value")),yl()("#FullAddress_Business_Country_ID ").val(yl()("#FullAddress_Business_Country_ID ").attr("value")),yl()(".area-res-dropdown").val(yl()(".area-res-dropdown").attr("value")),this.revertTempDataTotals()},revertLoginFormData:function(){yl()("#login-change-form").html(this.oldLoginFormData)},assignCheckForPrivacy:function(){for(var e=yl()("#privacy_settings input"),t=0;t<e.length;t++){var n=yl()(e[t]);n.prop("checked")&&(this.originalValMap.privacy=n.attr("id"),n.parent().parent().prepend('<div class = "display-view-hidden-edit"><span class = "icon-filters-check-mark"></span></div>'))}},assignCheckForPreferredAddress:function(){for(var e=yl()("#PreferredAddress input"),t=0;t<e.length;t++){var n=yl()(e[t]);if(n.prop("checked")){var i=n.val();this.originalValMap["preferred-address"]=n.attr("id"),n.closest(".input-side").prepend('<p class = "readonly display-view-hidden-edit">'+i+"</p>")}}},handleFormSubmission:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=JSON.parse(JSON.stringify(n)),this.spinner.hide(),n.Message&&n.Message.toLowerCase().includes("success")?this.showResponseModal(!0,n.Message,i):this.showResponseModal(!1,n.Message,i)},handleEditUserProfileFormSubmission:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.spinner.hide(),n?this.showResponseModal(!0,"Changes have been saved.  Your information has been updated successfully.",i):this.showResponseModal(!1,"We're sorry, something has gone wrong. Please try again at a later time.",i)},disableSave:function(e){var t=yl()(".edit-btn"),n=yl()(".submit-btn"),i=yl()("#login-change-form :submit");switch(e){case"main":t.hasClass("edit-profile-mode")&&(t.prop("disabled","true"),t.addClass("disabled-save-btn")),n.prop("disabled","true"),n.addClass("disabled-save-btn");break;case"login":i.prop("disabled","true"),i.addClass("disabled-save-btn")}},enableSave:function(e){var t=yl()(".edit-btn"),n=yl()(".submit-btn"),i=yl()("#login-change-form :submit");switch(e){case"main":t.hasClass("edit-profile-mode")&&(t.prop("disabled",""),t.removeClass("disabled-save-btn")),n.prop("disabled",""),n.removeClass("disabled-save-btn");break;case"login":i.prop("disabled",""),i.removeClass("disabled-save-btn")}},detectError:function(e){var t=yl()("#main-form"),n=yl()("#login-change-form");switch(e){case"main":return t.valid();case"login":return n.valid()}},loginFormSubmit:function(){var e=this,t=null,n=yl()("#login-change-form");n.on("submit",(function(i){var r=new window.FormData(n.get(0)),o={email:n.find("#view-mode-current-email").text().trim(),updatedEmail:r.get("ChangePassObj.UpdatedEmail"),confirmUpdatedEmail:r.get("ChangePassObj.ConfirmUpdatedEmail"),newPassword:r.get("ChangePassObj.NewPassword"),confirmPassword:r.get("ChangePassObj.ConfirmPassword"),currentPassword:r.get("ChangePassObj.CurrentPassword")};yl()(".response-modal-background").css("display","block"),setTimeout((function(){if(n.valid()){if(!function(n){var i=""==n.updatedEmail&&""==n.confirmUpdatedEmail,r=""==n.newPassword&&""==n.confirmPassword;return"current-pass-btn"==t?i&&r?(e.showResponseModal(!1,"",{title:"Save Failed",message:"Please enter a new email or new password.",ctaEvent:!1,error:!0}),!1):(t=i?r?"":"password-btn":"email-btn",!0):!("email-btn"==t&&i||"password-btn"==t&&r)||(e.showResponseModal(!1,"",{title:"Save Failed",message:"email-btn"==t?"Please enter a new email.":"Please enter a new password.",ctaEvent:!1,error:!0}),!1)}(o))return;var i;if(e.spinner.show(),e.submitting=!0,yl().ajax({type:"GET",url:"/csrftoken",async:!1,success:function(e){i=e}}),"email-btn"==t){if(!(0,NE.gl)(o.updatedEmail))return void e.handleErrors("invalid_email");if(!window.recaptchaToken)return window.grecaptcha_bcg.execute(window.widgetIdUpdateEmail),void document.body.addEventListener("reCaptcha:success",(function(){n.trigger("submit")}),{once:!0});var r={};return void e.userTokensService.getFreshTokens(o.email,o.currentPassword).then((function(t){var n={Email:o.updatedEmail,"g-recaptcha-response":window.recaptchaToken,"g-recaptcha-type":"invisible"};return window.recaptchaToken=null,window.grecaptcha_bcg.reset(window.widgetIdUpdateEmail),r={token:t.access_token,csrfToken:i},e.updateEmailService.addEmail(n,r)})).then((function(t){return t.email=o.updatedEmail,e.verifyCode(t,r)})).then((function(){e.removeUnloadWarning(),window.addEventListener("login.success",(function(){e.handleFormSubmission("","",{Message:"success"},{class:"custom-modal-verification",title:"Thank you",message:"Your email address has been successfully updated.",cta:"Close"})})),e.userTokensService.autoLogin(o.updatedEmail,o.currentPassword)})).catch((function(t){e.handleErrors(t),window.recaptchaToken=null,window.grecaptcha_bcg.reset(window.widgetIdUpdateEmail)}))}if("password-btn"==t){var s=null;if(window.localStorage["okta-token-storage"]){var a=JSON.parse(window.localStorage.getItem("okta-token-storage"));a.accessToken&&(s=a.accessToken.accessToken)}var l={oldPassword:o.currentPassword,newPassword:o.newPassword};yl().ajax({type:"POST",contentType:"application/json",url:"/marketing/userprofile/oktaauth/users/change-password",headers:{"x-csrf-token":i,"x-access-token":s},data:JSON.stringify(l),success:function(){try{return window.addEventListener("login.success",(function(){e.removeUnloadWarning(),e.handleEditUserProfileFormSubmission(n,[".submit-btn",".password-btn"],!0)})),void e.userTokensService.autoLogin(o.email,o.newPassword)}catch(t){e.removeUnloadWarning(),e.handleEditUserProfileFormSubmission(n,[".submit-btn",".password-btn"],!1)}},error:function(t){null!==t.getResponseHeader("x-failure-reason")&&t.getResponseHeader("x-failure-reason").includes("Old Password is not correct")?(e.removeUnloadWarning(),e.showResponseModal(!1,"You entered a wrong current password. Please, try again.")):null!==t.getResponseHeader("x-failure-reason")&&t.getResponseHeader("x-failure-reason").includes("Password requirements were not met")?(e.removeUnloadWarning(),e.showResponseModal(!1,"Password cannot contain any parts of your email, must be at least 12 characters, and must include one uppercase letter, one lowercase letter and one number.")):null!==t.getResponseHeader("x-failure-reason")&&t.getResponseHeader("x-failure-reason").includes("Password cannot be your current password")?(e.removeUnloadWarning(),e.showResponseModal(!1,"Your new password cannot be the same as your current password.")):null!==t.getResponseHeader("x-failure-reason")&&t.getResponseHeader("x-failure-reason").includes("Password has been used too recently")?(e.removeUnloadWarning(),e.showResponseModal(!1,"You used this password recently. Please choose another password.")):(e.removeUnloadWarning(),e.handleEditUserProfileFormSubmission(n,[".submit-btn",".password-btn"],!1))}})}}else yl()(".response-modal-background").css("display","none")}),200),i.preventDefault()})),n.find("input.text-box").on("keydown",(function(e){"Enter"==e.key&&(e.preventDefault(),e.currentTarget.id.includes("Email")?t="email-btn":e.currentTarget.placeholder.includes("New Password")?t="password-btn":e.currentTarget.id.includes("CurrentPassword")&&(t="current-pass-btn"),n.trigger("submit"))})),n.find(".couple-btns [type=submit]").on("click",(function(e){t=e.currentTarget.name}))},handleErrors:function(e){"E0000004"!=e.errorCode?403!=e.status&&401!=e.status?"invalid_email"!=e?this.showResponseModal(!1,"We are sorry, something has gone wrong. Please try again at a later time."):this.showResponseModal(!1,"Please enter a valid email."):this.showResponseModal(!0,"",{class:"auto-logout",title:"Save Failed",message:"Your session has expired, please try log in again.",ctaEvent:!0,error:!0}):this.showResponseModal(!1,"You entered a wrong current password. Please, try again.")},verifyCode:function(e,t){var n=this;return new Promise((function(i){var r=n;n.showResponseModal(!1,"",{class:"custom-modal-verification",title:"Verify Your Email",message:'<span>Please enter the code that was sent to your updated email address.</span><form id="email-verification-form"><div class="single-input"><input id="email-verification-code" data-val="true" data-val-required="Please provide the code." name="verificationCode" placeholder="CODE" type="text" value="" style="margin-bottom: 10px;"><span class="error-msg"></span></div></form><span class="reCaptcha">protected by reCaptcha</span>',cta:"VERIFY",ctaEvent:!0,error:!1});var o=yl()(".response-modal #email-verification-form"),s=o.find("#email-verification-code");o.on("submit",(function(a){a.preventDefault();var l=s.val();if(l){if(!window.recaptchaToken)return window.grecaptcha_bcg.execute(window.widgetIdUpdateEmail),void document.body.addEventListener("reCaptcha:success",(function(){o.trigger("submit")}),{once:!0});r.spinner.show(),o.removeClass("validation-error");var c={email:e.email,challenge_id:e.challenge_id,verification_code:l,"g-recaptcha-response":window.recaptchaToken,"g-recaptcha-type":"invisible"};window.recaptchaToken=null,window.grecaptcha_bcg.reset(window.widgetIdUpdateEmail),r.updateEmailService.verifyEmail(c,t).then((function(e){yl()(".response-modal button").off("click"),i(e)})).catch((function(e){401===e.status?o.find(".error-msg").text("Invalid verification code"):404===e.status?o.find(".error-msg").text("Your code is expired. Please request a new code."):403===e.status?(yl()(".response-modal button").off("click"),n.showResponseModal(!0,"",{class:"auto-logout",title:"Save Failed",message:"Your session has expired, please try log in again.",ctaEvent:!0,error:!0})):o.find(".error-msg").text("Something went wrong, please try again later."),r.spinner.hide(),o.addClass("validation-error"),window.recaptchaToken=null,window.grecaptcha_bcg.reset(window.widgetIdUpdateEmail)}))}else s.trigger("focus")})),yl()(".response-modal button").on("click",(function(e){e.preventDefault(),o.trigger("submit")})),s.on("keyup",(function(){o.removeClass("validation-error")})),yl()(".response-modal .request-new-code").on("click",(function(n){if(n.preventDefault(),r.spinner.show(),!window.recaptchaToken)return window.grecaptcha_bcg.execute(window.widgetIdUpdateEmail),void document.body.addEventListener("reCaptcha:success",(function(){yl()(".response-modal .request-new-code").trigger("click")}),{once:!0});var i={Email:e.email,"g-recaptcha-response":window.recaptchaToken,"g-recaptcha-type":"invisible"};window.recaptchaToken=null,window.grecaptcha_bcg.reset(window.widgetIdUpdateEmail),r.updateEmailService.addEmail(i,t).then((function(t){e.challenge_id=t.challenge_id,e.email_okta_id=t.email_okta_id,r.spinner.hide();var i=n.currentTarget.parentElement;yl()(i).html('<b>New code sent, please check your updated email address.</b><br/ ><br/ >Remember to check your spam or junk folders as the message may have inadvertently been delivered into one of those folders. If you continue to have any difficulty, please <a class="contact-us" href="javascript:void(0);">contact us</a>.'),o.removeClass("validation-error"),yl()(n.currentTarget).off("click"),s.val(""),yl()(i).find(".contact-us").on("click",(function(){window.addEventListener("adobe.form.start",(function(){setTimeout((function(){yl()("#contact-msgCategory")[0].selectedIndex=1}),300)}))}))})).catch((function(e){yl()(".response-modal-background").css("display","none"),yl()(".response-modal").css("display","none"),401==e.status&&(yl()(".response-modal button").off("click"),yl()(n.currentTarget).off("click")),r.handleErrors(e),r.spinner.hide(),window.recaptchaToken=null,window.grecaptcha_bcg.reset(window.widgetIdUpdateEmail)}))}))}))},getMainFormJSONData:function(){var e=this,t={address:{},"additional-info":{},"board-membership-detail":{},"education-list":{},"job-history":{},"user-photo":{},"social-networks":{}},n=new window.FormData(yl()("#main-form").get(0));t["first-name"]=n.get("FirstName"),t["middle-name"]=n.get("MiddleName"),t["last-name"]=n.get("LastName"),t.suffix=n.get("Suffix"),t["job-title"]=n.get("Title"),t["company-name"]=n.get("Company"),t["maiden-name"]=n.get("MaidenName"),t.address["private-street-1"]=n.get("FullAddress.Private_Street_1"),t.address["private-street-2"]=n.get("FullAddress.Private_Street_2"),t.address["private-street-3"]=n.get("FullAddress.Private_Street_3"),t.address["private-mobile"]=n.get("FullAddress.Private_Mobile"),t.address["private-phone"]=n.get("FullAddress.Private_Phone"),t.address["private-city"]=n.get("FullAddress.Private_City"),t.address["private-postalcode"]=n.get("FullAddress.Private_PostalCode"),t.address["private-state"]=n.get("FullAddress.Private_State"),t.address["business-phone"]=n.get("FullAddress.Business_Phone"),t.address["business-mobile"]=n.get("FullAddress.Business_Mobile"),t.address["business-street-1"]=n.get("FullAddress.Business_Street_1"),t.address["business-street-2"]=n.get("FullAddress.Business_Street_2"),t.address["business-street-3"]=n.get("FullAddress.Business_Street_3"),t.address["business-city"]=n.get("FullAddress.Business_City"),t.address["business-postalcode"]=n.get("FullAddress.Business_PostalCode"),t.address["business-state"]=n.get("FullAddress.Business_State");var i=n.get("FullAddress.Business_Country_ID");i&&i.length>0&&(t.address["business-country"]=i),t.address["is-preferred"]=n.get("FullAddress.Is_Preferred");var r=n.get("FullAddress.Private_Country_ID");r&&r.length>0&&(t.address["private-country"]=r);var o=n.get("FullAddress.User_Address_ID");o&&(t.address.id=o);var s=n.get("DalUser.Associated_Country_ID");s&&s.length>0&&(t["associated-country-id"]=n.get("DalUser.Associated_Country_ID")),t["job-function-id"]=n.get("DalUser.Job_Function_ID"),t["privacy-setting-id"]=n.get("DalUser.Privacy_Setting_ID"),n.get("AdditionalInfo.User_Additional_Info_ID")&&(t["additional-info"].id=n.get("AdditionalInfo.User_Additional_Info_ID"));var a=n.get("AdditionalInfo.department");a&&(t["additional-info"].department=a);var l=n.get("AdditionalInfo.legal_first_name");l&&(t["additional-info"].legal_first_name=l),t["additional-info"]["personal-webpage"]=n.get("AdditionalInfo.Personal_Webpage");var c=yl()(".profile-pic").attr("src");c=c.indexOf(",")>=0?c.split(",").pop():"",t["user-photo"].photo_byte=c,n.get("User_Photo_ID")&&(t["user-photo"].id=n.get("User_Photo_ID"));var u=[],h={},d={},p={};n.get("Facebook.User_Social_Network_ID")&&(h.id=n.get("Facebook.User_Social_Network_ID")),h["network-profile-link"]=n.get("Facebook.Network_Profile_Link"),h.name=n.get("Facebook.Name"),n.get("LinkedIn.User_Social_Network_ID")&&(d.id=n.get("LinkedIn.User_Social_Network_ID")),d["network-profile-link"]=n.get("LinkedIn.Network_Profile_Link"),d.name=n.get("LinkedIn.Name"),n.get("Twitter.User_Social_Network_ID")&&(p.id=n.get("Twitter.User_Social_Network_ID")),p["network-profile-link"]=n.get("Twitter.Network_Profile_Link"),p.name=n.get("Twitter.Name"),u.push(h),u.push(d),u.push(p);for(var f=0;;f++){var m=n.get("Others["+f+"].Network_Profile_Link"),g=new RegExp("^(http|https)://","i");if(m&&!g.test(m)&&(m="https://".concat(m)),!m)break;var y={};n.get("Others["+f+"].User_Social_Network_ID")&&(y.id=n.get("Others["+f+"].User_Social_Network_ID")),y["network-profile-link"]=m,y.name="other",u.push(y)}t["social-networks"]={networks:u};for(var v=[],b=0;n.get("DalUser.User_Board_Membership_Detail["+b+"].Title");b++){var _={},w=n.get("DalUser.User_Board_Membership_Detail["+b+"].User_Board_Membership_Detail_ID");_.title=n.get("DalUser.User_Board_Membership_Detail["+b+"].Title"),w&&(_.id=w),_.company=n.get("DalUser.User_Board_Membership_Detail["+b+"].Company"),v.push(_)}t["board-membership-detail"]={"board-memberships":v};for(var k=[],S=0;n.get("DalUser.User_Job_History["+S+"].Start_Date");S++){var E={},T=n.get("DalUser.User_Job_History["+S+"].User_Job_History_ID");T&&(E.id=T),E["job-title"]=n.get("DalUser.User_Job_History["+S+"].Job_Title"),E["start-date"]=e.getFormattedProfileDate(n.get("DalUser.User_Job_History["+S+"].Start_Date")),E["end-date"]=e.getFormattedProfileDate(n.get("DalUser.User_Job_History["+S+"].End_Date")),E["is-BCG"]=!0,E["office-name"]=n.get("DalUser.User_Job_History["+S+"].Office_Name"),k.push(E)}for(var x=0;n.get("Job_History["+x+"].Start_Date");x++){var C={},P=n.get("Job_History["+x+"].User_Job_History_ID");P&&(C.id=P),C["job-title"]=n.get("Job_History["+x+"].Job_Title"),C["start-date"]=e.getFormattedProfileDate(n.get("Job_History["+x+"].Start_Date")),C["end-date"]=e.getFormattedProfileDate(n.get("Job_History["+x+"].End_Date")),C.company=n.get("Job_History["+x+"].Company"),C["is-BCG"]=!1,k.push(C)}t["job-history"]={histories:k};for(var A=[],O=0;n.get("DalUser.User_Education["+O+"].Start_Date");O++){var I={},L=n.get("DalUser.User_Education["+O+"].User_Education_ID");L&&(I.id=L),I.school=n.get("DalUser.User_Education["+O+"].School"),I.degree=n.get("DalUser.User_Education["+O+"].Degree"),I["area-of-concentration"]=n.get("DalUser.User_Education["+O+"].Area_Of_Concentration"),I["start-date"]=e.getFormattedProfileDate(n.get("DalUser.User_Education["+O+"].Start_Date")),I["end-date"]=e.getFormattedProfileDate(n.get("DalUser.User_Education["+O+"].End_Date")),A.push(I)}return t["education-list"]={education:A},JSON.stringify(t)},getFormattedProfileDate:function(e){var t=Date.parse(e+" GMT");return new Date(t).toISOString().split("T")[0]},mainFormSubmit:function(){var e=this,t=yl()("#main-form");yl()("#main-form").on("submit",(function(n){e.submitting=!0,yl()(".response-modal-background").css("display","block"),setTimeout((function(){var n;t.valid()?(e.spinner.show(),e.removeUnloadWarning(),yl().ajax({type:"GET",url:"/csrftoken",async:!1,success:function(e){n=e}}),yl().ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/marketing/userprofile/oktaauth/user-profile",headers:{"x-csrf-token":n},data:e.getMainFormJSONData(),success:function(n){e.handleEditUserProfileFormSubmission(t,[".submit-btn",".edit-btn"],!0)},error:function(n){e.handleEditUserProfileFormSubmission(t,[".submit-btn",".edit-btn"],!1)}})):yl()(".response-modal-background").css("display","none")}),200),n.preventDefault()}))},showResponseModal:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=yl()(".response-modal-background"),o=yl()(".response-modal"),s=yl()(".response-modal h1"),a=yl()(".response-modal p"),l=yl()(".response-modal button");function c(t){r.css("display","none"),o.css("display","none"),yl()(t).off("click"),e&&(window.location.href="/userprofile")}e?(s.text("Saved Successfully"),l.text("OK"),s.removeClass("error-response")):(s.text("Save Failed"),l.text("OK"),s.addClass("error-response")),a.text(t),i&&(i.class&&r.addClass(i.class),i.title?s.text(i.title):s.text(""),i.message?a.html(i.message):a.text(""),i.cta&&l.text(i.cta),i.error&&s.addClass("error-response")),i&&i.ctaEvent||l.on("click",(function(e){c(e.currentTarget)})),i&&"custom-modal-verification"==i.class?o.find(".icon-filters-close").on("click",(function(e){r.removeClass(i.class),c(e.currentTarget)})):r.removeClass("custom-modal-verification"),i&&"auto-logout"==i.class?l.on("click",(function(){n.removeUnloadWarning(),new window.CustomEvent("logout",{detail:"refresh"}),n.spinner.show()})):r.removeClass("auto-logout"),r.css("display","block"),o.css("display","block"),o.addClass("response-modal-slide-up"),this.spinner.hide()},setUpEditProfile:function(e){var t=yl()(e),n=this,i=t.closest(".profile-container").parent().find(".cancel-edit-btn"),r=t.closest(".profile-container").parent().find(".edit-login-btn"),o=t.closest(".profile-container").parent().find(".cancel-login-form-btn"),s=t.closest(".profile-container").parent().find("#login-info");this.getSocialInputs(),this.assignHiddenDates(yl()("#bcg-history > section")),this.assignHiddenDates(yl()("#job-history > section")),this.assignHiddenDates(yl()("#education > section")),this.assignBoardMemViewMode(),this.assignHistoryViewMode(),this.assignJobHistoryViewMode(),this.assignEducationViewMode(),this.assignAreaOfResViewMode(),this.concatenateAddress(e),yl()("#FullAddress_Private_Country_ID").before('<div class = "icon-lens-selector-carrot-drop-down country-dropdown-icon hidden-view-display-edit"></div>'),yl()("#FullAddress_Business_Country_ID").before('<div class = "icon-lens-selector-carrot-drop-down country-dropdown-icon hidden-view-display-edit"></div>'),yl()(".area-res-dropdown").before('<div class = "icon-lens-selector-carrot-drop-down dynamic-dropdown hidden-view-display-edit"></div>'),this.assignCheckForPrivacy(),this.assignCheckForPreferredAddress(),yl()("section#privacy_settings").append('<button class = "hidden-view-display-edit privacy-btn" type = "button">Clear Privacy Settings</button>'),this.attachGeneralUserCountry(),this.updateFormValidation(),this.addListeners(e),this.loginFormSubmit(),this.mainFormSubmit(),i.on("click",(function(){n.originalValMap={},n.tempDirty=!1,n.formDirty=!1,n.removeUnloadWarning(),yl()(".response-modal-background").css("display","block"),yl()(".response-modal-background .animation-response-modal").css("display","block"),n.toggleEditMode(e),n.revertFormData(e),n.assignHiddenDates(yl()("#bcg-history > section")),n.assignHiddenDates(yl()("#job-history > section")),n.assignHiddenDates(yl()("#education > section")),yl()("#login-change-form .ajax-msg").hide(),yl()(".response-modal-background").css("display",""),yl()(".response-modal-background .animation-response-modal").css("display","")})),r.on("click",(function(){s.hasClass("edit-login-mode")||n.setOldLoginFormData(),yl()("#login-info").addClass("edit-login-mode"),r.addClass("edit-login-hide"),yl()(".user-profile__login-promo").addClass("edit-login-mode"),yl()(".cancel-login-form-btn").on("click",(function(){yl()(".user-profile__login-promo").removeClass("edit-login-mode"),r.removeClass("edit-login-hide"),s.removeClass("edit-login-mode"),yl()("#login-change-form").validate().resetForm(),n.revertLoginFormData()}))})),o.on("click",(function(){n.removeUnloadWarning(),s.removeClass("edit-login-mode"),yl()("#login-change-form").validate().resetForm(),n.revertLoginFormData()})),t.on("click",(function(){t.hasClass("edit-profile-mode")?yl()("#main-form").submit():n.toggleEditMode(e)})),yl()("#menu").after('<div class = "response-modal-background"><div class = "response-modal"><span class="custom icon-filters-close"></span><h1>Success</h1><p>You saved your data successfully</p><button>OK</button></div><div class = "animation animation-response-modal"></div></div>'),yl()(".submit-btn").after('<span class = "response-error-str"></span>'),yl()(".edit").append('<span class = "response-error-str"></span>'),yl().validator.unobtrusive.parse("#main-form"),yl().validator.unobtrusive.parse("#login-change-form"),"edit"===function(){var e,t,n=decodeURIComponent(window.location.search.substring(1)).split("&");for(t=0;t<n.length;t++)if("mode"===(e=n[t].split("="))[0])return void 0===e[1]||e[1]}()&&t.click(),n.assignInitIDs(e)},updateFormValidation:function(){var e=yl()("#main-form");e.removeData("validator"),e.removeData("unobtrusiveValidation"),yl().validator.unobtrusive.parse(e),e.valid()},populateCountryDropdowns:function(){return new Promise((function(e,t){window.fetch("/marketing/userprofile/unauth/countries").then((function(e){if(!e.ok)throw new Error("Response returned with status code ".concat(e.status));return e.json()})).then((function(t){t.sort((function(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})}));var n=t.reduce((function(e,t){return e+"<option value=".concat(t.id,">").concat(t.name,"</option>")}),"");[document.querySelector("#DalUser_Associated_Country_ID"),document.querySelector("#FullAddress_Private_Country_ID"),document.querySelector("#FullAddress_Business_Country_ID")].forEach((function(e){e&&(e.innerHTML+=n)})),e()})).catch((function(e){t(new Error(e))}))}))}};function PM(e){return PM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PM(e)}function AM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,OM(i.key),i)}}function OM(e){var t=function(e){if("object"!=PM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=PM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==PM(t)?t:t+""}function IM(e,t,n){return t=DM(t),function(e,t){if(t&&("object"==PM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,LM()?Reflect.construct(t,n||[],DM(e).constructor):t.apply(e,n))}function LM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(LM=function(){return!!e})()}function DM(e){return DM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DM(e)}function RM(e,t){return RM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RM(e,t)}var MM=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),IM(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RM(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){CM.init()}}])&&AM(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function NM(e){return NM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NM(e)}function jM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,FM(i.key),i)}}function FM(e){var t=function(e){if("object"!=NM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=NM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==NM(t)?t:t+""}function BM(e,t,n){return t=qM(t),function(e,t){if(t&&("object"==NM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,UM()?Reflect.construct(t,n||[],qM(e).constructor):t.apply(e,n))}function UM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(UM=function(){return!!e})()}function qM(e){return qM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qM(e)}function VM(e,t){return VM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},VM(e,t)}__webpack_require__(1926);var HM=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),BM(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VM(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){var e=this;window.addEventListener("load",(function(){var t=e,n=yl()(t),i=n.find(".profile-pic"),r=n.find(".modal-background"),o=n.find(".edit-pic-modal-container"),s=n.find(".edit-pic-modal-container .edit-pic"),a=n.parent().find(".profile-pic-overlay"),l=n.find(".edit-pic  .container img"),c=i.attr("src"),u=n.find(".cancel-btn"),h=n.find(".crop-btn"),d=n.find('.upload input[type="file"]'),p=n.find(".loading-container"),f=n.closest(".content-inner-wrapper").find("#Photo");f.attr("value","test");var m=n.find(".warning"),g=!1,y=["jpeg","jpg"],v=function(){p.css("display","block"),g=!1,setTimeout((function(){r.css("display","none"),o.css("display","none"),o.removeClass("modal-slide-up"),o.css("opacity","0"),m.css("display","none")}),200)},b=function(){p.css("display","none"),l.cropper({aspectRatio:1,autoCropArea:.5,ready:function(){l.cropper("setCanvasData",void 0),l.cropper("setCropBoxData",void 0)}})};d.change((function(){!function(e){if(e.files&&e.files[0]){var t=new FileReader,n=e.files[0].name.split(".").pop().toLowerCase();g=y.indexOf(n)>-1,t.onload=function(e){m.css("display","none"),e.total>4194304?(m.html("File must be under 4MB. Please select another picture."),m.css("display","block")):(p.css("display","block"),setTimeout((function(){l.attr("src",e.target.result),window.dataDirty=!0,yl()(window).on("beforeunload",(function(){return"Changes made on this page may not be saved. Are you sure you want to leave this page?"})),yl()(window).on("pagehide",(function(){return"Changes made on this page may not be saved. Are you sure you want to leave this page?"})),window.dataDirty=!0,l.cropper("destroy"),b()}),200))},t.readAsDataURL(e.files[0])}}(this)})),l.attr("src",c),a.on("click",(function(){r.css("display","block"),o.css("display","block"),o.addClass("modal-slide-up"),o.css("opacity","1"),b()})),h.on("click",(function(){var e,t=l.cropper("getCroppedCanvas");e=g?t.toDataURL("image/jpeg"):t.toDataURL(),i.attr("src",e),f.attr("value",e),v()})),u.on("click",(function(){v()})),r.on("click",(function(){v()})),s.on("click",(function(){}))}))}}],n&&jM(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function $M(e){return $M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$M(e)}function zM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,WM(i.key),i)}}function WM(e){var t=function(e){if("object"!=$M(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$M(t)?t:t+""}function GM(e,t,n){return t=YM(t),function(e,t){if(t&&("object"==$M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,KM()?Reflect.construct(t,n||[],YM(e).constructor):t.apply(e,n))}function KM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(KM=function(){return!!e})()}function YM(e){return YM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},YM(e)}function XM(e,t){return XM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XM(e,t)}var JM=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),GM(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XM(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){var e=this;this.expanded=this.classList.contains("expandable--expanded"),this.querySelector(".expandable-title").addEventListener("click",(function(){e.classList.contains("expandable--expanded")?(e.classList.remove("expandable--expanded"),e.expanded=!1):(e.classList.add("expandable--expanded"),e.expanded=!0)}))}}])&&zM(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function QM(e){return QM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QM(e)}function ZM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,eN(i.key),i)}}function eN(e){var t=function(e){if("object"!=QM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=QM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==QM(t)?t:t+""}function tN(e,t,n){return t=iN(t),function(e,t){if(t&&("object"==QM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nN()?Reflect.construct(t,n||[],iN(e).constructor):t.apply(e,n))}function nN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nN=function(){return!!e})()}function iN(e){return iN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iN(e)}function rN(e,t){return rN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rN(e,t)}var oN=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tN(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rN(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){var e=this;this.edit=this.classList.contains("user-profile-editable-block--edit"),this.querySelector(".edit-details-trigger").addEventListener("click",(function(){e.toggleEditable()})),this.querySelector(".cancel").addEventListener("click",(function(){e.toggleEditable()})),this.querySelector(".save").addEventListener("click",(function(){e.toggleEditable()}))}},{key:"toggleEditable",value:function(){this.classList.contains("user-profile-editable-block--edit")?(this.classList.remove("user-profile-editable-block--edit"),this.edit=!1):(this.classList.add("user-profile-editable-block--edit"),this.edit=!0)}}])&&ZM(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function sN(e){return sN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sN(e)}function aN(){aN=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==sN(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(sN(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function lN(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}var cN=function(){var e,t=(e=aN().mark((function e(t){var n,i;return aN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,window.fetch("/api/bsp-search",{method:"POST",body:JSON.stringify(t)});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error(n.statusText);case 7:return e.next=9,n.json();case 9:if((i=e.sent).length){e.next=12;break}throw new Error("No BSP records found based on recommended content IDs");case 12:return e.abrupt("return",i.map((function(e){return{id:e._id,itemType:e._source.item_type,url:e._source.url,teaser:e._source.article_teaser||e._source.seo_description||"",title:uN(e),imageUrl:hN(e),datePublished:dN(e._source.date_published),promotableImage:e._source.promotable_image}})));case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){lN(o,i,r,s,a,"next",e)}function a(e){lN(o,i,r,s,a,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),uN=function(e){var t=e._source;switch(t.display_type){case"People":case"Person":return t.primary_title||t.consulting_title||t.browser_title;case"press":case"in_the_news":case"News":return t.title_intro||t.browser_title;case"Careers":return t.browser_title||t.navigation_title;case"Events":return t.event_name;case"local-article":return t.title_intro||t.article_title||t.browser_title;case"Publications":case"perspectives-landing":case"standard-article":case"standalone-article":case"collections-standalone":case"collections-standard":return t.title||t.browser_title;case"people-bcg":return t.first_name+" "+t.last_name;default:return t.browser_title}},hN=function(e){var t=e._source,n="https://mkt-bcg-com-public-pdfs.s3.amazonaws.com/prod/article-default.png";switch(t.display_type){case"Challenge":case"Expertise":return t.thumbnail_image||t.search_ui_thumbnail||t.og_image||n;case"standard-article":return t.square_image||t.og_image||n;case"standalone-article":default:return t.og_image||n;case"Publications":case"local-article":return t.thumbnail_image||t.og_image||t.square_image||n}},dN=function(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""};function pN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.forEach((function(t){if(e){var r=document.createElement("div");r.classList.add("skeleton-loader-container"),"text"===n&&(r.innerHTML='\n    <div class="skeleton-loader" style="\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    ">\n      <div style="\n        width: 95%;\n        height: 26px;\n        background: linear-gradient(90deg, #f1eeea 25%, #e2ded9 50%, #f1eeea 75%);\n        background-size: 200% 100%;\n        animation: skeleton-loading 3.5s infinite linear;\n        border-radius: 4px;\n      "></div>\n      <div style="\n        width: 85%;\n        height: 26px;\n        background: linear-gradient(90deg, #f1eeea 25%, #e2ded9 50%, #f1eeea 75%);\n        background-size: 200% 100%;\n        animation: skeleton-loading 3.5s infinite linear;\n        border-radius: 4px;\n      "></div>\n      <div style="\n        width: 90%;\n        height: 26px;\n        background: linear-gradient(90deg, #f1eeea 25%, #e2ded9 50%, #f1eeea 75%);\n        background-size: 200% 100%;\n        animation: skeleton-loading 3.5s infinite linear;\n        border-radius: 4px;\n      "></div>\n      <div style="\n        width: 60%;\n        height: 26px;\n        background: linear-gradient(90deg, #f1eeea 25%, #e2ded9 50%, #f1eeea 75%);\n        background-size: 200% 100%;\n        animation: skeleton-loading 3.5s infinite linear;\n        border-radius: 4px;\n      "></div>\n    </div>\n    <style>\n      @keyframes skeleton-loading {\n        0% {\n          background-position: 200% 0;\n        }\n        100% {\n          background-position: -200% 0;\n        }\n      }\n    </style>\n  '),"promo"===n&&(r.innerHTML='\n    <div class="skeleton-loader" style="\n      display: flex;\n      justify-content: flex-start;\n      align-items: flex-start;\n      gap: 20px;\n      padding: 20px 0;\n      border-top: 1px solid #ddd;\n    ">\n      <div style="flex: 1;">\n        <div style="\n          width: 20%;\n          height: 14px;\n          background: linear-gradient(90deg, #f1eeea 25%, #e2ded9 50%, #f1eeea 75%);\n          background-size: 200% 100%;\n          animation: skeleton-loading 3.5s infinite linear;\n          border-radius: 4px;\n          margin-bottom: 15px;\n        "></div>\n        <div style="\n          width: 45%;\n          height: 26px;\n          background: linear-gradient(90deg, #f1eeea 25%, #e2ded9 50%, #f1eeea 75%);\n          background-size: 200% 100%;\n          animation: skeleton-loading 3.5s infinite linear;\n          border-radius: 4px;\n          margin-bottom: 20px;\n        "></div>\n        <div style="\n          width: 90%;\n          height: 18px;\n          background: linear-gradient(90deg, #f1eeea 25%, #e2ded9 50%, #f1eeea 75%);\n          background-size: 200% 100%;\n          animation: skeleton-loading 3.5s infinite linear;\n          border-radius: 4px;\n          margin-bottom: 8px;\n        "></div>\n        <div style="\n          width: 80%;\n          height: 18px;\n          background: linear-gradient(90deg, #f1eeea 25%, #e2ded9 50%, #f1eeea 75%);\n          background-size: 200% 100%;\n          animation: skeleton-loading 3.5s infinite linear;\n          border-radius: 4px;\n          margin-bottom: 8px;\n        "></div>\n        <div style="\n          width: 60%;\n          height: 16px;\n          background: linear-gradient(90deg, #f1eeea 25%, #e2ded9 50%, #f1eeea 75%);\n          background-size: 200% 100%;\n          animation: skeleton-loading 3.5s infinite linear;\n          border-radius: 4px;\n        "></div>\n      </div>\n      <div style="\n        width: 210px;\n        height: 210px;\n        background: linear-gradient(90deg, #f1eeea 25%, #e2ded9 50%, #f1eeea 75%);\n        background-size: 200% 100%;\n        animation: skeleton-loading 3.5s infinite linear;\n      "></div>\n    </div>\n    <style>\n      @keyframes skeleton-loading {\n        0% { background-position: 200% 0; }\n        100% { background-position: -200% 0; }\n      }\n    </style>\n  '.repeat(i)),t.appendChild(r)}else t.querySelectorAll(".skeleton-loader-container").forEach((function(e){return e.remove()}))}))}var fN={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function mN(e){fN=e}var gN={exec:()=>null};function yN(e,t=""){let n="string"==typeof e?e:e.source;const i={replace:(e,t)=>{let r="string"==typeof t?t:t.source;return r=r.replace(vN.caret,"$1"),n=n.replace(e,r),i},getRegex:()=>new RegExp(n,t)};return i}var vN={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},bN=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,_N=/(?:[*+-]|\d{1,9}[.)])/,wN=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,kN=yN(wN).replace(/bull/g,_N).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),SN=yN(wN).replace(/bull/g,_N).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),EN=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,TN=/(?!\s*\])(?:\\.|[^\[\]\\])+/,xN=yN(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",TN).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),CN=yN(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,_N).getRegex(),PN="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",AN=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ON=yN("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",AN).replace("tag",PN).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),IN=yN(EN).replace("hr",bN).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",PN).getRegex(),LN={blockquote:yN(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",IN).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:xN,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:bN,html:ON,lheading:kN,list:CN,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:IN,table:gN,text:/^[^\n]+/},DN=yN("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",bN).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",PN).getRegex(),RN={...LN,lheading:SN,table:DN,paragraph:yN(EN).replace("hr",bN).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",DN).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",PN).getRegex()},MN={...LN,html:yN("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",AN).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:gN,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:yN(EN).replace("hr",bN).replace("heading"," *#{1,6} *[^\n]").replace("lheading",kN).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},NN=/^( {2,}|\\)\n(?!\s*$)/,jN=/[\p{P}\p{S}]/u,FN=/[\s\p{P}\p{S}]/u,BN=/[^\s\p{P}\p{S}]/u,UN=yN(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,FN).getRegex(),qN=/(?!~)[\p{P}\p{S}]/u,VN=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,HN=yN(VN,"u").replace(/punct/g,jN).getRegex(),$N=yN(VN,"u").replace(/punct/g,qN).getRegex(),zN="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",WN=yN(zN,"gu").replace(/notPunctSpace/g,BN).replace(/punctSpace/g,FN).replace(/punct/g,jN).getRegex(),GN=yN(zN,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,qN).getRegex(),KN=yN("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,BN).replace(/punctSpace/g,FN).replace(/punct/g,jN).getRegex(),YN=yN(/\\(punct)/,"gu").replace(/punct/g,jN).getRegex(),XN=yN(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),JN=yN(AN).replace("(?:--\x3e|$)","--\x3e").getRegex(),QN=yN("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",JN).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ZN=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ej=yN(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ZN).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),tj=yN(/^!?\[(label)\]\[(ref)\]/).replace("label",ZN).replace("ref",TN).getRegex(),nj=yN(/^!?\[(ref)\](?:\[\])?/).replace("ref",TN).getRegex(),ij={_backpedal:gN,anyPunctuation:YN,autolink:XN,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:NN,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:gN,emStrongLDelim:HN,emStrongRDelimAst:WN,emStrongRDelimUnd:KN,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:ej,nolink:nj,punctuation:UN,reflink:tj,reflinkSearch:yN("reflink|nolink(?!\\()","g").replace("reflink",tj).replace("nolink",nj).getRegex(),tag:QN,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:gN},rj={...ij,link:yN(/^!?\[(label)\]\((.*?)\)/).replace("label",ZN).getRegex(),reflink:yN(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ZN).getRegex()},oj={...ij,emStrongRDelimAst:GN,emStrongLDelim:$N,url:yN(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},sj={...oj,br:yN(NN).replace("{2,}","*").getRegex(),text:yN(oj.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},aj={normal:LN,gfm:RN,pedantic:MN},lj={normal:ij,gfm:oj,breaks:sj,pedantic:rj},cj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},uj=e=>cj[e];function hj(e,t){if(t){if(vN.escapeTest.test(e))return e.replace(vN.escapeReplace,uj)}else if(vN.escapeTestNoEncode.test(e))return e.replace(vN.escapeReplaceNoEncode,uj);return e}function dj(e){try{e=encodeURI(e).replace(vN.percentDecode,"%")}catch{return null}return e}function pj(e,t){const n=e.replace(vN.findPipe,((e,t,n)=>{let i=!1,r=t;for(;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"})).split(vN.splitPipe);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(vN.slashPipe,"|");return n}function fj(e,t,n){const i=e.length;if(0===i)return"";let r=0;for(;r<i;){const o=e.charAt(i-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.slice(0,i-r)}function mj(e,t,n,i,r){const o=t.href,s=t.title||null,a=e[1].replace(r.other.outputLinkReplace,"$1");i.state.inLink=!0;const l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:o,title:s,text:a,tokens:i.inlineTokens(a)};return i.state.inLink=!1,l}var gj=class{options;rules;lexer;constructor(e){this.options=e||fN}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:fj(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t,n){const i=e.match(n.other.indentCodeCompensation);if(null===i)return t;const r=i[1];return t.split("\n").map((e=>{const t=e.match(n.other.beginningSpace);if(null===t)return e;const[i]=t;return i.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){const t=fj(e,"#");this.options.pedantic?e=t.trim():t&&!this.rules.other.endingSpaceChar.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:fj(t[0],"\n")}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=fj(t[0],"\n").split("\n"),n="",i="";const r=[];for(;e.length>0;){let t=!1;const o=[];let s;for(s=0;s<e.length;s++)if(this.rules.other.blockquoteStart.test(e[s]))o.push(e[s]),t=!0;else{if(t)break;o.push(e[s])}e=e.slice(s);const a=o.join("\n"),l=a.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${a}`:a,i=i?`${i}\n${l}`:l;const c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,r,!0),this.lexer.state.top=c,0===e.length)break;const u=r.at(-1);if("code"===u?.type)break;if("blockquote"===u?.type){const t=u,o=t.raw+"\n"+e.join("\n"),s=this.blockquote(o);r[r.length-1]=s,n=n.substring(0,n.length-t.raw.length)+s.raw,i=i.substring(0,i.length-t.text.length)+s.text;break}if("list"!==u?.type);else{const t=u,o=t.raw+"\n"+e.join("\n"),s=this.list(o);r[r.length-1]=s,n=n.substring(0,n.length-u.raw.length)+s.raw,i=i.substring(0,i.length-t.raw.length)+s.raw,e=o.substring(r.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:r,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const i=n.length>1,r={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const o=this.rules.other.listItemRegex(n);let s=!1;for(;e;){let n=!1,i="",a="";if(!(t=o.exec(e)))break;if(this.rules.block.hr.test(e))break;i=t[0],e=e.substring(i.length);let l=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],u=!l.trim(),h=0;if(this.options.pedantic?(h=2,a=l.trimStart()):u?h=t[1].length+1:(h=t[2].search(this.rules.other.nonSpaceChar),h=h>4?1:h,a=l.slice(h),h+=t[1].length),u&&this.rules.other.blankLine.test(c)&&(i+=c+"\n",e=e.substring(c.length+1),n=!0),!n){const t=this.rules.other.nextBulletRegex(h),n=this.rules.other.hrRegex(h),r=this.rules.other.fencesBeginRegex(h),o=this.rules.other.headingBeginRegex(h),s=this.rules.other.htmlBeginRegex(h);for(;e;){const d=e.split("\n",1)[0];let p;if(c=d,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),p=c):p=c.replace(this.rules.other.tabCharGlobal,"    "),r.test(c))break;if(o.test(c))break;if(s.test(c))break;if(t.test(c))break;if(n.test(c))break;if(p.search(this.rules.other.nonSpaceChar)>=h||!c.trim())a+="\n"+p.slice(h);else{if(u)break;if(l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(r.test(l))break;if(o.test(l))break;if(n.test(l))break;a+="\n"+c}u||c.trim()||(u=!0),i+=d+"\n",e=e.substring(d.length+1),l=p.slice(h)}}r.loose||(s?r.loose=!0:this.rules.other.doubleBlankLine.test(i)&&(s=!0));let d,p=null;this.options.gfm&&(p=this.rules.other.listIsTask.exec(a),p&&(d="[ ] "!==p[0],a=a.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:i,task:!!p,checked:d,loose:!1,text:a,tokens:[]}),r.raw+=i}const a=r.items.at(-1);if(!a)return;a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd(),r.raw=r.raw.trimEnd();for(let e=0;e<r.items.length;e++)if(this.lexer.state.top=!1,r.items[e].tokens=this.lexer.blockTokens(r.items[e].text,[]),!r.loose){const t=r.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>this.rules.other.anyLine.test(e.raw)));r.loose=n}if(r.loose)for(let e=0;e<r.items.length;e++)r.items[e].loose=!0;return r}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!this.rules.other.tableDelimiter.test(t[2]))return;const n=pj(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const e of i)this.rules.other.tableAlignRight.test(e)?o.align.push("right"):this.rules.other.tableAlignCenter.test(e)?o.align.push("center"):this.rules.other.tableAlignLeft.test(e)?o.align.push("left"):o.align.push(null);for(let e=0;e<n.length;e++)o.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:o.align[e]});for(const e of r)o.rows.push(pj(e,o.header.length).map(((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:o.align[t]}))));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;const t=fj(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let i=0;i<e.length;i++)if("\\"===e[i])i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){const e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],i=e[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n.slice(1):n.slice(1,-1)),mj(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:i?i.replace(this.rules.inline.anyPunctuation,"$1"):i},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return mj(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(i&&(!i[3]||!n.match(this.rules.other.unicodeAlphaNumeric))&&(!i[1]&&!i[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...i[0]].length-1;let r,o,s=n,a=0;const l="*"===i[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(i=l.exec(t));){if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!r)continue;if(o=[...r].length,i[3]||i[4]){s+=o;continue}if((i[5]||i[6])&&n%3&&!((n+o)%3)){a+=o;continue}if(s-=o,s>0)continue;o=Math.min(o,o+s+a);const t=[...i[0]][0].length,l=e.slice(0,n+i.index+t+o);if(Math.min(n,o)%2){const e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}const c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(e),i=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&i&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=t[0],n="mailto:"+e;else{let i;do{i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(i!==t[0]);e=t[0],n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},yj=class e{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||fN,this.options.tokenizer=this.options.tokenizer||new gj,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:vN,block:aj.normal,inline:lj.normal};this.options.pedantic?(t.block=aj.pedantic,t.inline=lj.pedantic):this.options.gfm&&(t.block=aj.gfm,this.options.breaks?t.inline=lj.breaks:t.inline=lj.gfm),this.tokenizer.rules=t}static get rules(){return{block:aj,inline:lj}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){e=e.replace(vN.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(vN.tabCharGlobal,"    ").replace(vN.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some((n=>!!(i=n.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0))))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);const n=t.at(-1);1===i.raw.length&&void 0!==n?n.raw+="\n":t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);const n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.at(-1).src=n.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);const n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}let r=e;if(this.options.extensions?.startBlock){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startBlock.forEach((e=>{i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(this.state.top&&(i=this.tokenizer.paragraph(r))){const o=t.at(-1);n&&"paragraph"===o?.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(i),n=r.length!==e.length,e=e.substring(i.raw.length)}else if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);const n=t.at(-1);"text"===n?.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(i)}else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,i=null;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(n));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(n));)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let r=!1,o="";for(;e;){let i;if(r||(o=""),r=!1,this.options.extensions?.inline?.some((n=>!!(i=n.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0))))continue;if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length);const n=t.at(-1);"text"===i.type&&"text"===n?.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,n,o)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}let s=e;if(this.options.extensions?.startInline){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startInline.forEach((e=>{i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(s=e.substring(0,t+1))}if(i=this.tokenizer.inlineText(s)){e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(o=i.raw.slice(-1)),r=!0;const n=t.at(-1);"text"===n?.type?(n.raw+=i.raw,n.text+=i.text):t.push(i)}else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return t}},vj=class{options;parser;constructor(e){this.options=e||fN}space(e){return""}code({text:e,lang:t,escaped:n}){const i=(t||"").match(vN.notSpaceStart)?.[0],r=e.replace(vN.endingNewline,"")+"\n";return i?'<pre><code class="language-'+hj(i)+'">'+(n?r:hj(r,!0))+"</code></pre>\n":"<pre><code>"+(n?r:hj(r,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){const t=e.ordered,n=e.start;let i="";for(let t=0;t<e.items.length;t++){const n=e.items[t];i+=this.listitem(n)}const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+i+"</"+r+">\n"}listitem(e){let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+hj(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let i="";for(let t=0;t<e.rows.length;t++){const r=e.rows[t];n="";for(let e=0;e<r.length;e++)n+=this.tablecell(r[e]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+i+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${hj(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const i=this.parser.parseInline(n),r=dj(e);if(null===r)return i;let o='<a href="'+(e=r)+'"';return t&&(o+=' title="'+hj(t)+'"'),o+=">"+i+"</a>",o}image({href:e,title:t,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));const r=dj(e);if(null===r)return hj(n);let o=`<img src="${e=r}" alt="${n}"`;return t&&(o+=` title="${hj(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:hj(e.text)}},bj=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},_j=class e{options;renderer;textRenderer;constructor(e){this.options=e||fN,this.options.renderer=this.options.renderer||new vj,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new bj}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e,t=!0){let n="";for(let i=0;i<e.length;i++){const r=e[i];if(this.options.extensions?.renderers?.[r.type]){const e=r,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}const o=r;switch(o.type){case"space":n+=this.renderer.space(o);continue;case"hr":n+=this.renderer.hr(o);continue;case"heading":n+=this.renderer.heading(o);continue;case"code":n+=this.renderer.code(o);continue;case"table":n+=this.renderer.table(o);continue;case"blockquote":n+=this.renderer.blockquote(o);continue;case"list":n+=this.renderer.list(o);continue;case"html":n+=this.renderer.html(o);continue;case"paragraph":n+=this.renderer.paragraph(o);continue;case"text":{let r=o,s=this.renderer.text(r);for(;i+1<e.length&&"text"===e[i+1].type;)r=e[++i],s+="\n"+this.renderer.text(r);n+=t?this.renderer.paragraph({type:"paragraph",raw:s,text:s,tokens:[{type:"text",raw:s,text:s,escaped:!0}]}):s;continue}default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t=this.renderer){let n="";for(let i=0;i<e.length;i++){const r=e[i];if(this.options.extensions?.renderers?.[r.type]){const e=this.options.extensions.renderers[r.type].call({parser:this},r);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){n+=e||"";continue}}const o=r;switch(o.type){case"escape":case"text":n+=t.text(o);break;case"html":n+=t.html(o);break;case"link":n+=t.link(o);break;case"image":n+=t.image(o);break;case"strong":n+=t.strong(o);break;case"em":n+=t.em(o);break;case"codespan":n+=t.codespan(o);break;case"br":n+=t.br(o);break;case"del":n+=t.del(o);break;default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}},wj=class{options;block;constructor(e){this.options=e||fN}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?yj.lex:yj.lexInline}provideParser(){return this.block?_j.parse:_j.parseInline}},kj=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=_j;Renderer=vj;TextRenderer=bj;Lexer=yj;Tokenizer=gj;Hooks=wj;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const i of e)switch(n=n.concat(t.call(this,i)),i.type){case"table":{const e=i;for(const i of e.header)n=n.concat(this.walkTokens(i.tokens,t));for(const i of e.rows)for(const e of i)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=i;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=i;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((i=>{const r=e[i].flat(1/0);n=n.concat(this.walkTokens(r,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let i=e.renderer.apply(this,t);return!1===i&&(i=n.apply(this,t)),i}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new vj(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const i=n,r=e.renderer[i],o=t[i];t[i]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=o.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new gj(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const i=n,r=e.tokenizer[i],o=t[i];t[i]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new wj;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const i=n,r=e.hooks[i],o=t[i];wj.passThroughHooks.has(n)?t[i]=e=>{if(this.defaults.async)return Promise.resolve(r.call(t,e)).then((e=>o.call(t,e)));const n=r.call(t,e);return o.call(t,n)}:t[i]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,i=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(i.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return yj.lex(e,t??this.defaults)}parser(e,t){return _j.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{const i={...n},r={...this.defaults,...i},o=this.onError(!!r.silent,!!r.async);if(!0===this.defaults.async&&!1===i.async)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==t)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));r.hooks&&(r.hooks.options=r,r.hooks.block=e);const s=r.hooks?r.hooks.provideLexer():e?yj.lex:yj.lexInline,a=r.hooks?r.hooks.provideParser():e?_j.parse:_j.parseInline;if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(t):t).then((e=>s(e,r))).then((e=>r.hooks?r.hooks.processAllTokens(e):e)).then((e=>r.walkTokens?Promise.all(this.walkTokens(e,r.walkTokens)).then((()=>e)):e)).then((e=>a(e,r))).then((e=>r.hooks?r.hooks.postprocess(e):e)).catch(o);try{r.hooks&&(t=r.hooks.preprocess(t));let e=s(t,r);r.hooks&&(e=r.hooks.processAllTokens(e)),r.walkTokens&&this.walkTokens(e,r.walkTokens);let n=a(e,r);return r.hooks&&(n=r.hooks.postprocess(n)),n}catch(e){return o(e)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+hj(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function Sj(e,t){return kj.parse(e,t)}function Ej(e){return Ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ej(e)}function Tj(){Tj=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Ej(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ej(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function xj(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function Cj(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){xj(o,i,r,s,a,"next",e)}function a(e){xj(o,i,r,s,a,"throw",e)}s(void 0)}))}}function Pj(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Aj(i.key),i)}}function Aj(e){var t=function(e){if("object"!=Ej(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ej(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ej(t)?t:t+""}function Oj(e,t,n){return t=Lj(t),function(e,t){if(t&&("object"==Ej(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ij()?Reflect.construct(t,n||[],Lj(e).constructor):t.apply(e,n))}function Ij(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ij=function(){return!!e})()}function Lj(e){return Lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lj(e)}function Dj(e,t){return Dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dj(e,t)}Sj.options=Sj.setOptions=function(e){return kj.setOptions(e),Sj.defaults=kj.defaults,mN(Sj.defaults),Sj},Sj.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},Sj.defaults=fN,Sj.use=function(...e){return kj.use(...e),Sj.defaults=kj.defaults,mN(Sj.defaults),Sj},Sj.walkTokens=function(e,t){return kj.walkTokens(e,t)},Sj.parseInline=kj.parseInline,Sj.Parser=_j,Sj.parser=_j.parse,Sj.Renderer=vj,Sj.TextRenderer=bj,Sj.Lexer=yj,Sj.lexer=yj.lex,Sj.Tokenizer=gj,Sj.Hooks=wj,Sj.parse=Sj,Sj.options,Sj.setOptions,Sj.use,Sj.walkTokens,Sj.parseInline,_j.parse,yj.lex;var Rj="ai-enhanced-search",Mj=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Oj(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dj(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.processing=!1,this.initializeElements(),this.bindEvents(),this.checkForQueryParam(),this.initializeMarked()}},{key:"initializeElements",value:function(){this.form=this.querySelector(".".concat(Rj,"-search-bar--form")),this.input=this.querySelector(".".concat(Rj,"-search-bar--input")),this.submit=this.querySelector(".".concat(Rj,"-search-bar--submit")),this.llmResponse=this.querySelector(".".concat(Rj,"-llm-response")),this.llmResponseText=this.querySelector(".".concat(Rj,"-llm-response--text")),this.results=this.querySelector(".".concat(Rj,"-results")),this.error=this.querySelector(".".concat(Rj,"-error"))}},{key:"bindEvents",value:function(){this.form&&this.form.addEventListener("submit",this.handleFormSubmit.bind(this)),this.input&&(this.input.addEventListener("keydown",this.handleInputText.bind(this)),this.input.addEventListener("input",this.adjustTextAreaHeight.bind(this)),window.addEventListener("resize",this.adjustTextAreaHeight.bind(this))),window.addEventListener("scroll",this.closeAnyOpenTooltips.bind(this)),window.addEventListener("click",this.closeAnyOpenTooltips.bind(this)),window.addEventListener("resize",this.closeAnyOpenTooltips.bind(this))}},{key:"handleFormSubmit",value:(o=Cj(Tj().mark((function e(t){var n;return Tj().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.processing){e.next=3;break}return e.abrupt("return");case 3:if(n=this.input.value.trim()){e.next=7;break}return this.input.focus(),e.abrupt("return");case 7:return this.input.value=n,this.clearSearch(),this.toggleProcessingState(!0),e.prev=10,pN(!0,[this.llmResponse],"text"),pN(!0,[this.results],"promo",3),e.next=15,this.performSearch(n);case 15:return e.prev=15,this.handleAnyErrors(),(0,NE.Qw)("query",n),e.finish(15);case 19:case"end":return e.stop()}}),e,this,[[10,,15,19]])}))),function(e){return o.apply(this,arguments)})},{key:"performSearch",value:(r=Cj(Tj().mark((function e(t){var n,i,r,o;return Tj().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSearchResultsIds(t);case 2:return n=e.sent,i=n.bspIds,r=n.summaries,e.next=7,cN(i);case 7:return o=e.sent,this.renderSearchResults(o,r),pN(!1,[this.results]),e.next=12,this.getAISearchResponse(t);case 12:pN(!1,[this.llmResponse]);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getAISearchResponse",value:function(e){var t=this;return new Promise((function(n){var i=new window.EventSource("".concat("/stream/ai-search","?query=").concat(encodeURIComponent(e)));t.llmResponseText.textContent="";var r="",o=!1,s=setTimeout((function(){i.close(),t.showError({status:500}),n()}),3e4);i.onmessage=function(e){r+=e.data,t.llmResponseText.innerHTML=t.generateMarkdown(r),o||(pN(!1,[t.llmResponse]),o=!0)},i.addEventListener("error",(function(e){clearTimeout(s),e.data&&t.showError(JSON.parse(e.data)),i.close(),n()})),i.addEventListener("done",(function(){clearTimeout(s),i.close(),n()}))}))}},{key:"generateMarkdown",value:function(e){return Sj.parse(e,{renderer:this.renderer})}},{key:"initializeMarked",value:function(){this.renderer=new Sj.Renderer,this.renderer.link=function(e,t,n){return Sj.Renderer.prototype.link.call(this,e,t,n).replace("<a",'<a class="LinkWithIcon" target="_blank" rel="noopener noreferrer"')}}},{key:"getSearchResultsIds",value:(i=Cj(Tj().mark((function e(t){var n,i,r,o,s,a;return Tj().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("/marketing/recs-sims/unauth/search","?query=").concat(encodeURIComponent(t),"&limit=").concat(7,"&pipeline=").concat("higher_accuracy_med_recency"),e.next=3,window.fetch(n);case 3:if(200===(i=e.sent).status){e.next=7;break}return this.showError(i),e.abrupt("return",[]);case 7:return e.next=9,i.json();case 9:return r=e.sent,o=r.hits,s=o.map((function(e){return e._id})),a=o.reduce((function(e,t){return e[t._id]=JSON.parse(t._source.LLMSummary).llm_summary,e}),{}),e.abrupt("return",{bspIds:s,summaries:a});case 14:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"showError",value:function(e){var t="";this.errorState=!0,400===e.status?t="Sorry, this is not a valid query.":500===e.status?t="There was an error loading the response, please try again later.":e.ok||(t="There was an error, please try again later."),this.error.textContent=t}},{key:"checkForQueryParam",value:function(){var e=(0,NE.ce)("query");if(e){this.input.value=e,this.adjustTextAreaHeight();var t=new Event("submit",{cancelable:!0});this.form.dispatchEvent(t)}}},{key:"renderSearchResults",value:function(e,t){var n=this;if(e){var i=e.map((function(e){return n.buildSearchPromos(e,t[e.id])})).join(""),r='<div data-qa="hits" data-list-loadmore-items="">'.concat(i,"</div>");this.results.innerHTML=r,this.bindTooltipEvents()}}},{key:"buildSearchPromos",value:function(e,t){return'\n      <a class="result-link Link" href="'.concat(e.url,'">\n        <section class="search-result" data-display-type="Standard Article" data-bcg-id="">\n          <div class="search-result-container" data-analytics-internal-search_result="title: ').concat(e.title||"",'">\n            <div class="result-picture">\n              <picture data-image-config-name="GeneralResult" itemprop="image" class="">\n              ').concat(e.promotableImage?'<img loading="lazy" data-focal-point="center center" itemprop="image" class="" alt="'.concat(e.title||"",'" src="').concat(e.promotableImage,'">'):"",'\n              </picture>\n            </div>\n            <div>\n              <div class="result-header">\n                <div class="subtitle">\n                  <b>').concat(e.itemType||"","</b>\n                  ").concat(e.datePublished||"",'\n                </div>\n                <h2 class="title">\n                  <span>').concat(e.title||"",'</span>\n                  <svg class="ai-enhanced-search-results--tooltip" data-bsp-id="').concat(e.id,'">\n                    <use xlink:href="#info" />\n                  </svg>\n                </h2>\n                <div class="ai-enhanced-search-results--tooltip-popup" data-bsp-id="').concat(e.id,'">\n                  ').concat(this.buildTooltipMarkup(t),'\n                </div>\n              </div>\n              <div class="result-content">\n                <p class="intro">').concat(e.teaser||"","</p>\n              </div>\n            </div>\n          </div>\n        </section>\n      </a>\n    ")}},{key:"buildTooltipMarkup",value:function(e){var t=e.key_points.map((function(e){var t=e.text.subtitle,n=t.endsWith(":")?t:"".concat(t,":");return'\n          <li class="llm-summary__key-point">\n            <span class="llm-summary__icon">'.concat(e.icon,'</span>\n            <div class="llm-summary__text">\n              <b>').concat(n,"</b> ").concat(e.text.key_point,"\n            </div>\n          </li>\n        ")})).join("");return'\n      <div class="llm-summary">\n        <h4 class="llm-summary__page-description">\n          '.concat(e.page_description,'\n        </h4>\n        <ul class="llm-summary__key-points-list">\n          ').concat(t,"\n        </ul>\n      </div>\n    ")}},{key:"handleInputText",value:function(e){if(e){var t="Enter"===e.key,n=e.shiftKey&&t;t&&!n&&(e.preventDefault(),this.handleFormSubmit(e))}}},{key:"adjustTextAreaHeight",value:function(){this.input.style.height="5px",this.input.style.height="".concat(this.input.scrollHeight,"px")}},{key:"bindTooltipEvents",value:function(){var e=this;this.tooltips=this.querySelectorAll(".".concat(Rj,"-results--tooltip")),this.tooltips&&this.tooltips.forEach((function(t){t.addEventListener("click",e.handleTooltipClick.bind(e))}))}},{key:"handleTooltipClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.closeAnyOpenTooltips(e)||this.showTooltip(e.currentTarget)}},{key:"showTooltip",value:function(e){var t=this.getTooltipPopup(e);t.style.left="0px",t.style.top="0px",t.style.transform="none",t.classList.add("open");var n,i,r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),s=window.innerWidth-o.right,a=o.left,l=window.innerHeight-o.bottom,c=o.top;if(s>=r.width)n=o.right;else{if(!(a>=r.width))return t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",void t.classList.add("show");n=o.left-r.width}l>=r.height?i=o.bottom:c>=r.height?i=o.top-r.height:(i=window.innerHeight/2-r.height/2,n+=n===o.right?10:-10),t.style.left="".concat(n,"px"),t.style.top="".concat(i,"px"),t.classList.add("show")}},{key:"closeAnyOpenTooltips",value:function(e){var t=this,n=this.querySelectorAll(".".concat(Rj,"-results--tooltip-popup.open"));return n.length>0&&(e.preventDefault(),e.stopPropagation(),n.forEach((function(n){if(n.classList.remove("open","show"),"click"===e.type){var i="use"===e.target.tagName?e.target.parentElement:e.target;i.dataset&&i.dataset.bspId&&i.dataset.bspId!==n.dataset.bspId&&t.showTooltip(i)}}))),n.length>0}},{key:"clearSearch",value:function(){this.errorState=!1,this.error.style.display="none",this.error.textContent="",this.llmResponseText.innerHTML="",this.results.innerHTML=""}},{key:"toggleProcessingState",value:function(e){this.processing=e,this.input.disabled=e,this.submit.disabled=e}},{key:"handleAnyErrors",value:function(){this.toggleProcessingState(!1),pN(!1,[this.llmResponse,this.results]),this.errorState&&(this.error.style.display="block")}},{key:"getTooltipPopup",value:function(e){var t=e.getAttribute("data-bsp-id");return this.querySelector('div[data-bsp-id="'.concat(t,'"]'))}}],n&&Pj(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i,r,o}();const Nj=(...e)=>{},jj=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Fj=e=>null!==e&&"Object"===e?.constructor.name,Bj=(e="")=>e.normalize("NFD").replace(/\p{Diacritic}/gu,""),Uj=(e,t)=>{const n=e.length;if(!n)return[];if(Fj(e[0])){for(let i=0;i<n;i++)if(!(t in e[i]))throw new Error("e03");return e}return e.reduce((function(e,n){return e.push({[t]:n&&"string"==typeof n?n:JSON.stringify(n)}),e}),[])},qj=async function(e,t){return async function(e){const t=await e.text(),n=t&&JSON.parse(t);return e.ok?n:Promise.reject(n&&n.message||e.statusText)}(await fetch(e,t||{method:"GET"}))};function Vj(e){if(!e.input)throw new Error("e01");if(!Fj(e.source))throw new Error("e02");const t=document,n=t.createElement("div"),i=e.debounceRemote||100,r=e.preventSubmit||!1,o=e.minLength||1,s=!1!==e.hint,a=e.autoSelect||!1,l=e.templates,c=((e={})=>{const{hasDiacritics:t}=e;let n={};const i="\0";function r(e=""){return e=`${e}`,t&&(e=Bj(e)),(e=>e.trim().split(/\s+/))(e.toLowerCase())}return{add:function(e,t="",o){if(!e)return;let s,a=n;(e=e.constructor===Array?e:[e]).forEach((e=>{r("string"==typeof e?e:e[t]).filter((e=>e)).forEach((t=>{a=n;for(let e=0,n=t.length;e<n;e++)s=t[e],a=a[s]||(a[s]={});const r="string"==typeof e?e:o&&o(e)||JSON.stringify(e);a[i]?a[i][r]=e:a[i]={[r]:e}}))}))},clear:function(){n={}},search:function(e,t){const o=r(e),s=[];let a={};o.forEach((e=>{s.push(function(e){let t,r=n,o={};for(let n=0,i=e.length;n<i;n++)if(t=e[n],r=r[t],typeof r>"u")return{};const s=[r],a=[e];let l;for(;s.length;)for(l in e=a.pop(),r=s.pop(),r)l!==i?(s.push(r[l]),a.push(e+l)):o=Object.assign(o,r[i]);return o}(e))})),a=s.reduce(((e,t)=>{const n={};return Object.keys(e).filter((e=>t[e])).forEach((t=>{n[t]=e[t]})),n})),a=Object.values(a);const l=a.length;return t&&l>t&&(a.length=t),{suggestions:a,count:l}}}})({hasDiacritics:e.diacritics}),u=e.source.identifier||"label",h=e.source.groupIdentifier||"",d=e=>`${e[u]}`,p=e.display||d,f=e.source.identity||d,m=e.onSubmit||Nj,g=e.source.dataTokens?.constructor===Array?e.source.dataTokens:void 0,y=e.source.transform||(e=>e),v=e.source.local||null,b=typeof e.source.remote?.url,_="function"===b||"string"===b&&e.source.remote.wildcard?e.source.remote:null,w=e.source.prefetch?.url?{when:"onInit",done:!1,...e.source.prefetch}:null,k={wrapper:"",input:"tt-input",hint:"tt-hint",highlight:"tt-highlight",hide:"tt-hide",show:"tt-show",list:"tt-list",selected:"tt-selected",header:"tt-header",footer:"tt-footer",loader:"tt-loader",suggestion:"tt-suggestion",group:"tt-group",empty:"tt-empty",notFound:"tt-notFound",...e.classNames||{}};if(!v&&!w&&!_)throw new Error("e02");const S={query:"",items:[],count:0,limit:e.limit||5};let E,T,x={},C={},P=!1,A="";l&&(l.header="function"==typeof l.header?l.header:void 0,l.footer="function"==typeof l.footer?l.footer:void 0,l.notFound="function"==typeof l.notFound?l.notFound:void 0,l.group="function"==typeof l.group?l.group:void 0,l.suggestion="function"==typeof l.suggestion?l.suggestion:void 0,l.loader="function"==typeof l.loader?l.loader:void 0,l.empty="function"==typeof l.empty?l.empty:void 0);const O=(e=[])=>{J(Uj(e,u))};v&&O(v);const I=e.input;I.classList.add(k.input);const L=window.getComputedStyle(I),D=t.createElement("div");D.className=`typeahead-standalone${e.className?` ${e.className}`:""}${k.wrapper?` ${k.wrapper}`:""}`,S.container=D;const R=I.parentNode,M=[...R.children].indexOf(I);R.removeChild(I),D.appendChild(I),R.insertBefore(D,R.children[M]);const N=I.cloneNode();var j;function F(){if(!w||w.done)return;let e=[];qj("function"==typeof w.url?w.url():w.url,w?.requestOptions).then((t=>{e=y(t),e=Uj(e,u),J(e)}),(e=>{console.error("e04",e)})).finally((()=>{"function"==typeof w.process&&w.process(e)})),w.done=!0}s&&(j=N,["id","name","placeholder","required","aria-label"].forEach((e=>j.removeAttribute(e))),j.setAttribute("readonly","true"),j.setAttribute("aria-hidden","true"),j.style.marginTop=`-${I.offsetHeight+parseInt(L.marginBottom)}px`,j.tabIndex=-1,j.className=k.hint,I.after(j)),n.classList.add(k.list,k.hide),n.tabIndex=0,n.setAttribute("aria-label","menu-options"),n.setAttribute("role","listbox"),n.style.position="absolute",n.style.width=`${I.offsetWidth}px`,n.style.marginTop=`${I.offsetHeight+parseInt(L.marginTop)}px`,D.appendChild(n),w&&"onInit"===w.when&&F();const B=()=>{n.classList.remove(k.hide)},U=()=>{T&&window.clearTimeout(T)},q=()=>{S.items=[],N.value="",A="",n.classList.add(k.hide)},V=()=>{I.dispatchEvent(new InputEvent("input",{bubbles:!0,inputType:"insertCompositionText",data:I.value}))},H=(e=!1)=>{if(!S.items.length&&S.query){q(),$();const i=l?.notFound&&l.notFound(S);if(!i)return!0;const r=e=>{const i=t.createElement("div");i.classList.add(k.notFound),ne(i,e),n.appendChild(i)};return _?(x[JSON.stringify(S.query)]||e&&!P)&&r(i):r(i),B(),!0}},$=()=>{for(;n.firstChild;)n.firstChild.remove()},z=()=>{if(!l?.loader)return;if(!P){const e=n.querySelector(`.${k.loader}`);return void(e&&n.removeChild(e))}const e=t.createElement("div");e.classList.add(k.loader),ne(e,l.loader()),l?.footer?n.insertBefore(e,n.querySelector(`.${k.footer}`)):n.appendChild(e)},W=()=>{if(H())return;$();const i=e=>{const n=t.createElement("div");return n.classList.add(k.suggestion),n.setAttribute("role","option"),n.setAttribute("aria-selected","false"),n.setAttribute("aria-label",p(e)),l?.suggestion?ne(n,l.suggestion(e,S)):n.textContent=e[u]||"",n},r=e=>{const n=t.createElement("div");return n.classList.add(k.group),n.setAttribute("role","group"),n.setAttribute("aria-label",e),l?.group?ne(n,l.group(e,S)):n.textContent=e||"",n},o=t.createDocumentFragment(),a=[];if(l?.header){const e=t.createElement("div");e.classList.add(k.header),e.setAttribute("role","presentation"),ne(e,l.header(S))&&o.appendChild(e)}for(const[t,n]of S.items.entries()){if(t===S.limit)break;if(n[h]&&!a.includes(n[h])){a.push(n[h]);const e=r(n[h]);o.appendChild(e)}const s=i(n);s.addEventListener("click",(e=>{q(),E=n,I.value=p(n,e),V()})),n===E&&(s.classList.add(k.selected),s.setAttribute("aria-selected","true")),o.appendChild(s),e.highlight&&ee(s,S.query)}if(l?.footer){const e=t.createElement("div");e.classList.add(k.footer),e.setAttribute("role","presentation"),ne(e,l.footer(S))&&o.appendChild(e)}n.appendChild(o),s&&te(E||S.items[0]),n.querySelector(`.${k.selected}`)?.scrollIntoView({block:"nearest"}),B()},G=()=>{U();const e=I.value.replace(/\s{2,}/g," ").trim();if(l?.empty&&!e.length){const e=l.empty(S);if(S.query="",S.defaultItems?.length)return S.items=Uj(S.defaultItems,u),W();q(),$();const i=t.createElement("div");return i.classList.add(k.empty),ne(i,e),e&&n.appendChild(i),B()}if(e.length>=o){S.query=e,Y();const t=JSON.stringify(S.query);_&&S.items.length<S.limit&&C[t]?.length&&Y(C[t]),W(),T=window.setTimeout((function(){S.items.length<S.limit&&!P&&X()}),i)}else S.query="",q()},K=(t="")=>(e.diacritics&&(t=Bj(t)),t.toLowerCase()),Y=e=>{let{suggestions:t,count:n}=c.search(S.query,S.limit);if(e?.length){e.push(...t);const i={};e.forEach((e=>{i[f(e)]=e})),t=Object.values(i),n=t.length}Q(t),h&&Z(t),S.items=t,S.count=n,E=void 0,a&&S.items.length&&(E=S.items[0])},X=()=>{if(!_)return;P=!0;const e=S.query,t=JSON.stringify(e);if(x[t]||!S.query.length)return P=!1,void H(!0);z();let n=[];qj(("function"==typeof _.url?_.url(e):_.url).replace(_.wildcard||"",e),_?.requestOptions).then((e=>{n=y(e),n=Uj(n,u),J(n)}),(e=>{console.error("e05",e)})).finally((()=>{x[t]=!0,C[t]=n||[],P=!1,z(),n.length&&S.query.length&&(Y(n),W()),S.query.length&&e!==S.query&&X(),H(!0)}))};function J(e){e.length&&(c.add(e,u,f),g&&g.forEach((t=>{c.add(e,t,f)})))}const Q=e=>{const t=S.query.toLowerCase();e.sort(((e,n)=>{const i=e[u].toLowerCase(),r=n[u].toLowerCase(),o=i.startsWith(t),s=r.startsWith(t);return o&&s?i.length-r.length:o?-1:s?1:0}))},Z=e=>{e.sort(((e,t)=>e[h]||t[h]?e[h]?t[h]?e[h]<t[h]?-1:e[h]>t[h]?1:0:1:-1:0))},ee=(n,i)=>{const r=(e,t)=>{let n;for(let i=0;i<e.childNodes.length;i++)n=e.childNodes[i],3===n.nodeType?i+=t(n)?1:0:r(n,t)},o=(e=>{const t=jj(e);return new RegExp("("+t+")","i")})(i);i&&r(n,(n=>{let i=o.exec(n.data);e.diacritics&&!i&&(i=o.exec(Bj(n.data)));const r=t.createElement("span");if(r.className=k.highlight,i){const e=n.splitText(i.index);e.splitText(i[0].length),r.appendChild(e.cloneNode(!0)),n?.parentNode?.replaceChild(r,e)}return!!i}))},te=t=>{const n=I.value;if(n&&p(t)!==n&&0===K(p(t)).indexOf(K(n).replace(/\s{2,}/g," ").trimStart())){const i=p(t),r=new RegExp(jj(S.query),"i");let o=r.exec(i);e.diacritics&&!o&&(o=r.exec(Bj(i))),o&&(N.value=n.replace(/\s?$/,"")+i.substring(o[0].length))}else N.value=""},ne=(e,n)=>{const i=t.createElement("template");return i.innerHTML=n,e.appendChild(i.content),n};n.addEventListener("mousedown",(function(e){e.stopPropagation(),e.preventDefault()}));const ie=e=>{q(),c.clear(),v&&!e&&O(v),x={},C={},w&&(w.done=!1)};return I.addEventListener("keydown",(e=>{if("Escape"===e.key||!I.value.length&&!S.items.length)return q();if(S.items.length&&("ArrowUp"===e.key||"ArrowDown"===e.key))return"ArrowDown"===e.key?(e=>{const t=S.items.length>=S.limit?S.limit:S.items.length;if(!E)return E=S.items[0],void(I.value=p(E,e));if(E===S.items[t-1])return E=void 0,void(I.value=A);for(let e=0;e<t-1;e++)if(E===S.items[e]){E=S.items[e+1];break}I.value=p(E,e)})(e):(e=>{const t=S.items.length>=S.limit?S.limit:S.items.length;if(E===S.items[0])return E=void 0,void(I.value=A);if(E){for(let e=t-1;e>0;e--)if(E===S.items[e]||1===e){E=S.items[e-1];break}}else E=S.items[t-1];I.value=p(E,e)})(e),W(),e.preventDefault(),void e.stopPropagation();const t=function(t=!1){if(!E&&t&&S.items.length&&(E=S.items[0]),E)return q(),I.value=p(E,e),V(),E};if("Enter"===e.key)return r&&e.preventDefault(),void m(e,t());"Tab"===e.key&&!n.classList.contains(k.hide)&&(e.preventDefault(),t(!0))})),I.addEventListener("input",(e=>{typeof e.inputType>"u"||"insertCompositionText"===e.inputType&&!e.isComposing||(A=I.value,G())})),I.addEventListener("blur",(()=>{setTimeout((()=>{t.activeElement!==I&&q()}),50)})),I.addEventListener("focus",(()=>{w&&"onFocus"===w.when&&F(),G()})),{addToIndex:O,reset:ie,destroy:()=>{U(),ie(),D.replaceWith(I.cloneNode())}}}function Hj(e){return Hj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hj(e)}function $j(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,zj(i.key),i)}}function zj(e){var t=function(e){if("object"!=Hj(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Hj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Hj(t)?t:t+""}function Wj(e,t,n){return t=Kj(t),function(e,t){if(t&&("object"==Hj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gj()?Reflect.construct(t,n||[],Kj(e).constructor):t.apply(e,n))}function Gj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gj=function(){return!!e})()}function Kj(e){return Kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kj(e)}function Yj(e,t){return Yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yj(e,t)}var Xj=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wj(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yj(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){this.module=this,this.inputEl=this.module.querySelector("input"),this.typeaheadEndPoint=this.inputEl.dataset.autosuggesturl,this.siteId=document.querySelector('meta[name="site-id"]').getAttribute("content"),Vj({input:this.inputEl,source:{remote:{url:"".concat(this.typeaheadEndPoint,"?siteId=").concat(this.siteId,"&q=%QUERY"),wildcard:"%QUERY",requestOptions:{method:"GET",headers:{"Content-Type":"application/json"}}},identifier:"text",transform:function(e){return e.options}},minLength:2})}}])&&$j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Jj(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}var Qj=__webpack_require__(5497);function Zj(e){return Zj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zj(e)}function eF(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,tF(i.key),i)}}function tF(e){var t=function(e){if("object"!=Zj(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Zj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Zj(t)?t:t+""}function nF(e,t,n){return t=rF(t),function(e,t){if(t&&("object"==Zj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iF()?Reflect.construct(t,n||[],rF(e).constructor):t.apply(e,n))}function iF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(iF=function(){return!!e})()}function rF(e){return rF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rF(e)}function oF(e,t){return oF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oF(e,t)}var sF=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),nF(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oF(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){var e=this;this.module=this;var t=this.module.getAttribute("data-share-title")||"",n="BCG | ".concat(t).trim(),i=window.location.origin+window.location.pathname,r=this.module.getAttribute("data-share-uri");r=r&&r.trim()?r:i;var o=this.module.querySelector('[data-social-button="link"]'),s=this.module.querySelector('[data-social-button="x"]'),a=this.module.querySelector('[data-social-button="linkedin"]'),l=this.module.querySelector('[data-social-button="facebook"]');(function(e){if(function(e){for(var t=0;t<e.length;t++)if("on.bcg.com"===e.substr(t,10))return!0;return!1}(e))return e;var t=document.createElement("a");t.href=e;var n=("/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname)+"?_shareUrl=true&url="+encodeURIComponent(e);return new Promise((function(e,t){window.bitlyShareUrl?e(window.bitlyShareUrl):fetch(n).then((function(e){return e.json()})).then((function(t){window.bitlyShareUrl=t.url,e(t.url)})).catch((function(e){t(e)}))}))})(r).then((function(i){o&&o.addEventListener("click",(function(){var t,n;t=i,(n=document.createElement("textarea")).value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),e.setAttribute("data-success",""),setTimeout((function(){e.removeAttribute("data-success")}),3e3)})),s&&s.addEventListener("click",function(e,t){var n=Jj(e),i="https://twitter.com/intent/tweet?text="+encodeURIComponent(n)+"&url="+encodeURIComponent(t)+"&via="+encodeURIComponent("BCG");return function(){return window.open(i,"height=200,width=200")}}(n,i)),a&&a.addEventListener("click",function(e){var t="https://www.linkedin.com/sharing/share-offsite/?url="+encodeURIComponent(e);return function(){return window.open(t,"height=200,width=200")}}(i)),l&&l.addEventListener("click",(function(){!function(e,t){var n=Jj(t),i=function(){"undefined"==typeof FB?window.setTimeout(i,100):FB.ui({method:"share",href:e,quote:n})};"undefined"==typeof FB&&window.loadFBScript?(window.loadFBScript(),i()):FB.ui({method:"share",href:e,quote:n})}(i,n)}));var r=e.module.querySelector('[data-social-button="email"]'),c=e.module.querySelector(".email-share-modal"),u=e.module.querySelector(".show-form-modal");if(r){var h=Jj(Jj(t)),d="/sharePage/?pageName="+encodeURIComponent(h)+"&pageUrl="+encodeURIComponent(i);r.setAttribute("data-share-url",d),e.emailShareModal=new Qj.a(u,r,c,d),r.addEventListener("click",(function(){setTimeout((function(){e.emailShareModal.open()}),200)}))}})).catch((function(e){console.info(e)}))}}])&&eF(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function aF(e){return aF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aF(e)}function lF(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,cF(i.key),i)}}function cF(e){var t=function(e){if("object"!=aF(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=aF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==aF(t)?t:t+""}var uF=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.carousel=t,this.stateChangeCallbacks=[],this.carousel&&this.setupStateListeners()},(t=[{key:"setupStateListeners",value:function(){var e=this;if(this.carousel.autoscrollFrame){var t=this.carousel.startAutoscroll;this.carousel.startAutoscroll=function(){t.call(e.carousel),e.notifyStateChange()};var n=this.carousel.stopAutoscroll;this.carousel.stopAutoscroll=function(){n.call(e.carousel),e.notifyStateChange()}}}},{key:"onStateChange",value:function(e){"function"==typeof e&&(this.stateChangeCallbacks.push(e),e(this.isPlaying()))}},{key:"notifyStateChange",value:function(){var e=this.isPlaying();this.stateChangeCallbacks.forEach((function(t){t(e)}))}},{key:"play",value:function(){return!(!this.carousel||this.carousel.isReducedMotion||(this.carousel.startAutoscroll(),this.notifyStateChange(),0))}},{key:"pause",value:function(){return!!this.carousel&&(this.carousel.stopAutoscroll(),this.notifyStateChange(),!0)}},{key:"next",value:function(){return!!this.carousel&&(this.carousel.nextHandler(),!0)}},{key:"previous",value:function(){return!!this.carousel&&(this.carousel.prevHandler(),!0)}},{key:"isPlaying",value:function(){return!!this.carousel&&null!==this.carousel.autoscrollFrame}}])&&lF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function hF(e){return hF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hF(e)}function dF(){dF=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==hF(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(hF(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function pF(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function fF(e){return function(e){if(Array.isArray(e))return mF(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return mF(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mF(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function gF(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,yF(i.key),i)}}function yF(e){var t=function(e){if("object"!=hF(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=hF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==hF(t)?t:t+""}function vF(e,t,n){return t=_F(t),function(e,t){if(t&&("object"==hF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bF()?Reflect.construct(t,n||[],_F(e).constructor):t.apply(e,n))}function bF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bF=function(){return!!e})()}function _F(e){return _F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_F(e)}function wF(e,t){return wF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wF(e,t)}var kF=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vF(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wF(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.isReducedMotion=!0===window.matchMedia("(prefers-reduced-motion: reduce)")||!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches||!0===document.querySelector("body").classList.contains("reduced-motion"),this.init()}},{key:"init",value:function(){var e=this;this.autoScrollDuration=3e3,this.container=this.querySelector(".list-21-carousel-track"),this.carouselWrapper=this.querySelector(".list-21-carousel"),this.itemsPerView=this.getCSSVar("--itemsPerView"),this.itemCount=this.getCSSVar("--itemCount"),this.activeSlideIndex=this.getCSSVar("--activeSlideIndex"),this.slides=Array.from(this.querySelectorAll(".Promo29")),this.slideClonesArray=[],this.slides.forEach((function(t){e.slideClonesArray.push(t.cloneNode(!0))})),this.originalSlides=fF(this.slideClonesArray),this.mediaQueries=[window.matchMedia("(min-width: 0px) and (max-width: 319px)"),window.matchMedia("(min-width: 320px) and (max-width: 767px)"),window.matchMedia("(min-width: 768px) and (max-width: 1023px)"),window.matchMedia("(min-width: 1024px) and (max-width: 1439px)"),window.matchMedia("(min-width: 1440px)")],this.handleMediaQueryChange(),this.mediaQueries.forEach((function(t){return t.addEventListener("change",e.handleMediaQueryChange.bind(e))})),this.addSwipeHandlers(),document.addEventListener("keydown",(function(t){"ArrowLeft"===t.key||37===t.key?(t.preventDefault(),e.prevHandler()):"ArrowRight"!==t.key&&39!==t.key||(t.preventDefault(),e.nextHandler())})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState?e.stopAutoscroll():"visible"===document.visibilityState&&e.startAutoscroll()})),this.isReducedMotion||this.setupAutoscroll(),this.setupControlsAdapter()}},{key:"setupControlsAdapter",value:function(){var e=this.getAttribute("moduleId");if(e){var t=document.querySelector('carousel-controls[moduleId="'.concat(e,'"]'));if(t){var n=this.getControllerAdapter();"function"==typeof t.setControllerAdapter&&t.setControllerAdapter(n)}}}},{key:"getControllerAdapter",value:function(){return new uF(this)}},{key:"addSwipeHandlers",value:function(){var e=this,t=0,n=0;this.addEventListener("touchstart",(function(e){t=e.changedTouches[0].screenX,n=e.changedTouches[0].screenY})),this.addEventListener("touchend",(function(i){var r=i.changedTouches[0].screenX,o=i.changedTouches[0].screenY,s=r-t,a=o-n;Math.abs(s)>Math.abs(a)&&Math.abs(s)>50&&(s>0?e.prevHandler():e.nextHandler())}))}},{key:"createClones",value:function(){var e=this.itemsPerView-this.originalSlides.length;if(e>0)for(var t=0;t<e;t++){var n=t%this.originalSlides.length,i=this.originalSlides[n].cloneNode(!0);this.slideClonesArray.push(i)}}},{key:"getHeight",value:function(){var e=this;return new Promise((function(t,n){var i=0,r=e;window.setTimeout((function(){i=r.container.querySelector(".active").querySelector("img").getBoundingClientRect().height,t(0===i?r.getHeight():i)}),0)}))}},{key:"appendClonesToCarousel",value:function(){var e=this;this.slideClonesArray.forEach((function(t){e.container.appendChild(t)}))}},{key:"refreshCarousel",value:(i=dF().mark((function e(){var t,n;return dF().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.originalSlides,n=this.itemsPerView,t.length<=n&&(this.container.innerHTML="",this.slideClonesArray=fF(this.originalSlides),this.createClones(),this.appendClonesToCarousel()),this.handleActiveItem(this.activeSlideIndex);case 4:case"end":return e.stop()}}),e,this)})),r=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function s(e){pF(o,n,r,s,a,"next",e)}function a(e){pF(o,n,r,s,a,"throw",e)}s(void 0)}))},function(){return r.apply(this,arguments)})},{key:"setupAutoscroll",value:function(){var e=this,t=null,n=function(i){null===t&&(t=i),i-t>=e.autoScrollDuration&&(e.nextHandler(),t=i),e.autoscrollFrame=window.requestAnimationFrame(n)};this.autoscrollFrame=window.requestAnimationFrame(n)}},{key:"startAutoscroll",value:function(){this.isReducedMotion||this.setupAutoscroll()}},{key:"stopAutoscroll",value:function(){this.autoscrollFrame&&(window.cancelAnimationFrame(this.autoscrollFrame),this.autoscrollFrame=null)}},{key:"getCSSVar",value:function(e){return parseInt(window.getComputedStyle(this).getPropertyValue(e),10)}},{key:"handleMediaQueryChange",value:function(){this.itemsPerView=this.getCSSVar("--itemsPerView"),this.activeSlideIndex=this.getCSSVar("--activeSlideIndex"),(this.mediaQueries[0].matches||this.mediaQueries[1].matches||this.mediaQueries[2].matches||this.mediaQueries[3].matches||this.mediaQueries[4].matches)&&this.refreshCarousel()}},{key:"handleActiveItem",value:function(e,t){0===e&&t&&(e=1);var n=this.querySelectorAll(".Promo29");n.forEach((function(e){e.classList.remove("active")})),n[e].classList.add("active")}},{key:"handleMobileActiveItem",value:function(e){var t=this;this.querySelectorAll(".Promo29").forEach((function(e){e.classList.remove("active")})),e.remove(),t.slideClonesArray[0].classList.add("active"),t.container.prepend(t.slideClonesArray[0])}},{key:"nextHandler",value:function(){var e=this.container.querySelector(".Promo29:first-child"),t=e.cloneNode(!0);this.slideClonesArray.shift(),this.slideClonesArray.push(t),e.remove(),this.container.appendChild(t),this.handleActiveItem(this.activeSlideIndex)}},{key:"prevHandler",value:function(){var e=this.container.querySelector(".Promo29:last-child"),t=this.slideClonesArray.pop();this.slideClonesArray.unshift(t),0===this.activeSlideIndex?this.handleMobileActiveItem(e):(this.handleActiveItem(0===this.activeSlideIndex?this.activeSlideIndex:this.activeSlideIndex-1,!0),e.remove(),this.container.prepend(this.slideClonesArray[0]))}}],n&&gF(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i,r}();function SF(e){return SF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SF(e)}function EF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function TF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EF(Object(n),!0).forEach((function(t){xF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xF(e,t,n){return(t=IF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CF(){CF=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new O(i||[]);return r(s,"_invoke",{value:x(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(I([])));k&&k!==n&&i.call(k,s)&&(_=k);var S=b.prototype=y.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,o,s,a){var l=h(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==SF(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var r=d;return function(o,s){if(r===f)throw Error("Generator is already running");if(r===m){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=C(a,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=h(t,n,i);if("normal"===c.type){if(r=i.done?m:p,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function C(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=h(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(SF(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function PF(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function AF(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){PF(o,i,r,s,a,"next",e)}function a(e){PF(o,i,r,s,a,"throw",e)}s(void 0)}))}}function OF(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,IF(i.key),i)}}function IF(e){var t=function(e){if("object"!=SF(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=SF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==SF(t)?t:t+""}function LF(e,t,n){return t=RF(t),function(e,t){if(t&&("object"==SF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,DF()?Reflect.construct(t,n||[],RF(e).constructor):t.apply(e,n))}function DF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(DF=function(){return!!e})()}function RF(e){return RF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},RF(e)}function MF(e,t){return MF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},MF(e,t)}var NF=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),LF(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MF(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){this.handleEmptyStateMessage(),this.bindEvents()}},{key:"handleEmptyStateMessage",value:function(){var e=document.querySelectorAll(".visible-article"),t=document.querySelector(".saved-article-empty-message");e.length<1?t.classList.remove("saved-article-empty"):t.classList.add("saved-article-empty")}},{key:"bindEvents",value:function(){var e=this;this.querySelectorAll(".user-saved-content-page .bookmark-content-promo__icon-button--trash").forEach((function(t){return t.addEventListener("click",function(){var t=AF(CF().mark((function t(n){return CF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e.removeBookmark(n.target);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),this.querySelectorAll(".bookmark-content-promo__icon-button--plus").forEach((function(t){var n=t.nextElementSibling,i=t.closest(".bookmark-content-promo");t.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e.toggleSocialPopup(n,i)}))})),this.querySelectorAll(".social-popup").forEach((function(t){var n=t.closest(".bookmark-content-promo");t.addEventListener("click",(function(t){e.toggleSocialPopup(t.target.closest(".social-popup"),n)}))})),document.addEventListener("click",(function(e){document.querySelectorAll(".social-popup").forEach((function(t){var n=t.closest(".bookmark-content-promo"),i=t.closest(".Promo-button-container--with-popup"),r=t.previousElementSibling;!n.classList.contains("social-popup--open")||i.contains(e.target)||r.contains(e.target)||n.classList.remove("social-popup--open")}))}))}},{key:"toggleSocialPopup",value:function(e,t){var n=this.querySelectorAll(".social-popup");n&&n.forEach((function(t){var n=t.closest(".bookmark-content-promo");n&&t!==e&&n.classList.remove("social-popup--open")})),t&&t.classList.toggle("social-popup--open")}},{key:"removeBookmark",value:(i=AF(CF().mark((function e(t){var n,i,r,o;return CF().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.closest(".saved-article")).classList.remove("visible-article"),n.style.display="none",this.handleEmptyStateMessage(),e.prev=4,e.next=7,NL();case 7:if(i=e.sent,!(r=LL(i.Bookmarks,n))){e.next=13;break}return o=JSON.stringify(TF(TF({},r),{},{Hide:!0})),e.next=13,FL(o);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.info("Unable to remove bookmark: ",e.t0);case 18:case"end":return e.stop()}}),e,this,[[4,15]])}))),function(e){return i.apply(this,arguments)})}],n&&OF(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();function jF(e){return jF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jF(e)}function FF(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,BF(i.key),i)}}function BF(e){var t=function(e){if("object"!=jF(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jF(t)?t:t+""}var UF=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindEvents(),this.currentBookmarks=[],this.pageData=RL(),this.fullPageBookmark=null,this.syncBookmarks()},t=[{key:"syncBookmarks",value:function(){UE()&&this.getAllBookmarks()}},{key:"bindEvents",value:function(){var e=this;window.addEventListener("login.success",(function(){return e.getAllBookmarks()})),window.addEventListener("logout",(function(){return e.resetAllBookmarks()})),window.addEventListener("ajax.contentLoad",(function(){return e.syncBookmarks()}))}},{key:"addBookmark",value:function(){var e=this;jL(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null).then((function(){e.getAllBookmarks()})).catch((function(e){console.info("Unable to add bookmark: ",e)}))}},{key:"removeBookmark",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t?LL(this.currentBookmarks,t):this.fullPageBookmark;n&&(n.Hide=!0),FL(JSON.stringify(n)).then((function(){e.getAllBookmarks()})).catch((function(e){console.info("Unable to remove bookmark: ",e)}))}},{key:"getAllBookmarks",value:function(){var e=this;NL().then((function(t){e.currentBookmarks=t.Bookmarks,e.fullPageBookmark=LL(e.currentBookmarks)})).catch((function(t){e.currentBookmarks=[],console.info("Unable to get bookmarks: ",t)})).finally((function(){e.updateBookmarksUI(),e.checkBookmarkAttempt()}))}},{key:"setBookmarkAttempt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t=e.dataset.bspcontentId;t&&window.localStorage.setItem("bookmarkAttempt",t)}else window.localStorage.setItem("pageBookmarkAttempt",JSON.stringify(this.pageData))}},{key:"checkBookmarkAttempt",value:function(){var e=this,t=window.localStorage.getItem("bookmarkAttempt"),n=window.localStorage.getItem("pageBookmarkAttempt");if(t)document.querySelectorAll('.article-block__bookmark[data-bspcontent-id="'.concat(t,'"]')).forEach((function(t){t.classList.contains("bookmarked")||e.addBookmark(t)}));else if(n&&!LL([n])){var i=document.querySelector(".bookmark");i&&!i.classList.contains("isBookmarked")&&this.addBookmark()}window.localStorage.removeItem("bookmarkAttempt"),window.localStorage.removeItem("pageBookmarkAttempt")}},{key:"updateBookmarksUI",value:function(){var e=this;this.resetAllBookmarks(),document.querySelectorAll("book-mark .article-block__bookmark").forEach((function(t){e.currentBookmarks&&e.currentBookmarks.some((function(e){return t.dataset.bspcontentId===e.BSPContent_ID}))&&(t.classList.add("bookmarked"),t.classList.add("icon-perspectives-bookmark-hover"),t.classList.add("saved-bookmark"))}));var t=document.querySelector(".bookmark"),n=Array.from(document.querySelectorAll("page-bookmark:not(.bookmark)"));if(this.fullPageBookmark){if(t){t.classList.add("isBookmarked");var i=t.querySelector(".bookmark .icon");t.classList.add("saved-bookmark"),i.classList.add("icon-perspectives-bookmark-hover"),i.classList.remove("icon-perspectives-bookmark")}n&&n.forEach((function(e){e.classList.add("isBookmarked")}))}}},{key:"resetAllBookmarks",value:function(){document.querySelectorAll("book-mark .article-block__bookmark").forEach((function(e){e.classList.remove("bookmarked"),e.classList.remove("icon-perspectives-bookmark-hover"),e.classList.remove("saved-bookmark")}));var e=document.querySelector(".bookmark"),t=Array.from(document.querySelectorAll("page-bookmark:not(.bookmark)"));if(e){e.classList.remove("saved-bookmark"),e.classList.remove("isBookmarked");var n=e.querySelector(".icon");n.classList.remove("icon-perspectives-bookmark-hover"),n.classList.add("icon-perspectives-bookmark")}t&&t.forEach((function(e){e.classList.remove("isBookmarked")}))}}],t&&FF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),qF=new UF;function VF(e){return VF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VF(e)}function HF(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,$F(i.key),i)}}function $F(e){var t=function(e){if("object"!=VF(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=VF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==VF(t)?t:t+""}function zF(e,t,n){return t=GF(t),function(e,t){if(t&&("object"==VF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,WF()?Reflect.construct(t,n||[],GF(e).constructor):t.apply(e,n))}function WF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(WF=function(){return!!e})()}function GF(e){return GF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},GF(e)}function KF(e,t){return KF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KF(e,t)}var YF=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),zF(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KF(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.bookmarkBtn=this.querySelector("button"),this.init()}},{key:"init",value:function(){this.bookmarkBtn.addEventListener("click",(function(e){UE()?e.target.closest("page-bookmark").classList.contains("isBookmarked")?qF.removeBookmark():qF.addBookmark():(qF.setBookmarkAttempt(),window.dispatchEvent((0,NE.t3)("showSignInWidget",{context:{source:"bookmark"}})))}))}}])&&HF(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}(),XF=(__webpack_require__(3704),__webpack_require__(7392)),JF=__webpack_require__.n(XF);function QF(e){return QF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QF(e)}function ZF(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,eB(i.key),i)}}function eB(e){var t=function(e){if("object"!=QF(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=QF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==QF(t)?t:t+""}function tB(e){var t="function"==typeof Map?new Map:void 0;return tB=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(nB())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(e.bind.apply(e,i));return n&&iB(r,n.prototype),r}(e,arguments,rB(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),iB(n,e)},tB(e)}function nB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nB=function(){return!!e})()}function iB(e,t){return iB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iB(e,t)}function rB(e){return rB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rB(e)}var oB=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=rB(t),function(e,t){if(t&&("object"==QF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nB()?Reflect.construct(t,n||[],rB(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iB(e,t)}(t,e),n=t,(i=[{key:"connectedCallback",value:function(){this.lottiePlayerContainer=this.getAttribute("data-container")||null,this.lottiePlayer=document.createElement("lottie-player"),this.lottiePlayer.setAttribute("src",this.getAttribute("src")),this.loopValue=this.getAttribute("loop"),this.loopValue||""===this.loopValue?this.lottiePlayer.setAttribute("loop",this.loopValue):this.lottiePlayer.removeAttribute("loop"),this.dataset.elemHeight&&(this.lottiePlayer.style.height="".concat(this.dataset.elemHeight,"px")),this.dataset.elemWidth&&(this.lottiePlayer.style.width="".concat(this.dataset.elemWidth,"px")),this.appendChild(this.lottiePlayer),this.init()}},{key:"init",value:function(){var e=this;this.lottiePlayer.addEventListener("ready",(function(){e.totalFrames=e.lottiePlayer.getLottie().totalFrames,e.setAttribute("data-lottiePlayerTotalFrames",e.totalFrames);var t=document.querySelector(e.lottiePlayerContainer),n=[0,e.totalFrames];e.hasAttribute("data-frames")&&(n=JSON.parse(e.getAttribute("data-frames"))),e.hasAttribute("autoplay")?(e.lottiePlayer.play(),e.lottieInteractivity=null):e.hasAttribute("scroll-to-play")?(e.lottieInteractivity=JF()({player:e.lottiePlayer,mode:"scroll",actions:[{visibility:[.5,1],type:"play",frames:n}]}),e.lottieInteractivity.player.addEventListener("enterFrame",(function(){e.lottieInteractivity&&e.lottieInteractivity.player&&e.progress(e.lottieInteractivity.player.currentFrame,e.totalFrames,t)}))):(e.lottieInteractivity=JF()({player:e.lottiePlayer,mode:"scroll",container:e.lottiePlayerContainer,actions:[{visibility:[0,1],type:"seek",frames:n}]}),window.addEventListener("scroll",(function(){e.lottieInteractivity&&e.lottieInteractivity.player&&e.progress(e.lottieInteractivity.player.currentFrame,e.totalFrames,t)})))}))}},{key:"progress",value:function(e,t,n){var i=Math.floor(e/t*100);n?(n.style.setProperty("--progress",i+"%"),n.setAttribute("data-progress",i),n.setAttribute("data-currentFrame",e)):(this.style.setProperty("--progress",i+"%"),this.setAttribute("data-progress",i),this.setAttribute("data-currentFrame",e))}}])&&ZF(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(tB(HTMLElement));function sB(e){return sB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sB(e)}function aB(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,lB(i.key),i)}}function lB(e){var t=function(e){if("object"!=sB(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=sB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sB(t)?t:t+""}function cB(e,t,n){return t=hB(t),function(e,t){if(t&&("object"==sB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uB()?Reflect.construct(t,n||[],hB(e).constructor):t.apply(e,n))}function uB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uB=function(){return!!e})()}function hB(e){return hB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hB(e)}function dB(e,t){return dB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dB(e,t)}var pB=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cB(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dB(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){var e=this;this.accordion=this.closest(".accordion-list"),this.accordionItems=Array.from(this.accordion.querySelectorAll(".accordion-list__item")),this.accordionImages=Array.from(this.accordion.querySelectorAll("img")),this.hasAccordion=!1,this.hasCarousel=!1,this.resizeListenerTimeout=null,window.addEventListener("resize",(function(){e.resizeListenerTimeout&&window.cancelAnimationFrame(e.resizeListenerTimeout),e.resizeListenerTimeout=window.requestAnimationFrame((function(){window.innerWidth>1023?(e.hasAccordion||e.initAccordion(),setTimeout((function(){e.accordionItems.forEach((function(e){e.classList.remove("is-selected")})),e.currentNumber=e.accordion.querySelector(".carousel").getAttribute("data-sync-slide"),e.accordion.querySelector('.accordion-list__item[data-item-number="'.concat(e.currentNumber,'"]')).classList.add("is-selected"),e.accordion.style.setProperty("--maxItemHeight",null);var t=e.accordion.querySelector(".is-selected").getBoundingClientRect().height;e.accordion.style.setProperty("--maxItemHeight","".concat(t,"px"))}),333),e.accordion.classList.remove("accordion-list__carousel-wrapper"),e.accordion.classList.add("accordion-list__accordion-wrapper")):(e.accordion.classList.remove("accordion-list__accordion-wrapper"),e.accordion.classList.add("accordion-list__carousel-wrapper"))}))})),window.dispatchEvent(new Event("resize")),this.accordionImages.forEach((function(e){e.addEventListener("load",(function(){window.dispatchEvent(new Event("resize"))}))}))}},{key:"handleButtonClick",value:function(e){this.accordionItems.forEach((function(e){e.classList.remove("is-selected")}));var t=e.target.closest(".accordion-list__item");t&&(t.classList.add("is-selected"),t.classList.add("in-transition"),this.currentNumber=t.getAttribute("data-item-number"),this.accordion.querySelector(".carousel").setAttribute("data-sync-slide",this.currentNumber))}},{key:"handleTransitionEnd",value:function(e){var t=e.target,n=t.querySelector("lottie-player");t.classList.contains("in-transition")&&t.classList.remove("in-transition"),t.classList.contains("is-selected")&&n&&(n.seek(0),n.play()),window.dispatchEvent(new Event("resize"))}},{key:"initAccordion",value:function(){var e=this;this.accordionItems.forEach((function(t){t.addEventListener("click",(function(t){return e.handleButtonClick(t)})),t.addEventListener("transitionend",e.handleTransitionEnd)})),this.hasAccordion=!0}}])&&aB(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function fB(e){return fB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fB(e)}function mB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function gB(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,yB(i.key),i)}}function yB(e){var t=function(e){if("object"!=fB(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=fB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fB(t)?t:t+""}function vB(e){var t="function"==typeof Map?new Map:void 0;return vB=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(bB())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(e.bind.apply(e,i));return n&&_B(r,n.prototype),r}(e,arguments,wB(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_B(n,e)},vB(e)}function bB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bB=function(){return!!e})()}function _B(e,t){return _B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_B(e,t)}function wB(e){return wB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wB(e)}var kB=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=wB(t),function(e,t){if(t&&("object"==fB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bB()?Reflect.construct(t,n||[],wB(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_B(e,t)}(t,e),n=t,(i=[{key:"connectedCallback",value:function(){var e=this,t=this.querySelector("flickity-carousel"),n=function(e){return function(e){if(Array.isArray(e))return mB(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return mB(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mB(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.querySelectorAll(".List-items-item"));n.forEach((function(e){e.addEventListener("click",(function(){n.forEach((function(e){e.removeAttribute("data-item")})),e.setAttribute("data-item","active");var i=n.findIndex((function(e){return"active"===e.getAttribute("data-item")}));t.flkty.options.initialIndex=i}))})),window.addEventListener("resize",(0,sx.P)(50,(function(){if(window.innerWidth<=768){var n=t.getAttribute("data-last-flickity-slide");n&&e.querySelector(".List-items-item:nth-child(".concat(n,")")).click()}})))}}])&&gB(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(vB(HTMLElement));function SB(e){return SB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SB(e)}function EB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function TB(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,xB(i.key),i)}}function xB(e){var t=function(e){if("object"!=SB(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=SB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==SB(t)?t:t+""}function CB(e,t,n){return t=AB(t),function(e,t){if(t&&("object"==SB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,PB()?Reflect.construct(t,n||[],AB(e).constructor):t.apply(e,n))}function PB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(PB=function(){return!!e})()}function AB(e){return AB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},AB(e)}function OB(e,t){return OB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},OB(e,t)}var IB=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),CB(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OB(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){var e=this;this.promoBlocks=[],this.selectBoxes=[],this.allPromos=[],this.moveSelectBoxes(),this.querySelectorAll(".List30__promos").forEach((function(t){e.promoBlocks.push(t)})),this.allPromos=this.querySelectorAll(".Promo30")}},{key:"handleSelectchange",value:function(e){var t=this;if(!e.detail||!e.detail.preventFire){var n=e.currentTarget.getAttribute("data-index"),i=e.currentTarget.value;this.selectBoxes.forEach((function(e){e.getAttribute("data-index")!==n?(e.value="",e.classList.remove("selected")):e.getAttribute("data-index")===n&&""===e.value?e.classList.remove("selected"):e.classList.add("selected"),e.dispatchEvent(new CustomEvent("forceupdate"),{detail:{preventFire:!0}})}));var r=window.devicePixelRatio;if(i&&""!==i){var o=this.promoBlocks[n].querySelector('.Promo30[data-reveal-index="'.concat(i,'"]')),s=o.querySelector(".Promo-media img"),a=o.querySelectorAll(".Promo-media picture > source"),l=null;a.forEach((function(e){var t=e.getAttribute("media");t&&!window.matchMedia(t).matches||(l=e)}));var c=function(e){if(!e)return null;var t=e.split(",").map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return EB(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EB(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.trim().split(" "),2),n=t[0],i=t[1];return{url:n,descriptor:parseFloat(i)||1}}));return(t.find((function(e){return e.descriptor>=r}))||t[t.length-1]).url}(l?l.getAttribute("srcset"):s.src),u=new Image;u.src=c,u.onload=function(){t.allPromos.forEach((function(e){e!==o?e.classList.remove("show"):e.classList.add("show")})),t.toggleDefaultPromo()}}else this.allPromos.forEach((function(e){e.classList.remove("show")})),this.toggleDefaultPromo()}}},{key:"toggleDefaultPromo",value:function(){var e=!0;this.selectBoxes.forEach((function(t){t.value&&""!==t.value&&(e=!1)})),e?this.querySelector(".default_promo").classList.add("show"):this.querySelector(".default_promo").classList.remove("show")}},{key:"moveSelectBoxes",value:function(){var e=this,t=this.querySelector(".controls");this.querySelectorAll(".List30-itemsSelect").forEach((function(n){var i=n.cloneNode(!0),r=i.querySelector("select");i.insertAdjacentHTML("afterbegin","<custom-select></custom-select>"),i.querySelector("custom-select").appendChild(r),i.querySelector("svg").style.display="none",t.appendChild(i),e.selectBoxes.push(i.querySelector("select")),i.querySelector("select").addEventListener("change",(function(t){t.detail&&t.detail.preventFire||e.handleSelectchange(t)}))}))}}],n&&TB(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function LB(e){return LB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LB(e)}function DB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||MB(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RB(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=MB(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function MB(e,t){if(e){if("string"==typeof e)return NB(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NB(e,t):void 0}}function NB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function jB(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,BB(i.key),i)}}function BB(e){var t=function(e){if("object"!=LB(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=LB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==LB(t)?t:t+""}function UB(e,t,n){return t=VB(t),function(e,t){if(t&&("object"==LB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qB()?Reflect.construct(t,n||[],VB(e).constructor):t.apply(e,n))}function qB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qB=function(){return!!e})()}function VB(e){return VB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VB(e)}function HB(e,t){return HB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HB(e,t)}var $B="filter--on",zB=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),UB(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HB(e,t)}(e,window.HTMLElement),t=e,n=[{key:"connectedCallback",value:function(){var e=this;this.uri=this.dataset.fragmenturi,this.data={},this.allowMultiSelection=!1,this.tabs=this.querySelector(".facetTabs"),this.facetTabEls=this.tabs.querySelectorAll(".facetTab"),this.facetPanels=this.querySelectorAll(".facetPanel"),this.activeFilterCategory=this.tabs?this.tabs.dataset.activeCategory:this.facetTabEls[0].dataset.target,this.itemsContainer=this.querySelector(".items"),this.allFilters=this.querySelectorAll(".filter"),this.facetTabEls.forEach((function(t){t.addEventListener("click",(function(n){n.preventDefault(),e.toggleTab(t),e.processData()}))})),this.allFilters.forEach((function(t){var n,i=new URLSearchParams(window.location.search),r=0,o=new URLSearchParams(window.location.search),s=RB(i.entries());try{for(s.s();!(n=s.n()).done;){var a=DB(n.value,2),l=a[0],c=a[1];0===r&&o.append(l,c),r+=1}}catch(e){s.e(e)}finally{s.f()}var u=t.getAttribute("data-digitaldata-category"),h=t.getAttribute("data-digitaldata-linkname");u&&h&&o.has(u,h)&&(e.toggleFilter(t),e.processData()),t.addEventListener("click",(function(n){n.preventDefault(),e.toggleFilter(t),e.processData()}))})),this.filtersUnderActiveCategory=this.activeFilterCategory?this.querySelectorAll(".facetPanel[data-name=".concat(this.activeFilterCategory,"] .filter")):[],this.icons={close:"icon-filters-close",down:"icon-lens-selector-carrot-drop-down",up:"icon-lens-selector-carrot-collapse"},this.pagination=0,this.itemsCtn=this.itemsContainer.children.length,this.staffExperience=this.querySelector(".staff-experience"),this.staffExperience&&(this.initDropdown(),this.showMore())}},{key:"initDropdown",value:function(){var e,t=this,n=new URLSearchParams(window.location.search),i=0,r=new URLSearchParams(window.location.search),o=RB(n.entries());try{for(o.s();!(e=o.n()).done;){var s=DB(e.value,2),a=s[0],l=s[1];0===i&&r.append(a,l),i+=1}}catch(e){o.e(e)}finally{o.f()}var c=this.staffExperience.querySelectorAll(".dropdown"),u=this.staffExperience.querySelector(".facetContainer h2");c.forEach((function(e){var n=e.querySelector(".js-link"),i=e.querySelector(".js-dropdown-list");t.reorderList(i),n.addEventListener("click",(function(e){if(e.preventDefault(),e.target.classList.contains(t.icons.close))return t.resetDropdowns(c,u),void t.processData();i.classList.contains("active")||t.closeDropdowns(c),t.toggleIcon(n),t.toggleDropdown(i),t.toggleTab(n)})),i.querySelectorAll(".js-dropdown-list-item").forEach((function(e){var i=e.getAttribute("data-digitaldata-category"),o=e.getAttribute("data-digitaldata-linkname");i&&o&&r.has(i,o)&&(t.resetDropdowns(c,u),n.childNodes[0].textContent=e.innerText.trim(),u.innerText=e.innerText.trim()+" Insights",t.pagination=0,t.toggleIcon(n,!0),t.toggleTab(n),t.toggleFilter(e),t.processData()),e.addEventListener("click",(function(i){i.preventDefault(),t.closeDropdowns(c),i.target.classList.contains($B)||(t.resetDropdowns(c,u),n.childNodes[0].textContent=e.innerText.trim(),u.innerText=e.innerText.trim()+" Insights",t.pagination=0,t.toggleIcon(n,!0),t.toggleFilter(e),t.processData())}))}))})),document.addEventListener("click",(function(e){e.target.closest(".dropdown")||t.closeDropdowns(c)}))}},{key:"toggleIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.querySelector("span");if(!n.classList.contains(this.icons.close)){if(t)return n.classList=[this.icons.close],void e.parentElement.classList.add("on");n.classList.toggle(this.icons.down),n.classList.toggle(this.icons.up)}}},{key:"toggleDropdown",value:function(e){if(e.classList.contains("active"))e.classList.remove("active");else{e.classList.add("active"),e.style.height="auto";var t=e.clientHeight+"px";e.style.height="0px",setTimeout((function(){e.style.height=t}),0)}}},{key:"closeDropdowns",value:function(e){var t=this;e.forEach((function(e){e.querySelector(".js-dropdown-list").classList.remove("active"),e.classList.contains("on")||(e.querySelector("span").classList=[t.icons.down])}))}},{key:"resetDropdowns",value:function(e,t){var n=this;e.forEach((function(e){e.classList.remove("active","on");var t=e.querySelector("a");t.classList.remove("active","on"),t.childNodes[0].textContent=t.attributes.heading.value;var i=e.querySelector(".js-dropdown-list");i.classList.remove("active","on");var r=i.querySelector("."+$B);r&&n.toggleFilter(r),e.querySelector("span").classList=[n.icons.down]})),this.staffExperience.querySelectorAll("."+$B).forEach((function(e){n.toggleFilter(e)})),t.innerText="Most Recent Insights",this.pagination=0,this.showMore("off")}},{key:"showMore",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.staffExperience.querySelector(".call-to-action__button");"on"!==t?"off"!==t?n.addEventListener("click",(function(t){t.preventDefault(),t.target.classList.contains("disabled")||(e.pagination+=1,e.processData())})):n.classList.remove("disabled"):n.classList.add("disabled")}},{key:"reorderList",value:function(e){e.querySelectorAll("ul").forEach((function(e){Array.from(e.children).sort((function(e,t){return e.innerText>t.innerText?1:-1})).forEach((function(t){return e.appendChild(t)}))}))}},{key:"toggleTab",value:function(e){if(e&&!e.classList.contains("on")){var t=e.dataset.target;this.updateActiveCategory(t)}}},{key:"updateActiveCategory",value:function(e){this.tabs.dataset.activeCategory=e,this.activeFilterCategory=e,this.filtersUnderActiveCategory=this.activeFilterCategory?this.querySelectorAll(".facetPanel[data-name=".concat(this.activeFilterCategory,"] .filter")):[],this.facetTabEls.forEach((function(t){t.classList.remove("on"),t.dataset.target===e&&t.classList.add("on")})),this.facetPanels.forEach((function(t){t.classList.remove("on"),t.dataset.name===e&&t.classList.add("on")}))}},{key:"toggleFilter",value:function(e){var t=e.classList,n=e.dataset.digitaldataCategory,i=e.dataset.digitaldataLinkname;if(this.data[n]&&this.allowMultiSelection||(this.data[n]=[]),t.contains($B)){t.remove($B);var r=this.data[n].indexOf(i);-1!==r&&this.data[n].splice(r,1)}else this.allowMultiSelection||this.filtersUnderActiveCategory.forEach((function(e){return e.classList.remove($B)})),t.add($B),this.data[n].push(e.dataset.digitaldataLinkname)}},{key:"reAttachVideoPlayBtn",value:function(e){var t=this.itemsContainer.querySelectorAll('[data-component-type="Promo"]');Array.from(t).forEach((function(t,n){if(n>=e){var i=t.querySelector(".VideoModal-button-play-button");i&&i.addEventListener("click",(function(){window.dispatchEvent((0,NE.t3)("video.modal.open",{el:t}))}))}}))}},{key:"processData",value:function(){var e=this;this.getData().then((function(t){if(t){var n=JSON.parse(t),i=e.itemsContainer.querySelectorAll('[data-component-type="Promo"]').length;if(n.items){var r="";n.items.forEach((function(e){r+=e})),e.pagination>0?(e.itemsContainer.insertAdjacentHTML("beforeend",r),e.reAttachVideoPlayBtn(i)):(e.itemsContainer.innerHTML=r,e.reAttachVideoPlayBtn(0));var o=(0,NE.t3)("loadJavascriptModules",{context:e.itemsContainer});window.dispatchEvent(o)}n.items.length<e.itemsCtn?e.showMore("on"):e.showMore("off"),e.allowMultiSelection&&e.filtersUnderActiveCategory.forEach((function(t){var i=t.dataset.digitaldataLinkname;if(n.filters){var r=e.activeFilterCategory,o=r?n.filters[r]:[];o&&o.forEach((function(e){var n=e.values;n&&n.indexOf(i)>-1?t.classList.remove("filter--disabled"):t.classList.add("filter--disabled")}))}})),e.activeFilterCategory&&""!==e.activeFilterCategory&&e.updateActiveCategory(e.activeFilterCategory);var s=new URL(window.location).pathname,a=e.activeFilterCategory,l={},c="";e.data[a]&&e.data[a].length>0&&(l[a]=e.data[a][0]);var u="".concat(s);l[a]&&(c="?".concat(new URLSearchParams(l)),u="".concat(s).concat(c)),window.history.replaceState({},"",u)}}))}},{key:"getData",value:function(){var e=this,t={},n=this.activeFilterCategory;return t[n]=this.data[n]||[],t.pg=this.pagination.toString(),new Promise((function(n,i){window.fetch(e.uri,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){n(e.text())})).catch((function(){i()}))}))}}],n&&jB(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function WB(e){return WB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WB(e)}function GB(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,KB(i.key),i)}}function KB(e){var t=function(e){if("object"!=WB(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=WB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==WB(t)?t:t+""}function YB(e,t,n){return t=JB(t),function(e,t){if(t&&("object"==WB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,XB()?Reflect.construct(t,n||[],JB(e).constructor):t.apply(e,n))}function XB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(XB=function(){return!!e})()}function JB(e){return JB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JB(e)}function QB(e,t){return QB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},QB(e,t)}var ZB=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),YB(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QB(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){var e=this.querySelector(".by-the-numbers-container");this.observerOptions={root:null,rootMargin:"0px",threshold:1},this.observer=new IntersectionObserver(this.intersectionCallback,this.observerOptions),this.observer.observe(e)}},{key:"intersectionCallback",value:function(e){var t=this;function n(e,t,i,r){setTimeout((function(){if(100==++t)e.innerText=i.concat(r);else{var o=i/100;e.innerText=Math.floor(o*t)+r,n(e,t,i,r)}}),Math.floor(30*Math.random()))}e.forEach((function(e){Math.floor(100*e.intersectionRatio)>10&&(e.target.querySelectorAll(".by-the-numbers-item-dataValue").forEach((function(e){var t=Math.floor(75*Math.random()),i=parseInt(e.innerText),r=e.innerText.replace(i,""),o=i.toString();Number.isNaN(i)||n(e,t,o,r)})),t.unobserve(e.target))}))}}])&&GB(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function eU(e){return eU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eU(e)}function tU(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,nU(i.key),i)}}function nU(e){var t=function(e){if("object"!=eU(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=eU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==eU(t)?t:t+""}var iU=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"show",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body).setAttribute("data-loading","true")}},{key:"hide",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body).removeAttribute("data-loading")}}],null&&tU(e.prototype,null),t&&tU(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function rU(e){return rU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rU(e)}function oU(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,sU(i.key),i)}}function sU(e){var t=function(e){if("object"!=rU(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=rU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rU(t)?t:t+""}function aU(e,t,n){return t=cU(t),function(e,t){if(t&&("object"==rU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lU()?Reflect.construct(t,n||[],cU(e).constructor):t.apply(e,n))}function lU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(lU=function(){return!!e})()}function cU(e){return cU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cU(e)}function uU(e,t){return uU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uU(e,t)}var hU=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),aU(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uU(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.init(),this.videoPromo=this.querySelector("video-modal"),this.dialog=this.videoPromo.querySelector(".VideoModal-dialog")}},{key:"init",value:function(){var e=this,t=this.querySelector(".PageLeadAmbientVideo__cta");t&&t.addEventListener("click",(function(t){return e.handleButtonClick(t)})),window.addEventListener("video.modal.close",(function(t){e.videoPromo.style.display="none",iU.hide(e.dialog)})),window.addEventListener("play",(function(t){t.target&&t.target.closest(".VideoModal-dialog")&&iU.hide(e.dialog)}),!0)}},{key:"handleButtonClick",value:function(e){e.preventDefault(),iU.show(this.dialog),this.videoPromo.style.display="block",window.dispatchEvent((0,NE.t3)("video.modal.open",{message:"CTA button clicked in hero-with-ambient-video",ctaHref:e.target.href,el:this}))}}])&&oU(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function dU(e){return dU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dU(e)}function pU(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,fU(i.key),i)}}function fU(e){var t=function(e){if("object"!=dU(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=dU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dU(t)?t:t+""}function mU(e,t,n){return t=yU(t),function(e,t){if(t&&("object"==dU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gU()?Reflect.construct(t,n||[],yU(e).constructor):t.apply(e,n))}function gU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gU=function(){return!!e})()}function yU(e){return yU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yU(e)}function vU(e,t){return vU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vU(e,t)}var bU=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mU(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vU(e,t)}(e,window.HTMLElement),t=e,(n=[{key:"connectedCallback",value:function(){this.controllerAdapter=null,this.isPlayingUI=!0;var e=this.getAttribute("moduleId");if(e){var t=document.querySelector('flickity-carousel[moduleId="'.concat(e,'"]'));if(t&&"function"==typeof t.getControllerAdapter){var n=t.getControllerAdapter();n&&this.setControllerAdapter(n)}}this.init()}},{key:"setControllerAdapter",value:function(e){var t=this;this.controllerAdapter=e,this.updateControlState(),this.controllerAdapter&&"function"==typeof this.controllerAdapter.onStateChange&&this.controllerAdapter.onStateChange((function(e){t.updatePlayPauseButton(e)}))}},{key:"updateControlState",value:function(){if(this.controllerAdapter&&this.querySelector('[data-control="pause"]')&&this.controllerAdapter.isPlaying){var e=this.controllerAdapter.isPlaying();this.updatePlayPauseButton(e)}}},{key:"init",value:function(){this.setupEventListeners()}},{key:"setupEventListeners",value:function(){var e=this,t=this.querySelector('[data-control="pause"]'),n=this.querySelector('[data-control="prev"]'),i=this.querySelector('[data-control="next"]');t.addEventListener("click",(function(){"#play"===t.querySelector("use").getAttribute("href")?e.controllerAdapter&&e.controllerAdapter.play&&e.controllerAdapter.play():e.controllerAdapter&&e.controllerAdapter.pause&&e.controllerAdapter.pause()})),n.addEventListener("click",(function(){e.controllerAdapter&&e.controllerAdapter.previous&&e.controllerAdapter.previous()})),i.addEventListener("click",(function(){e.controllerAdapter&&e.controllerAdapter.next&&e.controllerAdapter.next()}))}},{key:"updatePlayPauseButton",value:function(e){var t=this.querySelector('[data-control="pause"]');t&&(this.isPlayingUI=e,e?(t.querySelector("use").setAttribute("href","#pause"),t.setAttribute("aria-label","pause autoplay")):(t.querySelector("use").setAttribute("href","#play"),t.setAttribute("aria-label","play autoplay")))}}])&&pU(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function _U(){window.customElements.define("okta-siw",NT),window.customElements.define("okta-siw-modal",JT),window.customElements.define("login-dropdown",ox),window.customElements.define("flickity-carousel",Px),window.customElements.define("carousel-controls",bU),window.customElements.define("tab-collapsible-content",wP),window.customElements.define("tabs-with-dropdown",AP),window.customElements.define("tabs-interstitial",jP),window.customElements.define("tabs-with-expandable-cards",zP),window.customElements.define("targeted-module",cA),window.customElements.define("video-mp4",lP),window.customElements.define("video-modal",_A),window.customElements.define("video-playlist",AA),window.customElements.define("video-youtube",FA),window.customElements.define("list-mobile-card-click",sO),window.customElements.define("modal-video-setup",fO),window.customElements.define("anchor-list",kO),window.customElements.define("ambient-video",OO),window.customElements.define("publication-hero",FO),window.customElements.define("annotation-link",KD),window.customElements.define("user-profile-page-edit-profile",MM),window.customElements.define("user-profile-page-edit-profile-pic",HM),window.customElements.define("user-profile-expandable",JM),window.customElements.define("user-profile-editable-block",oN),window.customElements.define("all-subscriptions-module",eI),window.customElements.define("gdpr-html-embed",lI),window.customElements.define("subscription-basic",UI),window.customElements.define("subscribe-form",JI),window.customElements.define("subscribe-side-rail",oL),window.customElements.define("lens-selector",pL),window.customElements.define("sticky-toolbar-mobile-page-subscription",wL),window.customElements.define("sticky-toolbar-desktop-page-subscription",AL),window.customElements.define("lead-gen-form",QL),window.customElements.define("login-wall",fD),window.customElements.define("gated-content",ED),window.customElements.define("product-hero",QR),window.customElements.define("sticky-toolbar-mobile",LD),window.customElements.define("sticky-toolbar-desktop",UD),window.customElements.define("sticky-toolbar-mobile-page-person",nR),window.customElements.define("sticky-toolbar-desktop-page-person",uR),window.customElements.define("ps-list-loadmore",wR),window.customElements.define("ps-toggler",AR),window.customElements.define("ps-search-results-page",FR),window.customElements.define("ps-search-results-module",sM),window.customElements.define("ps-search-filters",fM),window.customElements.define("ai-enhanced-search",Mj),window.customElements.define("type-ahead-suggestion",Xj),window.customElements.define("share-buttons",sF),window.customElements.define("latest-thinking-tapered",kF),window.customElements.define("share-contact-form",vI),window.customElements.define("custom-select",PI),window.customElements.define("saved-content",NF),window.customElements.define("page-bookmark",YF),window.customElements.define("bsp-invisible-captcha",_T),window.customElements.define("ps-lottie-animation",oB),window.customElements.define("accordion-list",pB),window.customElements.define("interactive-cards",kB),window.customElements.define("topic-filter-module",IB),window.customElements.define("filtering-insights",zB),window.customElements.define("by-the-numbers",ZB),window.customElements.define("hero-with-ambient-video",hU),window.customElements.define("highlighted-experts-list",VC),new c,new dx,new Dx,new pP,new hA,new QA,new g,new AI.p}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",_U):_U()}()})();